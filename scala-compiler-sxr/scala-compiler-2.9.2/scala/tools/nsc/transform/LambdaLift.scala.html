<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/transform/LambdaLift.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author
 */</span>

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> transform

<span class="keyword">import</span> symtab._
<span class="keyword">import</span> <a href="../symtab/Flags.scala.html#36139" title="object scala.tools.nsc.symtab.Flags">Flags</a>._
<span class="keyword">import</span> util.TreeSet
<span class="keyword">import</span> scala.collection.mutable.<span class="delimiter">{</span> LinkedHashMap, ListBuffer <span class="delimiter">}</span>

<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class LambdaLift extends scala.tools.nsc.SubComponent with scala.tools.nsc.transform.InfoTransform with ScalaObject" id="39247">LambdaLift</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="InfoTransform.scala.html#39277" title="scala.tools.nsc.transform.InfoTransform">InfoTransform</a> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="../SubComponent.scala.html#500466" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../symtab/Definitions.scala.html#479030" title="object LambdaLift.this.global.definitions">definitions</a>._

  <span class="comment">/** the following two members override abstract members in Transform */</span>
  <span class="keyword">val</span> <a title="String" id="513218">phaseName</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;lambdalift&quot;)" class="string">&quot;lambdalift&quot;</span>

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="LambdaLift.this.global.TypeMap" id="513220">lifted</a> = <a href="#897256" title="LambdaLift.this.global.TypeMap" class="keyword">new</a> <a href="../symtab/Types.scala.html#478842" title="anonymous class $anon extends LambdaLift.this.global.TypeMap" id="897256">TypeMap</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tp: LambdaLift.this.global.Type)LambdaLift.this.global.Type" id="897258">apply</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Type" id="897259">tp</a>: <a href="../symtab/Types.scala.html#478720" title="LambdaLift.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#478720" title="LambdaLift.this.global.Type">Type</a> = <a href="#897259" title="LambdaLift.this.global.Type">tp</a> <span title="LambdaLift.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="LambdaLift.this.global.Type">TypeRef</span><span class="delimiter">(</span><a href="../symtab/Types.scala.html#478736" title="object LambdaLift.this.global.NoPrefix">NoPrefix</a>, <a title="LambdaLift.this.global.Symbol" id="897265">sym</a>, <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#897265" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435371" title="=&gt; Boolean">isClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#897265" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435395" title="=&gt; Boolean">isPackageClass</a> =&gt;
        <a href="../symtab/Types.scala.html#478811" title="(pre: LambdaLift.this.global.Type, sym: LambdaLift.this.global.Symbol, args: List[LambdaLift.this.global.Type])LambdaLift.this.global.Type">typeRef</a><span class="delimiter">(</span><a href="#897258" title="(tp: LambdaLift.this.global.Type)LambdaLift.this.global.Type">apply</a><span class="delimiter">(</span><a href="#897265" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../../../reflect/generic/Symbols.scala.html#435409" title="=&gt; LambdaLift.this.global.Symbol">enclClass</a>.<a href="../symtab/Symbols.scala.html#509308" title="=&gt; LambdaLift.this.global.Type">thisType</a><span class="delimiter">)</span>, <a href="#897265" title="LambdaLift.this.global.Symbol">sym</a>, <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="LambdaLift.this.global.Type">ClassInfoType</span><span class="delimiter">(</span><a title="List[LambdaLift.this.global.Type]" id="897272">parents</a>, <a title="LambdaLift.this.global.Scope" id="897273">decls</a>, <a title="LambdaLift.this.global.Symbol" id="897274">clazz</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="List[LambdaLift.this.global.Type]" id="897275">parents1</a> = <a href="#897272" title="List[LambdaLift.this.global.Type]">parents</a> <a href="../../../collection/immutable/List.scala.html#49149" title="(f: LambdaLift.this.global.Type =&gt; LambdaLift.this.global.Type)List[LambdaLift.this.global.Type]">mapConserve</a> <a href="#897256" title="LambdaLift.this.global.TypeMap" class="keyword">this</a>
        <span title="LambdaLift.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#897275" title="List[LambdaLift.this.global.Type]">parents1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#897272" title="List[LambdaLift.this.global.Type]">parents</a><span class="delimiter">)</span> <a href="#897259" title="LambdaLift.this.global.Type">tp</a>
        <span class="keyword">else</span> <a href="../symtab/Types.scala.html#546740" title="(parents: List[LambdaLift.this.global.Type], decls: LambdaLift.this.global.Scope, typeSymbol: LambdaLift.this.global.Symbol)LambdaLift.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">(</span><a href="#897275" title="List[LambdaLift.this.global.Type]">parents1</a>, <a href="#897273" title="LambdaLift.this.global.Scope">decls</a>, <a href="#897274" title="LambdaLift.this.global.Symbol">clazz</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="LambdaLift.this.global.Type">_</span> =&gt;
        <a href="../symtab/Types.scala.html#532446" title="(tp: LambdaLift.this.global.Type)LambdaLift.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#897259" title="LambdaLift.this.global.Type">tp</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(sym: LambdaLift.this.global.Symbol, tp: LambdaLift.this.global.Type)LambdaLift.this.global.Type" id="513222">transformInfo</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Symbol" id="897324">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="LambdaLift.this.global.Symbol">Symbol</a>, <a title="LambdaLift.this.global.Type" id="897325">tp</a>: <a href="../symtab/Types.scala.html#478720" title="LambdaLift.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#478720" title="LambdaLift.this.global.Type">Type</a> = <a href="../../../Function1.scala.html#53453" title="(v1: LambdaLift.this.global.Type)LambdaLift.this.global.Type">lifted</a><span class="delimiter">(</span><a href="#897325" title="LambdaLift.this.global.Type">tp</a><span class="delimiter">)</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(unit: LambdaLift.this.global.CompilationUnit)LambdaLift.this.global.Transformer" id="513223">newTransformer</a><span class="delimiter">(</span><a title="LambdaLift.this.global.CompilationUnit" id="897330">unit</a>: <a href="../CompilationUnits.scala.html#479284" title="LambdaLift.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span>: <a href="../ast/Trees.scala.html#479167" title="LambdaLift.this.global.Transformer">Transformer</a> =
    <span title="LambdaLift.this.LambdaLifter" class="keyword">new</span> <a href="#513224" title="LambdaLift.this.LambdaLifter">LambdaLifter</a><span class="delimiter">(</span><a href="#897330" title="LambdaLift.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>

  <span class="keyword">class</span> <a title="class LambdaLifter extends LambdaLift.this.global.explicitOuter.OuterPathTransformer with ScalaObject" id="513224">LambdaLifter</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="LambdaLift.this.global.CompilationUnit" id="897368">unit</a>: <a href="../CompilationUnits.scala.html#479284" title="LambdaLift.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../Global.scala.html#478296" title="object LambdaLift.this.global.explicitOuter">explicitOuter</a>.<a href="ExplicitOuter.scala.html#512152" title="LambdaLift.this.global.explicitOuter.OuterPathTransformer">OuterPathTransformer</a><span class="delimiter">(</span><a href="#897368" title="LambdaLift.this.global.CompilationUnit">unit</a><span class="delimiter">)</span> <span class="delimiter">{</span>

    <span class="comment">/** A map storing free variables of functions and classes */</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]" id="897336">free</a> = <span title="scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]" class="keyword">new</span> <a href="../../../collection/mutable/LinkedHashMap.scala.html#15073" title="scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">LinkedHashMap</a><span class="delimiter">[</span>Symbol, SymSet<span class="delimiter">]</span>

    <span class="comment">/** A map storing the free variable proxies of functions and classes */</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Symbol]]" id="897338">proxies</a> = <span title="scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Symbol]]" class="keyword">new</span> <a href="../../../collection/mutable/LinkedHashMap.scala.html#15073" title="scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Symbol]]">LinkedHashMap</a><span class="delimiter">[</span>Symbol, List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">]</span>

    <span class="comment">/** A hashtable storing calls between functions */</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]" id="897340">called</a> = <span title="scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]" class="keyword">new</span> <a href="../../../collection/mutable/LinkedHashMap.scala.html#15073" title="scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">LinkedHashMap</a><span class="delimiter">[</span>Symbol, SymSet<span class="delimiter">]</span>

    <span class="comment">/** The set of symbols that need to be renamed. */</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]" id="897342">renamable</a> = <a href="#897350" title="=&gt; scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]">newSymSet</a>

    <span class="comment">/** A flag to indicate whether new free variables have been found */</span>
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Boolean" id="897345">changedFreeVars</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = _

    <span class="comment">/** Buffers for lifted out classes and methods */</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Tree]]" id="897347">liftedDefs</a> = <span title="scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Tree]]" class="keyword">new</span> <a href="../../../collection/mutable/LinkedHashMap.scala.html#15073" title="scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Tree]]">LinkedHashMap</a><span class="delimiter">[</span>Symbol, List<span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">]</span>

    <span class="keyword">private</span> <span class="keyword">type</span> <a title="scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]" id="897349">SymSet</a> = <a href="../util/TreeSet.scala.html#42544" title="scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]">TreeSet</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]" id="897350">newSymSet</a> = <span title="scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]" class="keyword">new</span> <a href="../util/TreeSet.scala.html#42544" title="scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]">TreeSet</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">(</span><a href="#897376" title="LambdaLift.this.global.Symbol">_</a> <a href="../symtab/Symbols.scala.html#509294" title="(that: LambdaLift.this.global.Symbol)Boolean">isLess</a> <a href="#897377" title="LambdaLift.this.global.Symbol">_</a><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(f: scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet], sym: LambdaLift.this.global.Symbol)LambdaLifter.this.SymSet" id="897351">symSet</a><span class="delimiter">(</span><a title="scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]" id="897439">f</a>: <a href="../../../collection/mutable/LinkedHashMap.scala.html#15073" title="scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]]">LinkedHashMap</a><span class="delimiter">[</span>Symbol, SymSet<span class="delimiter">]</span>, <a title="LambdaLift.this.global.Symbol" id="897440">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="LambdaLift.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../util/TreeSet.scala.html#42544" title="scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]">SymSet</a> =
      <a href="#897439" title="scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">f</a>.<a href="../../../collection/mutable/MapLike.scala.html#73294" title="(key: LambdaLift.this.global.Symbol, op: =&gt; LambdaLifter.this.SymSet)LambdaLifter.this.SymSet">getOrElseUpdate</a><span class="delimiter">(</span><a href="#897440" title="LambdaLift.this.global.Symbol">sym</a>, <a href="#897350" title="=&gt; scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]">newSymSet</a><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: LambdaLift.this.global.Symbol)Boolean" id="897352">isSameOwnerEnclosure</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Symbol" id="897517">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="LambdaLift.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
      <a href="#897517" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509325" title="=&gt; LambdaLift.this.global.Symbol">logicallyEnclosingMember</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../ast/Trees.scala.html#560333" title="=&gt; LambdaLift.this.global.explicitOuter.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#509325" title="=&gt; LambdaLift.this.global.explicitOuter.global.Symbol">logicallyEnclosingMember</a>

    <span class="comment">/** Mark symbol `sym' as being free in `enclosure', unless `sym'
     *  is defined in `enclosure' or there is a class between `enclosure's owner
     *  and the owner of `sym'.
     *  Return `true' if there is no class between `enclosure' and
     *  the owner of sym.
     *  pre: sym.isLocal, (enclosure.isMethod || enclosure.isClass)
     *
     *  The idea of `markFree' is illustrated with an example:
     *
     *  def f(x: int) = {
     *    class C {
     *      class D {
     *        val y = x
     *      }
     *    }
     *  }
     *
     *  In this case `x' is free in the primary constructor of class `C'.
     *  but it is not free in `D', because after lambda lift the code would be transformed
     *  as follows:
     *
     *  def f(x$0: int) {
     *    class C(x$0: int) {
     *      val x$1 = x$0
     *      class D {
     *        val y = outer.x$1
     *      }
     *    }
     *  }
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: LambdaLift.this.global.Symbol, enclosure: LambdaLift.this.global.Symbol)Boolean" id="897353">markFree</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Symbol" id="897470">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="LambdaLift.this.global.Symbol">Symbol</a>, <a title="LambdaLift.this.global.Symbol" id="897471">enclosure</a>: <a href="../symtab/Symbols.scala.html#478659" title="LambdaLift.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
        <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;mark free: &quot;)" class="string">&quot;mark free: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#897470" title="LambdaLift.this.global.Symbol">sym</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; of &quot;)" class="string">&quot; of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#897470" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; LambdaLift.this.global.Symbol">owner</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; marked free in &quot;)" class="string">&quot; marked free in &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#897471" title="LambdaLift.this.global.Symbol">enclosure</a><span class="delimiter">)</span>
      <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#897471" title="LambdaLift.this.global.Symbol">enclosure</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#897470" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509325" title="=&gt; LambdaLift.this.global.Symbol">logicallyEnclosingMember</a><span class="delimiter">)</span> <span title="Boolean(true)" class="keyword">true</span>
      <span class="keyword">else</span> <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#897471" title="LambdaLift.this.global.Symbol">enclosure</a>.<a href="../../../reflect/generic/Symbols.scala.html#435395" title="=&gt; Boolean">isPackageClass</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#897353" title="(sym: LambdaLift.this.global.Symbol, enclosure: LambdaLift.this.global.Symbol)Boolean">markFree</a><span class="delimiter">(</span><a href="#897470" title="LambdaLift.this.global.Symbol">sym</a>, <a href="#897471" title="LambdaLift.this.global.Symbol">enclosure</a>.<a href="../symtab/Symbols.scala.html#509205" title="=&gt; LambdaLift.this.global.Symbol">skipConstructor</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509325" title="=&gt; LambdaLift.this.global.Symbol">logicallyEnclosingMember</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Boolean(false)" class="keyword">false</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="LambdaLifter.this.SymSet" id="897533">ss</a> = <a href="#897351" title="(f: scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet], sym: LambdaLift.this.global.Symbol)LambdaLifter.this.SymSet">symSet</a><span class="delimiter">(</span><a href="#897336" title="=&gt; scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">free</a>, <a href="#897471" title="LambdaLift.this.global.Symbol">enclosure</a><span class="delimiter">)</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../util/Set.scala.html#519990" title="(x: LambdaLift.this.global.Symbol)Boolean">ss</a><span class="delimiter">(</span><a href="#897470" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#897533" title="LambdaLifter.this.SymSet">ss</a> <a href="../util/TreeSet.scala.html#888710" title="(x: LambdaLift.this.global.Symbol)Unit">addEntry</a> <a href="#897470" title="LambdaLift.this.global.Symbol">sym</a>
          <a href="#897342" title="=&gt; scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]">renamable</a> <a href="../util/TreeSet.scala.html#888710" title="(x: LambdaLift.this.global.Symbol)Unit">addEntry</a> <a href="#897470" title="LambdaLift.this.global.Symbol">sym</a>
          <a href="../symtab/SymbolTable.scala.html#478184" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Any)Any">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#478362" title="=&gt; LambdaLift.this.global.Run">currentRun</a>.<a href="../Global.scala.html#482528" title="=&gt; scala.tools.nsc.Phase">picklerPhase</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">// The param symbol in the MethodType should not be renamed, only the symbol in scope. This way,</span>
            <span class="comment">// parameter names for named arguments are not changed. Example: without cloning the MethodType,</span>
            <span class="comment">//     def closure(x: Int) = { () =&gt; x }</span>
            <span class="comment">// would have the signature</span>
            <span class="comment">//     closure: (x$1: Int)() =&gt; Int</span>
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#897470" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435313" title="=&gt; Boolean">isParameter</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#897470" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; LambdaLift.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507179" title="=&gt; List[List[LambdaLift.this.global.Symbol]]">paramss</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: List[LambdaLift.this.global.Symbol] =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a href="#897556" title="List[LambdaLift.this.global.Symbol]">_</a> <a href="../../../collection/SeqLike.scala.html#54119" title="(elem: Any)Boolean">contains</a> <a href="#897470" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#897470" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509274" title="(info: LambdaLift.this.global.Type)LambdaLift.this.global.Symbol">setInfo</a><span class="delimiter">(</span><a href="#897470" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; LambdaLift.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507233" title="(owner: LambdaLift.this.global.Symbol)LambdaLift.this.global.Type">cloneInfo</a><span class="delimiter">(</span><a href="#897470" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; LambdaLift.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#897345" title="(x$1: Boolean)Unit">changedFreeVars</a> = <span title="Boolean(true)" class="keyword">true</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#897470" title="LambdaLift.this.global.Symbol">sym</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; is free in &quot;)" class="string">&quot; is free in &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#897471" title="LambdaLift.this.global.Symbol">enclosure</a><span class="delimiter">)</span>;
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#897470" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509169" title="=&gt; Boolean">isVariable</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#897470" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509168" title="=&gt; Boolean">isValue</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#897470" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435299" title="=&gt; Boolean">isLazy</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#897470" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435349" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span><span title="Long(65536L)">CAPTURED</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#897470" title="LambdaLift.this.global.Symbol">sym</a> <a href="../symtab/Symbols.scala.html#509261" title="(mask: Long)sym.type">setFlag</a> <span title="Long(65536L)">CAPTURED</span>
            <span class="keyword">val</span> <a title="LambdaLift.this.global.Symbol" id="897575">symClass</a> = <a href="#897470" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; LambdaLift.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; LambdaLift.this.global.Symbol">typeSymbol</a>
            <a href="../symtab/SymbolTable.scala.html#478184" title="(ph: scala.tools.nsc.Phase)(op: =&gt; LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">atPhase</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505144" title="=&gt; scala.tools.nsc.Phase">next</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#897470" title="LambdaLift.this.global.Symbol">sym</a> <a href="../symtab/Symbols.scala.html#509276" title="(info: LambdaLift.this.global.Type)LambdaLift.this.global.Symbol">updateInfo</a> <span class="delimiter">(</span>
                <span title="LambdaLift.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#897470" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509119" title="(cls: LambdaLift.this.global.Symbol)Boolean">hasAnnotation</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508335" title="=&gt; LambdaLift.this.global.Symbol">VolatileAttr</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <span title="LambdaLift.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508366" title="(sym: LambdaLift.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#897575" title="LambdaLift.this.global.Symbol">symClass</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../collection/MapLike.scala.html#73204" title="(key: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">volatileRefClass</a><span class="delimiter">(</span><a href="#897575" title="LambdaLift.this.global.Symbol">symClass</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; LambdaLift.this.global.Type">tpe</a> <span class="keyword">else</span> <a href="../symtab/Definitions.scala.html#508279" title="=&gt; LambdaLift.this.global.Symbol">VolatileObjectRefClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; LambdaLift.this.global.Type">tpe</a>
                <span class="keyword">else</span>
                  <span title="LambdaLift.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508366" title="(sym: LambdaLift.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#897575" title="LambdaLift.this.global.Symbol">symClass</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../collection/MapLike.scala.html#73204" title="(key: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">refClass</a><span class="delimiter">(</span><a href="#897575" title="LambdaLift.this.global.Symbol">symClass</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; LambdaLift.this.global.Type">tpe</a> <span class="keyword">else</span> <a href="../symtab/Definitions.scala.html#508277" title="=&gt; LambdaLift.this.global.Symbol">ObjectRefClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; LambdaLift.this.global.Type">tpe</a>
              <span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#897471" title="LambdaLift.this.global.Symbol">enclosure</a>.<a href="../../../reflect/generic/Symbols.scala.html#435371" title="=&gt; Boolean">isClass</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: LambdaLift.this.global.Symbol, owner: LambdaLift.this.global.Symbol)Unit" id="897354">markCalled</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Symbol" id="897473">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="LambdaLift.this.global.Symbol">Symbol</a>, <a title="LambdaLift.this.global.Symbol" id="897474">owner</a>: <a href="../symtab/Symbols.scala.html#478659" title="LambdaLift.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
        <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;mark called: &quot;)" class="string">&quot;mark called: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#897473" title="LambdaLift.this.global.Symbol">sym</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; of &quot;)" class="string">&quot; of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#897473" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; LambdaLift.this.global.Symbol">owner</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; is called by &quot;)" class="string">&quot; is called by &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#897474" title="LambdaLift.this.global.Symbol">owner</a><span class="delimiter">)</span>
      <a href="#897351" title="(f: scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet], sym: LambdaLift.this.global.Symbol)LambdaLifter.this.SymSet">symSet</a><span class="delimiter">(</span><a href="#897340" title="=&gt; scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">called</a>, <a href="#897474" title="LambdaLift.this.global.Symbol">owner</a><span class="delimiter">)</span> <a href="../util/TreeSet.scala.html#888710" title="(x: LambdaLift.this.global.Symbol)Unit">addEntry</a> <a href="#897473" title="LambdaLift.this.global.Symbol">sym</a>
    <span class="delimiter">}</span>

    <span class="comment">/** The traverse function */</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="LambdaLift.this.global.Traverser" id="897355">freeVarTraverser</a> = <a href="#897380" title="LambdaLift.this.global.Traverser" class="keyword">new</a> <a href="../ast/Trees.scala.html#479168" title="anonymous class $anon extends LambdaLift.this.global.Traverser" id="897380">Traverser</a> <span class="delimiter">{</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: LambdaLift.this.global.Tree)Unit" id="897382">traverse</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Tree" id="897383">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="LambdaLift.this.global.Tree">Tree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
       <span class="keyword">try</span> <span class="delimiter">{</span> <span class="comment">//debug</span>
        <span class="keyword">val</span> <a title="LambdaLift.this.global.Symbol" id="897390">sym</a> = <a href="#897383" title="LambdaLift.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; LambdaLift.this.global.Symbol">symbol</a>;
        <a href="#897383" title="LambdaLift.this.global.Tree">tree</a> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">ClassDef</span><span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
            <a href="../../../collection/mutable/MapLike.scala.html#73272" title="(key: LambdaLift.this.global.Symbol, value: List[LambdaLift.this.global.Tree])Unit">liftedDefs</a><span class="delimiter">(</span><a href="#897383" title="LambdaLift.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; LambdaLift.this.global.Symbol">symbol</a><span class="delimiter">)</span> = <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#897390" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509238" title="=&gt; Boolean">isLocal</a><span class="delimiter">)</span> <a href="#897342" title="=&gt; scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]">renamable</a> <a href="../util/TreeSet.scala.html#888710" title="(x: LambdaLift.this.global.Symbol)Unit">addEntry</a> <a href="#897390" title="LambdaLift.this.global.Symbol">sym</a>
          <span class="keyword">case</span> <span title="Any">DefDef</span><span class="delimiter">(</span>_, _, _, _, _, _<span class="delimiter">)</span> =&gt;
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#897390" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509238" title="=&gt; Boolean">isLocal</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#897342" title="=&gt; scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]">renamable</a> <a href="../util/TreeSet.scala.html#888710" title="(x: LambdaLift.this.global.Symbol)Unit">addEntry</a> <a href="#897390" title="LambdaLift.this.global.Symbol">sym</a>
              <a href="#897390" title="LambdaLift.this.global.Symbol">sym</a> <a href="../symtab/Symbols.scala.html#509261" title="(mask: Long)sym.type">setFlag</a> <span class="delimiter">(</span>PRIVATE | LOCAL <span title="Long(524324L)">|</span> FINAL<span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#897390" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509227" title="=&gt; Boolean">isPrimaryConstructor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#897351" title="(f: scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet], sym: LambdaLift.this.global.Symbol)LambdaLifter.this.SymSet">symSet</a><span class="delimiter">(</span><a href="#897340" title="=&gt; scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">called</a>, <a href="#897390" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../util/TreeSet.scala.html#888710" title="(x: LambdaLift.this.global.Symbol)Unit">addEntry</a> <a href="#897390" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; LambdaLift.this.global.Symbol">owner</a>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> <span title="AnyVal">Ident</span><span class="delimiter">(</span><a title="LambdaLift.this.global.Name" id="897458">name</a><span class="delimiter">)</span> =&gt;
            <span title="AnyVal" class="keyword">if</span> <span class="delimiter">(</span><a href="#897390" title="LambdaLift.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#478667" title="object LambdaLift.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="../../../Predef.scala.html#9565" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#897458" title="LambdaLift.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#479055" title="object LambdaLift.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516190" title="=&gt; LambdaLift.this.global.nme.NameType">WILDCARD</a><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="AnyVal" class="keyword">if</span> <span class="delimiter">(</span><a href="#897390" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509238" title="=&gt; Boolean">isLocal</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="LambdaLift.this.global.Symbol" id="897469">owner</a> = <a href="../../../reflect/generic/Trees.scala.html#443193" title="=&gt; LambdaLift.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#509325" title="=&gt; LambdaLift.this.global.Symbol">logicallyEnclosingMember</a>
              <span title="AnyVal" class="keyword">if</span> <span class="delimiter">(</span><a href="#897390" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435369" title="=&gt; Boolean">isTerm</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#897390" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435384" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span> <a href="#897353" title="(sym: LambdaLift.this.global.Symbol, enclosure: LambdaLift.this.global.Symbol)Boolean">markFree</a><span class="delimiter">(</span><a href="#897390" title="LambdaLift.this.global.Symbol">sym</a>, <a href="#897469" title="LambdaLift.this.global.Symbol">owner</a><span class="delimiter">)</span>
              <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#897390" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435384" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span> <a href="#897354" title="(sym: LambdaLift.this.global.Symbol, owner: LambdaLift.this.global.Symbol)Unit">markCalled</a><span class="delimiter">(</span><a href="#897390" title="LambdaLift.this.global.Symbol">sym</a>, <a href="#897469" title="LambdaLift.this.global.Symbol">owner</a><span class="delimiter">)</span>
                <span class="comment">//symSet(called, owner) addEntry sym</span>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> <span title="Unit">Select</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#897390" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509180" title="=&gt; Boolean">isConstructor</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#897390" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509238" title="=&gt; Boolean">isLocal</a><span class="delimiter">)</span>
              <a href="#897354" title="(sym: LambdaLift.this.global.Symbol, owner: LambdaLift.this.global.Symbol)Unit">markCalled</a><span class="delimiter">(</span><a href="#897390" title="LambdaLift.this.global.Symbol">sym</a>, <a href="../../../reflect/generic/Trees.scala.html#443193" title="=&gt; LambdaLift.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#509325" title="=&gt; LambdaLift.this.global.Symbol">logicallyEnclosingMember</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>
        <a href="#897380" title="LambdaLift.this.global.Traverser" class="keyword">super</a>.<a href="../ast/Trees.scala.html#560433" title="(tree: LambdaLift.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#897383" title="LambdaLift.this.global.Tree">tree</a><span class="delimiter">)</span>
       <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span><span class="comment">//debug</span>
         <span class="keyword">case</span> <a title="Nothing" id="897497">ex</a>: <span title="Throwable">Throwable</span> =&gt;
           <a href="../../../Console.scala.html#507" title="object Console">Console</a>.<a href="../../../Console.scala.html#58055" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="java.lang.String(&quot;exception when traversing &quot;)" class="string">&quot;exception when traversing &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#897383" title="LambdaLift.this.global.Tree">tree</a><span class="delimiter">)</span>
           <span title="Nothing" class="keyword">throw</span> <a href="#897497" title="java.lang.Throwable">ex</a>
       <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Compute free variables map `fvs'.
     *  Also assign unique names to all
     *  value/variable/let that are free in some function or class, and to
     *  all class/function symbols that are owned by some function.
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="()Unit" id="897357">computeFreeVars</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#897355" title="=&gt; LambdaLift.this.global.Traverser">freeVarTraverser</a>.<a href="../ast/Trees.scala.html#560433" title="(tree: LambdaLift.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#897368" title="LambdaLift.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500958" title="=&gt; LambdaLift.this.global.Tree">body</a><span class="delimiter">)</span>

      <a href="#897643" title="Unit" class="keyword">do</a> <span class="delimiter">{</span>
        <a href="#897345" title="(x$1: Boolean)Unit">changedFreeVars</a> = <span title="Boolean(false)" class="keyword">false</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="LambdaLift.this.global.Symbol" id="897666">caller</a> &lt;- <a href="#897340" title="=&gt; scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">called</a>.<a href="../../../collection/IterableLike.scala.html#53856" title="(f: LambdaLift.this.global.Symbol =&gt; Unit)Unit">keys</a> ; <a title="LambdaLift.this.global.Symbol" id="897701">callee</a> &lt;- <a href="../../../collection/MapLike.scala.html#73204" title="(key: LambdaLift.this.global.Symbol)LambdaLifter.this.SymSet">called</a><a href="../util/Set.scala.html#519987" title="(f: LambdaLift.this.global.Symbol =&gt; Unit)Unit" class="delimiter">(</a><a href="#897666" title="LambdaLift.this.global.Symbol">caller</a><span class="delimiter">)</span> ; <a title="LambdaLifter.this.SymSet" id="897709">fvs</a> &lt;- <a href="#897336" title="=&gt; scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">free</a> <a href="../../../Option.scala.html#48491" title="(f: LambdaLifter.this.SymSet =&gt; Unit)Unit">get</a> <a href="#897701" title="LambdaLift.this.global.Symbol">callee</a> ; <a title="LambdaLift.this.global.Symbol" id="897714">fv</a> &lt;- <a href="../util/Set.scala.html#519987" title="(f: LambdaLift.this.global.Symbol =&gt; Boolean)Unit">fvs</a><span class="delimiter">)</span>
          <a href="#897353" title="(sym: LambdaLift.this.global.Symbol, enclosure: LambdaLift.this.global.Symbol)Boolean">markFree</a><span class="delimiter">(</span><a href="#897714" title="LambdaLift.this.global.Symbol">fv</a>, <a href="#897666" title="LambdaLift.this.global.Symbol">caller</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">while</span> <span class="delimiter">(</span><a href="#897345" title="=&gt; Boolean">changedFreeVars</a><span class="delimiter">)</span>

      <span class="keyword">for</span> <span class="delimiter">(</span><a title="LambdaLift.this.global.Symbol" id="897723">sym</a> &lt;- <a href="../util/Set.scala.html#519987" title="(f: LambdaLift.this.global.Symbol =&gt; Unit)Unit">renamable</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="LambdaLift.this.global.Name" id="897724">originalName</a> = <a href="#897723" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; LambdaLift.this.global.Name">name</a>
        <span class="keyword">val</span> <a title="java.lang.String" id="897725">base</a> = <a href="#897723" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../Predef.scala.html#9681" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">name</a> <a href="../../../runtime/StringAdd.scala.html#58450" title="(other: String)java.lang.String">+</a> <span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">(</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#897723" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509193" title="=&gt; Boolean">isAnonymousFunction</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#897723" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../../../reflect/generic/Symbols.scala.html#435384" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span>
            <a href="#897723" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../../../Predef.scala.html#9681" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">name</a> <a href="../../../runtime/StringAdd.scala.html#58450" title="(other: String)java.lang.String">+</a> <span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span>
          <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
        <span class="delimiter">)</span>
        <a href="#897723" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509257" title="(name: LambdaLift.this.global.Name)Unit">name</a> =
          <span title="LambdaLift.this.global.Name" class="keyword">if</span> <span class="delimiter">(</span><a href="#897723" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; LambdaLift.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#501116" title="=&gt; Boolean">isTypeName</a><span class="delimiter">)</span> <a href="#897368" title="LambdaLift.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500957" title="(prefix: String)LambdaLift.this.global.TypeName">freshTypeName</a><span class="delimiter">(</span><a href="#897725" title="java.lang.String">base</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#897368" title="LambdaLift.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500956" title="(prefix: String)LambdaLift.this.global.TermName">freshTermName</a><span class="delimiter">(</span><a href="#897725" title="java.lang.String">base</a><span class="delimiter">)</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
          <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;renaming in %s: %s =&gt; %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#897723" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509368" title="=&gt; java.lang.String">fullLocationString</a>, <a href="#897724" title="LambdaLift.this.global.Name">originalName</a>, <a href="#897723" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; LambdaLift.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <a href="../symtab/SymbolTable.scala.html#478184" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Unit)Unit">atPhase</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505144" title="=&gt; scala.tools.nsc.Phase">next</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="LambdaLift.this.global.Symbol" id="897783">owner</a>, <a title="LambdaLifter.this.SymSet" id="897784">freeValues</a><span class="delimiter">)</span> &lt;- <a href="#897336" title="=&gt; scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">free</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: ((LambdaLift.this.global.Symbol, LambdaLifter.this.SymSet)) =&gt; Unit)Unit">toList</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
            <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;free var proxy: %s, %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#897783" title="LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509368" title="=&gt; java.lang.String">fullLocationString</a>, <a href="#897784" title="LambdaLifter.this.SymSet">freeValues</a>.<a href="../util/Set.scala.html#519993" title="=&gt; List[LambdaLift.this.global.Symbol]">toList</a>.<a href="../../../collection/TraversableOnce.scala.html#53709" title="(sep: String)String">mkString</a><span class="delimiter">(</span><span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

            <a href="../../../collection/mutable/MapLike.scala.html#73272" title="(key: LambdaLift.this.global.Symbol, value: List[LambdaLift.this.global.Symbol])Unit">proxies</a><span class="delimiter">(</span><a href="#897783" title="LambdaLift.this.global.Symbol">owner</a><span class="delimiter">)</span> =
              <span class="keyword">for</span> <span class="delimiter">(</span><a title="LambdaLift.this.global.Symbol" id="897830">fv</a> &lt;- <a href="#897784" title="LambdaLifter.this.SymSet">freeValues</a>.<a href="../../../collection/TraversableLike.scala.html#49041" title="(f: LambdaLift.this.global.Symbol =&gt; LambdaLift.this.global.TermSymbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[LambdaLift.this.global.Symbol],LambdaLift.this.global.TermSymbol,List[LambdaLift.this.global.Symbol]])List[LambdaLift.this.global.Symbol]">toList</a><span class="delimiter">)</span> <span class="keyword">yield</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="LambdaLift.this.global.TermSymbol" id="897831">proxy</a> = <a href="#897783" title="LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509125" title="(pos: LambdaLift.this.global.Position, name: LambdaLift.this.global.TermName)LambdaLift.this.global.TermSymbol">newValue</a><span class="delimiter">(</span><a href="#897783" title="LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; LambdaLift.this.global.Position">pos</a>, <a href="#897830" title="LambdaLift.this.global.Symbol">fv</a>.<a href="../../../reflect/generic/Names.scala.html#434003" title="implicit scala.reflect.generic.Names.promoteTermNamesAsNecessary : (name: LambdaLift.this.global.Name)LambdaLift.this.global.TermName">name</a><span class="delimiter">)</span>
                  .<a href="../symtab/Symbols.scala.html#509261" title="(mask: Long)LambdaLift.this.global.TermSymbol">setFlag</a><span class="delimiter">(</span><span title="Long" class="keyword">if</span> <span class="delimiter">(</span><a href="#897783" title="LambdaLift.this.global.Symbol">owner</a>.<a href="../../../reflect/generic/Symbols.scala.html#435371" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> PARAMACCESSOR | PRIVATE <span title="Long(537395204L)">|</span> LOCAL <span class="keyword">else</span> <span title="Long(8192L)">PARAM</span><span class="delimiter">)</span>
                  .<a href="../symtab/Symbols.scala.html#509261" title="(mask: Long)LambdaLift.this.global.TermSymbol">setFlag</a><span class="delimiter">(</span><span title="Long(2097152L)">SYNTHETIC</span><span class="delimiter">)</span>
                  .<a href="../symtab/Symbols.scala.html#509274" title="(info: LambdaLift.this.global.Type)LambdaLift.this.global.TermSymbol">setInfo</a><span class="delimiter">(</span><a href="#897830" title="LambdaLift.this.global.Symbol">fv</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; LambdaLift.this.global.Type">info</a><span class="delimiter">)</span>;
                <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#897783" title="LambdaLift.this.global.Symbol">owner</a>.<a href="../../../reflect/generic/Symbols.scala.html#435371" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <a href="#897783" title="LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; LambdaLift.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507192" title="=&gt; LambdaLift.this.global.Scope">decls</a> <a href="../symtab/Scopes.scala.html#514360" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">enter</a> <a href="#897831" title="LambdaLift.this.global.TermSymbol">proxy</a>;
                <a href="#897831" title="LambdaLift.this.global.TermSymbol">proxy</a>
              <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol" id="897358">proxy</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Symbol" id="897900">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="LambdaLift.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(searchee: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol" id="897903">searchIn</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Symbol" id="897904">searchee</a>: <a href="../symtab/Symbols.scala.html#478659" title="LambdaLift.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../symtab/Symbols.scala.html#478659" title="LambdaLift.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
          <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;searching for &quot;)" class="string">&quot;searching for &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#897900" title="LambdaLift.this.global.Symbol">sym</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;(&quot;)" class="string">&quot;(&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#897900" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; LambdaLift.this.global.Symbol">owner</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;) in &quot;)" class="string">&quot;) in &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#897904" title="LambdaLift.this.global.Symbol">searchee</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#897904" title="LambdaLift.this.global.Symbol">searchee</a>.<a href="../symtab/Symbols.scala.html#509325" title="=&gt; LambdaLift.this.global.Symbol">logicallyEnclosingMember</a><span class="delimiter">)</span>

        <span class="keyword">val</span> <a title="List[LambdaLift.this.global.Symbol]" id="897905">ps</a> = <span class="delimiter">(</span><a href="#897338" title="=&gt; scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Symbol]]">proxies</a> <a href="../../../collection/mutable/LinkedHashMap.scala.html#287676" title="(key: LambdaLift.this.global.Symbol)Option[List[LambdaLift.this.global.Symbol]]">get</a> <a href="#897904" title="LambdaLift.this.global.Symbol">searchee</a>.<a href="../symtab/Symbols.scala.html#509325" title="=&gt; LambdaLift.this.global.Symbol">logicallyEnclosingMember</a><span class="delimiter">)</span>.<a href="../../../Option.scala.html#48501" title="=&gt; List[List[LambdaLift.this.global.Symbol]]">toList</a>.<a href="../../../collection/generic/GenericTraversableTemplate.scala.html#53804" title="(implicit asTraversable: List[LambdaLift.this.global.Symbol] =&gt; scala.collection.TraversableOnce[LambdaLift.this.global.Symbol])List[LambdaLift.this.global.Symbol]">flatten</a> <a href="../../../collection/TraversableLike.scala.html#49051" title="(p: LambdaLift.this.global.Symbol =&gt; Boolean)List[LambdaLift.this.global.Symbol]">filter</a> <span class="delimiter">(</span><a href="#897955" title="LambdaLift.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; LambdaLift.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#897900" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; LambdaLift.this.global.Name">name</a><span class="delimiter">)</span>
        <span title="LambdaLift.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#897905" title="List[LambdaLift.this.global.Symbol]">ps</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#897903" title="(searchee: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">searchIn</a><span class="delimiter">(</span><a href="#897904" title="LambdaLift.this.global.Symbol">searchee</a>.<a href="../symtab/Symbols.scala.html#509205" title="=&gt; LambdaLift.this.global.Symbol">skipConstructor</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; LambdaLift.this.global.Symbol">owner</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#897905" title="List[LambdaLift.this.global.Symbol]">ps</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; LambdaLift.this.global.Symbol">head</a>
      <span class="delimiter">}</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
        <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;proxy &quot;)" class="string">&quot;proxy &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#897900" title="LambdaLift.this.global.Symbol">sym</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; in &quot;)" class="string">&quot; in &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#897900" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; LambdaLift.this.global.Symbol">owner</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; from &quot;)" class="string">&quot; from &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="../ast/Trees.scala.html#560333" title="=&gt; LambdaLift.this.global.explicitOuter.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#509252" title="=&gt; List[LambdaLift.this.global.explicitOuter.global.Symbol]">ownerChain</a>.<a href="../../../collection/TraversableOnce.scala.html#53709" title="(sep: String)String">mkString</a><span class="delimiter">(</span><span title="java.lang.String(&quot; -&gt; &quot;)" class="string">&quot; -&gt; &quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span>
          <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#897900" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509325" title="=&gt; LambdaLift.this.global.Symbol">logicallyEnclosingMember</a><span class="delimiter">)</span>

      <span title="LambdaLift.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#897352" title="(sym: LambdaLift.this.global.Symbol)Boolean">isSameOwnerEnclosure</a><span class="delimiter">(</span><a href="#897900" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#897900" title="LambdaLift.this.global.Symbol">sym</a>
      <span class="keyword">else</span> <a href="#897903" title="(searchee: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">searchIn</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#560333" title="=&gt; LambdaLift.this.global.explicitOuter.global.Symbol">currentOwner</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Select" id="897359">memberRef</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Symbol" id="897972">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="LambdaLift.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="LambdaLift.this.global.Symbol" id="897975">clazz</a> = <a href="#897972" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../../../reflect/generic/Symbols.scala.html#435409" title="=&gt; LambdaLift.this.global.Symbol">enclClass</a>
      <span class="comment">//Console.println(&quot;memberRef from &quot;+currentClass+&quot; to &quot;+sym+&quot; in &quot;+clazz)</span>
      <span class="keyword">val</span> <a title="LambdaLift.this.global.gen.global.Tree" id="897976">qual</a> = <span title="LambdaLift.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#897975" title="LambdaLift.this.global.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../ast/Trees.scala.html#560337" title="=&gt; LambdaLift.this.global.explicitOuter.global.Symbol">currentClass</a><span class="delimiter">)</span> <a href="../Global.scala.html#478214" title="object LambdaLift.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#507280" title="(sym: LambdaLift.this.global.gen.global.Symbol)LambdaLift.this.global.gen.global.Tree">mkAttributedThis</a><span class="delimiter">(</span><a href="#897975" title="LambdaLift.this.global.Symbol">clazz</a><span class="delimiter">)</span>
                 <span class="keyword">else</span> <span class="delimiter">{</span>
                   <a href="#897972" title="LambdaLift.this.global.Symbol">sym</a> <a href="../symtab/Symbols.scala.html#509262" title="(mask: Long)sym.type">resetFlag</a><span class="delimiter">(</span>LOCAL <span title="Long(524292L)">|</span> PRIVATE<span class="delimiter">)</span>
                   <span title="LambdaLift.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#897975" title="LambdaLift.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509236" title="=&gt; Boolean">isStaticOwner</a><span class="delimiter">)</span> <a href="../Global.scala.html#478214" title="object LambdaLift.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#507269" title="(tpe: LambdaLift.this.global.gen.global.Type)LambdaLift.this.global.gen.global.Tree">mkAttributedQualifier</a><span class="delimiter">(</span><a href="#897975" title="LambdaLift.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509308" title="=&gt; LambdaLift.this.global.Type">thisType</a><span class="delimiter">)</span>
                   <span class="keyword">else</span> <a href="ExplicitOuter.scala.html#895053" title="(base: LambdaLift.this.global.explicitOuter.global.Tree, from: LambdaLift.this.global.explicitOuter.global.Symbol, to: LambdaLift.this.global.explicitOuter.global.Symbol)LambdaLift.this.global.explicitOuter.global.Tree">outerPath</a><span class="delimiter">(</span><a href="ExplicitOuter.scala.html#895051" title="=&gt; LambdaLift.this.global.explicitOuter.global.Tree">outerValue</a>, <a href="../ast/Trees.scala.html#560337" title="=&gt; LambdaLift.this.global.explicitOuter.global.Symbol">currentClass</a>.<a href="../symtab/Symbols.scala.html#509314" title="=&gt; LambdaLift.this.global.explicitOuter.global.Symbol">outerClass</a>, <a href="#897975" title="LambdaLift.this.global.Symbol">clazz</a><span class="delimiter">)</span>
                 <span class="delimiter">}</span>
      <a href="../ast/Trees.scala.html#479143" title="(qualifier: LambdaLift.this.global.Tree, sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Select">Select</a><span class="delimiter">(</span><a href="#897976" title="LambdaLift.this.global.gen.global.Tree">qual</a>, <a href="#897972" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: LambdaLift.this.global.Type)LambdaLift.this.global.Select">setType</a> <a href="#897972" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; LambdaLift.this.global.Type">tpe</a>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.gen.global.Tree" id="897360">proxyRef</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Symbol" id="898017">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="LambdaLift.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="LambdaLift.this.global.Symbol" id="898020">psym</a> = <a href="#897358" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">proxy</a><span class="delimiter">(</span><a href="#898017" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span>
      <span title="LambdaLift.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#898020" title="LambdaLift.this.global.Symbol">psym</a>.<a href="../symtab/Symbols.scala.html#509238" title="=&gt; Boolean">isLocal</a><span class="delimiter">)</span> <a href="../Global.scala.html#478214" title="object LambdaLift.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#507281" title="(sym: LambdaLift.this.global.gen.global.Symbol)LambdaLift.this.global.gen.global.Tree">mkAttributedIdent</a><span class="delimiter">(</span><a href="#898020" title="LambdaLift.this.global.Symbol">psym</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#897359" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Select">memberRef</a><span class="delimiter">(</span><a href="#898020" title="LambdaLift.this.global.Symbol">psym</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pos: LambdaLift.this.global.Position, sym: LambdaLift.this.global.Symbol, args: List[LambdaLift.this.global.Tree])List[LambdaLift.this.global.Tree]" id="897361">addFreeArgs</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Position" id="898023">pos</a>: <a href="../util/Position.scala.html#42664" title="LambdaLift.this.global.Position">Position</a>, <a title="LambdaLift.this.global.Symbol" id="898024">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="LambdaLift.this.global.Symbol">Symbol</a>, <a title="List[LambdaLift.this.global.Tree]" id="898025">args</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[LambdaLift.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#897336" title="=&gt; scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">free</a> <a href="../../../collection/mutable/LinkedHashMap.scala.html#287676" title="(key: LambdaLift.this.global.Symbol)Option[LambdaLifter.this.SymSet]">get</a> <a href="#898024" title="LambdaLift.this.global.Symbol">sym</a> <span title="List[LambdaLift.this.global.Tree]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="List[LambdaLift.this.global.Tree]">Some</span><span class="delimiter">(</span><a title="LambdaLifter.this.SymSet" id="898032">fvs</a><span class="delimiter">)</span> =&gt; <a href="#898025" title="List[LambdaLift.this.global.Tree]">args</a> <a href="../../../collection/immutable/List.scala.html#49152" title="(that: scala.collection.GenTraversableOnce[LambdaLift.this.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[LambdaLift.this.global.Tree],LambdaLift.this.global.Tree,List[LambdaLift.this.global.Tree]])List[LambdaLift.this.global.Tree]">++</a> <span class="delimiter">(</span><a href="#898032" title="LambdaLifter.this.SymSet">fvs</a>.<a href="../util/Set.scala.html#519993" title="=&gt; List[LambdaLift.this.global.Symbol]">toList</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: LambdaLift.this.global.Symbol =&gt; LambdaLift.this.global.gen.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[LambdaLift.this.global.Symbol],LambdaLift.this.global.gen.global.Tree,List[LambdaLift.this.global.gen.global.Tree]])List[LambdaLift.this.global.gen.global.Tree]">map</a> <span class="delimiter">(</span><a title="LambdaLift.this.global.Symbol" id="898078">fv</a> =&gt; <a href="../ast/Trees.scala.html#479182" title="(pos: LambdaLift.this.global.Position)(tree: LambdaLift.this.global.gen.global.Tree)LambdaLift.this.global.gen.global.Tree">atPos</a><span class="delimiter">(</span><a href="#898023" title="LambdaLift.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#897360" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.gen.global.Tree">proxyRef</a><span class="delimiter">(</span><a href="#898078" title="LambdaLift.this.global.Symbol">fv</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="List[LambdaLift.this.global.Tree]">_</span>         =&gt; <a href="#898025" title="List[LambdaLift.this.global.Tree]">args</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: LambdaLift.this.global.Tree, sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Tree" id="897362">addFreeParams</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Tree" id="898151">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="LambdaLift.this.global.Tree">Tree</a>, <a title="LambdaLift.this.global.Symbol" id="898152">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="LambdaLift.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="LambdaLift.this.global.Tree">Tree</a> = <a href="#897338" title="=&gt; scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Symbol]]">proxies</a>.<a href="../../../collection/mutable/LinkedHashMap.scala.html#287676" title="(key: LambdaLift.this.global.Symbol)Option[List[LambdaLift.this.global.Symbol]]">get</a><span class="delimiter">(</span><a href="#898152" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="LambdaLift.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="LambdaLift.this.global.Tree">Some</span><span class="delimiter">(</span><a title="List[LambdaLift.this.global.Symbol]" id="898158">ps</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="List[LambdaLift.this.global.ValDef]" id="898159">freeParams</a> = <a href="#898158" title="List[LambdaLift.this.global.Symbol]">ps</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: LambdaLift.this.global.Symbol =&gt; LambdaLift.this.global.ValDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[LambdaLift.this.global.Symbol],LambdaLift.this.global.ValDef,List[LambdaLift.this.global.ValDef]])List[LambdaLift.this.global.ValDef]">map</a> <span class="delimiter">(</span><a title="LambdaLift.this.global.Symbol" id="898176">p</a> =&gt; <a href="../ast/Trees.scala.html#479126" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#898176" title="LambdaLift.this.global.Symbol">p</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441026" title="(pos: scala.tools.nsc.util.Position)LambdaLift.this.global.ValDef">setPos</a> <a href="#898151" title="LambdaLift.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; LambdaLift.this.global.Position">pos</a> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: LambdaLift.this.global.Type)LambdaLift.this.global.ValDef">setType</a> <a href="../symtab/Types.scala.html#478734" title="object LambdaLift.this.global.NoType">NoType</a><span class="delimiter">)</span>
        <a href="#898151" title="LambdaLift.this.global.Tree">tree</a> <span title="LambdaLift.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="LambdaLift.this.global.explicitOuter.global.DefDef">DefDef</span><span class="delimiter">(</span><a title="LambdaLift.this.global.Modifiers" id="898236">mods</a>, <a title="LambdaLift.this.global.TermName" id="898237">name</a>, <a title="List[LambdaLift.this.global.TypeDef]" id="898238">tparams</a>, <a title="List[List[LambdaLift.this.global.ValDef]]" id="898239">vparamss</a>, <a title="LambdaLift.this.global.Tree" id="898240">tpt</a>, <a title="LambdaLift.this.global.Tree" id="898241">rhs</a><span class="delimiter">)</span> =&gt;
            <span class="keyword">val</span> <a title="List[LambdaLift.this.global.Symbol]" id="898242">addParams</a> = <a href="../symtab/Symbols.scala.html#478669" title="(syms: List[LambdaLift.this.global.Symbol])List[LambdaLift.this.global.Symbol]">cloneSymbols</a><span class="delimiter">(</span><a href="#898158" title="List[LambdaLift.this.global.Symbol]">ps</a><span class="delimiter">)</span>.<a href="../../../collection/TraversableLike.scala.html#49041" title="(f: LambdaLift.this.global.Symbol =&gt; LambdaLift.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[LambdaLift.this.global.Symbol],LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Symbol]])List[LambdaLift.this.global.Symbol]">map</a><a href="../../../collection/immutable/List.scala.html#48868" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Symbol]]" class="delimiter">(</a><a href="#898289" title="LambdaLift.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#509261" title="(mask: Long)x$6.type">setFlag</a><span class="delimiter">(</span><span title="Long(8192L)">PARAM</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#898152" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509276" title="(info: LambdaLift.this.global.Type)LambdaLift.this.global.Symbol">updateInfo</a><span class="delimiter">(</span>
              <a href="../../../Function1.scala.html#53453" title="(v1: LambdaLift.this.global.Type)LambdaLift.this.global.Type">lifted</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#546837" title="(params: List[LambdaLift.this.global.Symbol], resultType: LambdaLift.this.global.Type)LambdaLift.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="#898152" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; LambdaLift.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507180" title="=&gt; List[LambdaLift.this.global.Symbol]">params</a> <a href="../../../collection/immutable/List.scala.html#49143" title="(prefix: List[LambdaLift.this.global.Symbol])List[LambdaLift.this.global.Symbol]">:::</a> <a href="#898242" title="List[LambdaLift.this.global.Symbol]">addParams</a>, <a href="#898152" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; LambdaLift.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507173" title="=&gt; LambdaLift.this.global.Type">resultType</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="../ast/Trees.scala.html#560331" title="=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560236" title="(tree: LambdaLift.this.global.explicitOuter.global.Tree, mods: LambdaLift.this.global.explicitOuter.global.Modifiers, name: LambdaLift.this.global.explicitOuter.global.Name, tparams: List[LambdaLift.this.global.explicitOuter.global.TypeDef], vparamss: List[List[LambdaLift.this.global.explicitOuter.global.ValDef]], tpt: LambdaLift.this.global.explicitOuter.global.Tree, rhs: LambdaLift.this.global.explicitOuter.global.Tree)LambdaLift.this.global.explicitOuter.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#898151" title="LambdaLift.this.global.Tree">tree</a>, <a href="#898236" title="LambdaLift.this.global.Modifiers">mods</a>, <a href="#898237" title="LambdaLift.this.global.TermName">name</a>, <a href="#898238" title="List[LambdaLift.this.global.TypeDef]">tparams</a>, <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: List[LambdaLift.this.global.explicitOuter.global.ValDef]*)List[List[LambdaLift.this.global.explicitOuter.global.ValDef]]">List</a><span class="delimiter">(</span><a href="#898239" title="List[List[LambdaLift.this.global.ValDef]]">vparamss</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; List[LambdaLift.this.global.ValDef]">head</a> <a href="../../../collection/immutable/List.scala.html#49152" title="(that: scala.collection.GenTraversableOnce[LambdaLift.this.global.ValDef])(implicit bf: scala.collection.generic.CanBuildFrom[List[LambdaLift.this.global.ValDef],LambdaLift.this.global.ValDef,List[LambdaLift.this.global.explicitOuter.global.ValDef]])List[LambdaLift.this.global.explicitOuter.global.ValDef]">++</a> <a href="#898159" title="List[LambdaLift.this.global.ValDef]">freeParams</a><span class="delimiter">)</span>, <a href="#898240" title="LambdaLift.this.global.Tree">tpt</a>, <a href="#898241" title="LambdaLift.this.global.Tree">rhs</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="LambdaLift.this.global.explicitOuter.global.ClassDef">ClassDef</span><span class="delimiter">(</span><a title="LambdaLift.this.global.Modifiers" id="898425">mods</a>, <a title="LambdaLift.this.global.TypeName" id="898426">name</a>, <a title="List[LambdaLift.this.global.TypeDef]" id="898427">tparams</a>, <a title="LambdaLift.this.global.Template" id="898428">impl</a> @ Template<span class="delimiter">(</span><a title="List[LambdaLift.this.global.Tree]" id="898441">parents</a>, <a title="LambdaLift.this.global.ValDef" id="898442">self</a>, <a title="List[LambdaLift.this.global.Tree]" id="898443">body</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
            <span class="comment">// Disabled attempt to to add getters to freeParams</span>
            <span class="comment">// this does not work yet. Problem is that local symbols need local names</span>
            <span class="comment">// and references to local symbols need to be transformed into</span>
            <span class="comment">// method calls to setters.</span>
            <span class="comment">// def paramGetter(param: Symbol): Tree = {</span>
            <span class="comment">//   val getter = param.newGetter setFlag TRANS_FLAG resetFlag PARAMACCESSOR // mark because we have to add them to interface</span>
            <span class="comment">//   sym.info.decls.enter(getter)</span>
            <span class="comment">//   val rhs = Select(gen.mkAttributedThis(sym), param) setType param.tpe</span>
            <span class="comment">//   DefDef(getter, rhs) setPos tree.pos setType NoType</span>
            <span class="comment">// }</span>
            <span class="comment">// val newDefs = if (sym.isTrait) freeParams ::: (ps map paramGetter) else freeParams</span>
            <a href="../ast/Trees.scala.html#560331" title="=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560232" title="(tree: LambdaLift.this.global.explicitOuter.global.Tree, mods: LambdaLift.this.global.explicitOuter.global.Modifiers, name: LambdaLift.this.global.explicitOuter.global.Name, tparams: List[LambdaLift.this.global.explicitOuter.global.TypeDef], impl: LambdaLift.this.global.explicitOuter.global.Template)LambdaLift.this.global.explicitOuter.global.ClassDef">ClassDef</a><span class="delimiter">(</span><a href="#898151" title="LambdaLift.this.global.Tree">tree</a>, <a href="#898425" title="LambdaLift.this.global.Modifiers">mods</a>, <a href="#898426" title="LambdaLift.this.global.TypeName">name</a>, <a href="#898427" title="List[LambdaLift.this.global.TypeDef]">tparams</a>,
                              <a href="../ast/Trees.scala.html#560331" title="=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560241" title="(tree: LambdaLift.this.global.explicitOuter.global.Tree, parents: List[LambdaLift.this.global.explicitOuter.global.Tree], self: LambdaLift.this.global.explicitOuter.global.ValDef, body: List[LambdaLift.this.global.explicitOuter.global.Tree])LambdaLift.this.global.explicitOuter.global.Template">Template</a><span class="delimiter">(</span><a href="#898428" title="LambdaLift.this.global.Template">impl</a>, <a href="#898441" title="List[LambdaLift.this.global.Tree]">parents</a>, <a href="#898442" title="LambdaLift.this.global.ValDef">self</a>, <a href="#898443" title="List[LambdaLift.this.global.Tree]">body</a> <a href="../../../collection/immutable/List.scala.html#49143" title="(prefix: List[LambdaLift.this.global.Tree])List[LambdaLift.this.global.Tree]">:::</a> <a href="#898159" title="List[LambdaLift.this.global.ValDef]">freeParams</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <a href="../../../Option.scala.html#1737" title="LambdaLift.this.global.Tree">None</a> =&gt;
        <a href="#898151" title="LambdaLift.this.global.Tree">tree</a>
    <span class="delimiter">}</span>

<span class="comment">/*  Something like this will be necessary to eliminate the implementation
 *  restiction from paramGetter above:
 *  We need to pass getters to the interface of an implementation class.
    private def fixTraitGetters(lifted: List[Tree]): List[Tree] =
      for (stat &lt;- lifted) yield stat match {
        case ClassDef(mods, name, tparams, templ @ Template(parents, self, body))
        if stat.symbol.isTrait &amp;&amp; !stat.symbol.isImplClass =&gt;
          val iface = stat.symbol
          lifted.find(l =&gt; l.symbol.isImplClass &amp;&amp; l.symbol.toInterface == iface) match {
            case Some(implDef) =&gt;
              val impl = implDef.symbol
              val implGetters = impl.info.decls.toList filter (_ hasFlag TRANS_FLAG)
              if (implGetters.nonEmpty) {
                val ifaceGetters = implGetters map { ig =&gt;
                  ig resetFlag TRANS_FLAG
                  val getter = ig cloneSymbol iface setFlag DEFERRED
                  iface.info.decls enter getter
                  getter
                }
                val ifaceGetterDefs = ifaceGetters map (DefDef(_, EmptyTree) setType NoType)
                treeCopy.ClassDef(
                  stat, mods, name, tparams,
                  treeCopy.Template(templ, parents, self, body ::: ifaceGetterDefs))
              } else
                stat
            case None =&gt;
              stat
          }
        case _ =&gt;
          stat
      }
*/</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree" id="897363">liftDef</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Tree" id="898461">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="LambdaLift.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="LambdaLift.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="LambdaLift.this.global.Symbol" id="898463">sym</a> = <a href="#898461" title="LambdaLift.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; LambdaLift.this.global.Symbol">symbol</a>
      <span class="keyword">val</span> <a title="LambdaLift.this.global.Symbol" id="898464">oldOwner</a> = <a href="#898463" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; LambdaLift.this.global.Symbol">owner</a>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#898463" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509228" title="=&gt; Boolean">isAuxiliaryConstructor</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#898463" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435384" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span>  <span class="comment">// # bug 1909</span>
    	  <a href="#898463" title="LambdaLift.this.global.Symbol">sym</a> <a href="../symtab/Symbols.scala.html#509261" title="(mask: Long)sym.type">setFlag</a> <span title="Long(8388608L)">STATIC</span>
      <a href="#898463" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509250" title="(owner: LambdaLift.this.global.Symbol)Unit">owner</a> = <a href="#898463" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../../../reflect/generic/Symbols.scala.html#435409" title="=&gt; LambdaLift.this.global.Symbol">enclClass</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#898463" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435371" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <a href="#898463" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509250" title="(owner: LambdaLift.this.global.Symbol)Unit">owner</a> = <a href="#898463" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509334" title="=&gt; LambdaLift.this.global.Symbol">toInterface</a>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#898463" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435384" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span> <a href="#898463" title="LambdaLift.this.global.Symbol">sym</a> <a href="../symtab/Symbols.scala.html#509261" title="(mask: Long)sym.type">setFlag</a> <span title="Long(17179869184L)">LIFTED</span>
      <a href="../../../collection/mutable/MapLike.scala.html#73272" title="(key: LambdaLift.this.global.Symbol, value: List[LambdaLift.this.global.Tree])Unit">liftedDefs</a><span class="delimiter">(</span><a href="#898463" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; LambdaLift.this.global.Symbol">owner</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: LambdaLift.this.global.Tree)List[LambdaLift.this.global.Tree]">::=</a> <a href="#898461" title="LambdaLift.this.global.Tree">tree</a>
      <a href="#898463" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; LambdaLift.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507192" title="=&gt; LambdaLift.this.global.Scope">decls</a> <a href="../symtab/Scopes.scala.html#514361" title="(sym: LambdaLift.this.global.Symbol)Unit">enterUnique</a> <a href="#898463" title="LambdaLift.this.global.Symbol">sym</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;lifted: &quot;)" class="string">&quot;lifted: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#898463" title="LambdaLift.this.global.Symbol">sym</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; from &quot;)" class="string">&quot; from &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#898464" title="LambdaLift.this.global.Symbol">oldOwner</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; to &quot;)" class="string">&quot; to &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#898463" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; LambdaLift.this.global.Symbol">owner</a><span class="delimiter">)</span>
      <a href="../../../reflect/generic/Trees.scala.html#434035" title="object LambdaLift.this.global.EmptyTree">EmptyTree</a>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree" id="897364">postTransform</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Tree" id="898540">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="LambdaLift.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="LambdaLift.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="LambdaLift.this.global.Symbol" id="898542">sym</a> = <a href="#898540" title="LambdaLift.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; LambdaLift.this.global.Symbol">symbol</a>
      <a href="#898540" title="LambdaLift.this.global.Tree">tree</a> <span title="LambdaLift.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="LambdaLift.this.global.Tree">ClassDef</span><span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="LambdaLift.this.global.Tree" id="898549">tree1</a> = <a href="#897362" title="(tree: LambdaLift.this.global.Tree, sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Tree">addFreeParams</a><span class="delimiter">(</span><a href="#898540" title="LambdaLift.this.global.Tree">tree</a>, <a href="#898542" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span title="LambdaLift.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#898542" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509238" title="=&gt; Boolean">isLocal</a><span class="delimiter">)</span> <a href="#897363" title="(tree: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree">liftDef</a><span class="delimiter">(</span><a href="#898549" title="LambdaLift.this.global.Tree">tree1</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#898549" title="LambdaLift.this.global.Tree">tree1</a>
        <span class="keyword">case</span> <span title="LambdaLift.this.global.Tree">DefDef</span><span class="delimiter">(</span>_, _, _, _, _, _<span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="LambdaLift.this.global.Tree" id="898558">tree1</a> = <a href="#897362" title="(tree: LambdaLift.this.global.Tree, sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Tree">addFreeParams</a><span class="delimiter">(</span><a href="#898540" title="LambdaLift.this.global.Tree">tree</a>, <a href="#898542" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span title="LambdaLift.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#898542" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509238" title="=&gt; Boolean">isLocal</a><span class="delimiter">)</span> <a href="#897363" title="(tree: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree">liftDef</a><span class="delimiter">(</span><a href="#898558" title="LambdaLift.this.global.Tree">tree1</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#898558" title="LambdaLift.this.global.Tree">tree1</a>
        <span class="keyword">case</span> <span title="LambdaLift.this.global.Tree">ValDef</span><span class="delimiter">(</span><a title="LambdaLift.this.global.Modifiers" id="898565">mods</a>, <a title="LambdaLift.this.global.TermName" id="898566">name</a>, <a title="LambdaLift.this.global.Tree" id="898567">tpt</a>, <a title="LambdaLift.this.global.Tree" id="898568">rhs</a><span class="delimiter">)</span> =&gt;
          <span title="LambdaLift.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#898542" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509170" title="=&gt; Boolean">isCapturedVariable</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="LambdaLift.this.global.TypeTree" id="898569">tpt1</a> = <a href="../ast/Trees.scala.html#479149" title="(tp: LambdaLift.this.global.Type)LambdaLift.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#898542" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; LambdaLift.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441026" title="(pos: scala.tools.nsc.util.Position)LambdaLift.this.global.TypeTree">setPos</a> <a href="#898567" title="LambdaLift.this.global.Tree">tpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; LambdaLift.this.global.Position">pos</a>
            <span class="comment">/* Creating a constructor argument if one isn't present. */</span>
            <span class="keyword">val</span> <a title="LambdaLift.this.global.gen.global.Tree" id="898570">constructorArg</a> = <a href="#898568" title="LambdaLift.this.global.Tree">rhs</a> <span title="LambdaLift.this.global.gen.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <a href="../../../reflect/generic/Trees.scala.html#434035" title="LambdaLift.this.global.gen.global.Tree">EmptyTree</a> =&gt;
                <a href="#898542" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509305" title="=&gt; LambdaLift.this.global.Symbol">primaryConstructor</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; LambdaLift.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507181" title="=&gt; List[LambdaLift.this.global.Type]">paramTypes</a> <span title="LambdaLift.this.global.gen.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <a href="../../../collection/generic/GenSeqFactory.scala.html#48862" title="LambdaLift.this.global.gen.global.Tree">List</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Type" id="898596">tp</a><span class="delimiter">)</span> =&gt; <a href="../Global.scala.html#478214" title="object LambdaLift.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#507291" title="(tp: LambdaLift.this.global.gen.global.Type)LambdaLift.this.global.gen.global.Tree">mkZero</a><span class="delimiter">(</span><a href="#898596" title="LambdaLift.this.global.Type">tp</a><span class="delimiter">)</span>
                  <span class="keyword">case</span> <span title="LambdaLift.this.global.Tree">_</span>        =&gt;
                    <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Couldn\'t determine how to properly construct &quot;)" class="string">&quot;Couldn't determine how to properly construct &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#898542" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span>
                    <a href="#898568" title="LambdaLift.this.global.Tree">rhs</a>
                <span class="delimiter">}</span>
              <span class="keyword">case</span> <a title="LambdaLift.this.global.Tree" id="898599">arg</a> =&gt; <a href="#898599" title="LambdaLift.this.global.Tree">arg</a>
            <span class="delimiter">}</span>
            <a href="../ast/Trees.scala.html#560331" title="=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560235" title="(tree: LambdaLift.this.global.explicitOuter.global.Tree, mods: LambdaLift.this.global.explicitOuter.global.Modifiers, name: LambdaLift.this.global.explicitOuter.global.Name, tpt: LambdaLift.this.global.explicitOuter.global.Tree, rhs: LambdaLift.this.global.explicitOuter.global.Tree)LambdaLift.this.global.explicitOuter.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#898540" title="LambdaLift.this.global.Tree">tree</a>, <a href="#898565" title="LambdaLift.this.global.Modifiers">mods</a>, <a href="#898566" title="LambdaLift.this.global.TermName">name</a>, <a href="#898569" title="LambdaLift.this.global.TypeTree">tpt1</a>, <a href="../Global.scala.html#478336" title="object LambdaLift.this.global.typer">typer</a>.<a href="../typechecker/Typers.scala.html#507769" title="(pos: LambdaLift.this.global.analyzer.global.Position)(tree: LambdaLift.this.global.analyzer.global.Tree)LambdaLift.this.global.analyzer.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#898568" title="LambdaLift.this.global.Tree">rhs</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; LambdaLift.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="../../../reflect/generic/Trees.scala.html#443864" title="(fun: LambdaLift.this.global.Tree, args: List[LambdaLift.this.global.Tree])LambdaLift.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../../../reflect/generic/Trees.scala.html#443970" title="(qualifier: LambdaLift.this.global.Tree, name: LambdaLift.this.global.Name)LambdaLift.this.global.Select">Select</a><span class="delimiter">(</span><a href="../../../reflect/generic/Trees.scala.html#443784" title="(tpt: LambdaLift.this.global.Tree)LambdaLift.this.global.New">New</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479149" title="(tp: LambdaLift.this.global.Type)LambdaLift.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#898542" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; LambdaLift.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="../symtab/StdNames.scala.html#479055" title="object LambdaLift.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516546" title="=&gt; LambdaLift.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>, <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: LambdaLift.this.global.gen.global.Tree*)List[LambdaLift.this.global.gen.global.Tree]">List</a><span class="delimiter">(</span><a href="#898570" title="LambdaLift.this.global.gen.global.Tree">constructorArg</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#898540" title="LambdaLift.this.global.Tree">tree</a>
        <span class="keyword">case</span> <span title="LambdaLift.this.global.Block">Return</span><span class="delimiter">(</span>Block<span class="delimiter">(</span><a title="List[LambdaLift.this.global.Tree]" id="898654">stats</a>, <a title="LambdaLift.this.global.Tree" id="898655">value</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <a href="../../../reflect/generic/Trees.scala.html#443384" title="(stats: List[LambdaLift.this.global.Tree], expr: LambdaLift.this.global.Tree)LambdaLift.this.global.Block">Block</a><span class="delimiter">(</span><a href="#898654" title="List[LambdaLift.this.global.Tree]">stats</a>, <a href="../ast/Trees.scala.html#560331" title="=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560254" title="(tree: LambdaLift.this.global.explicitOuter.global.Tree, expr: LambdaLift.this.global.explicitOuter.global.Tree)LambdaLift.this.global.explicitOuter.global.Return">Return</a><span class="delimiter">(</span><a href="#898540" title="LambdaLift.this.global.Tree">tree</a>, <a href="#898655" title="LambdaLift.this.global.Tree">value</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: LambdaLift.this.global.Type)LambdaLift.this.global.Block">setType</a> <a href="#898540" title="LambdaLift.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; LambdaLift.this.global.Type">tpe</a> <a href="../../../reflect/generic/Trees.scala.html#441026" title="(pos: scala.tools.nsc.util.Position)LambdaLift.this.global.Block">setPos</a> <a href="#898540" title="LambdaLift.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; LambdaLift.this.global.Position">pos</a>
        <span class="keyword">case</span> <span title="LambdaLift.this.global.Tree">Return</span><span class="delimiter">(</span><a title="LambdaLift.this.global.Tree" id="898686">expr</a><span class="delimiter">)</span> =&gt;
          <a href="../../../Predef.scala.html#9566" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#898542" title="LambdaLift.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../ast/Trees.scala.html#560336" title="=&gt; LambdaLift.this.global.explicitOuter.global.Symbol">currentMethod</a>, <a href="#898542" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <a href="#898540" title="LambdaLift.this.global.Tree">tree</a>
        <span class="keyword">case</span> <span title="LambdaLift.this.global.explicitOuter.global.Apply">Apply</span><span class="delimiter">(</span><a title="LambdaLift.this.global.Tree" id="898695">fn</a>, <a title="List[LambdaLift.this.global.Tree]" id="898696">args</a><span class="delimiter">)</span> =&gt;
          <a href="../ast/Trees.scala.html#560331" title="=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560260" title="(tree: LambdaLift.this.global.explicitOuter.global.Tree, fun: LambdaLift.this.global.explicitOuter.global.Tree, args: List[LambdaLift.this.global.explicitOuter.global.Tree])LambdaLift.this.global.explicitOuter.global.Apply">Apply</a><span class="delimiter">(</span><a href="#898540" title="LambdaLift.this.global.Tree">tree</a>, <a href="#898695" title="LambdaLift.this.global.Tree">fn</a>, <a href="#897361" title="(pos: LambdaLift.this.global.Position, sym: LambdaLift.this.global.Symbol, args: List[LambdaLift.this.global.Tree])List[LambdaLift.this.global.Tree]">addFreeArgs</a><span class="delimiter">(</span><a href="#898540" title="LambdaLift.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; LambdaLift.this.global.Position">pos</a>, <a href="#898542" title="LambdaLift.this.global.Symbol">sym</a>, <a href="#898696" title="List[LambdaLift.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="LambdaLift.this.global.explicitOuter.global.Assign">Assign</span><span class="delimiter">(</span>Apply<span class="delimiter">(</span>TypeApply<span class="delimiter">(</span><a title="LambdaLift.this.global.Select" id="898706">sel</a> @ Select<span class="delimiter">(</span><a title="LambdaLift.this.global.Tree" id="898711">qual</a>, _<span class="delimiter">)</span>, _<span class="delimiter">)</span>, <a href="../../../collection/generic/GenSeqFactory.scala.html#48862" title="(x: List[LambdaLift.this.global.Tree])Some[List[LambdaLift.this.global.Tree]]">List</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a title="LambdaLift.this.global.Tree" id="898724">rhs</a><span class="delimiter">)</span> =&gt;
          <span class="comment">// eliminate casts introduced by selecting a captured variable field</span>
          <span class="comment">// on the lhs of an assignment.</span>
          <a href="../../../Predef.scala.html#9565" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#898706" title="LambdaLift.this.global.Select">sel</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; LambdaLift.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508264" title="=&gt; LambdaLift.this.global.Symbol">Object_asInstanceOf</a><span class="delimiter">)</span>
          <a href="../ast/Trees.scala.html#560331" title="=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560250" title="(tree: LambdaLift.this.global.explicitOuter.global.Tree, lhs: LambdaLift.this.global.explicitOuter.global.Tree, rhs: LambdaLift.this.global.explicitOuter.global.Tree)LambdaLift.this.global.explicitOuter.global.Assign">Assign</a><span class="delimiter">(</span><a href="#898540" title="LambdaLift.this.global.Tree">tree</a>, <a href="#898711" title="LambdaLift.this.global.Tree">qual</a>, <a href="#898724" title="LambdaLift.this.global.Tree">rhs</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="LambdaLift.this.global.Tree">Ident</span><span class="delimiter">(</span><a title="LambdaLift.this.global.Name" id="898738">name</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="LambdaLift.this.global.gen.global.Tree" id="898739">tree1</a> =
            <span title="LambdaLift.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#898542" title="LambdaLift.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object LambdaLift.this.global.NoSymbol">NoSymbol</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#898542" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435369" title="=&gt; Boolean">isTerm</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#898542" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435331" title="=&gt; Boolean">isLabel</a><span class="delimiter">)</span>
              <span title="LambdaLift.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#898542" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435384" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span>
                <a href="../ast/Trees.scala.html#479182" title="(pos: LambdaLift.this.global.Position)(tree: LambdaLift.this.global.Select)LambdaLift.this.global.Select">atPos</a><span class="delimiter">(</span><a href="#898540" title="LambdaLift.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; LambdaLift.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#897359" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Select">memberRef</a><span class="delimiter">(</span><a href="#898542" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">else</span> <span title="LambdaLift.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#898542" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509238" title="=&gt; Boolean">isLocal</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#897352" title="(sym: LambdaLift.this.global.Symbol)Boolean">isSameOwnerEnclosure</a><span class="delimiter">(</span><a href="#898542" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="../ast/Trees.scala.html#479182" title="(pos: LambdaLift.this.global.Position)(tree: LambdaLift.this.global.gen.global.Tree)LambdaLift.this.global.gen.global.Tree">atPos</a><span class="delimiter">(</span><a href="#898540" title="LambdaLift.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; LambdaLift.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#897360" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.gen.global.Tree">proxyRef</a><span class="delimiter">(</span><a href="#898542" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">else</span> <a href="#898540" title="LambdaLift.this.global.Tree">tree</a>
            <span class="keyword">else</span> <a href="#898540" title="LambdaLift.this.global.Tree">tree</a>
          <span title="LambdaLift.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#898542" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509170" title="=&gt; Boolean">isCapturedVariable</a><span class="delimiter">)</span>
            <a href="../ast/Trees.scala.html#479182" title="(pos: LambdaLift.this.global.Position)(tree: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#898540" title="LambdaLift.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; LambdaLift.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="LambdaLift.this.global.Type" id="898760">tp</a> = <a href="#898540" title="LambdaLift.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; LambdaLift.this.global.Type">tpe</a>
              <span class="keyword">val</span> <a title="LambdaLift.this.global.analyzer.global.Tree" id="898761">elemTree</a> = <a href="../Global.scala.html#478336" title="object LambdaLift.this.global.typer">typer</a> <a href="../typechecker/Typers.scala.html#507768" title="(tree: LambdaLift.this.global.analyzer.global.Tree)LambdaLift.this.global.analyzer.global.Tree">typed</a> <a href="../../../reflect/generic/Trees.scala.html#443970" title="(qualifier: LambdaLift.this.global.Tree, name: LambdaLift.this.global.Name)LambdaLift.this.global.Select">Select</a><span class="delimiter">(</span><a href="#898739" title="LambdaLift.this.global.gen.global.Tree">tree1</a> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: LambdaLift.this.global.gen.global.Type)tree1.type">setType</a> <a href="#898542" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; LambdaLift.this.global.Type">tpe</a>, <a href="../symtab/StdNames.scala.html#479055" title="object LambdaLift.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516614" title="=&gt; LambdaLift.this.global.nme.NameType">elem</a><span class="delimiter">)</span>
              <span title="LambdaLift.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#898761" title="LambdaLift.this.global.analyzer.global.Tree">elemTree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; LambdaLift.this.global.analyzer.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; LambdaLift.this.global.analyzer.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#898760" title="LambdaLift.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; LambdaLift.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <a href="../Global.scala.html#478214" title="object LambdaLift.this.global.gen">gen</a>.<a href="../Global.scala.html#507323" title="(tree: LambdaLift.this.global.Tree, pt: LambdaLift.this.global.Type)LambdaLift.this.global.Tree">mkAttributedCast</a><span class="delimiter">(</span><a href="#898761" title="LambdaLift.this.global.analyzer.global.Tree">elemTree</a>, <a href="#898760" title="LambdaLift.this.global.Type">tp</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#898761" title="LambdaLift.this.global.analyzer.global.Tree">elemTree</a>
            <span class="delimiter">}</span>
          <span class="keyword">else</span> <a href="#898739" title="LambdaLift.this.global.gen.global.Tree">tree1</a>
        <span class="keyword">case</span> <span title="LambdaLift.this.global.explicitOuter.global.Block">Block</span><span class="delimiter">(</span><a title="List[LambdaLift.this.global.Tree]" id="898804">stats</a>, <a title="LambdaLift.this.global.Tree" id="898805">expr0</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a href="../../../Tuple2.scala.html#53390" title="(List[LambdaLift.this.global.Tree], List[LambdaLift.this.global.Tree])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#53402" title="List[LambdaLift.this.global.Tree]" id="898807">lzyVals</a>, <a href="../../../Tuple2.scala.html#53404" title="List[LambdaLift.this.global.Tree]" id="898808">rest</a><span class="delimiter">)</span> = <a href="#898804" title="List[LambdaLift.this.global.Tree]">stats</a>.<a href="../../../collection/TraversableLike.scala.html#49058" title="(p: LambdaLift.this.global.Tree =&gt; Boolean)(List[LambdaLift.this.global.Tree], List[LambdaLift.this.global.Tree])">partition</a> <a href="#898812" title="Boolean" class="delimiter">{</a>
                      <span class="keyword">case</span> <a title="Boolean(true)" id="898813">stat</a>@ValDef<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#898813" title="LambdaLift.this.global.ValDef">stat</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; LambdaLift.this.global.Symbol">symbol</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435299" title="=&gt; Boolean">isLazy</a> =&gt; <span title="Boolean(true)" class="keyword">true</span>
                      <span class="keyword">case</span> <a title="Boolean(true)" id="898820">stat</a>@ValDef<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#898820" title="LambdaLift.this.global.ValDef">stat</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; LambdaLift.this.global.Symbol">symbol</a>.<a href="../../../reflect/generic/Symbols.scala.html#435349" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span><span title="Long(1073741824L)">MODULEVAR</span><span class="delimiter">)</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>
                      <span class="keyword">case</span> <span title="Boolean(false)">_</span>                                             =&gt; <span title="Boolean(false)" class="keyword">false</span>
                  <span class="delimiter">}</span>
          <a href="../ast/Trees.scala.html#560331" title="=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560242" title="(tree: LambdaLift.this.global.explicitOuter.global.Tree, stats: List[LambdaLift.this.global.explicitOuter.global.Tree], expr: LambdaLift.this.global.explicitOuter.global.Tree)LambdaLift.this.global.explicitOuter.global.Block">Block</a><span class="delimiter">(</span><a href="#898540" title="LambdaLift.this.global.Tree">tree</a>, <a href="#898807" title="List[LambdaLift.this.global.Tree]">lzyVals</a><a href="../../../collection/immutable/List.scala.html#49143" title="(prefix: List[LambdaLift.this.global.Tree])List[LambdaLift.this.global.Tree]">:::</a><a href="#898808" title="List[LambdaLift.this.global.Tree]">rest</a>, <a href="#898805" title="LambdaLift.this.global.Tree">expr0</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="LambdaLift.this.global.Tree">_</span> =&gt;
          <a href="#898540" title="LambdaLift.this.global.Tree">tree</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree" id="897365">transform</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Tree" id="898849">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="LambdaLift.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="LambdaLift.this.global.Tree">Tree</a> =
      <a href="#897364" title="(tree: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree">postTransform</a><span class="delimiter">(</span><a href="#513224" title="LambdaLift.this.LambdaLifter" class="keyword">super</a>.<a href="ExplicitOuter.scala.html#895054" title="(tree: LambdaLift.this.global.explicitOuter.global.Tree)LambdaLift.this.global.explicitOuter.global.Tree">transform</a><span class="delimiter">(</span><a href="#898849" title="LambdaLift.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: LambdaLift.this.global.explicitOuter.global.Type)LambdaLift.this.global.explicitOuter.global.Tree">setType</a> <a href="../../../Function1.scala.html#53453" title="(v1: LambdaLift.this.global.Type)LambdaLift.this.global.Type">lifted</a><span class="delimiter">(</span><a href="#898849" title="LambdaLift.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; LambdaLift.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="comment">/** Transform statements and add lifted definitions to them. */</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(stats: List[LambdaLift.this.global.Tree], exprOwner: LambdaLift.this.global.Symbol)List[LambdaLift.this.global.Tree]" id="897366">transformStats</a><span class="delimiter">(</span><a title="List[LambdaLift.this.global.Tree]" id="898863">stats</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[LambdaLift.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="LambdaLift.this.global.Symbol" id="898864">exprOwner</a>: <a href="../symtab/Symbols.scala.html#478659" title="LambdaLift.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[LambdaLift.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(stat: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree" id="898868">addLifted</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Tree" id="898869">stat</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="LambdaLift.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="LambdaLift.this.global.Tree">Tree</a> = <a href="#898869" title="LambdaLift.this.global.Tree">stat</a> <span title="LambdaLift.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="LambdaLift.this.global.explicitOuter.global.ClassDef">ClassDef</span><span class="delimiter">(</span><a title="LambdaLift.this.global.Modifiers" id="898876">mods</a>, <a title="LambdaLift.this.global.TypeName" id="898877">name</a>, <a title="List[LambdaLift.this.global.TypeDef]" id="898878">tparams</a>, <a title="LambdaLift.this.global.Template" id="898879">impl</a> @ Template<span class="delimiter">(</span><a title="List[LambdaLift.this.global.Tree]" id="898885">parents</a>, <a title="LambdaLift.this.global.ValDef" id="898886">self</a>, <a title="List[LambdaLift.this.global.Tree]" id="898887">body</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="List[LambdaLift.this.global.Tree]" id="898888">lifted</a> = <a href="#897347" title="=&gt; scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Tree]]">liftedDefs</a> <a href="../../../collection/mutable/LinkedHashMap.scala.html#287676" title="(key: LambdaLift.this.global.Symbol)Option[List[LambdaLift.this.global.Tree]]">get</a> <a href="#898869" title="LambdaLift.this.global.Tree">stat</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; LambdaLift.this.global.Symbol">symbol</a> <span title="List[LambdaLift.this.global.Tree]" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="List[LambdaLift.this.global.Tree]">Some</span><span class="delimiter">(</span><a title="List[LambdaLift.this.global.Tree]" id="898894">xs</a><span class="delimiter">)</span> =&gt; <a href="#898894" title="List[LambdaLift.this.global.Tree]">xs</a> <a href="../../../collection/SeqLike.scala.html#54070" title="(f: LambdaLift.this.global.Tree =&gt; LambdaLift.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[LambdaLift.this.global.Tree],LambdaLift.this.global.Tree,List[LambdaLift.this.global.Tree]])List[LambdaLift.this.global.Tree]">reverseMap</a> <a href="#898868" title="(stat: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree">addLifted</a>
            <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">_</span>        =&gt; <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;unexpectedly no lifted defs for &quot;)" class="string">&quot;unexpectedly no lifted defs for &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#898869" title="LambdaLift.this.global.Tree">stat</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; LambdaLift.this.global.Symbol">symbol</a><span class="delimiter">)</span> ; <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="LambdaLift.this.global.explicitOuter.global.ClassDef" id="898889">result</a> = <a href="../ast/Trees.scala.html#560331" title="=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560232" title="(tree: LambdaLift.this.global.explicitOuter.global.Tree, mods: LambdaLift.this.global.explicitOuter.global.Modifiers, name: LambdaLift.this.global.explicitOuter.global.Name, tparams: List[LambdaLift.this.global.explicitOuter.global.TypeDef], impl: LambdaLift.this.global.explicitOuter.global.Template)LambdaLift.this.global.explicitOuter.global.ClassDef">ClassDef</a><span class="delimiter">(</span>
            <a href="#898869" title="LambdaLift.this.global.Tree">stat</a>, <a href="#898876" title="LambdaLift.this.global.Modifiers">mods</a>, <a href="#898877" title="LambdaLift.this.global.TypeName">name</a>, <a href="#898878" title="List[LambdaLift.this.global.TypeDef]">tparams</a>, <a href="../ast/Trees.scala.html#560331" title="=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560241" title="(tree: LambdaLift.this.global.explicitOuter.global.Tree, parents: List[LambdaLift.this.global.explicitOuter.global.Tree], self: LambdaLift.this.global.explicitOuter.global.ValDef, body: List[LambdaLift.this.global.explicitOuter.global.Tree])LambdaLift.this.global.explicitOuter.global.Template">Template</a><span class="delimiter">(</span><a href="#898879" title="LambdaLift.this.global.Template">impl</a>, <a href="#898885" title="List[LambdaLift.this.global.Tree]">parents</a>, <a href="#898886" title="LambdaLift.this.global.ValDef">self</a>, <a href="#898887" title="List[LambdaLift.this.global.Tree]">body</a> <a href="../../../collection/immutable/List.scala.html#49143" title="(prefix: List[LambdaLift.this.global.Tree])List[LambdaLift.this.global.Tree]">:::</a> <a href="#898888" title="List[LambdaLift.this.global.Tree]">lifted</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#897347" title="=&gt; scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Tree]]">liftedDefs</a> <a href="../../../collection/mutable/LinkedHashMap.scala.html#287681" title="(key: LambdaLift.this.global.Symbol)LambdaLifter.this.liftedDefs.type">-=</a> <a href="#898869" title="LambdaLift.this.global.Tree">stat</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; LambdaLift.this.global.Symbol">symbol</a>
          <a href="#898889" title="LambdaLift.this.global.explicitOuter.global.ClassDef">result</a>
        <span class="keyword">case</span> <span title="LambdaLift.this.global.explicitOuter.global.DefDef">DefDef</span><span class="delimiter">(</span><a title="LambdaLift.this.global.Modifiers" id="898959">mods</a>, <a title="LambdaLift.this.global.TermName" id="898960">name</a>, <a title="List[LambdaLift.this.global.TypeDef]" id="898961">tp</a>, <a title="List[List[LambdaLift.this.global.ValDef]]" id="898962">vp</a>, <a title="LambdaLift.this.global.Tree" id="898963">tpt</a>, Block<span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>, <a title="LambdaLift.this.global.Tree" id="898968">expr</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#898869" title="LambdaLift.this.global.Tree">stat</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; LambdaLift.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509180" title="=&gt; Boolean">isConstructor</a> =&gt;
          <a href="../ast/Trees.scala.html#560331" title="=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560236" title="(tree: LambdaLift.this.global.explicitOuter.global.Tree, mods: LambdaLift.this.global.explicitOuter.global.Modifiers, name: LambdaLift.this.global.explicitOuter.global.Name, tparams: List[LambdaLift.this.global.explicitOuter.global.TypeDef], vparamss: List[List[LambdaLift.this.global.explicitOuter.global.ValDef]], tpt: LambdaLift.this.global.explicitOuter.global.Tree, rhs: LambdaLift.this.global.explicitOuter.global.Tree)LambdaLift.this.global.explicitOuter.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#898869" title="LambdaLift.this.global.Tree">stat</a>, <a href="#898959" title="LambdaLift.this.global.Modifiers">mods</a>, <a href="#898960" title="LambdaLift.this.global.TermName">name</a>, <a href="#898961" title="List[LambdaLift.this.global.TypeDef]">tp</a>, <a href="#898962" title="List[List[LambdaLift.this.global.ValDef]]">vp</a>, <a href="#898963" title="LambdaLift.this.global.Tree">tpt</a>, <a href="#898968" title="LambdaLift.this.global.Tree">expr</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="LambdaLift.this.global.Tree">_</span> =&gt;
          <a href="#898869" title="LambdaLift.this.global.Tree">stat</a>
      <span class="delimiter">}</span>
      <a href="#513224" title="LambdaLift.this.LambdaLifter" class="keyword">super</a>.<a href="../ast/Trees.scala.html#560348" title="(stats: List[LambdaLift.this.global.explicitOuter.global.Tree], exprOwner: LambdaLift.this.global.explicitOuter.global.Symbol)List[LambdaLift.this.global.explicitOuter.global.Tree]">transformStats</a><span class="delimiter">(</span><a href="#898863" title="List[LambdaLift.this.global.Tree]">stats</a>, <a href="#898864" title="LambdaLift.this.global.Symbol">exprOwner</a><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: LambdaLift.this.global.explicitOuter.global.Tree =&gt; LambdaLift.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[LambdaLift.this.global.explicitOuter.global.Tree],LambdaLift.this.global.Tree,List[LambdaLift.this.global.Tree]])List[LambdaLift.this.global.Tree]">map</a> <a href="#898868" title="(stat: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree">addLifted</a>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(unit: LambdaLift.this.global.CompilationUnit)Unit" id="897367">transformUnit</a><span class="delimiter">(</span><a title="LambdaLift.this.global.CompilationUnit" id="899023">unit</a>: <a href="../CompilationUnits.scala.html#479284" title="LambdaLift.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#897357" title="()Unit">computeFreeVars</a>
      <a href="../symtab/SymbolTable.scala.html#478184" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Unit)Unit">atPhase</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505144" title="=&gt; scala.tools.nsc.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#513224" title="LambdaLift.this.LambdaLifter" class="keyword">super</a>.<a href="../ast/Trees.scala.html#560349" title="(unit: LambdaLift.this.global.explicitOuter.global.CompilationUnit)Unit">transformUnit</a><span class="delimiter">(</span><a href="#899023" title="LambdaLift.this.global.CompilationUnit">unit</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="../../../Predef.scala.html#9566" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#897347" title="=&gt; scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Tree]]">liftedDefs</a>.<a href="../../../collection/MapLike.scala.html#73200" title="=&gt; Boolean">isEmpty</a>, <a href="#897347" title="=&gt; scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Tree]]">liftedDefs</a>.<a href="../../../collection/MapLike.scala.html#73210" title="=&gt; Iterable[LambdaLift.this.global.Symbol]">keys</a> <a href="../../../collection/TraversableOnce.scala.html#53709" title="(sep: String)String">mkString</a> <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span> <span class="comment">// class LambdaLifter</span>

<span class="delimiter">}</span>

        </pre>
    </body>
</html>