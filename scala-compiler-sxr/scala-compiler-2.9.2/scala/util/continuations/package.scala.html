<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/util/continuations/package.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">// $Id$</span>


<span class="comment">// TODO: scaladoc</span>

<span class="keyword">package</span> scala.util

<span class="keyword">package</span> <span class="keyword">object</span> <a title="object scala.util.continuations.package" id="44273">continuations</a> <a href="../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">{</a>

  <span class="keyword">type</span> <a title="[A]scala.util.continuations.cpsParam[A,A]" id="48315">cps</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="48316">A</a><span class="delimiter">]</span> = <a href="ControlContext.scala.html#44308" title="scala.util.continuations.cpsParam[A,A]">cpsParam</a><span class="delimiter">[</span>A,A<span class="delimiter">]</span>

  <span class="keyword">type</span> <a title="scala.util.continuations.package.cps[Unit]" id="48317">suspendable</a> = <a href="ControlContext.scala.html#44308" title="scala.util.continuations.package.cps[Unit]">cps</a><span class="delimiter">[</span>Unit<span class="delimiter">]</span>


  <span class="keyword">def</span> <a title="[A, B, C](fun: (A =&gt; B) =&gt; C)A @scala.util.continuations.cpsParam[B,C]" id="48318">shift</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="48322">A</a>,<a title="&gt;: Nothing &lt;: Any" id="48323">B</a>,<a title="&gt;: Nothing &lt;: Any" id="48324">C</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(A =&gt; B) =&gt; C" id="1018572">fun</a>: <span class="delimiter">(</span>A =&gt; B<span class="delimiter">)</span> =&gt; C<span class="delimiter">)</span>: A @<a href="#48322" title="A @scala.util.continuations.cpsParam[B,C]">cpsParam</a><span class="delimiter">[</span>B,C<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String)java.lang.NoSuchMethodException" class="keyword">new</span> <span title="java.lang.NoSuchMethodException">NoSuchMethodException</span><span class="delimiter">(</span><span title="java.lang.String(&quot;this code has to be compiled with the Scala continuations plugin enabled&quot;)" class="string">&quot;this code has to be compiled with the Scala continuations plugin enabled&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[A, C](ctx: =&gt; A @scala.util.continuations.cpsParam[A,C])C" id="48325">reset</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="48328">A</a>,<a title="&gt;: Nothing &lt;: Any" id="48329">C</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; A @scala.util.continuations.cpsParam[A,C]" id="1018577">ctx</a>: =&gt;<span class="delimiter">(</span>A @cpsParam<span class="delimiter">[</span>A,C<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>: <a href="#48329" title="C">C</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.util.continuations.ControlContext[A,A,C]" id="1018580">ctxR</a> = <a href="#48348" title="[A, B, C](ctx: =&gt; A @scala.util.continuations.cpsParam[B,C])scala.util.continuations.ControlContext[A,B,C]">reify</a><span title="(ctx: =&gt; A @scala.util.continuations.cpsParam[A,C])scala.util.continuations.ControlContext[A,A,C]" class="delimiter">[</span><a href="#48328" title="A">A</a>,<a href="#48328" title="A">A</a>,<a href="#48329" title="C">C</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#1018577" title="=&gt; A @scala.util.continuations.cpsParam[A,C]">ctx</a><span class="delimiter">)</span>
    <span title="C" class="keyword">if</span> <span class="delimiter">(</span><a href="#1018580" title="scala.util.continuations.ControlContext[A,A,C]">ctxR</a>.<a href="ControlContext.scala.html#1018397" title="=&gt; Boolean">isTrivial</a><span class="delimiter">)</span>
      <a href="#1018580" title="scala.util.continuations.ControlContext[A,A,C]">ctxR</a>.<a href="ControlContext.scala.html#1018398" title="=&gt; A">getTrivialValue</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="C" class="delimiter">[</span><a href="#48329" title="C">C</a><span class="delimiter">]</span>
    <span class="keyword">else</span>
      <a href="#1018580" title="scala.util.continuations.ControlContext[A,A,C]">ctxR</a>.<a href="ControlContext.scala.html#1018395" title="(f: A =&gt; A)C">foreach</a><span class="delimiter">(</span><span class="delimiter">(</span>x:<a href="#48328" title="A">A</a><span class="delimiter">)</span> =&gt; <a href="#1018587" title="A">x</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[A](ctx: =&gt; A @scala.util.continuations.cpsParam[A,A])A" id="48330">reset0</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="48332">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; A @scala.util.continuations.cpsParam[A,A]" id="1018588">ctx</a>: =&gt;<span class="delimiter">(</span>A @cpsParam<span class="delimiter">[</span>A,A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>: <a href="#48332" title="A">A</a> = <a href="#48325" title="(ctx: =&gt; A @scala.util.continuations.cpsParam[A,Nothing])Nothing">reset</a><span class="delimiter">(</span><a href="#1018588" title="=&gt; A @scala.util.continuations.cpsParam[A,A]">ctx</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="[A](ctx: =&gt; Any @scala.util.continuations.cpsParam[Unit,A])A" id="48333">run</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="48335">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; Any @scala.util.continuations.cpsParam[Unit,A]" id="1018595">ctx</a>: =&gt;<span class="delimiter">(</span>Any @cpsParam<span class="delimiter">[</span>Unit,A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>: <a href="#48335" title="A">A</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.util.continuations.ControlContext[Any,Unit,A]" id="1018598">ctxR</a> = <a href="#48348" title="[A, B, C](ctx: =&gt; A @scala.util.continuations.cpsParam[B,C])scala.util.continuations.ControlContext[A,B,C]">reify</a><span title="(ctx: =&gt; Any @scala.util.continuations.cpsParam[Unit,A])scala.util.continuations.ControlContext[Any,Unit,A]" class="delimiter">[</span><span title="Any">Any</span>,<a href="../../Unit.scala.html#461" title="Unit">Unit</a>,<a href="#48335" title="A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#1018595" title="=&gt; Any @scala.util.continuations.cpsParam[Unit,A]">ctx</a><span class="delimiter">)</span>
    <span title="A" class="keyword">if</span> <span class="delimiter">(</span><a href="#1018598" title="scala.util.continuations.ControlContext[Any,Unit,A]">ctxR</a>.<a href="ControlContext.scala.html#1018397" title="=&gt; Boolean">isTrivial</a><span class="delimiter">)</span>
      <a href="#1018598" title="scala.util.continuations.ControlContext[Any,Unit,A]">ctxR</a>.<a href="ControlContext.scala.html#1018398" title="=&gt; Any">getTrivialValue</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="A" class="delimiter">[</span><a href="#48335" title="A">A</a><span class="delimiter">]</span>
    <span class="keyword">else</span>
      <a href="#1018598" title="scala.util.continuations.ControlContext[Any,Unit,A]">ctxR</a>.<a href="ControlContext.scala.html#1018395" title="(f: Any =&gt; Unit)A">foreach</a><span class="delimiter">(</span><span class="delimiter">(</span>x:<span title="Any">Any</span><span class="delimiter">)</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>


  <span class="comment">// methods below are primarily implementation details and are not</span>
  <span class="comment">// needed frequently in client code</span>

  <span class="keyword">def</span> <a title="[A, B](x: A)A @scala.util.continuations.cpsParam[B,B]" id="48336">shiftUnit0</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="48339">A</a>,<a title="&gt;: Nothing &lt;: Any" id="48340">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="1018603">x</a>: <a href="#48339" title="A">A</a><span class="delimiter">)</span>: A @<a href="#48339" title="A @scala.util.continuations.cpsParam[B,B]">cpsParam</a><span class="delimiter">[</span>B,B<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#48341" title="[A, B, C &gt;: B](x: A)A @scala.util.continuations.cpsParam[B,C]">shiftUnit</a><span title="(x: A)A @scala.util.continuations.cpsParam[B,B]" class="delimiter">[</span><a href="#48339" title="A">A</a>,<a href="#48340" title="B">B</a>,<a href="#48340" title="B">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#1018603" title="A">x</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[A, B, C &gt;: B](x: A)A @scala.util.continuations.cpsParam[B,C]" id="48341">shiftUnit</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="48345">A</a>,<a title="&gt;: Nothing &lt;: Any" id="48346">B</a>,<a title="&gt;: B &lt;: Any" id="48347">C</a>&gt;:B<span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="1018606">x</a>: <a href="#48345" title="A">A</a><span class="delimiter">)</span>: A @<a href="#48345" title="A @scala.util.continuations.cpsParam[B,C]">cpsParam</a><span class="delimiter">[</span>B,C<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String)java.lang.NoSuchMethodException" class="keyword">new</span> <span title="java.lang.NoSuchMethodException">NoSuchMethodException</span><span class="delimiter">(</span><span title="java.lang.String(&quot;this code has to be compiled with the Scala continuations plugin enabled&quot;)" class="string">&quot;this code has to be compiled with the Scala continuations plugin enabled&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[A, B, C](ctx: =&gt; A @scala.util.continuations.cpsParam[B,C])scala.util.continuations.ControlContext[A,B,C]" id="48348">reify</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="48352">A</a>,<a title="&gt;: Nothing &lt;: Any" id="48353">B</a>,<a title="&gt;: Nothing &lt;: Any" id="48354">C</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; A @scala.util.continuations.cpsParam[B,C]" id="1018581">ctx</a>: =&gt;<span class="delimiter">(</span>A @cpsParam<span class="delimiter">[</span>B,C<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>: <a href="ControlContext.scala.html#44284" title="scala.util.continuations.ControlContext[A,B,C]">ControlContext</a><span class="delimiter">[</span>A,B,C<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String)java.lang.NoSuchMethodException" class="keyword">new</span> <span title="java.lang.NoSuchMethodException">NoSuchMethodException</span><span class="delimiter">(</span><span title="java.lang.String(&quot;this code has to be compiled with the Scala continuations plugin enabled&quot;)" class="string">&quot;this code has to be compiled with the Scala continuations plugin enabled&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[A, B](x: A)scala.util.continuations.ControlContext[A,B,B]" id="48355">shiftUnitR</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="48358">A</a>,<a title="&gt;: Nothing &lt;: Any" id="48359">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="1018614">x</a>: <a href="#48358" title="A">A</a><span class="delimiter">)</span>: <a href="ControlContext.scala.html#44284" title="scala.util.continuations.ControlContext[A,B,B]">ControlContext</a><span class="delimiter">[</span>A,B,B<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span title="scala.util.continuations.ControlContext[A,Any,Nothing]" class="keyword">new</span> <a href="ControlContext.scala.html#44284" title="scala.util.continuations.ControlContext[A,Any,Nothing]">ControlContext</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span>, <a href="#1018614" title="A">x</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[A, B, C](fun: (A =&gt; B) =&gt; C)scala.util.continuations.ControlContext[A,B,C]" id="48360">shiftR</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="48364">A</a>,<a title="&gt;: Nothing &lt;: Any" id="48365">B</a>,<a title="&gt;: Nothing &lt;: Any" id="48366">C</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(A =&gt; B) =&gt; C" id="1018624">fun</a>: <span class="delimiter">(</span>A =&gt; B<span class="delimiter">)</span> =&gt; C<span class="delimiter">)</span>: <a href="ControlContext.scala.html#44284" title="scala.util.continuations.ControlContext[A,B,C]">ControlContext</a><span class="delimiter">[</span>A,B,C<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span title="scala.util.continuations.ControlContext[A,B,C]" class="keyword">new</span> <a href="ControlContext.scala.html#44284" title="scala.util.continuations.ControlContext[A,B,C]">ControlContext</a><span class="delimiter">(</span><span class="delimiter">(</span>f:A=&gt;B,g:Exception=&gt;B<span class="delimiter">)</span> =&gt; <a href="../../Function1.scala.html#53453" title="(v1: A =&gt; B)C">fun</a><span class="delimiter">(</span><a href="#1018633" title="A =&gt; B">f</a><span class="delimiter">)</span>, <span title="Null(null)" class="keyword">null</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="A" class="delimiter">[</span><a href="#48364" title="A">A</a><span class="delimiter">]</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[A, B, C](ctx: =&gt; scala.util.continuations.ControlContext[A,B,C])scala.util.continuations.ControlContext[A,B,C]" id="48367">reifyR</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="48371">A</a>,<a title="&gt;: Nothing &lt;: Any" id="48372">B</a>,<a title="&gt;: Nothing &lt;: Any" id="48373">C</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; scala.util.continuations.ControlContext[A,B,C]" id="1018638">ctx</a>: =&gt; ControlContext<span class="delimiter">[</span>A,B,C<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="ControlContext.scala.html#44284" title="scala.util.continuations.ControlContext[A,B,C]">ControlContext</a><span class="delimiter">[</span>A,B,C<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#1018638" title="=&gt; scala.util.continuations.ControlContext[A,B,C]">ctx</a>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

        </pre>
    </body>
</html>