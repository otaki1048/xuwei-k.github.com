<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/util/Sorting.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*                     __                                               *\
**     ________ ___   / /  ___     Scala API                            **
**    / __/ __// _ | / /  / _ |    (c) 2006-2009, Ross Judson           **
**  __\ \/ /__/ __ |/ /__/ __ |    http://scala-lang.org/               **
** /____/\___/_/ |_/____/_/ | |                                         **
**                          |/                                          **
\*                                                                      */</span>

<span class="keyword">package</span> scala.util

<span class="keyword">import</span> scala.reflect.ClassManifest
<span class="keyword">import</span> scala.math.Ordering

<span class="comment">/** The Sorting object provides functions that can sort various kinds of
  * objects. You can provide a comparison function, or you can request a sort
  * of items that are viewable as &lt;code&gt;Ordered&lt;/code&gt;. Some sorts that
  * operate directly on a subset of value types are also provided. These
  * implementations are derived from those in the Sun JDK.
  *
  * Note that stability doesn't matter for value types, so use the quickSort
  * variants for those. &lt;code&gt;stableSort&lt;/code&gt; is intended to be used with
  * objects when the prior ordering should be preserved, where possible.
  *
  * @author  Ross Judson
  * @version 1.0
  */</span>
<span class="keyword">object</span> <a title="object scala.util.Sorting" id="43943">Sorting</a> <a href="../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">{</a>
  <span class="comment">/** Quickly sort an array of Doubles. */</span>
  <span class="keyword">def</span> <a title="(a: Array[Double])Unit" id="993780">quickSort</a><span class="delimiter">(</span><a title="Array[Double]" id="1009438">a</a>: <a href="../Array.scala.html#1430" title="Array[Double]">Array</a><span class="delimiter">[</span>Double<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#993807" title="(x: Array[Double], off: Int, len: Int)Unit">sort1</a><span class="delimiter">(</span><a href="#1009438" title="Array[Double]">a</a>, <span title="Int(0)" class="int">0</span>, <a href="#1009438" title="Array[Double]">a</a>.<a href="../Array.scala.html#49204" title="=&gt; Int">length</a><span class="delimiter">)</span> <span class="delimiter">}</span>

  <span class="comment">/** Quickly sort an array of items with an implicit Ordering. */</span>
  <span class="keyword">def</span> <a title="[K](a: Array[K])(implicit evidence$1: scala.math.Ordering[K])Unit" id="1009496">quickSort</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="993783">K</a>: Ordering<span class="delimiter">]</span><span class="delimiter">(</span><a title="Array[K]" id="1009495">a</a>: <a href="../Array.scala.html#1430" title="Array[K]">Array</a><span class="delimiter">[</span>K<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#1009459" title="(x: Array[K], off: Int, len: Int)(implicit evidence$10: scala.math.Ordering[K])Unit">sort1</a><a href="#1009496" title="scala.math.Ordering[K]" class="delimiter">(</a><a href="#1009495" title="Array[K]">a</a>, <span title="Int(0)" class="int">0</span>, <a href="#1009495" title="Array[K]">a</a>.<a href="../Array.scala.html#49204" title="=&gt; Int">length</a><span class="delimiter">)</span> <span class="delimiter">}</span>

  <span class="comment">/** Quickly sort an array of Ints. */</span>
  <span class="keyword">def</span> <a title="(a: Array[Int])Unit" id="993784">quickSort</a><span class="delimiter">(</span><a title="Array[Int]" id="1009532">a</a>: <a href="../Array.scala.html#1430" title="Array[Int]">Array</a><span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#993806" title="(x: Array[Int], off: Int, len: Int)Unit">sort1</a><span class="delimiter">(</span><a href="#1009532" title="Array[Int]">a</a>, <span title="Int(0)" class="int">0</span>, <a href="#1009532" title="Array[Int]">a</a>.<a href="../Array.scala.html#49204" title="=&gt; Int">length</a><span class="delimiter">)</span> <span class="delimiter">}</span>

  <span class="comment">/** Quickly sort an array of Floats. */</span>
  <span class="keyword">def</span> <a title="(a: Array[Float])Unit" id="993785">quickSort</a><span class="delimiter">(</span><a title="Array[Float]" id="1009568">a</a>: <a href="../Array.scala.html#1430" title="Array[Float]">Array</a><span class="delimiter">[</span>Float<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#993808" title="(x: Array[Float], off: Int, len: Int)Unit">sort1</a><span class="delimiter">(</span><a href="#1009568" title="Array[Float]">a</a>, <span title="Int(0)" class="int">0</span>, <a href="#1009568" title="Array[Float]">a</a>.<a href="../Array.scala.html#49204" title="=&gt; Int">length</a><span class="delimiter">)</span> <span class="delimiter">}</span>

  <span class="comment">/** Sort an array of K where K is Ordered, preserving the existing order
    * where the values are equal. */</span>
  <span class="keyword">def</span> <a title="[K](a: Array[K])(implicit evidence$2: scala.reflect.ClassManifest[K], implicit evidence$3: scala.math.Ordering[K])Unit" id="993873">stableSort</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="993788">K</a>: ClassManifest: Ordering<span class="delimiter">]</span><span class="delimiter">(</span><a title="Array[K]" id="993871">a</a>: <a href="../Array.scala.html#1430" title="Array[K]">Array</a><span class="delimiter">[</span>K<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#1009613" title="(a: Array[K], lo: Int, hi: Int, scratch: Array[K], f: (K, K) =&gt; Boolean)(implicit evidence$11: scala.reflect.ClassManifest[K])Unit">stableSort</a><a href="#993873" title="scala.reflect.ClassManifest[K]" class="delimiter">(</a><a href="#993871" title="Array[K]">a</a>, <span title="Int(0)" class="int">0</span>, <a href="#993871" title="Array[K]">a</a>.<a href="../Array.scala.html#49204" title="=&gt; Int">length</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span>, <a href="../reflect/ClassManifest.scala.html#57016" title="(len: Int)Array[K]" class="keyword">new</a> Array<span class="delimiter">[</span>K<span class="delimiter">]</span><span class="delimiter">(</span><a href="#993871" title="Array[K]">a</a>.<a href="../Array.scala.html#49204" title="=&gt; Int">length</a><span class="delimiter">)</span>, <a href="../math/Ordering.scala.html#66750" title="[T](implicit ord: scala.math.Ordering[T])scala.math.Ordering[T]">Ordering</a><a href="#993873" title="(implicit ord: scala.math.Ordering[K])scala.math.Ordering[K]" class="delimiter">[</a><a href="#993788" title="K">K</a><span class="delimiter">]</span>.<a href="../math/Ordering.scala.html#66661" title="(x: K, y: K)Boolean">lt</a> _<span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Sorts an array of &lt;code&gt;K&lt;/code&gt; given an ordering function
   *  &lt;code&gt;f&lt;/code&gt;. &lt;code&gt;f&lt;/code&gt; should return &lt;code&gt;true&lt;/code&gt; iff
   *  its first parameter is strictly less than its second parameter.
   */</span>
  <span class="keyword">def</span> <a title="[K](a: Array[K], f: (K, K) =&gt; Boolean)(implicit evidence$4: scala.reflect.ClassManifest[K])Unit" id="993860">stableSort</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="993791">K</a>: ClassManifest<span class="delimiter">]</span><span class="delimiter">(</span><a title="Array[K]" id="993858">a</a>: <a href="../Array.scala.html#1430" title="Array[K]">Array</a><span class="delimiter">[</span>K<span class="delimiter">]</span>, <a title="(K, K) =&gt; Boolean" id="993859">f</a>: <span class="delimiter">(</span>K, K<span class="delimiter">)</span> =&gt; Boolean<span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#1009613" title="(a: Array[K], lo: Int, hi: Int, scratch: Array[K], f: (K, K) =&gt; Boolean)(implicit evidence$11: scala.reflect.ClassManifest[K])Unit">stableSort</a><a href="#993860" title="scala.reflect.ClassManifest[K]" class="delimiter">(</a><a href="#993858" title="Array[K]">a</a>, <span title="Int(0)" class="int">0</span>, <a href="#993858" title="Array[K]">a</a>.<a href="../Array.scala.html#49204" title="=&gt; Int">length</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span>, <a href="../reflect/ClassManifest.scala.html#57016" title="(len: Int)Array[K]" class="keyword">new</a> Array<span class="delimiter">[</span>K<span class="delimiter">]</span><span class="delimiter">(</span><a href="#993858" title="Array[K]">a</a>.<a href="../Array.scala.html#49204" title="=&gt; Int">length</a><span class="delimiter">)</span>, <a href="#993859" title="(K, K) =&gt; Boolean">f</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Sorts an arbitrary sequence into an array, given a comparison function
   *  that should return &lt;code&gt;true&lt;/code&gt; iff parameter one is strictly less
   *  than parameter two.
   *
   *  @param  a the sequence to be sorted.
   *  @param  f the comparison function.
   *  @return the sorted sequence of items.
   */</span>
  <span class="keyword">def</span> <a title="[K](a: Seq[K], f: (K, K) =&gt; Boolean)(implicit evidence$5: scala.reflect.ClassManifest[K])Array[K]" id="993846">stableSort</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="993794">K</a>: ClassManifest<span class="delimiter">]</span><span class="delimiter">(</span><a title="Seq[K]" id="993844">a</a>: <a href="../collection/Seq.scala.html#8648" title="Seq[K]">Seq</a><span class="delimiter">[</span>K<span class="delimiter">]</span>, <a title="(K, K) =&gt; Boolean" id="993845">f</a>: <span class="delimiter">(</span>K, K<span class="delimiter">)</span> =&gt; Boolean<span class="delimiter">)</span>: <a href="../Array.scala.html#1430" title="Array[K]">Array</a><span class="delimiter">[</span>K<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Array[K]" id="1009753">ret</a> = <a href="#993844" title="Seq[K]">a</a>.<a href="../collection/TraversableOnce.scala.html#53687" title="(implicit evidence$1: ClassManifest[K])Array[K]">toArray</a>
    <a href="#993860" title="(a: Array[K], f: (K, K) =&gt; Boolean)(implicit evidence$4: scala.reflect.ClassManifest[K])Unit">stableSort</a><a href="#993846" title="scala.reflect.ClassManifest[K]" class="delimiter">(</a><a href="#1009753" title="Array[K]">ret</a>, <a href="#993845" title="(K, K) =&gt; Boolean">f</a><span class="delimiter">)</span>
    <a href="#1009753" title="Array[K]">ret</a>
  <span class="delimiter">}</span>

  <span class="comment">/** Sorts an arbitrary sequence of items that are viewable as ordered. */</span>
  <span class="keyword">def</span> <a title="[K](a: Seq[K])(implicit evidence$6: scala.reflect.ClassManifest[K], implicit evidence$7: scala.math.Ordering[K])Array[K]" id="993833">stableSort</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="993797">K</a>: ClassManifest: Ordering<span class="delimiter">]</span><span class="delimiter">(</span><a title="Seq[K]" id="993831">a</a>: <a href="../collection/Seq.scala.html#8648" title="Seq[K]">Seq</a><span class="delimiter">[</span>K<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../Array.scala.html#1430" title="Array[K]">Array</a><span class="delimiter">[</span>K<span class="delimiter">]</span> =
    <a href="#993846" title="(a: Seq[K], f: (K, K) =&gt; Boolean)(implicit evidence$5: scala.reflect.ClassManifest[K])Array[K]">stableSort</a><a href="#993833" title="scala.reflect.ClassManifest[K]" class="delimiter">(</a><a href="#993831" title="Seq[K]">a</a>, <a href="../math/Ordering.scala.html#66750" title="[T](implicit ord: scala.math.Ordering[T])scala.math.Ordering[T]">Ordering</a><a href="#993833" title="(implicit ord: scala.math.Ordering[K])scala.math.Ordering[K]" class="delimiter">[</a><a href="#993797" title="K">K</a><span class="delimiter">]</span>.<a href="../math/Ordering.scala.html#66661" title="(x: K, y: K)Boolean">lt</a> _<span class="delimiter">)</span>

  <span class="comment">/** Stably sorts a sequence of items given an extraction function that will
   *  return an ordered key from an item.
   *
   *  @param  a the sequence to be sorted.
   *  @param  f the comparison function.
   *  @return the sorted sequence of items.
   */</span>
  <span class="keyword">def</span> <a title="[K, M](a: Seq[K], f: K =&gt; M)(implicit evidence$8: scala.reflect.ClassManifest[K], implicit evidence$9: scala.math.Ordering[M])Array[K]" id="993817">stableSort</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="993801">K</a>: ClassManifest, <a title="&gt;: Nothing &lt;: Any" id="993802">M</a>: Ordering<span class="delimiter">]</span><span class="delimiter">(</span><a title="Seq[K]" id="993814">a</a>: <a href="../collection/Seq.scala.html#8648" title="Seq[K]">Seq</a><span class="delimiter">[</span>K<span class="delimiter">]</span>, <a title="K =&gt; M" id="993815">f</a>: K =&gt; M<span class="delimiter">)</span>: <a href="../Array.scala.html#1430" title="Array[K]">Array</a><span class="delimiter">[</span>K<span class="delimiter">]</span> =
    <a href="#993833" title="(a: Seq[K])(implicit evidence$6: scala.reflect.ClassManifest[K], implicit evidence$7: scala.math.Ordering[K])Array[K]">stableSort</a><span class="delimiter">(</span><a href="#993814" title="Seq[K]">a</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../Predef.scala.html#9553" title="[T](implicit e: T)T">implicitly</a><a href="#993817" title="(implicit e: scala.reflect.ClassManifest[K])scala.reflect.ClassManifest[K]" class="delimiter">[</a><a href="../reflect/ClassManifest.scala.html#3181" title="scala.reflect.ClassManifest[K]">ClassManifest</a><span class="delimiter">[</span>K<span class="delimiter">]</span><span class="delimiter">]</span>, <a href="../math/Ordering.scala.html#66750" title="[T](implicit ord: scala.math.Ordering[T])scala.math.Ordering[T]">Ordering</a><a href="#993817" title="(implicit ord: scala.math.Ordering[M])scala.math.Ordering[M]" class="delimiter">[</a><a href="#993802" title="M">M</a><span class="delimiter">]</span> <a href="../math/Ordering.scala.html#66667" title="(f: K =&gt; M)scala.math.Ordering[K]">on</a> <a href="#993815" title="K =&gt; M">f</a><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="[K](x: Array[K], off: Int, len: Int)(implicit evidence$10: scala.math.Ordering[K])Unit" id="1009459">sort1</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="993805">K</a>: Ordering<span class="delimiter">]</span><span class="delimiter">(</span><a title="Array[K]" id="1009456">x</a>: <a href="../Array.scala.html#1430" title="Array[K]">Array</a><span class="delimiter">[</span>K<span class="delimiter">]</span>, <a title="Int" id="1009457">off</a>: <a href="../Int.scala.html#386" title="Int">Int</a>, <a title="Int" id="1009458">len</a>: <a href="../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.math.Ordering[K]" id="1010011">ord</a> = <a href="../math/Ordering.scala.html#66750" title="[T](implicit ord: scala.math.Ordering[T])scala.math.Ordering[T]">Ordering</a><a href="#1009459" title="(implicit ord: scala.math.Ordering[K])scala.math.Ordering[K]" class="delimiter">[</a><a href="#993805" title="K">K</a><span class="delimiter">]</span>
    <span class="keyword">import</span> <a href="#1010011" title="scala.math.Ordering[K]">ord</a>._

    <span class="keyword">def</span> <a title="(a: Int, b: Int)Unit" id="1010013">swap</a><span class="delimiter">(</span><a title="Int" id="1010018">a</a>: <a href="../Int.scala.html#386" title="Int">Int</a>, <a title="Int" id="1010019">b</a>: <a href="../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="K" id="1010020">t</a> = <a href="../Array.scala.html#49205" title="(i: Int)K">x</a><span class="delimiter">(</span><a href="#1010018" title="Int">a</a><span class="delimiter">)</span>
      <a href="../Array.scala.html#49206" title="(i: Int, x: K)Unit">x</a><span class="delimiter">(</span><a href="#1010018" title="Int">a</a><span class="delimiter">)</span> = <a href="../Array.scala.html#49205" title="(i: Int)K">x</a><span class="delimiter">(</span><a href="#1010019" title="Int">b</a><span class="delimiter">)</span>
      <a href="../Array.scala.html#49206" title="(i: Int, x: K)Unit">x</a><span class="delimiter">(</span><a href="#1010019" title="Int">b</a><span class="delimiter">)</span> = <a href="#1010020" title="K">t</a>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(_a: Int, _b: Int, n: Int)Unit" id="1010014">vecswap</a><span class="delimiter">(</span><a title="Int" id="1010023">_a</a>: <a href="../Int.scala.html#386" title="Int">Int</a>, <a title="Int" id="1010024">_b</a>: <a href="../Int.scala.html#386" title="Int">Int</a>, <a title="Int" id="1010025">n</a>: <a href="../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Int" id="1010026">a</a> = <a href="#1010023" title="Int">_a</a>
      <span class="keyword">var</span> <a title="Int" id="1010027">b</a> = <a href="#1010024" title="Int">_b</a>
      <span class="keyword">var</span> <a title="Int" id="1010028">i</a> = <span title="Int(0)" class="int">0</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1010028" title="Int">i</a> <a href="../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <a href="#1010025" title="Int">n</a><span class="delimiter">)</span> <a href="#1010029" title="()Unit" class="delimiter">{</a>
        <a href="#1010013" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#1010026" title="Int">a</a>, <a href="#1010027" title="Int">b</a><span class="delimiter">)</span>
        <a href="#1010028" title="Int">i</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <a href="#1010026" title="Int">a</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <a href="#1010027" title="Int">b</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(a: Int, b: Int, c: Int)Int" id="1010015">med3</a><span class="delimiter">(</span><a title="Int" id="1010047">a</a>: <a href="../Int.scala.html#386" title="Int">Int</a>, <a title="Int" id="1010048">b</a>: <a href="../Int.scala.html#386" title="Int">Int</a>, <a title="Int" id="1010049">c</a>: <a href="../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#49205" title="(i: Int)K">x</a><a href="../math/Ordering.scala.html#66671" title="implicit scala.math.Ordering.mkOrderingOps : (lhs: K)ord.Ops" class="delimiter">(</a><a href="#1010047" title="Int">a</a><span class="delimiter">)</span> <a href="../math/Ordering.scala.html#175412" title="(rhs: K)Boolean">&lt;</a> <a href="../Array.scala.html#49205" title="(i: Int)K">x</a><span class="delimiter">(</span><a href="#1010048" title="Int">b</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#49205" title="(i: Int)K">x</a><a href="../math/Ordering.scala.html#66671" title="implicit scala.math.Ordering.mkOrderingOps : (lhs: K)ord.Ops" class="delimiter">(</a><a href="#1010048" title="Int">b</a><span class="delimiter">)</span> <a href="../math/Ordering.scala.html#175412" title="(rhs: K)Boolean">&lt;</a> <a href="../Array.scala.html#49205" title="(i: Int)K">x</a><span class="delimiter">(</span><a href="#1010049" title="Int">c</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1010048" title="Int">b</a> <span class="keyword">else</span> <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#49205" title="(i: Int)K">x</a><a href="../math/Ordering.scala.html#66671" title="implicit scala.math.Ordering.mkOrderingOps : (lhs: K)ord.Ops" class="delimiter">(</a><a href="#1010047" title="Int">a</a><span class="delimiter">)</span> <a href="../math/Ordering.scala.html#175412" title="(rhs: K)Boolean">&lt;</a> <a href="../Array.scala.html#49205" title="(i: Int)K">x</a><span class="delimiter">(</span><a href="#1010049" title="Int">c</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1010049" title="Int">c</a> <span class="keyword">else</span> <a href="#1010047" title="Int">a</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#49205" title="(i: Int)K">x</a><a href="../math/Ordering.scala.html#66671" title="implicit scala.math.Ordering.mkOrderingOps : (lhs: K)ord.Ops" class="delimiter">(</a><a href="#1010048" title="Int">b</a><span class="delimiter">)</span> <a href="../math/Ordering.scala.html#175414" title="(rhs: K)Boolean">&gt;</a> <a href="../Array.scala.html#49205" title="(i: Int)K">x</a><span class="delimiter">(</span><a href="#1010049" title="Int">c</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1010048" title="Int">b</a> <span class="keyword">else</span> <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#49205" title="(i: Int)K">x</a><a href="../math/Ordering.scala.html#66671" title="implicit scala.math.Ordering.mkOrderingOps : (lhs: K)ord.Ops" class="delimiter">(</a><a href="#1010047" title="Int">a</a><span class="delimiter">)</span> <a href="../math/Ordering.scala.html#175414" title="(rhs: K)Boolean">&gt;</a> <a href="../Array.scala.html#49205" title="(i: Int)K">x</a><span class="delimiter">(</span><a href="#1010049" title="Int">c</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1010049" title="Int">c</a> <span class="keyword">else</span> <a href="#1010047" title="Int">a</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(off: Int, len: Int)Unit" id="1010016">sort2</a><span class="delimiter">(</span><a title="Int" id="1010237">off</a>: <a href="../Int.scala.html#386" title="Int">Int</a>, <a title="Int" id="1010238">len</a>: <a href="../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="comment">// Insertion sort on smallest arrays</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1010238" title="Int">len</a> <a href="../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <span title="Int(7)" class="int">7</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="Int" id="1010243">i</a> = <a href="#1010237" title="Int">off</a>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1010243" title="Int">i</a> <a href="../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <a href="#1010238" title="Int">len</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+</a> <a href="#1010237" title="Int">off</a><span class="delimiter">)</span> <a href="#1010244" title="()Unit" class="delimiter">{</a>
          <span class="keyword">var</span> <a title="Int" id="1010253">j</a> = <a href="#1010243" title="Int">i</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1010253" title="Int">j</a> <a href="../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <a href="#1010237" title="Int">off</a> <a href="../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../Array.scala.html#49205" title="(i: Int)K">x</a><a href="../math/Ordering.scala.html#66671" title="implicit scala.math.Ordering.mkOrderingOps : (lhs: K)ord.Ops" class="delimiter">(</a><a href="#1010253" title="Int">j</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="../math/Ordering.scala.html#175414" title="(rhs: K)Boolean">&gt;</a> <a href="../Array.scala.html#49205" title="(i: Int)K">x</a><span class="delimiter">(</span><a href="#1010253" title="Int">j</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1010254" title="()Unit" class="delimiter">{</a>
            <a href="#1010013" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#1010253" title="Int">j</a>, <a href="#1010253" title="Int">j</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
            <a href="#1010253" title="Int">j</a> <a href="../Int.scala.html#54811" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
          <a href="#1010243" title="Int">i</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="comment">// Choose a partition element, v</span>
        <span class="keyword">var</span> <a title="Int" id="1010312">m</a> = <a href="#1010237" title="Int">off</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+</a> <span class="delimiter">(</span><a href="#1010238" title="Int">len</a> <a href="../Int.scala.html#54742" title="(x: Int)Int">&gt;&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>        <span class="comment">// Small arrays, middle element</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1010238" title="Int">len</a> <a href="../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Int(7)" class="int">7</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Int" id="1010334">l</a> = <a href="#1010237" title="Int">off</a>
          <span class="keyword">var</span> <a title="Int" id="1010335">n</a> = <a href="#1010237" title="Int">off</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+</a> <a href="#1010238" title="Int">len</a> <a href="../Int.scala.html#54811" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1010238" title="Int">len</a> <a href="../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Int(40)" class="int">40</span><span class="delimiter">)</span> <span class="delimiter">{</span>        <span class="comment">// Big arrays, pseudomedian of 9</span>
            <span class="keyword">var</span> <a title="Int" id="1010348">s</a> = <a href="#1010238" title="Int">len</a> <a href="../Int.scala.html#54825" title="(x: Int)Int">/</a> <span title="Int(8)" class="int">8</span>
            <a href="#1010334" title="Int">l</a> = <a href="#1010015" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#1010334" title="Int">l</a>, <a href="#1010334" title="Int">l</a><a href="../Int.scala.html#54804" title="(x: Int)Int">+</a><a href="#1010348" title="Int">s</a>, <a href="#1010334" title="Int">l</a><a href="../Int.scala.html#54804" title="(x: Int)Int">+</a><span title="Int(2)" class="int">2</span><a href="../Int.scala.html#54818" title="(x: Int)Int">*</a><a href="#1010348" title="Int">s</a><span class="delimiter">)</span>
            <a href="#1010312" title="Int">m</a> = <a href="#1010015" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#1010312" title="Int">m</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><a href="#1010348" title="Int">s</a>, <a href="#1010312" title="Int">m</a>, <a href="#1010312" title="Int">m</a><a href="../Int.scala.html#54804" title="(x: Int)Int">+</a><a href="#1010348" title="Int">s</a><span class="delimiter">)</span>
            <a href="#1010335" title="Int">n</a> = <a href="#1010015" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#1010335" title="Int">n</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><span title="Int(2)" class="int">2</span><a href="../Int.scala.html#54818" title="(x: Int)Int">*</a><a href="#1010348" title="Int">s</a>, <a href="#1010335" title="Int">n</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><a href="#1010348" title="Int">s</a>, <a href="#1010335" title="Int">n</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#1010312" title="Int">m</a> = <a href="#1010015" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#1010334" title="Int">l</a>, <a href="#1010312" title="Int">m</a>, <a href="#1010335" title="Int">n</a><span class="delimiter">)</span> <span class="comment">// Mid-size, med of 3</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="K" id="1010313">v</a> = <a href="../Array.scala.html#49205" title="(i: Int)K">x</a><span class="delimiter">(</span><a href="#1010312" title="Int">m</a><span class="delimiter">)</span>

        <span class="comment">// Establish Invariant: v* (&lt;v)* (&gt;v)* v*</span>
        <span class="keyword">var</span> <a title="Int" id="1010314">a</a> = <a href="#1010237" title="Int">off</a>
        <span class="keyword">var</span> <a title="Int" id="1010315">b</a> = <a href="#1010314" title="Int">a</a>
        <span class="keyword">var</span> <a title="Int" id="1010316">c</a> = <a href="#1010237" title="Int">off</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+</a> <a href="#1010238" title="Int">len</a> <a href="../Int.scala.html#54811" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>
        <span class="keyword">var</span> <a title="Int" id="1010317">d</a> = <a href="#1010316" title="Int">c</a>
        <span class="keyword">var</span> <a title="Boolean" id="1010318">done</a> = <span title="Boolean(false)" class="keyword">false</span>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#1010318" title="Boolean">done</a><span class="delimiter">)</span> <a href="#1010321" title="()Unit" class="delimiter">{</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1010315" title="Int">b</a> <a href="../Int.scala.html#54768" title="(x: Int)Boolean">&lt;=</a> <a href="#1010316" title="Int">c</a> <a href="../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../Array.scala.html#49205" title="(i: Int)K">x</a><a href="../math/Ordering.scala.html#66671" title="implicit scala.math.Ordering.mkOrderingOps : (lhs: K)ord.Ops" class="delimiter">(</a><a href="#1010315" title="Int">b</a><span class="delimiter">)</span> <a href="../math/Ordering.scala.html#175413" title="(rhs: K)Boolean">&lt;=</a> <a href="#1010313" title="K">v</a><span class="delimiter">)</span> <a href="#1010393" title="()Unit" class="delimiter">{</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#49205" title="(i: Int)K">x</a><span class="delimiter">(</span><a href="#1010315" title="Int">b</a><span class="delimiter">)</span> <span title="(x$1: Any)Boolean">==</span> <a href="#1010313" title="K">v</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#1010013" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#1010314" title="Int">a</a>, <a href="#1010315" title="Int">b</a><span class="delimiter">)</span>
              <a href="#1010314" title="Int">a</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
            <span class="delimiter">}</span>
            <a href="#1010315" title="Int">b</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1010316" title="Int">c</a> <a href="../Int.scala.html#54782" title="(x: Int)Boolean">&gt;=</a> <a href="#1010315" title="Int">b</a> <a href="../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../Array.scala.html#49205" title="(i: Int)K">x</a><a href="../math/Ordering.scala.html#66671" title="implicit scala.math.Ordering.mkOrderingOps : (lhs: K)ord.Ops" class="delimiter">(</a><a href="#1010316" title="Int">c</a><span class="delimiter">)</span> <a href="../math/Ordering.scala.html#175415" title="(rhs: K)Boolean">&gt;=</a> <a href="#1010313" title="K">v</a><span class="delimiter">)</span> <a href="#1010394" title="()Unit" class="delimiter">{</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#49205" title="(i: Int)K">x</a><span class="delimiter">(</span><a href="#1010316" title="Int">c</a><span class="delimiter">)</span> <span title="(x$1: Any)Boolean">==</span> <a href="#1010313" title="K">v</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#1010013" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#1010316" title="Int">c</a>, <a href="#1010317" title="Int">d</a><span class="delimiter">)</span>
              <a href="#1010317" title="Int">d</a> <a href="../Int.scala.html#54811" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
            <span class="delimiter">}</span>
            <a href="#1010316" title="Int">c</a> <a href="../Int.scala.html#54811" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1010315" title="Int">b</a> <a href="../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <a href="#1010316" title="Int">c</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#1010318" title="Boolean">done</a> = <span title="Boolean(true)" class="keyword">true</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#1010013" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#1010315" title="Int">b</a>, <a href="#1010316" title="Int">c</a><span class="delimiter">)</span>
            <a href="#1010316" title="Int">c</a> <a href="../Int.scala.html#54811" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
            <a href="#1010315" title="Int">b</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="comment">// Swap partition elements back to middle</span>
        <span class="keyword">val</span> <a title="Int" id="1010319">n</a> = <a href="#1010237" title="Int">off</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+</a> <a href="#1010238" title="Int">len</a>
        <span class="keyword">var</span> <a title="Int" id="1010320">s</a> = math.<a href="../MathCommon.scala.html#19251" title="(x: Int, y: Int)Int">min</a><span class="delimiter">(</span><a href="#1010314" title="Int">a</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><a href="#1010237" title="Int">off</a>, <a href="#1010315" title="Int">b</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><a href="#1010314" title="Int">a</a><span class="delimiter">)</span>
        <a href="#1010014" title="(_a: Int, _b: Int, n: Int)Unit">vecswap</a><span class="delimiter">(</span><a href="#1010237" title="Int">off</a>, <a href="#1010315" title="Int">b</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><a href="#1010320" title="Int">s</a>, <a href="#1010320" title="Int">s</a><span class="delimiter">)</span>
        <a href="#1010320" title="Int">s</a> = math.<a href="../MathCommon.scala.html#19251" title="(x: Int, y: Int)Int">min</a><span class="delimiter">(</span><a href="#1010317" title="Int">d</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><a href="#1010316" title="Int">c</a>, <a href="#1010319" title="Int">n</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><a href="#1010317" title="Int">d</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        <a href="#1010014" title="(_a: Int, _b: Int, n: Int)Unit">vecswap</a><span class="delimiter">(</span><a href="#1010315" title="Int">b</a>,   <a href="#1010319" title="Int">n</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><a href="#1010320" title="Int">s</a>, <a href="#1010320" title="Int">s</a><span class="delimiter">)</span>

        <span class="comment">// Recursively sort non-partition-elements</span>
        <a href="#1010320" title="Int">s</a> = <a href="#1010315" title="Int">b</a> <a href="../Int.scala.html#54811" title="(x: Int)Int">-</a> <a href="#1010314" title="Int">a</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1010320" title="Int">s</a> <a href="../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          <a href="#1010016" title="(off: Int, len: Int)Unit">sort2</a><span class="delimiter">(</span><a href="#1010237" title="Int">off</a>, <a href="#1010320" title="Int">s</a><span class="delimiter">)</span>
        <a href="#1010320" title="Int">s</a> = <a href="#1010317" title="Int">d</a> <a href="../Int.scala.html#54811" title="(x: Int)Int">-</a> <a href="#1010316" title="Int">c</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1010320" title="Int">s</a> <a href="../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          <a href="#1010016" title="(off: Int, len: Int)Unit">sort2</a><span class="delimiter">(</span><a href="#1010319" title="Int">n</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><a href="#1010320" title="Int">s</a>, <a href="#1010320" title="Int">s</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <a href="#1010016" title="(off: Int, len: Int)Unit">sort2</a><span class="delimiter">(</span><a href="#1009457" title="Int">off</a>, <a href="#1009458" title="Int">len</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(x: Array[Int], off: Int, len: Int)Unit" id="993806">sort1</a><span class="delimiter">(</span><a title="Array[Int]" id="1009452">x</a>: <a href="../Array.scala.html#1430" title="Array[Int]">Array</a><span class="delimiter">[</span>Int<span class="delimiter">]</span>, <a title="Int" id="1009453">off</a>: <a href="../Int.scala.html#386" title="Int">Int</a>, <a title="Int" id="1009454">len</a>: <a href="../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(a: Int, b: Int)Unit" id="1010573">swap</a><span class="delimiter">(</span><a title="Int" id="1010577">a</a>: <a href="../Int.scala.html#386" title="Int">Int</a>, <a title="Int" id="1010578">b</a>: <a href="../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="1010579">t</a> = <a href="../Array.scala.html#49205" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#1010577" title="Int">a</a><span class="delimiter">)</span>
      <a href="../Array.scala.html#49206" title="(i: Int, x: Int)Unit">x</a><span class="delimiter">(</span><a href="#1010577" title="Int">a</a><span class="delimiter">)</span> = <a href="../Array.scala.html#49205" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#1010578" title="Int">b</a><span class="delimiter">)</span>
      <a href="../Array.scala.html#49206" title="(i: Int, x: Int)Unit">x</a><span class="delimiter">(</span><a href="#1010578" title="Int">b</a><span class="delimiter">)</span> = <a href="#1010579" title="Int">t</a>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(_a: Int, _b: Int, n: Int)Unit" id="1010574">vecswap</a><span class="delimiter">(</span><a title="Int" id="1010582">_a</a>: <a href="../Int.scala.html#386" title="Int">Int</a>, <a title="Int" id="1010583">_b</a>: <a href="../Int.scala.html#386" title="Int">Int</a>, <a title="Int" id="1010584">n</a>: <a href="../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Int" id="1010585">a</a> = <a href="#1010582" title="Int">_a</a>
      <span class="keyword">var</span> <a title="Int" id="1010586">b</a> = <a href="#1010583" title="Int">_b</a>
      <span class="keyword">var</span> <a title="Int" id="1010587">i</a> = <span title="Int(0)" class="int">0</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1010587" title="Int">i</a> <a href="../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <a href="#1010584" title="Int">n</a><span class="delimiter">)</span> <a href="#1010588" title="()Unit" class="delimiter">{</a>
        <a href="#1010573" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#1010585" title="Int">a</a>, <a href="#1010586" title="Int">b</a><span class="delimiter">)</span>
        <a href="#1010587" title="Int">i</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <a href="#1010585" title="Int">a</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <a href="#1010586" title="Int">b</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(a: Int, b: Int, c: Int)Int" id="1010575">med3</a><span class="delimiter">(</span><a title="Int" id="1010605">a</a>: <a href="../Int.scala.html#386" title="Int">Int</a>, <a title="Int" id="1010606">b</a>: <a href="../Int.scala.html#386" title="Int">Int</a>, <a title="Int" id="1010607">c</a>: <a href="../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#49205" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#1010605" title="Int">a</a><span class="delimiter">)</span> <a href="../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <a href="../Array.scala.html#49205" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#1010606" title="Int">b</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#49205" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#1010606" title="Int">b</a><span class="delimiter">)</span> <a href="../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <a href="../Array.scala.html#49205" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#1010607" title="Int">c</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1010606" title="Int">b</a> <span class="keyword">else</span> <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#49205" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#1010605" title="Int">a</a><span class="delimiter">)</span> <a href="../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <a href="../Array.scala.html#49205" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#1010607" title="Int">c</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1010607" title="Int">c</a> <span class="keyword">else</span> <a href="#1010605" title="Int">a</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#49205" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#1010606" title="Int">b</a><span class="delimiter">)</span> <a href="../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <a href="../Array.scala.html#49205" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#1010607" title="Int">c</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1010606" title="Int">b</a> <span class="keyword">else</span> <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#49205" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#1010605" title="Int">a</a><span class="delimiter">)</span> <a href="../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <a href="../Array.scala.html#49205" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#1010607" title="Int">c</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1010607" title="Int">c</a> <span class="keyword">else</span> <a href="#1010605" title="Int">a</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(off: Int, len: Int)Unit" id="1010576">sort2</a><span class="delimiter">(</span><a title="Int" id="1010628">off</a>: <a href="../Int.scala.html#386" title="Int">Int</a>, <a title="Int" id="1010629">len</a>: <a href="../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="comment">// Insertion sort on smallest arrays</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1010629" title="Int">len</a> <a href="../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <span title="Int(7)" class="int">7</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="Int" id="1010634">i</a> = <a href="#1010628" title="Int">off</a>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1010634" title="Int">i</a> <a href="../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <a href="#1010629" title="Int">len</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+</a> <a href="#1010628" title="Int">off</a><span class="delimiter">)</span> <a href="#1010635" title="()Unit" class="delimiter">{</a>
          <span class="keyword">var</span> <a title="Int" id="1010644">j</a> = <a href="#1010634" title="Int">i</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1010644" title="Int">j</a><a href="../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a><a href="#1010628" title="Int">off</a> <a href="../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../Array.scala.html#49205" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#1010644" title="Int">j</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <a href="../Array.scala.html#49205" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#1010644" title="Int">j</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1010645" title="()Unit" class="delimiter">{</a>
            <a href="#1010573" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#1010644" title="Int">j</a>, <a href="#1010644" title="Int">j</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
            <a href="#1010644" title="Int">j</a> <a href="../Int.scala.html#54811" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
          <a href="#1010634" title="Int">i</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="comment">// Choose a partition element, v</span>
        <span class="keyword">var</span> <a title="Int" id="1010670">m</a> = <a href="#1010628" title="Int">off</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+</a> <span class="delimiter">(</span><a href="#1010629" title="Int">len</a> <a href="../Int.scala.html#54742" title="(x: Int)Int">&gt;&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>        <span class="comment">// Small arrays, middle element</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1010629" title="Int">len</a> <a href="../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Int(7)" class="int">7</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Int" id="1010692">l</a> = <a href="#1010628" title="Int">off</a>
          <span class="keyword">var</span> <a title="Int" id="1010693">n</a> = <a href="#1010628" title="Int">off</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+</a> <a href="#1010629" title="Int">len</a> <a href="../Int.scala.html#54811" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1010629" title="Int">len</a> <a href="../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Int(40)" class="int">40</span><span class="delimiter">)</span> <span class="delimiter">{</span>        <span class="comment">// Big arrays, pseudomedian of 9</span>
            <span class="keyword">var</span> <a title="Int" id="1010706">s</a> = <a href="#1010629" title="Int">len</a> <a href="../Int.scala.html#54825" title="(x: Int)Int">/</a> <span title="Int(8)" class="int">8</span>
            <a href="#1010692" title="Int">l</a> = <a href="#1010575" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#1010692" title="Int">l</a>, <a href="#1010692" title="Int">l</a><a href="../Int.scala.html#54804" title="(x: Int)Int">+</a><a href="#1010706" title="Int">s</a>, <a href="#1010692" title="Int">l</a><a href="../Int.scala.html#54804" title="(x: Int)Int">+</a><span title="Int(2)" class="int">2</span><a href="../Int.scala.html#54818" title="(x: Int)Int">*</a><a href="#1010706" title="Int">s</a><span class="delimiter">)</span>
            <a href="#1010670" title="Int">m</a> = <a href="#1010575" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#1010670" title="Int">m</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><a href="#1010706" title="Int">s</a>, <a href="#1010670" title="Int">m</a>, <a href="#1010670" title="Int">m</a><a href="../Int.scala.html#54804" title="(x: Int)Int">+</a><a href="#1010706" title="Int">s</a><span class="delimiter">)</span>
            <a href="#1010693" title="Int">n</a> = <a href="#1010575" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#1010693" title="Int">n</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><span title="Int(2)" class="int">2</span><a href="../Int.scala.html#54818" title="(x: Int)Int">*</a><a href="#1010706" title="Int">s</a>, <a href="#1010693" title="Int">n</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><a href="#1010706" title="Int">s</a>, <a href="#1010693" title="Int">n</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#1010670" title="Int">m</a> = <a href="#1010575" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#1010692" title="Int">l</a>, <a href="#1010670" title="Int">m</a>, <a href="#1010693" title="Int">n</a><span class="delimiter">)</span> <span class="comment">// Mid-size, med of 3</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="Int" id="1010671">v</a> = <a href="../Array.scala.html#49205" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#1010670" title="Int">m</a><span class="delimiter">)</span>

        <span class="comment">// Establish Invariant: v* (&lt;v)* (&gt;v)* v*</span>
        <span class="keyword">var</span> <a title="Int" id="1010672">a</a> = <a href="#1010628" title="Int">off</a>
        <span class="keyword">var</span> <a title="Int" id="1010673">b</a> = <a href="#1010672" title="Int">a</a>
        <span class="keyword">var</span> <a title="Int" id="1010674">c</a> = <a href="#1010628" title="Int">off</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+</a> <a href="#1010629" title="Int">len</a> <a href="../Int.scala.html#54811" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>
        <span class="keyword">var</span> <a title="Int" id="1010675">d</a> = <a href="#1010674" title="Int">c</a>
        <span class="keyword">var</span> <a title="Boolean" id="1010676">done</a> = <span title="Boolean(false)" class="keyword">false</span>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#1010676" title="Boolean">done</a><span class="delimiter">)</span> <a href="#1010679" title="()Unit" class="delimiter">{</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1010673" title="Int">b</a> <a href="../Int.scala.html#54768" title="(x: Int)Boolean">&lt;=</a> <a href="#1010674" title="Int">c</a> <a href="../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../Array.scala.html#49205" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#1010673" title="Int">b</a><span class="delimiter">)</span> <a href="../Int.scala.html#54768" title="(x: Int)Boolean">&lt;=</a> <a href="#1010671" title="Int">v</a><span class="delimiter">)</span> <a href="#1010751" title="()Unit" class="delimiter">{</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#49205" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#1010673" title="Int">b</a><span class="delimiter">)</span> <a href="../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <a href="#1010671" title="Int">v</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#1010573" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#1010672" title="Int">a</a>, <a href="#1010673" title="Int">b</a><span class="delimiter">)</span>
              <a href="#1010672" title="Int">a</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
            <span class="delimiter">}</span>
            <a href="#1010673" title="Int">b</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1010674" title="Int">c</a> <a href="../Int.scala.html#54782" title="(x: Int)Boolean">&gt;=</a> <a href="#1010673" title="Int">b</a> <a href="../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../Array.scala.html#49205" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#1010674" title="Int">c</a><span class="delimiter">)</span> <a href="../Int.scala.html#54782" title="(x: Int)Boolean">&gt;=</a> <a href="#1010671" title="Int">v</a><span class="delimiter">)</span> <a href="#1010752" title="()Unit" class="delimiter">{</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#49205" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#1010674" title="Int">c</a><span class="delimiter">)</span> <a href="../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <a href="#1010671" title="Int">v</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#1010573" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#1010674" title="Int">c</a>, <a href="#1010675" title="Int">d</a><span class="delimiter">)</span>
              <a href="#1010675" title="Int">d</a> <a href="../Int.scala.html#54811" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
            <span class="delimiter">}</span>
            <a href="#1010674" title="Int">c</a> <a href="../Int.scala.html#54811" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1010673" title="Int">b</a> <a href="../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <a href="#1010674" title="Int">c</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#1010676" title="Boolean">done</a> = <span title="Boolean(true)" class="keyword">true</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#1010573" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#1010673" title="Int">b</a>, <a href="#1010674" title="Int">c</a><span class="delimiter">)</span>
            <a href="#1010674" title="Int">c</a> <a href="../Int.scala.html#54811" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
            <a href="#1010673" title="Int">b</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="comment">// Swap partition elements back to middle</span>
        <span class="keyword">val</span> <a title="Int" id="1010677">n</a> = <a href="#1010628" title="Int">off</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+</a> <a href="#1010629" title="Int">len</a>
        <span class="keyword">var</span> <a title="Int" id="1010678">s</a> = math.<a href="../MathCommon.scala.html#19251" title="(x: Int, y: Int)Int">min</a><span class="delimiter">(</span><a href="#1010672" title="Int">a</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><a href="#1010628" title="Int">off</a>, <a href="#1010673" title="Int">b</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><a href="#1010672" title="Int">a</a><span class="delimiter">)</span>
        <a href="#1010574" title="(_a: Int, _b: Int, n: Int)Unit">vecswap</a><span class="delimiter">(</span><a href="#1010628" title="Int">off</a>, <a href="#1010673" title="Int">b</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><a href="#1010678" title="Int">s</a>, <a href="#1010678" title="Int">s</a><span class="delimiter">)</span>
        <a href="#1010678" title="Int">s</a> = math.<a href="../MathCommon.scala.html#19251" title="(x: Int, y: Int)Int">min</a><span class="delimiter">(</span><a href="#1010675" title="Int">d</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><a href="#1010674" title="Int">c</a>, <a href="#1010677" title="Int">n</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><a href="#1010675" title="Int">d</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        <a href="#1010574" title="(_a: Int, _b: Int, n: Int)Unit">vecswap</a><span class="delimiter">(</span><a href="#1010673" title="Int">b</a>,   <a href="#1010677" title="Int">n</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><a href="#1010678" title="Int">s</a>, <a href="#1010678" title="Int">s</a><span class="delimiter">)</span>

        <span class="comment">// Recursively sort non-partition-elements</span>
        <a href="#1010678" title="Int">s</a> = <a href="#1010673" title="Int">b</a> <a href="../Int.scala.html#54811" title="(x: Int)Int">-</a> <a href="#1010672" title="Int">a</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1010678" title="Int">s</a> <a href="../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          <a href="#1010576" title="(off: Int, len: Int)Unit">sort2</a><span class="delimiter">(</span><a href="#1010628" title="Int">off</a>, <a href="#1010678" title="Int">s</a><span class="delimiter">)</span>
        <a href="#1010678" title="Int">s</a> = <a href="#1010675" title="Int">d</a> <a href="../Int.scala.html#54811" title="(x: Int)Int">-</a> <a href="#1010674" title="Int">c</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1010678" title="Int">s</a> <a href="../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          <a href="#1010576" title="(off: Int, len: Int)Unit">sort2</a><span class="delimiter">(</span><a href="#1010677" title="Int">n</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><a href="#1010678" title="Int">s</a>, <a href="#1010678" title="Int">s</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <a href="#1010576" title="(off: Int, len: Int)Unit">sort2</a><span class="delimiter">(</span><a href="#1009453" title="Int">off</a>, <a href="#1009454" title="Int">len</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(x: Array[Double], off: Int, len: Int)Unit" id="993807">sort1</a><span class="delimiter">(</span><a title="Array[Double]" id="1009448">x</a>: <a href="../Array.scala.html#1430" title="Array[Double]">Array</a><span class="delimiter">[</span>Double<span class="delimiter">]</span>, <a title="Int" id="1009449">off</a>: <a href="../Int.scala.html#386" title="Int">Int</a>, <a title="Int" id="1009450">len</a>: <a href="../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(a: Int, b: Int)Unit" id="1010873">swap</a><span class="delimiter">(</span><a title="Int" id="1010877">a</a>: <a href="../Int.scala.html#386" title="Int">Int</a>, <a title="Int" id="1010878">b</a>: <a href="../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Double" id="1010879">t</a> = <a href="../Array.scala.html#49205" title="(i: Int)Double">x</a><span class="delimiter">(</span><a href="#1010877" title="Int">a</a><span class="delimiter">)</span>
      <a href="../Array.scala.html#49206" title="(i: Int, x: Double)Unit">x</a><span class="delimiter">(</span><a href="#1010877" title="Int">a</a><span class="delimiter">)</span> = <a href="../Array.scala.html#49205" title="(i: Int)Double">x</a><span class="delimiter">(</span><a href="#1010878" title="Int">b</a><span class="delimiter">)</span>
      <a href="../Array.scala.html#49206" title="(i: Int, x: Double)Unit">x</a><span class="delimiter">(</span><a href="#1010878" title="Int">b</a><span class="delimiter">)</span> = <a href="#1010879" title="Double">t</a>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(_a: Int, _b: Int, n: Int)Unit" id="1010874">vecswap</a><span class="delimiter">(</span><a title="Int" id="1010882">_a</a>: <a href="../Int.scala.html#386" title="Int">Int</a>, <a title="Int" id="1010883">_b</a>: <a href="../Int.scala.html#386" title="Int">Int</a>, <a title="Int" id="1010884">n</a>: <a href="../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Int" id="1010885">a</a> = <a href="#1010882" title="Int">_a</a>
      <span class="keyword">var</span> <a title="Int" id="1010886">b</a> = <a href="#1010883" title="Int">_b</a>
      <span class="keyword">var</span> <a title="Int" id="1010887">i</a> = <span title="Int(0)" class="int">0</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1010887" title="Int">i</a> <a href="../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <a href="#1010884" title="Int">n</a><span class="delimiter">)</span> <a href="#1010888" title="()Unit" class="delimiter">{</a>
        <a href="#1010873" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#1010885" title="Int">a</a>, <a href="#1010886" title="Int">b</a><span class="delimiter">)</span>
        <a href="#1010887" title="Int">i</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <a href="#1010885" title="Int">a</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <a href="#1010886" title="Int">b</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(a: Int, b: Int, c: Int)Int" id="1010875">med3</a><span class="delimiter">(</span><a title="Int" id="1010905">a</a>: <a href="../Int.scala.html#386" title="Int">Int</a>, <a title="Int" id="1010906">b</a>: <a href="../Int.scala.html#386" title="Int">Int</a>, <a title="Int" id="1010907">c</a>: <a href="../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="1010908">ab</a> = <a href="../Array.scala.html#49205" title="(i: Int)Double">x</a><a href="../LowPriorityImplicits.scala.html#9478" title="implicit scala.LowPriorityImplicits.doubleWrapper : (x: Double)scala.runtime.RichDouble" class="delimiter">(</a><a href="#1010905" title="Int">a</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#54416" title="(y: Double)Int">compare</a> <a href="../Array.scala.html#49205" title="(i: Int)Double">x</a><span class="delimiter">(</span><a href="#1010906" title="Int">b</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Int" id="1010909">bc</a> = <a href="../Array.scala.html#49205" title="(i: Int)Double">x</a><a href="../LowPriorityImplicits.scala.html#9478" title="implicit scala.LowPriorityImplicits.doubleWrapper : (x: Double)scala.runtime.RichDouble" class="delimiter">(</a><a href="#1010906" title="Int">b</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#54416" title="(y: Double)Int">compare</a> <a href="../Array.scala.html#49205" title="(i: Int)Double">x</a><span class="delimiter">(</span><a href="#1010907" title="Int">c</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Int" id="1010910">ac</a> = <a href="../Array.scala.html#49205" title="(i: Int)Double">x</a><a href="../LowPriorityImplicits.scala.html#9478" title="implicit scala.LowPriorityImplicits.doubleWrapper : (x: Double)scala.runtime.RichDouble" class="delimiter">(</a><a href="#1010905" title="Int">a</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#54416" title="(y: Double)Int">compare</a> <a href="../Array.scala.html#49205" title="(i: Int)Double">x</a><span class="delimiter">(</span><a href="#1010907" title="Int">c</a><span class="delimiter">)</span>
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#1010908" title="Int">ab</a> <a href="../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#1010909" title="Int">bc</a> <a href="../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#1010906" title="Int">b</a> <span class="keyword">else</span> <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#1010910" title="Int">ac</a> <a href="../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#1010907" title="Int">c</a> <span class="keyword">else</span> <a href="#1010905" title="Int">a</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#1010909" title="Int">bc</a> <a href="../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#1010906" title="Int">b</a> <span class="keyword">else</span> <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#1010910" title="Int">ac</a> <a href="../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#1010907" title="Int">c</a> <span class="keyword">else</span> <a href="#1010905" title="Int">a</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(off: Int, len: Int)Unit" id="1010876">sort2</a><span class="delimiter">(</span><a title="Int" id="1010982">off</a>: <a href="../Int.scala.html#386" title="Int">Int</a>, <a title="Int" id="1010983">len</a>: <a href="../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="comment">// Insertion sort on smallest arrays</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1010983" title="Int">len</a> <a href="../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <span title="Int(7)" class="int">7</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="Int" id="1010988">i</a> = <a href="#1010982" title="Int">off</a>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1010988" title="Int">i</a> <a href="../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <a href="#1010983" title="Int">len</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+</a> <a href="#1010982" title="Int">off</a><span class="delimiter">)</span> <a href="#1010989" title="()Unit" class="delimiter">{</a>
          <span class="keyword">var</span> <a title="Int" id="1010998">j</a> = <a href="#1010988" title="Int">i</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1010998" title="Int">j</a> <a href="../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <a href="#1010982" title="Int">off</a> <a href="../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="../Array.scala.html#49205" title="(i: Int)Double">x</a><a href="../LowPriorityImplicits.scala.html#9478" title="implicit scala.LowPriorityImplicits.doubleWrapper : (x: Double)scala.runtime.RichDouble" class="delimiter">(</a><a href="#1010998" title="Int">j</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#54416" title="(y: Double)Int">compare</a> <a href="../Array.scala.html#49205" title="(i: Int)Double">x</a><span class="delimiter">(</span><a href="#1010998" title="Int">j</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#1010999" title="()Unit" class="delimiter">{</a>
            <a href="#1010873" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#1010998" title="Int">j</a>, <a href="#1010998" title="Int">j</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
            <a href="#1010998" title="Int">j</a> <a href="../Int.scala.html#54811" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
          <a href="#1010988" title="Int">i</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="comment">// Choose a partition element, v</span>
        <span class="keyword">var</span> <a title="Int" id="1011041">m</a> = <a href="#1010982" title="Int">off</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+</a> <span class="delimiter">(</span><a href="#1010983" title="Int">len</a> <a href="../Int.scala.html#54742" title="(x: Int)Int">&gt;&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>        <span class="comment">// Small arrays, middle element</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1010983" title="Int">len</a> <a href="../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Int(7)" class="int">7</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Int" id="1011063">l</a> = <a href="#1010982" title="Int">off</a>
          <span class="keyword">var</span> <a title="Int" id="1011064">n</a> = <a href="#1010982" title="Int">off</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+</a> <a href="#1010983" title="Int">len</a> <a href="../Int.scala.html#54811" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1010983" title="Int">len</a> <a href="../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Int(40)" class="int">40</span><span class="delimiter">)</span> <span class="delimiter">{</span>        <span class="comment">// Big arrays, pseudomedian of 9</span>
            <span class="keyword">var</span> <a title="Int" id="1011077">s</a> = <a href="#1010983" title="Int">len</a> <a href="../Int.scala.html#54825" title="(x: Int)Int">/</a> <span title="Int(8)" class="int">8</span>
            <a href="#1011063" title="Int">l</a> = <a href="#1010875" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#1011063" title="Int">l</a>, <a href="#1011063" title="Int">l</a><a href="../Int.scala.html#54804" title="(x: Int)Int">+</a><a href="#1011077" title="Int">s</a>, <a href="#1011063" title="Int">l</a><a href="../Int.scala.html#54804" title="(x: Int)Int">+</a><span title="Int(2)" class="int">2</span><a href="../Int.scala.html#54818" title="(x: Int)Int">*</a><a href="#1011077" title="Int">s</a><span class="delimiter">)</span>
            <a href="#1011041" title="Int">m</a> = <a href="#1010875" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#1011041" title="Int">m</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><a href="#1011077" title="Int">s</a>, <a href="#1011041" title="Int">m</a>, <a href="#1011041" title="Int">m</a><a href="../Int.scala.html#54804" title="(x: Int)Int">+</a><a href="#1011077" title="Int">s</a><span class="delimiter">)</span>
            <a href="#1011064" title="Int">n</a> = <a href="#1010875" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#1011064" title="Int">n</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><span title="Int(2)" class="int">2</span><a href="../Int.scala.html#54818" title="(x: Int)Int">*</a><a href="#1011077" title="Int">s</a>, <a href="#1011064" title="Int">n</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><a href="#1011077" title="Int">s</a>, <a href="#1011064" title="Int">n</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#1011041" title="Int">m</a> = <a href="#1010875" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#1011063" title="Int">l</a>, <a href="#1011041" title="Int">m</a>, <a href="#1011064" title="Int">n</a><span class="delimiter">)</span> <span class="comment">// Mid-size, med of 3</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="Double" id="1011042">v</a> = <a href="../Array.scala.html#49205" title="(i: Int)Double">x</a><span class="delimiter">(</span><a href="#1011041" title="Int">m</a><span class="delimiter">)</span>

        <span class="comment">// Establish Invariant: v* (&lt;v)* (&gt;v)* v*</span>
        <span class="keyword">var</span> <a title="Int" id="1011043">a</a> = <a href="#1010982" title="Int">off</a>
        <span class="keyword">var</span> <a title="Int" id="1011044">b</a> = <a href="#1011043" title="Int">a</a>
        <span class="keyword">var</span> <a title="Int" id="1011045">c</a> = <a href="#1010982" title="Int">off</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+</a> <a href="#1010983" title="Int">len</a> <a href="../Int.scala.html#54811" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>
        <span class="keyword">var</span> <a title="Int" id="1011046">d</a> = <a href="#1011045" title="Int">c</a>
        <span class="keyword">var</span> <a title="Boolean" id="1011047">done</a> = <span title="Boolean(false)" class="keyword">false</span>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#1011047" title="Boolean">done</a><span class="delimiter">)</span> <a href="#1011050" title="()Unit" class="delimiter">{</a>
          <span class="keyword">var</span> <a title="Int" id="1011122">bv</a> = <a href="../Array.scala.html#49205" title="(i: Int)Double">x</a><a href="../LowPriorityImplicits.scala.html#9478" title="implicit scala.LowPriorityImplicits.doubleWrapper : (x: Double)scala.runtime.RichDouble" class="delimiter">(</a><a href="#1011044" title="Int">b</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#54416" title="(y: Double)Int">compare</a> <a href="#1011042" title="Double">v</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1011044" title="Int">b</a> <a href="../Int.scala.html#54768" title="(x: Int)Boolean">&lt;=</a> <a href="#1011045" title="Int">c</a> <a href="../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1011122" title="Int">bv</a> <a href="../Int.scala.html#54768" title="(x: Int)Boolean">&lt;=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#1011124" title="()Unit" class="delimiter">{</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1011122" title="Int">bv</a> <a href="../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#1010873" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#1011043" title="Int">a</a>, <a href="#1011044" title="Int">b</a><span class="delimiter">)</span>
              <a href="#1011043" title="Int">a</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
            <span class="delimiter">}</span>
            <a href="#1011044" title="Int">b</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1011044" title="Int">b</a> <a href="../Int.scala.html#54768" title="(x: Int)Boolean">&lt;=</a> <a href="#1011045" title="Int">c</a><span class="delimiter">)</span> <a href="#1011122" title="Int">bv</a> = <a href="../Array.scala.html#49205" title="(i: Int)Double">x</a><a href="../LowPriorityImplicits.scala.html#9478" title="implicit scala.LowPriorityImplicits.doubleWrapper : (x: Double)scala.runtime.RichDouble" class="delimiter">(</a><a href="#1011044" title="Int">b</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#54416" title="(y: Double)Int">compare</a> <a href="#1011042" title="Double">v</a>
          <span class="delimiter">}</span>
          <span class="keyword">var</span> <a title="Int" id="1011123">cv</a> = <a href="../Array.scala.html#49205" title="(i: Int)Double">x</a><a href="../LowPriorityImplicits.scala.html#9478" title="implicit scala.LowPriorityImplicits.doubleWrapper : (x: Double)scala.runtime.RichDouble" class="delimiter">(</a><a href="#1011045" title="Int">c</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#54416" title="(y: Double)Int">compare</a> <a href="#1011042" title="Double">v</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1011045" title="Int">c</a> <a href="../Int.scala.html#54782" title="(x: Int)Boolean">&gt;=</a> <a href="#1011044" title="Int">b</a> <a href="../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1011123" title="Int">cv</a> <a href="../Int.scala.html#54782" title="(x: Int)Boolean">&gt;=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#1011125" title="()Unit" class="delimiter">{</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1011123" title="Int">cv</a> <a href="../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#1010873" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#1011045" title="Int">c</a>, <a href="#1011046" title="Int">d</a><span class="delimiter">)</span>
              <a href="#1011046" title="Int">d</a> <a href="../Int.scala.html#54811" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
            <span class="delimiter">}</span>
            <a href="#1011045" title="Int">c</a> <a href="../Int.scala.html#54811" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1011045" title="Int">c</a> <a href="../Int.scala.html#54782" title="(x: Int)Boolean">&gt;=</a> <a href="#1011044" title="Int">b</a><span class="delimiter">)</span> <a href="#1011123" title="Int">cv</a> = <a href="../Array.scala.html#49205" title="(i: Int)Double">x</a><a href="../LowPriorityImplicits.scala.html#9478" title="implicit scala.LowPriorityImplicits.doubleWrapper : (x: Double)scala.runtime.RichDouble" class="delimiter">(</a><a href="#1011045" title="Int">c</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#54416" title="(y: Double)Int">compare</a> <a href="#1011042" title="Double">v</a>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1011044" title="Int">b</a> <a href="../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <a href="#1011045" title="Int">c</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#1011047" title="Boolean">done</a> = <span title="Boolean(true)" class="keyword">true</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#1010873" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#1011044" title="Int">b</a>, <a href="#1011045" title="Int">c</a><span class="delimiter">)</span>
            <a href="#1011045" title="Int">c</a> <a href="../Int.scala.html#54811" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
            <a href="#1011044" title="Int">b</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="comment">// Swap partition elements back to middle</span>
        <span class="keyword">val</span> <a title="Int" id="1011048">n</a> = <a href="#1010982" title="Int">off</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+</a> <a href="#1010983" title="Int">len</a>
        <span class="keyword">var</span> <a title="Int" id="1011049">s</a> = math.<a href="../MathCommon.scala.html#19251" title="(x: Int, y: Int)Int">min</a><span class="delimiter">(</span><a href="#1011043" title="Int">a</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><a href="#1010982" title="Int">off</a>, <a href="#1011044" title="Int">b</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><a href="#1011043" title="Int">a</a><span class="delimiter">)</span>
        <a href="#1010874" title="(_a: Int, _b: Int, n: Int)Unit">vecswap</a><span class="delimiter">(</span><a href="#1010982" title="Int">off</a>, <a href="#1011044" title="Int">b</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><a href="#1011049" title="Int">s</a>, <a href="#1011049" title="Int">s</a><span class="delimiter">)</span>
        <a href="#1011049" title="Int">s</a> = math.<a href="../MathCommon.scala.html#19251" title="(x: Int, y: Int)Int">min</a><span class="delimiter">(</span><a href="#1011046" title="Int">d</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><a href="#1011045" title="Int">c</a>, <a href="#1011048" title="Int">n</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><a href="#1011046" title="Int">d</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        <a href="#1010874" title="(_a: Int, _b: Int, n: Int)Unit">vecswap</a><span class="delimiter">(</span><a href="#1011044" title="Int">b</a>,   <a href="#1011048" title="Int">n</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><a href="#1011049" title="Int">s</a>, <a href="#1011049" title="Int">s</a><span class="delimiter">)</span>

        <span class="comment">// Recursively sort non-partition-elements</span>
        <a href="#1011049" title="Int">s</a> = <a href="#1011044" title="Int">b</a> <a href="../Int.scala.html#54811" title="(x: Int)Int">-</a> <a href="#1011043" title="Int">a</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1011049" title="Int">s</a> <a href="../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          <a href="#1010876" title="(off: Int, len: Int)Unit">sort2</a><span class="delimiter">(</span><a href="#1010982" title="Int">off</a>, <a href="#1011049" title="Int">s</a><span class="delimiter">)</span>
        <a href="#1011049" title="Int">s</a> = <a href="#1011046" title="Int">d</a> <a href="../Int.scala.html#54811" title="(x: Int)Int">-</a> <a href="#1011045" title="Int">c</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1011049" title="Int">s</a> <a href="../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          <a href="#1010876" title="(off: Int, len: Int)Unit">sort2</a><span class="delimiter">(</span><a href="#1011048" title="Int">n</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><a href="#1011049" title="Int">s</a>, <a href="#1011049" title="Int">s</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <a href="#1010876" title="(off: Int, len: Int)Unit">sort2</a><span class="delimiter">(</span><a href="#1009449" title="Int">off</a>, <a href="#1009450" title="Int">len</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(x: Array[Float], off: Int, len: Int)Unit" id="993808">sort1</a><span class="delimiter">(</span><a title="Array[Float]" id="1009444">x</a>: <a href="../Array.scala.html#1430" title="Array[Float]">Array</a><span class="delimiter">[</span>Float<span class="delimiter">]</span>, <a title="Int" id="1009445">off</a>: <a href="../Int.scala.html#386" title="Int">Int</a>, <a title="Int" id="1009446">len</a>: <a href="../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(a: Int, b: Int)Unit" id="1011322">swap</a><span class="delimiter">(</span><a title="Int" id="1011326">a</a>: <a href="../Int.scala.html#386" title="Int">Int</a>, <a title="Int" id="1011327">b</a>: <a href="../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Float" id="1011328">t</a> = <a href="../Array.scala.html#49205" title="(i: Int)Float">x</a><span class="delimiter">(</span><a href="#1011326" title="Int">a</a><span class="delimiter">)</span>
      <a href="../Array.scala.html#49206" title="(i: Int, x: Float)Unit">x</a><span class="delimiter">(</span><a href="#1011326" title="Int">a</a><span class="delimiter">)</span> = <a href="../Array.scala.html#49205" title="(i: Int)Float">x</a><span class="delimiter">(</span><a href="#1011327" title="Int">b</a><span class="delimiter">)</span>
      <a href="../Array.scala.html#49206" title="(i: Int, x: Float)Unit">x</a><span class="delimiter">(</span><a href="#1011327" title="Int">b</a><span class="delimiter">)</span> = <a href="#1011328" title="Float">t</a>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(_a: Int, _b: Int, n: Int)Unit" id="1011323">vecswap</a><span class="delimiter">(</span><a title="Int" id="1011331">_a</a>: <a href="../Int.scala.html#386" title="Int">Int</a>, <a title="Int" id="1011332">_b</a>: <a href="../Int.scala.html#386" title="Int">Int</a>, <a title="Int" id="1011333">n</a>: <a href="../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Int" id="1011334">a</a> = <a href="#1011331" title="Int">_a</a>
      <span class="keyword">var</span> <a title="Int" id="1011335">b</a> = <a href="#1011332" title="Int">_b</a>
      <span class="keyword">var</span> <a title="Int" id="1011336">i</a> = <span title="Int(0)" class="int">0</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1011336" title="Int">i</a> <a href="../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <a href="#1011333" title="Int">n</a><span class="delimiter">)</span> <a href="#1011337" title="()Unit" class="delimiter">{</a>
        <a href="#1011322" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#1011334" title="Int">a</a>, <a href="#1011335" title="Int">b</a><span class="delimiter">)</span>
        <a href="#1011336" title="Int">i</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <a href="#1011334" title="Int">a</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <a href="#1011335" title="Int">b</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(a: Int, b: Int, c: Int)Int" id="1011324">med3</a><span class="delimiter">(</span><a title="Int" id="1011354">a</a>: <a href="../Int.scala.html#386" title="Int">Int</a>, <a title="Int" id="1011355">b</a>: <a href="../Int.scala.html#386" title="Int">Int</a>, <a title="Int" id="1011356">c</a>: <a href="../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="1011357">ab</a> = <a href="../Array.scala.html#49205" title="(i: Int)Float">x</a><a href="../LowPriorityImplicits.scala.html#9477" title="implicit scala.LowPriorityImplicits.floatWrapper : (x: Float)scala.runtime.RichFloat" class="delimiter">(</a><a href="#1011354" title="Int">a</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#54416" title="(y: Float)Int">compare</a> <a href="../Array.scala.html#49205" title="(i: Int)Float">x</a><span class="delimiter">(</span><a href="#1011355" title="Int">b</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Int" id="1011358">bc</a> = <a href="../Array.scala.html#49205" title="(i: Int)Float">x</a><a href="../LowPriorityImplicits.scala.html#9477" title="implicit scala.LowPriorityImplicits.floatWrapper : (x: Float)scala.runtime.RichFloat" class="delimiter">(</a><a href="#1011355" title="Int">b</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#54416" title="(y: Float)Int">compare</a> <a href="../Array.scala.html#49205" title="(i: Int)Float">x</a><span class="delimiter">(</span><a href="#1011356" title="Int">c</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Int" id="1011359">ac</a> = <a href="../Array.scala.html#49205" title="(i: Int)Float">x</a><a href="../LowPriorityImplicits.scala.html#9477" title="implicit scala.LowPriorityImplicits.floatWrapper : (x: Float)scala.runtime.RichFloat" class="delimiter">(</a><a href="#1011354" title="Int">a</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#54416" title="(y: Float)Int">compare</a> <a href="../Array.scala.html#49205" title="(i: Int)Float">x</a><span class="delimiter">(</span><a href="#1011356" title="Int">c</a><span class="delimiter">)</span>
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#1011357" title="Int">ab</a> <a href="../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#1011358" title="Int">bc</a> <a href="../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#1011355" title="Int">b</a> <span class="keyword">else</span> <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#1011359" title="Int">ac</a> <a href="../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#1011356" title="Int">c</a> <span class="keyword">else</span> <a href="#1011354" title="Int">a</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#1011358" title="Int">bc</a> <a href="../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#1011355" title="Int">b</a> <span class="keyword">else</span> <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#1011359" title="Int">ac</a> <a href="../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#1011356" title="Int">c</a> <span class="keyword">else</span> <a href="#1011354" title="Int">a</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(off: Int, len: Int)Unit" id="1011325">sort2</a><span class="delimiter">(</span><a title="Int" id="1011470">off</a>: <a href="../Int.scala.html#386" title="Int">Int</a>, <a title="Int" id="1011471">len</a>: <a href="../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="comment">// Insertion sort on smallest arrays</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1011471" title="Int">len</a> <a href="../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <span title="Int(7)" class="int">7</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="Int" id="1011476">i</a> = <a href="#1011470" title="Int">off</a>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1011476" title="Int">i</a> <a href="../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <a href="#1011471" title="Int">len</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+</a> <a href="#1011470" title="Int">off</a><span class="delimiter">)</span> <a href="#1011477" title="()Unit" class="delimiter">{</a>
          <span class="keyword">var</span> <a title="Int" id="1011486">j</a> = <a href="#1011476" title="Int">i</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1011486" title="Int">j</a> <a href="../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <a href="#1011470" title="Int">off</a> <a href="../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="../Array.scala.html#49205" title="(i: Int)Float">x</a><a href="../LowPriorityImplicits.scala.html#9477" title="implicit scala.LowPriorityImplicits.floatWrapper : (x: Float)scala.runtime.RichFloat" class="delimiter">(</a><a href="#1011486" title="Int">j</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#54416" title="(y: Float)Int">compare</a> <a href="../Array.scala.html#49205" title="(i: Int)Float">x</a><span class="delimiter">(</span><a href="#1011486" title="Int">j</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#1011487" title="()Unit" class="delimiter">{</a>
            <a href="#1011322" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#1011486" title="Int">j</a>, <a href="#1011486" title="Int">j</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
            <a href="#1011486" title="Int">j</a> <a href="../Int.scala.html#54811" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
          <a href="#1011476" title="Int">i</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="comment">// Choose a partition element, v</span>
        <span class="keyword">var</span> <a title="Int" id="1011542">m</a> = <a href="#1011470" title="Int">off</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+</a> <span class="delimiter">(</span><a href="#1011471" title="Int">len</a> <a href="../Int.scala.html#54742" title="(x: Int)Int">&gt;&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>        <span class="comment">// Small arrays, middle element</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1011471" title="Int">len</a> <a href="../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Int(7)" class="int">7</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Int" id="1011564">l</a> = <a href="#1011470" title="Int">off</a>
          <span class="keyword">var</span> <a title="Int" id="1011565">n</a> = <a href="#1011470" title="Int">off</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+</a> <a href="#1011471" title="Int">len</a> <a href="../Int.scala.html#54811" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1011471" title="Int">len</a> <a href="../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Int(40)" class="int">40</span><span class="delimiter">)</span> <span class="delimiter">{</span>        <span class="comment">// Big arrays, pseudomedian of 9</span>
            <span class="keyword">var</span> <a title="Int" id="1011578">s</a> = <a href="#1011471" title="Int">len</a> <a href="../Int.scala.html#54825" title="(x: Int)Int">/</a> <span title="Int(8)" class="int">8</span>
            <a href="#1011564" title="Int">l</a> = <a href="#1011324" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#1011564" title="Int">l</a>, <a href="#1011564" title="Int">l</a><a href="../Int.scala.html#54804" title="(x: Int)Int">+</a><a href="#1011578" title="Int">s</a>, <a href="#1011564" title="Int">l</a><a href="../Int.scala.html#54804" title="(x: Int)Int">+</a><span title="Int(2)" class="int">2</span><a href="../Int.scala.html#54818" title="(x: Int)Int">*</a><a href="#1011578" title="Int">s</a><span class="delimiter">)</span>
            <a href="#1011542" title="Int">m</a> = <a href="#1011324" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#1011542" title="Int">m</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><a href="#1011578" title="Int">s</a>, <a href="#1011542" title="Int">m</a>, <a href="#1011542" title="Int">m</a><a href="../Int.scala.html#54804" title="(x: Int)Int">+</a><a href="#1011578" title="Int">s</a><span class="delimiter">)</span>
            <a href="#1011565" title="Int">n</a> = <a href="#1011324" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#1011565" title="Int">n</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><span title="Int(2)" class="int">2</span><a href="../Int.scala.html#54818" title="(x: Int)Int">*</a><a href="#1011578" title="Int">s</a>, <a href="#1011565" title="Int">n</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><a href="#1011578" title="Int">s</a>, <a href="#1011565" title="Int">n</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#1011542" title="Int">m</a> = <a href="#1011324" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#1011564" title="Int">l</a>, <a href="#1011542" title="Int">m</a>, <a href="#1011565" title="Int">n</a><span class="delimiter">)</span> <span class="comment">// Mid-size, med of 3</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="Float" id="1011543">v</a> = <a href="../Array.scala.html#49205" title="(i: Int)Float">x</a><span class="delimiter">(</span><a href="#1011542" title="Int">m</a><span class="delimiter">)</span>

        <span class="comment">// Establish Invariant: v* (&lt;v)* (&gt;v)* v*</span>
        <span class="keyword">var</span> <a title="Int" id="1011544">a</a> = <a href="#1011470" title="Int">off</a>
        <span class="keyword">var</span> <a title="Int" id="1011545">b</a> = <a href="#1011544" title="Int">a</a>
        <span class="keyword">var</span> <a title="Int" id="1011546">c</a> = <a href="#1011470" title="Int">off</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+</a> <a href="#1011471" title="Int">len</a> <a href="../Int.scala.html#54811" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>
        <span class="keyword">var</span> <a title="Int" id="1011547">d</a> = <a href="#1011546" title="Int">c</a>
        <span class="keyword">var</span> <a title="Boolean" id="1011548">done</a> = <span title="Boolean(false)" class="keyword">false</span>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#1011548" title="Boolean">done</a><span class="delimiter">)</span> <a href="#1011551" title="()Unit" class="delimiter">{</a>
          <span class="keyword">var</span> <a title="Int" id="1011623">bv</a> = <a href="../Array.scala.html#49205" title="(i: Int)Float">x</a><a href="../LowPriorityImplicits.scala.html#9477" title="implicit scala.LowPriorityImplicits.floatWrapper : (x: Float)scala.runtime.RichFloat" class="delimiter">(</a><a href="#1011545" title="Int">b</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#54416" title="(y: Float)Int">compare</a> <a href="#1011543" title="Float">v</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1011545" title="Int">b</a> <a href="../Int.scala.html#54768" title="(x: Int)Boolean">&lt;=</a> <a href="#1011546" title="Int">c</a> <a href="../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1011623" title="Int">bv</a> <a href="../Int.scala.html#54768" title="(x: Int)Boolean">&lt;=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#1011625" title="()Unit" class="delimiter">{</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1011623" title="Int">bv</a> <a href="../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#1011322" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#1011544" title="Int">a</a>, <a href="#1011545" title="Int">b</a><span class="delimiter">)</span>
              <a href="#1011544" title="Int">a</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
            <span class="delimiter">}</span>
            <a href="#1011545" title="Int">b</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1011545" title="Int">b</a> <a href="../Int.scala.html#54768" title="(x: Int)Boolean">&lt;=</a> <a href="#1011546" title="Int">c</a><span class="delimiter">)</span> <a href="#1011623" title="Int">bv</a> = <a href="../Array.scala.html#49205" title="(i: Int)Float">x</a><a href="../LowPriorityImplicits.scala.html#9477" title="implicit scala.LowPriorityImplicits.floatWrapper : (x: Float)scala.runtime.RichFloat" class="delimiter">(</a><a href="#1011545" title="Int">b</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#54416" title="(y: Float)Int">compare</a> <a href="#1011543" title="Float">v</a>
          <span class="delimiter">}</span>
          <span class="keyword">var</span> <a title="Int" id="1011624">cv</a> = <a href="../Array.scala.html#49205" title="(i: Int)Float">x</a><a href="../LowPriorityImplicits.scala.html#9477" title="implicit scala.LowPriorityImplicits.floatWrapper : (x: Float)scala.runtime.RichFloat" class="delimiter">(</a><a href="#1011546" title="Int">c</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#54416" title="(y: Float)Int">compare</a> <a href="#1011543" title="Float">v</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1011546" title="Int">c</a> <a href="../Int.scala.html#54782" title="(x: Int)Boolean">&gt;=</a> <a href="#1011545" title="Int">b</a> <a href="../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1011624" title="Int">cv</a> <a href="../Int.scala.html#54782" title="(x: Int)Boolean">&gt;=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#1011626" title="()Unit" class="delimiter">{</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1011624" title="Int">cv</a> <a href="../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#1011322" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#1011546" title="Int">c</a>, <a href="#1011547" title="Int">d</a><span class="delimiter">)</span>
              <a href="#1011547" title="Int">d</a> <a href="../Int.scala.html#54811" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
            <span class="delimiter">}</span>
            <a href="#1011546" title="Int">c</a> <a href="../Int.scala.html#54811" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1011546" title="Int">c</a> <a href="../Int.scala.html#54782" title="(x: Int)Boolean">&gt;=</a> <a href="#1011545" title="Int">b</a><span class="delimiter">)</span> <a href="#1011624" title="Int">cv</a> = <a href="../Array.scala.html#49205" title="(i: Int)Float">x</a><a href="../LowPriorityImplicits.scala.html#9477" title="implicit scala.LowPriorityImplicits.floatWrapper : (x: Float)scala.runtime.RichFloat" class="delimiter">(</a><a href="#1011546" title="Int">c</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#54416" title="(y: Float)Int">compare</a> <a href="#1011543" title="Float">v</a>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1011545" title="Int">b</a> <a href="../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <a href="#1011546" title="Int">c</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#1011548" title="Boolean">done</a> = <span title="Boolean(true)" class="keyword">true</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#1011322" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#1011545" title="Int">b</a>, <a href="#1011546" title="Int">c</a><span class="delimiter">)</span>
            <a href="#1011546" title="Int">c</a> <a href="../Int.scala.html#54811" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
            <a href="#1011545" title="Int">b</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="comment">// Swap partition elements back to middle</span>
        <span class="keyword">val</span> <a title="Int" id="1011549">n</a> = <a href="#1011470" title="Int">off</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+</a> <a href="#1011471" title="Int">len</a>
        <span class="keyword">var</span> <a title="Int" id="1011550">s</a> = math.<a href="../MathCommon.scala.html#19251" title="(x: Int, y: Int)Int">min</a><span class="delimiter">(</span><a href="#1011544" title="Int">a</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><a href="#1011470" title="Int">off</a>, <a href="#1011545" title="Int">b</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><a href="#1011544" title="Int">a</a><span class="delimiter">)</span>
        <a href="#1011323" title="(_a: Int, _b: Int, n: Int)Unit">vecswap</a><span class="delimiter">(</span><a href="#1011470" title="Int">off</a>, <a href="#1011545" title="Int">b</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><a href="#1011550" title="Int">s</a>, <a href="#1011550" title="Int">s</a><span class="delimiter">)</span>
        <a href="#1011550" title="Int">s</a> = math.<a href="../MathCommon.scala.html#19251" title="(x: Int, y: Int)Int">min</a><span class="delimiter">(</span><a href="#1011547" title="Int">d</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><a href="#1011546" title="Int">c</a>, <a href="#1011549" title="Int">n</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><a href="#1011547" title="Int">d</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        <a href="#1011323" title="(_a: Int, _b: Int, n: Int)Unit">vecswap</a><span class="delimiter">(</span><a href="#1011545" title="Int">b</a>,   <a href="#1011549" title="Int">n</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><a href="#1011550" title="Int">s</a>, <a href="#1011550" title="Int">s</a><span class="delimiter">)</span>

        <span class="comment">// Recursively sort non-partition-elements</span>
        <a href="#1011550" title="Int">s</a> = <a href="#1011545" title="Int">b</a> <a href="../Int.scala.html#54811" title="(x: Int)Int">-</a> <a href="#1011544" title="Int">a</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1011550" title="Int">s</a> <a href="../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          <a href="#1011325" title="(off: Int, len: Int)Unit">sort2</a><span class="delimiter">(</span><a href="#1011470" title="Int">off</a>, <a href="#1011550" title="Int">s</a><span class="delimiter">)</span>
        <a href="#1011550" title="Int">s</a> = <a href="#1011547" title="Int">d</a> <a href="../Int.scala.html#54811" title="(x: Int)Int">-</a> <a href="#1011546" title="Int">c</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1011550" title="Int">s</a> <a href="../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          <a href="#1011325" title="(off: Int, len: Int)Unit">sort2</a><span class="delimiter">(</span><a href="#1011549" title="Int">n</a><a href="../Int.scala.html#54811" title="(x: Int)Int">-</a><a href="#1011550" title="Int">s</a>, <a href="#1011550" title="Int">s</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <a href="#1011325" title="(off: Int, len: Int)Unit">sort2</a><span class="delimiter">(</span><a href="#1009445" title="Int">off</a>, <a href="#1009446" title="Int">len</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="[K](a: Array[K], lo: Int, hi: Int, scratch: Array[K], f: (K, K) =&gt; Boolean)(implicit evidence$11: scala.reflect.ClassManifest[K])Unit" id="1009613">stableSort</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="993811">K</a> : ClassManifest<span class="delimiter">]</span><span class="delimiter">(</span><a title="Array[K]" id="1009608">a</a>: <a href="../Array.scala.html#1430" title="Array[K]">Array</a><span class="delimiter">[</span>K<span class="delimiter">]</span>, <a title="Int" id="1009609">lo</a>: <a href="../Int.scala.html#386" title="Int">Int</a>, <a title="Int" id="1009610">hi</a>: <a href="../Int.scala.html#386" title="Int">Int</a>, <a title="Array[K]" id="1009611">scratch</a>: <a href="../Array.scala.html#1430" title="Array[K]">Array</a><span class="delimiter">[</span>K<span class="delimiter">]</span>, <a title="(K, K) =&gt; Boolean" id="1009612">f</a>: <span class="delimiter">(</span>K,K<span class="delimiter">)</span> =&gt; Boolean<span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1009609" title="Int">lo</a> <a href="../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <a href="#1009610" title="Int">hi</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="1011879">mid</a> = <span class="delimiter">(</span><a href="#1009609" title="Int">lo</a><a href="../Int.scala.html#54804" title="(x: Int)Int">+</a><a href="#1009610" title="Int">hi</a><span class="delimiter">)</span> <a href="../Int.scala.html#54825" title="(x: Int)Int">/</a> <span title="Int(2)" class="int">2</span>
      <a href="#1009613" title="(a: Array[K], lo: Int, hi: Int, scratch: Array[K], f: (K, K) =&gt; Boolean)(implicit evidence$11: scala.reflect.ClassManifest[K])Unit">stableSort</a><a href="#1009613" title="scala.reflect.ClassManifest[K]" class="delimiter">(</a><a href="#1009608" title="Array[K]">a</a>, <a href="#1009609" title="Int">lo</a>, <a href="#1011879" title="Int">mid</a>, <a href="#1009611" title="Array[K]">scratch</a>, <a href="#1009612" title="(K, K) =&gt; Boolean">f</a><span class="delimiter">)</span>
      <a href="#1009613" title="(a: Array[K], lo: Int, hi: Int, scratch: Array[K], f: (K, K) =&gt; Boolean)(implicit evidence$11: scala.reflect.ClassManifest[K])Unit">stableSort</a><a href="#1009613" title="scala.reflect.ClassManifest[K]" class="delimiter">(</a><a href="#1009608" title="Array[K]">a</a>, <a href="#1011879" title="Int">mid</a><a href="../Int.scala.html#54804" title="(x: Int)Int">+</a><span title="Int(1)" class="int">1</span>, <a href="#1009610" title="Int">hi</a>, <a href="#1009611" title="Array[K]">scratch</a>, <a href="#1009612" title="(K, K) =&gt; Boolean">f</a><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Int" id="1011880">k</a>, <a title="Int" id="1011881">t_lo</a> = <a href="#1009609" title="Int">lo</a>
      <span class="keyword">var</span> <a title="Int" id="1011882">t_hi</a> = <a href="#1011879" title="Int">mid</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1011880" title="Int">k</a> <a href="../Int.scala.html#54768" title="(x: Int)Boolean">&lt;=</a> <a href="#1009610" title="Int">hi</a><span class="delimiter">)</span> <a href="#1011883" title="()Unit" class="delimiter">{</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1011881" title="Int">t_lo</a> <a href="../Int.scala.html#54768" title="(x: Int)Boolean">&lt;=</a> <a href="#1011879" title="Int">mid</a><span class="delimiter">)</span> <a href="../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1011882" title="Int">t_hi</a> <a href="../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <a href="#1009610" title="Int">hi</a><span class="delimiter">)</span> <a href="../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../Function2.scala.html#59852" title="(v1: K, v2: K)Boolean">f</a><span class="delimiter">(</span><a href="../Array.scala.html#49205" title="(i: Int)K">a</a><span class="delimiter">(</span><a href="#1011882" title="Int">t_hi</a><span class="delimiter">)</span>, <a href="../Array.scala.html#49205" title="(i: Int)K">a</a><span class="delimiter">(</span><a href="#1011881" title="Int">t_lo</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../Array.scala.html#49206" title="(i: Int, x: K)Unit">scratch</a><span class="delimiter">(</span><a href="#1011880" title="Int">k</a><span class="delimiter">)</span> = <a href="../Array.scala.html#49205" title="(i: Int)K">a</a><span class="delimiter">(</span><a href="#1011881" title="Int">t_lo</a><span class="delimiter">)</span>
          <a href="#1011881" title="Int">t_lo</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="../Array.scala.html#49206" title="(i: Int, x: K)Unit">scratch</a><span class="delimiter">(</span><a href="#1011880" title="Int">k</a><span class="delimiter">)</span> = <a href="../Array.scala.html#49205" title="(i: Int)K">a</a><span class="delimiter">(</span><a href="#1011882" title="Int">t_hi</a><span class="delimiter">)</span>
          <a href="#1011882" title="Int">t_hi</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <span class="delimiter">}</span>
        <a href="#1011880" title="Int">k</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>
      <a href="#1011880" title="Int">k</a> = <a href="#1009609" title="Int">lo</a>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1011880" title="Int">k</a> <a href="../Int.scala.html#54768" title="(x: Int)Boolean">&lt;=</a> <a href="#1009610" title="Int">hi</a><span class="delimiter">)</span> <a href="#1012036" title="()Unit" class="delimiter">{</a>
        <a href="../Array.scala.html#49206" title="(i: Int, x: K)Unit">a</a><span class="delimiter">(</span><a href="#1011880" title="Int">k</a><span class="delimiter">)</span> = <a href="../Array.scala.html#49205" title="(i: Int)K">scratch</a><span class="delimiter">(</span><a href="#1011880" title="Int">k</a><span class="delimiter">)</span>
        <a href="#1011880" title="Int">k</a> <a href="../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>