<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>mongodb/net/liftweb/mongodb/Meta.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*
 * Copyright 2010-2011 WorldWide Conferencing, LLC
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */</span>

<span class="keyword">package</span> net.liftweb
<span class="keyword">package</span> mongodb

<span class="keyword">import</span> json._

<span class="keyword">import</span> java.util.<span class="delimiter">{</span>Calendar, Date, GregorianCalendar, UUID<span class="delimiter">}</span>
<span class="keyword">import</span> java.util.regex.Pattern

<span class="keyword">import</span> org.bson.types.ObjectId

<span class="keyword">private</span><span class="delimiter">[</span>mongodb<span class="delimiter">]</span> <span class="keyword">object</span> <a title="object net.liftweb.mongodb.Meta" id="12309">Meta</a> <span title="ScalaObject" class="delimiter">{</span>

  <span class="comment">/*
  * For converting scala objects into DBObject values
  */</span>
  <span class="keyword">object</span> <a title="object net.liftweb.mongodb.Meta.Reflection" id="199468">Reflection</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="keyword">import</span> java.lang.reflect._
    <span class="keyword">import</span> com.mongodb.<span class="delimiter">{</span>BasicDBObject, DBRef<span class="delimiter">}</span>

    <span class="comment">/*
    * These don't require a conversion and can be put directly into a DBObject
    */</span>
    <span class="keyword">val</span> <a title="scala.collection.immutable.Set[java.lang.Class[_]]" id="199481">primitives</a> = <span title="[A](elems: A*)scala.collection.immutable.Set[A]">Set</span><span title="(elems: Class[_]*)scala.collection.immutable.Set[Class[_]]" class="delimiter">[</span><span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span>classOf<span title="java.lang.Class[String](classOf[java.lang.String])" class="delimiter">[</span>String<span class="delimiter">]</span>, classOf<span title="java.lang.Class[Int](classOf[scala.Int])" class="delimiter">[</span>Int<span class="delimiter">]</span>, classOf<span title="java.lang.Class[Long](classOf[scala.Long])" class="delimiter">[</span>Long<span class="delimiter">]</span>, classOf<span title="java.lang.Class[Double](classOf[scala.Double])" class="delimiter">[</span>Double<span class="delimiter">]</span>,
                                  classOf<span title="java.lang.Class[Float](classOf[scala.Float])" class="delimiter">[</span>Float<span class="delimiter">]</span>, classOf<span title="java.lang.Class[Byte](classOf[scala.Byte])" class="delimiter">[</span>Byte<span class="delimiter">]</span>, classOf<span title="java.lang.Class[BigInt](classOf[scala.math.BigInt])" class="delimiter">[</span>BigInt<span class="delimiter">]</span>, classOf<span title="java.lang.Class[Boolean](classOf[scala.Boolean])" class="delimiter">[</span>Boolean<span class="delimiter">]</span>,
                                  classOf<span title="java.lang.Class[Short](classOf[scala.Short])" class="delimiter">[</span>Short<span class="delimiter">]</span>, classOf<span title="java.lang.Class[java.lang.Integer](classOf[java.lang.Integer])" class="delimiter">[</span>java.lang.Integer<span class="delimiter">]</span>, classOf<span title="java.lang.Class[java.lang.Long](classOf[java.lang.Long])" class="delimiter">[</span>java.lang.Long<span class="delimiter">]</span>,
                                  classOf<span title="java.lang.Class[java.lang.Double](classOf[java.lang.Double])" class="delimiter">[</span>java.lang.Double<span class="delimiter">]</span>, classOf<span title="java.lang.Class[java.lang.Float](classOf[java.lang.Float])" class="delimiter">[</span>java.lang.Float<span class="delimiter">]</span>,
                                  classOf<span title="java.lang.Class[java.lang.Byte](classOf[java.lang.Byte])" class="delimiter">[</span>java.lang.Byte<span class="delimiter">]</span>, classOf<span title="java.lang.Class[java.lang.Boolean](classOf[java.lang.Boolean])" class="delimiter">[</span>java.lang.Boolean<span class="delimiter">]</span>,
                                  classOf<span title="java.lang.Class[java.lang.Short](classOf[java.lang.Short])" class="delimiter">[</span>java.lang.Short<span class="delimiter">]</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(clazz: Class[_])Boolean" id="199483">primitive_?</a><span class="delimiter">(</span><a title="Class[_]" id="199602">clazz</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#199481" title="=&gt; scala.collection.immutable.Set[java.lang.Class[_]]">primitives</a> <span title="(elem: java.lang.Class[_])Boolean">contains</span> <a href="#199602" title="Class[_]">clazz</a>

    <span class="comment">/*
    * This is used to convert DBObjects into JObjects
    */</span>
    <span class="keyword">def</span> <a title="(a: Any)Product with net.liftweb.json.JsonAST.JValue with Serializable{type Values &gt;: String with BigInt with Double with Boolean}" id="199484">primitive2jvalue</a><span class="delimiter">(</span><a title="Any" id="205529">a</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#205529" title="Any">a</a> <span title="&lt;none&gt; extends Product with net.liftweb.json.JsonAST.JValue with Serializable" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="net.liftweb.json.JsonAST.JString" id="205532">x</a>: <span title="String">String</span> =&gt; <a href="../../../../json/net/liftweb/json/JsonAST.scala.html#50133" title="(s: String)net.liftweb.json.JsonAST.JString">JString</a><span class="delimiter">(</span><a href="#205532" title="String">x</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="net.liftweb.json.JsonAST.JInt" id="205535">x</a>: <span title="Int">Int</span> =&gt; <a href="../../../../json/net/liftweb/json/JsonAST.scala.html#51543" title="(num: BigInt)net.liftweb.json.JsonAST.JInt">JInt</a><span class="delimiter">(</span><a href="#205535" title="implicit scala.math.BigInt.int2bigInt : (i: Int)scala.math.BigInt">x</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="net.liftweb.json.JsonAST.JInt" id="205539">x</a>: <span title="Long">Long</span> =&gt; <a href="../../../../json/net/liftweb/json/JsonAST.scala.html#51543" title="(num: BigInt)net.liftweb.json.JsonAST.JInt">JInt</a><span class="delimiter">(</span><a href="#205539" title="implicit scala.math.BigInt.long2bigInt : (l: Long)scala.math.BigInt">x</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="net.liftweb.json.JsonAST.JDouble" id="205542">x</a>: <span title="Double">Double</span> =&gt; <a href="../../../../json/net/liftweb/json/JsonAST.scala.html#51514" title="(num: Double)net.liftweb.json.JsonAST.JDouble">JDouble</a><span class="delimiter">(</span><a href="#205542" title="Double">x</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="net.liftweb.json.JsonAST.JDouble" id="205545">x</a>: <span title="Float">Float</span> =&gt; <a href="../../../../json/net/liftweb/json/JsonAST.scala.html#51514" title="(num: Double)net.liftweb.json.JsonAST.JDouble">JDouble</a><span class="delimiter">(</span><a href="#205545" title="=&gt; Double">x</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="net.liftweb.json.JsonAST.JInt" id="205548">x</a>: <span title="Byte">Byte</span> =&gt; <a href="../../../../json/net/liftweb/json/JsonAST.scala.html#51543" title="(num: BigInt)net.liftweb.json.JsonAST.JInt">JInt</a><span class="delimiter">(</span><span title="(i: Int)scala.math.BigInt">BigInt</span><span class="delimiter">(</span><a href="#205548" title="=&gt; Int">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="net.liftweb.json.JsonAST.JInt" id="205559">x</a>: <span title="BigInt">BigInt</span> =&gt; <a href="../../../../json/net/liftweb/json/JsonAST.scala.html#51543" title="(num: BigInt)net.liftweb.json.JsonAST.JInt">JInt</a><span class="delimiter">(</span><a href="#205559" title="BigInt">x</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="net.liftweb.json.JsonAST.JBool" id="205562">x</a>: <span title="Boolean">Boolean</span> =&gt; <a href="../../../../json/net/liftweb/json/JsonAST.scala.html#51495" title="(value: Boolean)net.liftweb.json.JsonAST.JBool">JBool</a><span class="delimiter">(</span><a href="#205562" title="Boolean">x</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="net.liftweb.json.JsonAST.JInt" id="205565">x</a>: <span title="Short">Short</span> =&gt; <a href="../../../../json/net/liftweb/json/JsonAST.scala.html#51543" title="(num: BigInt)net.liftweb.json.JsonAST.JInt">JInt</a><span class="delimiter">(</span><span title="(i: Int)scala.math.BigInt">BigInt</span><span class="delimiter">(</span><a href="#205565" title="=&gt; Int">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="net.liftweb.json.JsonAST.JInt" id="205576">x</a>: java.lang.<span title="java.lang.Integer">Integer</span> =&gt; <a href="../../../../json/net/liftweb/json/JsonAST.scala.html#51543" title="(num: BigInt)net.liftweb.json.JsonAST.JInt">JInt</a><span class="delimiter">(</span><span title="(i: Int)scala.math.BigInt">BigInt</span><span class="delimiter">(</span><a href="#205576" title="java.lang.Integer">x</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Int" class="delimiter">[</span><span title="Int">Int</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="net.liftweb.json.JsonAST.JInt" id="205587">x</a>: java.lang.<span title="java.lang.Long">Long</span> =&gt; <a href="../../../../json/net/liftweb/json/JsonAST.scala.html#51543" title="(num: BigInt)net.liftweb.json.JsonAST.JInt">JInt</a><span class="delimiter">(</span><span title="(l: Long)scala.math.BigInt">BigInt</span><span class="delimiter">(</span><a href="#205587" title="java.lang.Long">x</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Long" class="delimiter">[</span><span title="Long">Long</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="net.liftweb.json.JsonAST.JDouble" id="205598">x</a>: java.lang.<span title="java.lang.Double">Double</span> =&gt; <a href="../../../../json/net/liftweb/json/JsonAST.scala.html#51514" title="(num: Double)net.liftweb.json.JsonAST.JDouble">JDouble</a><span class="delimiter">(</span><a href="#205598" title="java.lang.Double">x</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Double" class="delimiter">[</span><span title="Double">Double</span><span class="delimiter">]</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="net.liftweb.json.JsonAST.JDouble" id="205601">x</a>: java.lang.<span title="java.lang.Float">Float</span> =&gt; <a href="../../../../json/net/liftweb/json/JsonAST.scala.html#51514" title="(num: Double)net.liftweb.json.JsonAST.JDouble">JDouble</a><span class="delimiter">(</span><a href="#205601" title="java.lang.Float">x</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="=&gt; Double" class="delimiter">[</span><span title="Float">Float</span><span class="delimiter">]</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="net.liftweb.json.JsonAST.JInt" id="205604">x</a>: java.lang.<span title="java.lang.Byte">Byte</span> =&gt; <a href="../../../../json/net/liftweb/json/JsonAST.scala.html#51543" title="(num: BigInt)net.liftweb.json.JsonAST.JInt">JInt</a><span class="delimiter">(</span><span title="(i: Int)scala.math.BigInt">BigInt</span><span class="delimiter">(</span><a href="#205604" title="java.lang.Byte">x</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="=&gt; Int" class="delimiter">[</span><span title="Byte">Byte</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="net.liftweb.json.JsonAST.JBool" id="205615">x</a>: java.lang.<span title="java.lang.Boolean">Boolean</span> =&gt; <a href="../../../../json/net/liftweb/json/JsonAST.scala.html#51495" title="(value: Boolean)net.liftweb.json.JsonAST.JBool">JBool</a><span class="delimiter">(</span><a href="#205615" title="java.lang.Boolean">x</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Boolean" class="delimiter">[</span><span title="Boolean">Boolean</span><span class="delimiter">]</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="net.liftweb.json.JsonAST.JInt" id="205618">x</a>: java.lang.<span title="java.lang.Short">Short</span> =&gt; <a href="../../../../json/net/liftweb/json/JsonAST.scala.html#51543" title="(num: BigInt)net.liftweb.json.JsonAST.JInt">JInt</a><span class="delimiter">(</span><span title="(i: Int)scala.math.BigInt">BigInt</span><span class="delimiter">(</span><a href="#205618" title="java.lang.Short">x</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="=&gt; Int" class="delimiter">[</span><span title="Short">Short</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Nothing">_</span> =&gt; <span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="java.lang.String(&quot;not a primitive &quot;)" class="string">&quot;not a primitive &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#205529" title="Any">a</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="AnyRef" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span>.<span title="()java.lang.Class[_]">getClass</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/*
    * Date types require formatting
    */</span>
    <span class="keyword">val</span> <a title="scala.collection.immutable.Set[java.lang.Class[_]]" id="199485">datetypes</a> = <span title="[A](elems: A*)scala.collection.immutable.Set[A]">Set</span><span title="(elems: Class[_]*)scala.collection.immutable.Set[Class[_]]" class="delimiter">[</span><span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span>classOf<span title="java.lang.Class[java.util.Calendar](classOf[java.util.Calendar])" class="delimiter">[</span>Calendar<span class="delimiter">]</span>, classOf<span title="java.lang.Class[java.util.Date](classOf[java.util.Date])" class="delimiter">[</span>Date<span class="delimiter">]</span>, classOf<span title="java.lang.Class[java.util.GregorianCalendar](classOf[java.util.GregorianCalendar])" class="delimiter">[</span>GregorianCalendar<span class="delimiter">]</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(clazz: Class[_])Boolean" id="199487">datetype_?</a><span class="delimiter">(</span><a title="Class[_]" id="199887">clazz</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#199485" title="=&gt; scala.collection.immutable.Set[java.lang.Class[_]]">datetypes</a> <span title="(elem: java.lang.Class[_])Boolean">contains</span> <a href="#199887" title="Class[_]">clazz</a>

    <span class="keyword">def</span> <a title="(a: Any)(implicit formats: net.liftweb.json.Formats)net.liftweb.json.JsonAST.JObject" id="199488">datetype2jvalue</a><span class="delimiter">(</span><a title="Any" id="205701">a</a>: <span title="Any">Any</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="net.liftweb.json.Formats" id="205702">formats</a>: <a href="../../../../json/net/liftweb/json/Formats.scala.html#11107" title="net.liftweb.json.Formats">Formats</a><span class="delimiter">)</span> = <a href="#205701" title="Any">a</a> <span title="net.liftweb.json.JsonAST.JObject" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="net.liftweb.json.JsonAST.JObject" id="205705">x</a>: <span title="java.util.Calendar">Calendar</span> =&gt; <a href="#199470" title="(d: java.util.Date, formats: net.liftweb.json.Formats)net.liftweb.json.JsonAST.JObject">dateAsJValue</a><span class="delimiter">(</span><a href="#205705" title="java.util.Calendar">x</a>.<span title="()java.util.Date">getTime</span>, <a href="#205702" title="net.liftweb.json.Formats">formats</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="net.liftweb.json.JsonAST.JObject" id="205727">x</a>: <span title="java.util.Date">Date</span> =&gt; <a href="#199470" title="(d: java.util.Date, formats: net.liftweb.json.Formats)net.liftweb.json.JsonAST.JObject">dateAsJValue</a><span class="delimiter">(</span><a href="#205727" title="java.util.Date">x</a>, <a href="#205702" title="net.liftweb.json.Formats">formats</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(a: Any)java.util.Date" id="199489">datetype2dbovalue</a><span class="delimiter">(</span><a title="Any" id="199988">a</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#199988" title="Any">a</a> <span title="java.util.Date" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="java.util.Date" id="199991">x</a>: <span title="java.util.Calendar">Calendar</span> =&gt; <a href="#199991" title="java.util.Calendar">x</a>.<span title="()java.util.Date">getTime</span>
      <span class="keyword">case</span> <a title="java.util.Date" id="199992">x</a>: <span title="java.util.Date">Date</span> =&gt; <a href="#199992" title="java.util.Date">x</a>
    <span class="delimiter">}</span>

    <span class="comment">/*
    * Extended Mongo types.
    */</span>
    <span class="keyword">val</span> <a title="scala.collection.immutable.Set[java.lang.Class[_]]" id="199490">mongotypes</a> = <span title="[A](elems: A*)scala.collection.immutable.Set[A]">Set</span><span title="(elems: Class[_]*)scala.collection.immutable.Set[Class[_]]" class="delimiter">[</span><span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span>
      classOf<span title="java.lang.Class[com.mongodb.DBRef](classOf[com.mongodb.DBRef])" class="delimiter">[</span>DBRef<span class="delimiter">]</span>, classOf<span title="java.lang.Class[org.bson.types.ObjectId](classOf[org.bson.types.ObjectId])" class="delimiter">[</span>ObjectId<span class="delimiter">]</span>, classOf<span title="java.lang.Class[java.util.regex.Pattern](classOf[java.util.regex.Pattern])" class="delimiter">[</span>Pattern<span class="delimiter">]</span>, classOf<span title="java.lang.Class[java.util.UUID](classOf[java.util.UUID])" class="delimiter">[</span>UUID<span class="delimiter">]</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(clazz: Class[_])Boolean" id="199492">mongotype_?</a><span class="delimiter">(</span><a title="Class[_]" id="199636">clazz</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#199490" title="=&gt; scala.collection.immutable.Set[java.lang.Class[_]]">mongotypes</a> <span title="(elem: java.lang.Class[_])Boolean">contains</span> <a href="#199636" title="Class[_]">clazz</a>

    <span class="comment">/*
    * Definitive place for JValue conversion of mongo types
    */</span>
    <span class="keyword">def</span> <a title="(a: Any)(implicit formats: net.liftweb.json.Formats)net.liftweb.json.package.JValue" id="199493">mongotype2jvalue</a><span class="delimiter">(</span><a title="Any" id="205667">a</a>: <span title="Any">Any</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="net.liftweb.json.Formats" id="205668">formats</a>: <a href="../../../../json/net/liftweb/json/Formats.scala.html#11107" title="net.liftweb.json.Formats">Formats</a><span class="delimiter">)</span> = <a href="#205667" title="Any">a</a> <span title="net.liftweb.json.package.JValue" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="net.liftweb.json.package.JValue" id="205671">x</a>: <span title="org.bson.types.ObjectId">ObjectId</span> =&gt; <a href="#199474" title="(oid: org.bson.types.ObjectId, formats: net.liftweb.json.Formats)net.liftweb.json.package.JValue">objectIdAsJValue</a><span class="delimiter">(</span><a href="#205671" title="org.bson.types.ObjectId">x</a>, <a href="#205668" title="net.liftweb.json.Formats">formats</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="net.liftweb.json.package.JValue" id="205681">x</a>: <span title="java.util.regex.Pattern">Pattern</span> =&gt; <a href="#199472" title="(p: java.util.regex.Pattern)net.liftweb.json.package.JValue">patternAsJValue</a><span class="delimiter">(</span><a href="#205681" title="java.util.regex.Pattern">x</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="net.liftweb.json.package.JValue" id="205684">x</a>: <span title="java.util.UUID">UUID</span> =&gt; <a href="#199473" title="(u: java.util.UUID)net.liftweb.json.package.JValue">uuidAsJValue</a><span class="delimiter">(</span><a href="#205684" title="java.util.UUID">x</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Nothing" id="205687">x</a>: <span title="com.mongodb.DBRef">DBRef</span> =&gt; <span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="java.lang.String(&quot;DBRefs are not supported.&quot;)" class="string">&quot;DBRefs are not supported.&quot;</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Nothing">_</span> =&gt; <span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="java.lang.String(&quot;not a mongotype &quot;)" class="string">&quot;not a mongotype &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#205667" title="Any">a</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="AnyRef" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span>.<span title="()java.lang.Class[_]">getClass</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(d: java.util.Date, formats: net.liftweb.json.Formats)net.liftweb.json.JsonAST.JObject" id="199470">dateAsJValue</a><span class="delimiter">(</span><a title="java.util.Date" id="205706">d</a>: <span title="java.util.Date">Date</span>, <a title="net.liftweb.json.Formats" id="205707">formats</a>: <a href="../../../../json/net/liftweb/json/Formats.scala.html#11107" title="net.liftweb.json.Formats">Formats</a><span class="delimiter">)</span> = <a href="../../../../json/net/liftweb/json/JsonAST.scala.html#51392" title="(obj: List[net.liftweb.json.JsonAST.JField])net.liftweb.json.JsonAST.JObject">JObject</a><span class="delimiter">(</span><a href="../../../../json/net/liftweb/json/JsonAST.scala.html#50050" title="(name: String, value: net.liftweb.json.JsonAST.JValue)net.liftweb.json.JsonAST.JField">JField</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$dt&quot;)" class="string">&quot;$dt&quot;</span>, <a href="../../../../json/net/liftweb/json/JsonAST.scala.html#50133" title="(s: String)net.liftweb.json.JsonAST.JString">JString</a><span class="delimiter">(</span><a href="#205707" title="net.liftweb.json.Formats">formats</a>.<a href="../../../../json/net/liftweb/json/Formats.scala.html#53132" title="=&gt; net.liftweb.json.DateFormat">dateFormat</a>.<a href="../../../../json/net/liftweb/json/Formats.scala.html#78674" title="(d: java.util.Date)String">format</a><span class="delimiter">(</span><a href="#205706" title="java.util.Date">d</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#205713" title="(x: net.liftweb.json.JsonAST.JField)List[net.liftweb.json.JsonAST.JField]">::</a> <span title="object Nil">Nil</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(oid: org.bson.types.ObjectId)net.liftweb.json.package.JValue" id="199471">objectIdAsJValue</a><span class="delimiter">(</span><a title="org.bson.types.ObjectId" id="205679">oid</a>: <span title="org.bson.types.ObjectId">ObjectId</span><span class="delimiter">)</span>: <a href="../../../../json/net/liftweb/json/JsonAST.scala.html#48510" title="net.liftweb.json.package.JValue">JValue</a> = <a href="../../../../json/net/liftweb/json/JsonAST.scala.html#51392" title="(obj: List[net.liftweb.json.JsonAST.JField])net.liftweb.json.JsonAST.JObject">JObject</a><span class="delimiter">(</span><a href="../../../../json/net/liftweb/json/JsonAST.scala.html#50050" title="(name: String, value: net.liftweb.json.JsonAST.JValue)net.liftweb.json.JsonAST.JField">JField</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$oid&quot;)" class="string">&quot;$oid&quot;</span>, <a href="../../../../json/net/liftweb/json/JsonAST.scala.html#50133" title="(s: String)net.liftweb.json.JsonAST.JString">JString</a><span class="delimiter">(</span><a href="#205679" title="org.bson.types.ObjectId">oid</a>.<span title="()java.lang.String">toString</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#212315" title="(x: net.liftweb.json.JsonAST.JField)List[net.liftweb.json.JsonAST.JField]">::</a> <span title="object Nil">Nil</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(p: java.util.regex.Pattern)net.liftweb.json.package.JValue" id="199472">patternAsJValue</a><span class="delimiter">(</span><a title="java.util.regex.Pattern" id="205682">p</a>: <span title="java.util.regex.Pattern">Pattern</span><span class="delimiter">)</span>: <a href="../../../../json/net/liftweb/json/JsonAST.scala.html#48510" title="net.liftweb.json.package.JValue">JValue</a> = <a href="../../../../json/net/liftweb/json/JsonAST.scala.html#51392" title="(obj: List[net.liftweb.json.JsonAST.JField])net.liftweb.json.JsonAST.JObject">JObject</a><span class="delimiter">(</span><a href="../../../../json/net/liftweb/json/JsonAST.scala.html#50050" title="(name: String, value: net.liftweb.json.JsonAST.JValue)net.liftweb.json.JsonAST.JField">JField</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$regex&quot;)" class="string">&quot;$regex&quot;</span>, <a href="../../../../json/net/liftweb/json/JsonAST.scala.html#50133" title="(s: String)net.liftweb.json.JsonAST.JString">JString</a><span class="delimiter">(</span><a href="#205682" title="java.util.regex.Pattern">p</a>.<span title="()java.lang.String">pattern</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#212335" title="(x: net.liftweb.json.JsonAST.JField)List[net.liftweb.json.JsonAST.JField]">::</a> <a href="../../../../json/net/liftweb/json/JsonAST.scala.html#50050" title="(name: String, value: net.liftweb.json.JsonAST.JValue)net.liftweb.json.JsonAST.JField">JField</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$flags&quot;)" class="string">&quot;$flags&quot;</span>, <a href="../../../../json/net/liftweb/json/JsonAST.scala.html#51543" title="(num: BigInt)net.liftweb.json.JsonAST.JInt">JInt</a><span class="delimiter">(</span><a href="#205682" title="java.util.regex.Pattern">p</a>.<span title="implicit scala.math.BigInt.int2bigInt : (i: Int)scala.math.BigInt">flags</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#212346" title="(x: net.liftweb.json.JsonAST.JField)List[net.liftweb.json.JsonAST.JField]">::</a> <span title="object Nil">Nil</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(u: java.util.UUID)net.liftweb.json.package.JValue" id="199473">uuidAsJValue</a><span class="delimiter">(</span><a title="java.util.UUID" id="205685">u</a>: <span title="java.util.UUID">UUID</span><span class="delimiter">)</span>: <a href="../../../../json/net/liftweb/json/JsonAST.scala.html#48510" title="net.liftweb.json.package.JValue">JValue</a> = <a href="../../../../json/net/liftweb/json/JsonAST.scala.html#51392" title="(obj: List[net.liftweb.json.JsonAST.JField])net.liftweb.json.JsonAST.JObject">JObject</a><span class="delimiter">(</span><a href="../../../../json/net/liftweb/json/JsonAST.scala.html#50050" title="(name: String, value: net.liftweb.json.JsonAST.JValue)net.liftweb.json.JsonAST.JField">JField</a><span class="delimiter">(</span><span title="java.lang.String(&quot;$uuid&quot;)" class="string">&quot;$uuid&quot;</span>, <a href="../../../../json/net/liftweb/json/JsonAST.scala.html#50133" title="(s: String)net.liftweb.json.JsonAST.JString">JString</a><span class="delimiter">(</span><a href="#205685" title="java.util.UUID">u</a>.<span title="()java.lang.String">toString</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#212370" title="(x: net.liftweb.json.JsonAST.JField)List[net.liftweb.json.JsonAST.JField]">::</a> <span title="object Nil">Nil</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(oid: org.bson.types.ObjectId, formats: net.liftweb.json.Formats)net.liftweb.json.package.JValue" id="199474">objectIdAsJValue</a><span class="delimiter">(</span><a title="org.bson.types.ObjectId" id="205676">oid</a>: <span title="org.bson.types.ObjectId">ObjectId</span>, <a title="net.liftweb.json.Formats" id="205677">formats</a>: <a href="../../../../json/net/liftweb/json/Formats.scala.html#11107" title="net.liftweb.json.Formats">Formats</a><span class="delimiter">)</span>: <a href="../../../../json/net/liftweb/json/JsonAST.scala.html#48510" title="net.liftweb.json.package.JValue">JValue</a> =
    <span title="net.liftweb.json.package.JValue" class="keyword">if</span> <span class="delimiter">(</span><a href="#199475" title="(formats: net.liftweb.json.Formats)Boolean">isObjectIdSerializerUsed</a><span class="delimiter">(</span><a href="#205677" title="net.liftweb.json.Formats">formats</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#199471" title="(oid: org.bson.types.ObjectId)net.liftweb.json.package.JValue">objectIdAsJValue</a><span class="delimiter">(</span><a href="#205676" title="org.bson.types.ObjectId">oid</a><span class="delimiter">)</span>
    <span class="keyword">else</span>
      <a href="../../../../json/net/liftweb/json/JsonAST.scala.html#50133" title="(s: String)net.liftweb.json.JsonAST.JString">JString</a><span class="delimiter">(</span><a href="#205676" title="org.bson.types.ObjectId">oid</a>.<span title="()java.lang.String">toString</span><span class="delimiter">)</span>

  <span class="comment">/*
  * Check to see if the ObjectIdSerializer is being used.
  */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(formats: net.liftweb.json.Formats)Boolean" id="199475">isObjectIdSerializerUsed</a><span class="delimiter">(</span><a title="net.liftweb.json.Formats" id="212386">formats</a>: <a href="../../../../json/net/liftweb/json/Formats.scala.html#11107" title="net.liftweb.json.Formats">Formats</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
    <a href="#212386" title="net.liftweb.json.Formats">formats</a>.<a href="../../../../json/net/liftweb/json/Formats.scala.html#53135" title="=&gt; List[net.liftweb.json.Serializer[_]]">customSerializers</a>.<span title="(p: net.liftweb.json.Serializer[_] =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#212400" title="net.liftweb.json.Serializer[_]">_</a>.<span title="()java.lang.Class[_]">getClass</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#199476" title="=&gt; java.lang.Class[net.liftweb.mongodb.ObjectIdSerializer]">objectIdSerializerClass</a><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="java.lang.Class[net.liftweb.mongodb.ObjectIdSerializer]" id="199476">objectIdSerializerClass</a> = classOf<span title="java.lang.Class[net.liftweb.mongodb.ObjectIdSerializer](classOf[net.liftweb.mongodb.ObjectIdSerializer])" class="delimiter">[</span>net.liftweb.mongodb.ObjectIdSerializer<span class="delimiter">]</span>
<span class="delimiter">}</span>


        </pre>
    </body>
</html>