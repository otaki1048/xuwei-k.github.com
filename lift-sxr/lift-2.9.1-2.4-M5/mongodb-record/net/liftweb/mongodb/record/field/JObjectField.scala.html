<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>mongodb-record/net/liftweb/mongodb/record/field/JObjectField.scala</title>
        <script type="text/javascript" src="../../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*
 * Copyright 2010-2011 WorldWide Conferencing, LLC
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */</span>

<span class="keyword">package</span> net.liftweb
<span class="keyword">package</span> mongodb
<span class="keyword">package</span> record
<span class="keyword">package</span> field

<span class="keyword">import</span> common.<span class="delimiter">{</span>Box, Empty, Failure, Full<span class="delimiter">}</span>
<span class="keyword">import</span> http.js.<a href="../../../../../../webkit/net/liftweb/http/js/JsCommands.scala.html#14910" title="object net.liftweb.http.js.JE">JE</a>.Str
<span class="keyword">import</span> json.<a href="../../../../../../json/net/liftweb/json/JsonAST.scala.html#11132" title="object net.liftweb.json.JsonAST">JsonAST</a>.<span class="delimiter">{</span>JNothing, JObject, JValue<span class="delimiter">}</span>
<span class="keyword">import</span> json.JsonParser
<span class="keyword">import</span> net.liftweb.record.<span class="delimiter">{</span>Field, MandatoryTypedField, Record<span class="delimiter">}</span>

<span class="keyword">import</span> scala.xml.NodeSeq

@deprecated<span class="delimiter">(</span><span class="string">&quot;Use JsonObjectField instead.&quot;</span><span class="delimiter">)</span>
<span class="keyword">class</span> <a title="class JObjectField[OwnerType &lt;: net.liftweb.record.Record[OwnerType]] extends java.lang.Object with net.liftweb.record.Field[net.liftweb.json.JsonAST.JObject,OwnerType] with net.liftweb.record.MandatoryTypedField[net.liftweb.json.JsonAST.JObject] with ScalaObject" id="12047">JObjectField</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: net.liftweb.record.Record[OwnerType]" id="12048">OwnerType</a> &lt;: Record<span class="delimiter">[</span>OwnerType<span class="delimiter">]</span><span class="delimiter">]</span><a href="#12047" title="ScalaObject" class="delimiter">(</a><a title="OwnerType" id="206520">rec</a>: <a href="#12048" title="OwnerType">OwnerType</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../../../../../../record/net/liftweb/record/Field.scala.html#12459" title="net.liftweb.record.Field[net.liftweb.json.JsonAST.JObject,OwnerType]">Field</a><span class="delimiter">[</span>JObject, OwnerType<span class="delimiter">]</span> <span class="keyword">with</span> <a href="../../../../../../record/net/liftweb/record/Field.scala.html#12455" title="net.liftweb.record.MandatoryTypedField[net.liftweb.json.JsonAST.JObject]">MandatoryTypedField</a><span class="delimiter">[</span>JObject<span class="delimiter">]</span> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="=&gt; net.liftweb.http.js.JE.Str" id="206509">asJs</a> = <a href="../../../../../../webkit/net/liftweb/http/js/JsCommands.scala.html#158029" title="(str: String)net.liftweb.http.js.JE.Str">Str</a><span class="delimiter">(</span><a href="../../../../../../record/net/liftweb/record/Field.scala.html#59142" title="()java.lang.String">toString</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="=&gt; net.liftweb.json.JsonAST.JValue" id="206510">asJValue</a> = <span class="delimiter">(</span><a href="../../../../../../json/net/liftweb/json/JsonAST.scala.html#48511" title="object net.liftweb.json.JsonAST.JNothing">JNothing</a>: <a href="../../../../../../json/net/liftweb/json/JsonAST.scala.html#48510" title="net.liftweb.json.JsonAST.JValue">JValue</a><span class="delimiter">)</span> <span class="comment">// not implemented</span>

  <span class="keyword">def</span> <a title="(jvalue: net.liftweb.json.JsonAST.JValue)net.liftweb.common.Empty.type" id="206511">setFromJValue</a><span class="delimiter">(</span><a title="net.liftweb.json.JsonAST.JValue" id="206528">jvalue</a>: <a href="../../../../../../json/net/liftweb/json/JsonAST.scala.html#48510" title="net.liftweb.json.JsonAST.JValue">JValue</a><span class="delimiter">)</span> = <a href="../../../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a> <span class="comment">// not implemented</span>

  <span class="keyword">def</span> <a title="=&gt; scala.xml.Elem" id="206512">asXHtml</a> = &lt;<span title="scala.xml.Elem">div</span>&gt;&lt;/div&gt;

  <span class="keyword">def</span> <a title="=&gt; net.liftweb.json.JsonAST.JObject" id="206513">defaultValue</a> = <a href="../../../../../../json/net/liftweb/json/JsonAST.scala.html#51392" title="(obj: List[net.liftweb.json.JsonAST.JField])net.liftweb.json.JsonAST.JObject">JObject</a><span class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(in: Any)net.liftweb.common.Box[net.liftweb.json.JsonAST.JObject]" id="206514">setFromAny</a><span class="delimiter">(</span><a title="Any" id="206546">in</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <a href="../../../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.json.JsonAST.JObject]">Box</a><span class="delimiter">[</span>JObject<span class="delimiter">]</span> = <a href="#206546" title="Any">in</a> <span title="net.liftweb.common.Box[net.liftweb.json.JsonAST.JObject]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a title="net.liftweb.common.Full[JObjectField.this.MyType]" id="206548">jv</a>: <a href="../../../../../../json/net/liftweb/json/JsonAST.scala.html#48530" title="net.liftweb.json.JsonAST.JObject">JObject</a> =&gt; <a href="../../../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: JObjectField.this.MyType)net.liftweb.common.Full[JObjectField.this.MyType]">Full</a><span class="delimiter">(</span><a href="../../../../../../record/net/liftweb/record/Field.scala.html#59133" title="(in: JObjectField.this.MyType)JObjectField.this.MyType">set</a><span class="delimiter">(</span><a href="#206548" title="net.liftweb.json.JsonAST.JObject">jv</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="net.liftweb.common.Full[JObjectField.this.MyType]">Some</span><span class="delimiter">(</span><a title="net.liftweb.json.JsonAST.JObject" id="206555">jv</a>: <a href="../../../../../../json/net/liftweb/json/JsonAST.scala.html#48530" title="net.liftweb.json.JsonAST.JObject">JObject</a><span class="delimiter">)</span> =&gt; <a href="../../../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: JObjectField.this.MyType)net.liftweb.common.Full[JObjectField.this.MyType]">Full</a><span class="delimiter">(</span><a href="../../../../../../record/net/liftweb/record/Field.scala.html#59133" title="(in: JObjectField.this.MyType)JObjectField.this.MyType">set</a><span class="delimiter">(</span><a href="#206555" title="net.liftweb.json.JsonAST.JObject">jv</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="net.liftweb.common.Full[JObjectField.this.MyType]">Full</span><span class="delimiter">(</span><a title="net.liftweb.json.JsonAST.JObject" id="206560">jv</a>: <a href="../../../../../../json/net/liftweb/json/JsonAST.scala.html#48530" title="net.liftweb.json.JsonAST.JObject">JObject</a><span class="delimiter">)</span> =&gt; <a href="../../../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: JObjectField.this.MyType)net.liftweb.common.Full[JObjectField.this.MyType]">Full</a><span class="delimiter">(</span><a href="../../../../../../record/net/liftweb/record/Field.scala.html#59133" title="(in: JObjectField.this.MyType)JObjectField.this.MyType">set</a><span class="delimiter">(</span><a href="#206560" title="net.liftweb.json.JsonAST.JObject">jv</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="net.liftweb.common.Box[net.liftweb.json.JsonAST.JObject]" id="206564">seq</a>: <span title="Seq[_]">Seq</span><span class="delimiter">[</span>_<span class="delimiter">]</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#206564" title="Seq[_]">seq</a>.<span title="=&gt; Boolean">isEmpty</span> =&gt; <a href="#206564" title="Seq[_]">seq</a>.<span title="(f: _ =&gt; net.liftweb.common.Box[net.liftweb.json.JsonAST.JObject])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[_],net.liftweb.common.Box[net.liftweb.json.JsonAST.JObject],Seq[net.liftweb.common.Box[net.liftweb.json.JsonAST.JObject]]])Seq[net.liftweb.common.Box[net.liftweb.json.JsonAST.JObject]]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,net.liftweb.common.Box[net.liftweb.json.JsonAST.JObject],Seq[net.liftweb.common.Box[net.liftweb.json.JsonAST.JObject]]]" class="delimiter">(</span><a href="#206514" title="(in: Any)net.liftweb.common.Box[net.liftweb.json.JsonAST.JObject]">setFromAny</a><span class="delimiter">)</span>.<span title="(idx: Int)net.liftweb.common.Box[net.liftweb.json.JsonAST.JObject]">apply</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="net.liftweb.common.Box[net.liftweb.json.JsonAST.JObject]" class="delimiter">(</span><a title="String" id="206616">s</a>: <span title="String">String</span><span class="delimiter">)</span> :: _ =&gt; <a href="#206515" title="(in: String)net.liftweb.common.Box[net.liftweb.json.JsonAST.JObject]">setFromString</a><span class="delimiter">(</span><a href="#206616" title="String">s</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="net.liftweb.common.Full[JObjectField.this.MyType]" class="keyword">null</span> =&gt; <a href="../../../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: JObjectField.this.MyType)net.liftweb.common.Full[JObjectField.this.MyType]">Full</a><span class="delimiter">(</span><a href="../../../../../../record/net/liftweb/record/Field.scala.html#59133" title="(in: JObjectField.this.MyType)JObjectField.this.MyType">set</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="net.liftweb.common.Box[net.liftweb.json.JsonAST.JObject]" id="206622">s</a>: <span title="String">String</span> =&gt; <a href="#206515" title="(in: String)net.liftweb.common.Box[net.liftweb.json.JsonAST.JObject]">setFromString</a><span class="delimiter">(</span><a href="#206622" title="String">s</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="net.liftweb.common.Full[JObjectField.this.MyType]">None</span> | <a href="../../../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a> | Failure<span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> =&gt; <a href="../../../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: JObjectField.this.MyType)net.liftweb.common.Full[JObjectField.this.MyType]">Full</a><span class="delimiter">(</span><a href="../../../../../../record/net/liftweb/record/Field.scala.html#59133" title="(in: JObjectField.this.MyType)JObjectField.this.MyType">set</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="net.liftweb.common.Box[net.liftweb.json.JsonAST.JObject]" id="206626">o</a> =&gt; <a href="#206515" title="(in: String)net.liftweb.common.Box[net.liftweb.json.JsonAST.JObject]">setFromString</a><span class="delimiter">(</span><a href="#206626" title="Any">o</a>.<span title="()java.lang.String">toString</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">// assume string is json</span>
  <span class="keyword">def</span> <a title="(in: String)net.liftweb.common.Box[net.liftweb.json.JsonAST.JObject]" id="206515">setFromString</a><span class="delimiter">(</span><a title="String" id="206617">in</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.json.JsonAST.JObject]">Box</a><span class="delimiter">[</span>JObject<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="comment">// use lift-json to parse string into a JObject</span>
    <a href="../../../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: JObjectField.this.MyType)net.liftweb.common.Full[JObjectField.this.MyType]">Full</a><span class="delimiter">(</span><a href="../../../../../../record/net/liftweb/record/Field.scala.html#59133" title="(in: JObjectField.this.MyType)JObjectField.this.MyType">set</a><span class="delimiter">(</span><a href="../../../../../../json/net/liftweb/json/JsonParser.scala.html#11146" title="object net.liftweb.json.JsonParser">JsonParser</a>.<a href="../../../../../../json/net/liftweb/json/JsonParser.scala.html#54535" title="(s: String)net.liftweb.json.package.JValue">parse</a><span class="delimiter">(</span><a href="#206617" title="String">in</a><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="net.liftweb.json.JsonAST.JObject" class="delimiter">[</span><a href="../../../../../../json/net/liftweb/json/JsonAST.scala.html#48530" title="net.liftweb.json.JsonAST.JObject">JObject</a><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; net.liftweb.common.Box[scala.xml.NodeSeq]" id="206516">toForm</a>: <a href="../../../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[scala.xml.NodeSeq]">Box</a><span class="delimiter">[</span>NodeSeq<span class="delimiter">]</span> = <a href="../../../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>

  <span class="keyword">def</span> <a title="=&gt; OwnerType" id="206517">owner</a> = <a href="#206520" title="OwnerType">rec</a>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>