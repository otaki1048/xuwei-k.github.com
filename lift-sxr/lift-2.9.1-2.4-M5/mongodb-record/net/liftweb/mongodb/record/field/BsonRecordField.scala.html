<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>mongodb-record/net/liftweb/mongodb/record/field/BsonRecordField.scala</title>
        <script type="text/javascript" src="../../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*
 * Copyright 2011 WorldWide Conferencing, LLC
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */</span>

<span class="keyword">package</span> net.liftweb
<span class="keyword">package</span> mongodb
<span class="keyword">package</span> record
<span class="keyword">package</span> field

<span class="keyword">import</span> common._
<span class="keyword">import</span> http.js.JsExp
<span class="keyword">import</span> http.js.<a href="../../../../../../webkit/net/liftweb/http/js/JsCommands.scala.html#14910" title="object net.liftweb.http.js.JE">JE</a>.JsNull
<span class="keyword">import</span> json.<a href="../../../../../../json/net/liftweb/json/JsonAST.scala.html#11132" title="object net.liftweb.json.JsonAST">JsonAST</a>._
<span class="keyword">import</span> json.Printer

<span class="keyword">import</span> net.liftweb.record._
<span class="keyword">import</span> com.mongodb._

<span class="keyword">import</span> scala.xml._

<span class="comment">/** Field that contains an entire record represented as an inline object value. Inspired by JSONSubRecordField */</span>
<span class="keyword">class</span> <a title="class BsonRecordField[OwnerType &lt;: net.liftweb.mongodb.record.BsonRecord[OwnerType], SubRecordType &lt;: net.liftweb.mongodb.record.BsonRecord[SubRecordType]] extends java.lang.Object with net.liftweb.record.Field[SubRecordType,OwnerType] with net.liftweb.record.MandatoryTypedField[SubRecordType] with ScalaObject" id="12003">BsonRecordField</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: net.liftweb.mongodb.record.BsonRecord[OwnerType]" id="12004">OwnerType</a> &lt;: BsonRecord<span class="delimiter">[</span>OwnerType<span class="delimiter">]</span>, <a title="&gt;: Nothing &lt;: net.liftweb.mongodb.record.BsonRecord[SubRecordType]" id="12005">SubRecordType</a> &lt;: BsonRecord<span class="delimiter">[</span>SubRecordType<span class="delimiter">]</span><span class="delimiter">]</span>
                        <span class="delimiter">(</span><a title="OwnerType" id="205060">rec</a>: <a href="#12004" title="OwnerType">OwnerType</a>, <a title="net.liftweb.mongodb.record.BsonMetaRecord[SubRecordType]" id="205061">valueMeta</a>: <a href="../BsonRecord.scala.html#11958" title="net.liftweb.mongodb.record.BsonMetaRecord[SubRecordType]">BsonMetaRecord</a><span class="delimiter">[</span>SubRecordType<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Manifest[SubRecordType]" id="205062">subRecordType</a>: <span title="Manifest[SubRecordType]">Manifest</span><span class="delimiter">[</span>SubRecordType<span class="delimiter">]</span><span class="delimiter">)</span>
  <span class="keyword">extends</span> <a href="../../../../../../record/net/liftweb/record/Field.scala.html#12459" title="net.liftweb.record.Field[SubRecordType,OwnerType]">Field</a><span class="delimiter">[</span>SubRecordType, OwnerType<span class="delimiter">]</span>
  <span class="keyword">with</span> <a href="../../../../../../record/net/liftweb/record/Field.scala.html#12455" title="net.liftweb.record.MandatoryTypedField[SubRecordType]">MandatoryTypedField</a><span class="delimiter">[</span>SubRecordType<span class="delimiter">]</span>
<span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(rec: OwnerType, valueMeta: net.liftweb.mongodb.record.BsonMetaRecord[SubRecordType], value: SubRecordType)(implicit subRecordType: Manifest[SubRecordType])net.liftweb.mongodb.record.field.BsonRecordField[OwnerType,SubRecordType]" id="205046" class="keyword">this</a><span class="delimiter">(</span><a title="OwnerType" id="205066">rec</a>: <a href="#12004" title="OwnerType">OwnerType</a>, <a title="net.liftweb.mongodb.record.BsonMetaRecord[SubRecordType]" id="205067">valueMeta</a>: <a href="../BsonRecord.scala.html#11958" title="net.liftweb.mongodb.record.BsonMetaRecord[SubRecordType]">BsonMetaRecord</a><span class="delimiter">[</span>SubRecordType<span class="delimiter">]</span>, <a title="SubRecordType" id="205068">value</a>: <a href="#12005" title="SubRecordType">SubRecordType</a><span class="delimiter">)</span>
          <span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Manifest[SubRecordType]" id="205069">subRecordType</a>: <span title="Manifest[SubRecordType]">Manifest</span><span class="delimiter">[</span>SubRecordType<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="Unit" class="delimiter">{</span>
      <a href="#12003" title="BsonRecordField.this.type" class="keyword">this</a><span class="delimiter">(</span><a href="#205066" title="OwnerType">rec</a>, <a href="#205068" title="SubRecordType">value</a>.<a href="../BsonRecord.scala.html#199178" title="=&gt; net.liftweb.mongodb.record.BsonMetaRecord[SubRecordType]">meta</a><span class="delimiter">)</span>
      <a href="../../../../../../record/net/liftweb/record/Field.scala.html#59133" title="(in: BsonRecordField.this.MyType)BsonRecordField.this.MyType">set</a><span class="delimiter">(</span><a href="#205068" title="SubRecordType">value</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(rec: OwnerType, valueMeta: net.liftweb.mongodb.record.BsonMetaRecord[SubRecordType], value: net.liftweb.common.Box[SubRecordType])(implicit subRecordType: Manifest[SubRecordType])net.liftweb.mongodb.record.field.BsonRecordField[OwnerType,SubRecordType]" id="205047" class="keyword">this</a><span class="delimiter">(</span><a title="OwnerType" id="205076">rec</a>: <a href="#12004" title="OwnerType">OwnerType</a>, <a title="net.liftweb.mongodb.record.BsonMetaRecord[SubRecordType]" id="205077">valueMeta</a>: <a href="../BsonRecord.scala.html#11958" title="net.liftweb.mongodb.record.BsonMetaRecord[SubRecordType]">BsonMetaRecord</a><span class="delimiter">[</span>SubRecordType<span class="delimiter">]</span>, <a title="net.liftweb.common.Box[SubRecordType]" id="205078">value</a>: <a href="../../../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[SubRecordType]">Box</a><span class="delimiter">[</span>SubRecordType<span class="delimiter">]</span><span class="delimiter">)</span>
          <span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Manifest[SubRecordType]" id="205079">subRecordType</a>: <span title="Manifest[SubRecordType]">Manifest</span><span class="delimiter">[</span>SubRecordType<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="Unit" class="delimiter">{</span>
      <a href="#12003" title="BsonRecordField.this.type" class="keyword">this</a><span class="delimiter">(</span><a href="#205076" title="OwnerType">rec</a>, <a href="#205077" title="net.liftweb.mongodb.record.BsonMetaRecord[SubRecordType]">valueMeta</a><span class="delimiter">)</span>
      <a href="../../../../../../record/net/liftweb/record/Field.scala.html#49816" title="(in: net.liftweb.common.Box[BsonRecordField.this.MyType])net.liftweb.common.Box[BsonRecordField.this.MyType]">setBox</a><span class="delimiter">(</span><a href="#205078" title="net.liftweb.common.Box[SubRecordType]">value</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; OwnerType" id="205048">owner</a> = <a href="#205060" title="OwnerType">rec</a>
  <span class="keyword">def</span> <a title="=&gt; net.liftweb.http.js.JsExp" id="205049">asJs</a> = <a href="#205054" title="=&gt; net.liftweb.json.JsonAST.JValue">asJValue</a> <span title="net.liftweb.http.js.JsExp" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a href="../../../../../../json/net/liftweb/json/JsonAST.scala.html#48511" title="net.liftweb.http.js.JE.JsNull.type">JNothing</a> =&gt; <a href="../../../../../../webkit/net/liftweb/http/js/JsCommands.scala.html#49676" title="object net.liftweb.http.js.JE.JsNull">JsNull</a>
    <span class="keyword">case</span> <a title="java.lang.Object with net.liftweb.http.js.JsExp{}" id="205100">jv</a> =&gt; <a href="#205101" title="java.lang.Object with net.liftweb.http.js.JsExp{}" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with net.liftweb.http.js.JsExp" id="205101">JsExp</a> <span class="delimiter">{</span>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="String" id="205106">toJsCmd</a> = <a href="../../../../../../json/net/liftweb/json/JsonAST.scala.html#11140" title="object net.liftweb.json.Printer">Printer</a>.<a href="../../../../../../json/net/liftweb/json/JsonAST.scala.html#51354" title="(d: scala.text.Document)String">compact</a><span class="delimiter">(</span><a href="../../../../../../json/net/liftweb/json/JsonAST.scala.html#48536" title="(value: net.liftweb.json.JsonAST.JValue)scala.text.Document">render</a><span class="delimiter">(</span><a href="#205100" title="net.liftweb.json.JsonAST.JValue">jv</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="=&gt; net.liftweb.common.Box[scala.xml.NodeSeq]" id="205050">toForm</a>: <a href="../../../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[scala.xml.NodeSeq]">Box</a><span class="delimiter">[</span>NodeSeq<span class="delimiter">]</span> = <a href="../../../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>
  <span class="keyword">def</span> <a title="=&gt; SubRecordType" id="205051">defaultValue</a> = <a href="#205061" title="net.liftweb.mongodb.record.BsonMetaRecord[SubRecordType]">valueMeta</a>.<a href="../../../../../../record/net/liftweb/record/MetaRecord.scala.html#49196" title="=&gt; SubRecordType">createRecord</a>

  <span class="keyword">def</span> <a title="(s: String)net.liftweb.common.Box[SubRecordType]" id="205052">setFromString</a><span class="delimiter">(</span><a title="String" id="205120">s</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[SubRecordType]">Box</a><span class="delimiter">[</span>SubRecordType<span class="delimiter">]</span> = <a href="#205061" title="net.liftweb.mongodb.record.BsonMetaRecord[SubRecordType]">valueMeta</a>.<a href="../../../../../../record/net/liftweb/record/MetaRecord.scala.html#49210" title="(json: String)net.liftweb.common.Box[SubRecordType]">fromJsonString</a><span class="delimiter">(</span><a href="#205120" title="String">s</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(in: Any)net.liftweb.common.Box[SubRecordType]" id="205053">setFromAny</a><span class="delimiter">(</span><a title="Any" id="205124">in</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <a href="../../../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[SubRecordType]">Box</a><span class="delimiter">[</span>SubRecordType<span class="delimiter">]</span> = <a href="#205124" title="Any">in</a> <span title="net.liftweb.common.Box[SubRecordType]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a title="net.liftweb.common.Box[BsonRecordField.this.MyType]" id="205126">dbo</a>: <span title="com.mongodb.DBObject">DBObject</span> =&gt; <a href="../../../../../../record/net/liftweb/record/Field.scala.html#49816" title="(in: net.liftweb.common.Box[BsonRecordField.this.MyType])net.liftweb.common.Box[BsonRecordField.this.MyType]">setBox</a><span class="delimiter">(</span><a href="../../../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: SubRecordType)net.liftweb.common.Full[SubRecordType]">Full</a><span class="delimiter">(</span><a href="#205061" title="net.liftweb.mongodb.record.BsonMetaRecord[SubRecordType]">valueMeta</a>.<a href="../BsonRecord.scala.html#199191" title="(dbo: com.mongodb.DBObject)SubRecordType">fromDBObject</a><span class="delimiter">(</span><a href="#205126" title="com.mongodb.DBObject">dbo</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="net.liftweb.common.Box[BsonRecordField.this.MyType]">_</span> =&gt; <a href="../../../../../../record/net/liftweb/record/Field.scala.html#49825" title="(in: Any)(implicit m: scala.reflect.Manifest[BsonRecordField.this.MyType])net.liftweb.common.Box[BsonRecordField.this.MyType]">genericSetFromAny</a><a href="#205062" title="Manifest[SubRecordType]" class="delimiter">(</a><a href="#205124" title="Any">in</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; net.liftweb.json.JsonAST.JValue" id="205054">asJValue</a>: <a href="../../../../../../json/net/liftweb/json/JsonAST.scala.html#48510" title="net.liftweb.json.JsonAST.JValue">JValue</a> = <a href="../../../../../../record/net/liftweb/record/Field.scala.html#49827" title="=&gt; net.liftweb.common.Box[BsonRecordField.this.MyType]">valueBox</a>.<a href="../../../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: BsonRecordField.this.MyType =&gt; net.liftweb.json.JsonAST.JObject)net.liftweb.common.Box[net.liftweb.json.JsonAST.JObject]">map</a><span class="delimiter">(</span><a href="#205137" title="BsonRecordField.this.MyType">_</a>.<a href="../../../../../../record/net/liftweb/record/Record.scala.html#49129" title="=&gt; net.liftweb.json.JsonAST.JObject">asJValue</a><span class="delimiter">)</span> <a href="../../../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; net.liftweb.json.JsonAST.JValue)net.liftweb.json.JsonAST.JValue">openOr</a> <span class="delimiter">(</span><a href="../../../../../../json/net/liftweb/json/JsonAST.scala.html#48511" title="object net.liftweb.json.JsonAST.JNothing">JNothing</a>: <a href="../../../../../../json/net/liftweb/json/JsonAST.scala.html#48510" title="net.liftweb.json.JsonAST.JValue">JValue</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(jvalue: net.liftweb.json.JsonAST.JValue)net.liftweb.common.Box[SubRecordType]" id="205055">setFromJValue</a><span class="delimiter">(</span><a title="net.liftweb.json.JsonAST.JValue" id="205144">jvalue</a>: <a href="../../../../../../json/net/liftweb/json/JsonAST.scala.html#48510" title="net.liftweb.json.JsonAST.JValue">JValue</a><span class="delimiter">)</span>: <a href="../../../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[SubRecordType]">Box</a><span class="delimiter">[</span>SubRecordType<span class="delimiter">]</span> = <a href="#205144" title="net.liftweb.json.JsonAST.JValue">jvalue</a> <span title="net.liftweb.common.Box[SubRecordType]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a href="../../../../../../json/net/liftweb/json/JsonAST.scala.html#48511" title="net.liftweb.common.Box[BsonRecordField.this.MyType]">JNothing</a>|<a href="../../../../../../json/net/liftweb/json/JsonAST.scala.html#48513" title="object net.liftweb.json.JsonAST.JNull">JNull</a> <span class="keyword">if</span> <a href="../../../../../../record/net/liftweb/record/Field.scala.html#59132" title="=&gt; Boolean">optional_?</a> =&gt; <a href="../../../../../../record/net/liftweb/record/Field.scala.html#49816" title="(in: net.liftweb.common.Box[BsonRecordField.this.MyType])net.liftweb.common.Box[BsonRecordField.this.MyType]">setBox</a><span class="delimiter">(</span><a href="../../../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="net.liftweb.common.Box[BsonRecordField.this.MyType]">_</span> =&gt; <a href="../../../../../../record/net/liftweb/record/Field.scala.html#49816" title="(in: net.liftweb.common.Box[BsonRecordField.this.MyType])net.liftweb.common.Box[BsonRecordField.this.MyType]">setBox</a><span class="delimiter">(</span><a href="#205061" title="net.liftweb.mongodb.record.BsonMetaRecord[SubRecordType]">valueMeta</a>.<a href="../../../../../../record/net/liftweb/record/MetaRecord.scala.html#49208" title="(jvalue: net.liftweb.json.JsonAST.JValue)net.liftweb.common.Box[SubRecordType]">fromJValue</a><span class="delimiter">(</span><a href="#205144" title="net.liftweb.json.JsonAST.JValue">jvalue</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/*
 * List of BsonRecords
 */</span>
<span class="keyword">class</span> <a title="class BsonRecordListField[OwnerType &lt;: net.liftweb.mongodb.record.BsonRecord[OwnerType], SubRecordType &lt;: net.liftweb.mongodb.record.BsonRecord[SubRecordType]] extends net.liftweb.mongodb.record.field.MongoListField[OwnerType,SubRecordType] with ScalaObject" id="12006">BsonRecordListField</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: net.liftweb.mongodb.record.BsonRecord[OwnerType]" id="12007">OwnerType</a> &lt;: BsonRecord<span class="delimiter">[</span>OwnerType<span class="delimiter">]</span>, <a title="&gt;: Nothing &lt;: net.liftweb.mongodb.record.BsonRecord[SubRecordType]" id="12008">SubRecordType</a> &lt;: BsonRecord<span class="delimiter">[</span>SubRecordType<span class="delimiter">]</span><span class="delimiter">]</span>
  <span class="delimiter">(</span><a title="OwnerType" id="205182">rec</a>: <a href="#12007" title="OwnerType">OwnerType</a>, <a title="net.liftweb.mongodb.record.BsonMetaRecord[SubRecordType]" id="205183">valueMeta</a>: <a href="../BsonRecord.scala.html#11958" title="net.liftweb.mongodb.record.BsonMetaRecord[SubRecordType]">BsonMetaRecord</a><span class="delimiter">[</span>SubRecordType<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Manifest[SubRecordType]" id="205184">mf</a>: <span title="Manifest[SubRecordType]">Manifest</span><span class="delimiter">[</span>SubRecordType<span class="delimiter">]</span><span class="delimiter">)</span>
  <span class="keyword">extends</span> <a href="MongoListField.scala.html#12109" title="net.liftweb.mongodb.record.field.MongoListField[OwnerType,SubRecordType]">MongoListField</a><span class="delimiter">[</span>OwnerType, SubRecordType<span class="delimiter">]</span><span class="delimiter">(</span><a href="#205182" title="OwnerType">rec</a>: <a href="#12007" title="OwnerType">OwnerType</a><span class="delimiter">)</span> <span class="delimiter">{</span>

  <span class="keyword">import</span> scala.collection.<span title="object scala.collection.JavaConversions">JavaConversions</span>._

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; com.mongodb.DBObject" id="205174">asDBObject</a>: <span title="com.mongodb.DBObject">DBObject</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="com.mongodb.BasicDBList" id="205193">dbl</a> = <span title="com.mongodb.BasicDBList" class="keyword">new</span> <span title="com.mongodb.BasicDBList">BasicDBList</span>
    <a href="../../../../../../record/net/liftweb/record/Field.scala.html#59136" title="=&gt; BsonRecordListField.this.MyType">value</a>.<span title="(f: SubRecordType =&gt; Boolean)Unit">foreach</span> <span class="delimiter">{</span> <a title="SubRecordType" id="205254">v</a> =&gt; <a href="#205193" title="com.mongodb.BasicDBList">dbl</a>.<span title="(x$1: java.lang.Object)Boolean">add</span><span class="delimiter">(</span><a href="#205254" title="SubRecordType">v</a>.<a href="../BsonRecord.scala.html#199179" title="=&gt; com.mongodb.DBObject">asDBObject</a><span class="delimiter">)</span> <span class="delimiter">}</span>
    <a href="#205193" title="com.mongodb.BasicDBList">dbl</a>
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(dbo: com.mongodb.DBObject)net.liftweb.common.Box[List[SubRecordType]]" id="205175">setFromDBObject</a><span class="delimiter">(</span><a title="com.mongodb.DBObject" id="205269">dbo</a>: <span title="com.mongodb.DBObject">DBObject</span><span class="delimiter">)</span>: <a href="../../../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[List[SubRecordType]]">Box</a><span class="delimiter">[</span>List<span class="delimiter">[</span>SubRecordType<span class="delimiter">]</span><span class="delimiter">]</span> =
    <a href="../../../../../../record/net/liftweb/record/Field.scala.html#49816" title="(in: net.liftweb.common.Box[BsonRecordListField.this.MyType])net.liftweb.common.Box[BsonRecordListField.this.MyType]">setBox</a><span class="delimiter">(</span><a href="../../../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: BsonRecordListField.this.MyType)net.liftweb.common.Full[BsonRecordListField.this.MyType]">Full</a><span class="delimiter">(</span><a href="#205269" title="com.mongodb.DBObject">dbo</a>.<span title="(s: java.util.Set[java.lang.String])scala.collection.mutable.Set[java.lang.String]">keySet</span>.<span title="=&gt; List[java.lang.String]">toList</span>.<span title="(f: java.lang.String =&gt; SubRecordType)(implicit bf: scala.collection.generic.CanBuildFrom[List[java.lang.String],SubRecordType,BsonRecordListField.this.MyType])BsonRecordListField.this.MyType">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,SubRecordType,List[SubRecordType]]" class="delimiter">(</span><a title="java.lang.String" id="205453">k</a> =&gt; <span class="delimiter">{</span>
      <a href="#205183" title="net.liftweb.mongodb.record.BsonMetaRecord[SubRecordType]">valueMeta</a>.<a href="../BsonRecord.scala.html#199191" title="(dbo: com.mongodb.DBObject)SubRecordType">fromDBObject</a><span class="delimiter">(</span><a href="#205269" title="com.mongodb.DBObject">dbo</a>.<span title="(x$1: java.lang.String)java.lang.Object">get</span><span class="delimiter">(</span><a href="#205453" title="java.lang.String">k</a>.<span title="()java.lang.String">toString</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="com.mongodb.DBObject" class="delimiter">[</span><span title="com.mongodb.DBObject">DBObject</span><span class="delimiter">]</span><span class="delimiter">)</span>
    <span class="delimiter">}</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; net.liftweb.json.JsonAST.JArray" id="205176">asJValue</a> = <a href="../../../../../../json/net/liftweb/json/JsonAST.scala.html#51423" title="(arr: List[net.liftweb.json.JsonAST.JValue])net.liftweb.json.JsonAST.JArray">JArray</a><span class="delimiter">(</span><a href="../../../../../../record/net/liftweb/record/Field.scala.html#59136" title="=&gt; BsonRecordListField.this.MyType">value</a>.<span title="(f: SubRecordType =&gt; net.liftweb.json.JsonAST.JObject)(implicit bf: scala.collection.generic.CanBuildFrom[List[SubRecordType],net.liftweb.json.JsonAST.JObject,List[net.liftweb.json.JsonAST.JValue]])List[net.liftweb.json.JsonAST.JValue]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,net.liftweb.json.JsonAST.JObject,List[net.liftweb.json.JsonAST.JObject]]" class="delimiter">(</span><a href="#205785" title="SubRecordType">_</a>.<a href="../../../../../../record/net/liftweb/record/Record.scala.html#49129" title="=&gt; net.liftweb.json.JsonAST.JObject">asJValue</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(jvalue: net.liftweb.json.JsonAST.JValue)net.liftweb.common.Box[BsonRecordListField.this.MyType]" id="205177">setFromJValue</a><span class="delimiter">(</span><a title="net.liftweb.json.JsonAST.JValue" id="205818">jvalue</a>: <a href="../../../../../../json/net/liftweb/json/JsonAST.scala.html#48510" title="net.liftweb.json.JsonAST.JValue">JValue</a><span class="delimiter">)</span> = <a href="#205818" title="net.liftweb.json.JsonAST.JValue">jvalue</a> <span title="net.liftweb.common.Box[BsonRecordListField.this.MyType]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a href="../../../../../../json/net/liftweb/json/JsonAST.scala.html#48511" title="net.liftweb.common.Box[BsonRecordListField.this.MyType]">JNothing</a>|<a href="../../../../../../json/net/liftweb/json/JsonAST.scala.html#48513" title="object net.liftweb.json.JsonAST.JNull">JNull</a> <span class="keyword">if</span> <a href="../../../../../../record/net/liftweb/record/Field.scala.html#59132" title="=&gt; Boolean">optional_?</a> =&gt; <a href="../../../../../../record/net/liftweb/record/Field.scala.html#49816" title="(in: net.liftweb.common.Box[BsonRecordListField.this.MyType])net.liftweb.common.Box[BsonRecordListField.this.MyType]">setBox</a><span class="delimiter">(</span><a href="../../../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="net.liftweb.common.Box[BsonRecordListField.this.MyType]">JArray</span><span class="delimiter">(</span><a title="List[net.liftweb.json.JsonAST.JValue]" id="205878">arr</a><span class="delimiter">)</span> =&gt; <a href="../../../../../../record/net/liftweb/record/Field.scala.html#49816" title="(in: net.liftweb.common.Box[BsonRecordListField.this.MyType])net.liftweb.common.Box[BsonRecordListField.this.MyType]">setBox</a><span class="delimiter">(</span><a href="../../../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: BsonRecordListField.this.MyType)net.liftweb.common.Full[BsonRecordListField.this.MyType]">Full</a><span class="delimiter">(</span><a href="#205878" title="List[net.liftweb.json.JsonAST.JValue]">arr</a>.<span title="(f: net.liftweb.json.JsonAST.JValue =&gt; SubRecordType)(implicit bf: scala.collection.generic.CanBuildFrom[List[net.liftweb.json.JsonAST.JValue],SubRecordType,BsonRecordListField.this.MyType])BsonRecordListField.this.MyType">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,SubRecordType,List[SubRecordType]]" class="delimiter">(</span> <a title="net.liftweb.json.JsonAST.JValue" id="205897">jv</a> =&gt; <span class="delimiter">{</span>
      <a href="#205183" title="net.liftweb.mongodb.record.BsonMetaRecord[SubRecordType]">valueMeta</a>.<a href="../../../../../../record/net/liftweb/record/MetaRecord.scala.html#49208" title="(jvalue: net.liftweb.json.JsonAST.JValue)net.liftweb.common.Box[SubRecordType]">fromJValue</a><span class="delimiter">(</span><a href="#205897" title="net.liftweb.json.JsonAST.JValue">jv</a><span class="delimiter">)</span> <a href="../../../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; SubRecordType)SubRecordType">openOr</a> <a href="#205183" title="net.liftweb.mongodb.record.BsonMetaRecord[SubRecordType]">valueMeta</a>.<a href="../../../../../../record/net/liftweb/record/MetaRecord.scala.html#49196" title="=&gt; SubRecordType">createRecord</a>
    <span class="delimiter">}</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="net.liftweb.common.Box[BsonRecordListField.this.MyType]" id="205932">other</a> =&gt; <a href="../../../../../../record/net/liftweb/record/Field.scala.html#49816" title="(in: net.liftweb.common.Box[BsonRecordListField.this.MyType])net.liftweb.common.Box[BsonRecordListField.this.MyType]">setBox</a><span class="delimiter">(</span><a href="../../../../../../record/net/liftweb/record/Field.scala.html#12471" title="object net.liftweb.record.FieldHelpers">FieldHelpers</a>.<a href="../../../../../../record/net/liftweb/record/Field.scala.html#55623" title="(what: String, notA: AnyRef)net.liftweb.common.Failure">expectedA</a><span class="delimiter">(</span><span title="java.lang.String(&quot;JArray&quot;)" class="string">&quot;JArray&quot;</span>, <a href="#205932" title="net.liftweb.json.JsonAST.JValue">other</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>