<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>webkit/net/liftweb/http/CometActor.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*
 * Copyright 2007-2011 WorldWide Conferencing, LLC
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */</span>

<span class="keyword">package</span> net.liftweb
<span class="keyword">package</span> http

<span class="keyword">import</span> net.liftweb.common._
<span class="keyword">import</span> net.liftweb.actor._
<span class="keyword">import</span> scala.collection.mutable.<span class="delimiter">{</span>ListBuffer<span class="delimiter">}</span>
<span class="keyword">import</span> net.liftweb.util.<a href="../../../../util/net/liftweb/util/Helpers.scala.html#13346" title="object net.liftweb.util.Helpers">Helpers</a>._
<span class="keyword">import</span> net.liftweb.util._
<span class="keyword">import</span> net.liftweb.json._
<span class="keyword">import</span> scala.xml.<span class="delimiter">{</span>NodeSeq, Text, Elem, Node, Group, Null, PrefixedAttribute, UnprefixedAttribute<span class="delimiter">}</span>
<span class="keyword">import</span> scala.collection.immutable.TreeMap
<span class="keyword">import</span> scala.collection.mutable.<span class="delimiter">{</span>HashSet, ListBuffer<span class="delimiter">}</span>
<span class="keyword">import</span> net.liftweb.http.js._
<span class="keyword">import</span> <a href="js/JsCommands.scala.html#14916" title="object net.liftweb.http.js.JsCmds">JsCmds</a>._
<span class="keyword">import</span> <a href="js/JsCommands.scala.html#14910" title="object net.liftweb.http.js.JE">JE</a>._
<span class="keyword">import</span> java.util.concurrent.atomic.AtomicLong
<span class="keyword">import</span> java.util.Locale

<span class="comment">/**
 * An actor that monitors other actors that are linked with it. If a watched
 * actor terminates,this actor captures the Exit messag, executes failureFuncs
 * and resurects the actor.
 */</span>
<span class="keyword">object</span> <a title="object net.liftweb.http.ActorWatcher" id="343762">ActorWatcher</a> <span title="ScalaObject" class="keyword">extends</span> scala.actors.<span title="scala.actors.Actor">Actor</span> <span class="keyword">with</span> <a href="../../../../common/net/liftweb/common/Logging.scala.html#10717" title="net.liftweb.common.Loggable">Loggable</a> <span class="delimiter">{</span>
  <span class="keyword">import</span> scala.actors.<span title="object scala.actors.Actor">Actor</span>._
  <span class="keyword">def</span> <a title="()Unit" id="343412">act</a> = <span title="(body: =&gt; Unit)Unit">loop</span> <span class="delimiter">{</span>
    <span title="(handler: PartialFunction[Any,Unit])Nothing">react</span> <a href="#343627" title="Unit" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="Unit">scala</span>.actors.Exit<span class="delimiter">(</span><a title="scala.actors.Actor" id="343658">actor</a>: scala.actors.<span title="scala.actors.Actor">Actor</span>, <a title="Throwable" id="343659">why</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span> =&gt;
        <a href="#343416" title="=&gt; List[(scala.actors.Actor, Throwable) =&gt; Unit]">failureFuncs</a>.<span title="(f: (scala.actors.Actor, Throwable) =&gt; Unit =&gt; net.liftweb.common.Box[Unit])Unit">foreach</span><span class="delimiter">(</span><a title="(scala.actors.Actor, Throwable) =&gt; Unit" id="343685">f</a> =&gt; <a href="../../../../util/net/liftweb/util/ControlHelpers.scala.html#48608" title="(f: =&gt; Unit)net.liftweb.common.Box[Unit]">tryo</a><span class="delimiter">(</span><a href="#343685" title="(v1: scala.actors.Actor, v2: Throwable)Unit">f</a><span class="delimiter">(</span><a href="#343658" title="scala.actors.Actor">actor</a>, <a href="#343659" title="Throwable">why</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(a: scala.actors.Actor, ignore: Throwable)Unit" id="343413">startAgain</a><span class="delimiter">(</span><a title="scala.actors.Actor" id="343728">a</a>: scala.actors.<span title="scala.actors.Actor">Actor</span>, <a title="Throwable" id="343729">ignore</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#343728" title="scala.actors.Actor">a</a>.<span title="()scala.actors.Actor">start</span>
    <a href="#343728" title="scala.actors.Actor">a</a> <span title="(msg: Any)Unit">!</span> <a href="#343774" title="object net.liftweb.http.RelinkToActorWatcher">RelinkToActorWatcher</a>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(actor: scala.actors.Actor, why: Throwable)Unit" id="343414">logActorFailure</a><span class="delimiter">(</span><a title="scala.actors.Actor" id="343734">actor</a>: scala.actors.<span title="scala.actors.Actor">Actor</span>, <a title="Throwable" id="343735">why</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="../../../../common/net/liftweb/common/Logging.scala.html#19845" title="=&gt; net.liftweb.common.Logger">logger</a>.<a href="../../../../common/net/liftweb/common/Logging.scala.html#31955" title="(msg: =&gt; AnyRef, t: Throwable)Unit">warn</a><span class="delimiter">(</span><span title="java.lang.String(&quot;The ActorWatcher restarted &quot;)" class="string">&quot;The ActorWatcher restarted &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#343734" title="scala.actors.Actor">actor</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; because &quot;)" class="string">&quot; because &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#343735" title="Throwable">why</a>, <a href="#343735" title="Throwable">why</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * If there's something to do in addition to starting the actor up, pre-pend the
   * actor to this List
   */</span>
  @volatile <span class="keyword">var</span> <a title="List[(scala.actors.Actor, Throwable) =&gt; Unit]" id="343416">failureFuncs</a>: <span title="List[(scala.actors.Actor, Throwable) =&gt; Unit]">List</span><span class="delimiter">[</span><span class="delimiter">(</span>scala.actors.Actor, Throwable<span class="delimiter">)</span> =&gt; Unit<span class="delimiter">]</span> = <a href="#343414" title="(actor: scala.actors.Actor, why: Throwable)Unit">logActorFailure</a> _ <a href="#343744" title="(x: (scala.actors.Actor, Throwable) =&gt; Unit)List[(scala.actors.Actor, Throwable) =&gt; Unit]">::</a>
          <a href="#343413" title="(a: scala.actors.Actor, ignore: Throwable)Unit">startAgain</a> _ <a href="#343748" title="(x: (scala.actors.Actor, Throwable) =&gt; Unit)List[(scala.actors.Actor, Throwable) =&gt; Unit]">::</a> <span title="object Nil">Nil</span>

  <span class="keyword">this</span>.<span title="(x$1: Boolean)Unit">trapExit</span> = <span title="Boolean(true)" class="keyword">true</span>
  <span class="keyword">this</span>.<span title="()scala.actors.Actor">start</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * This is used as an indicator message for linked actors.
 *
 * @see ActorWatcher
 */</span>
case <span class="keyword">object</span> <a href="#343769" title="object net.liftweb.http.RelinkToActorWatcher" id="343774">RelinkToActorWatcher</a>

<a href="#14068" title="object net.liftweb.http.RelinkToActorWatcher" class="keyword">trait</a> <a title="trait DeltaTrait extends java.lang.Object" id="14069">DeltaTrait</a> <span title="java.lang.Object" class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; net.liftweb.http.js.JsCmd" id="343775">toJs</a>: <a href="js/JsCommands.scala.html#14913" title="net.liftweb.http.js.JsCmd">JsCmd</a>
<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait CometState[DeltaType &lt;: net.liftweb.http.DeltaTrait, MyType &lt;: net.liftweb.http.CometState[DeltaType,MyType]] extends java.lang.Object" id="14070">CometState</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: net.liftweb.http.DeltaTrait" id="14071">DeltaType</a> &lt;: DeltaTrait,
<a title="&gt;: Nothing &lt;: net.liftweb.http.CometState[DeltaType,MyType]" id="14072">MyType</a> &lt;: CometState<span class="delimiter">[</span>DeltaType, MyType<span class="delimiter">]</span><span class="delimiter">]</span> <span title="java.lang.Object" class="delimiter">{</span>
  self: MyType =&gt;

  <span class="keyword">def</span> <a title="(other: MyType)Seq[DeltaType]" id="343778">-</a><span class="delimiter">(</span><a title="MyType" id="343781">other</a>: <a href="#14072" title="MyType">MyType</a><span class="delimiter">)</span>: <span title="Seq[DeltaType]">Seq</span><span class="delimiter">[</span>DeltaType<span class="delimiter">]</span>

  <span class="keyword">def</span> <a title="=&gt; scala.xml.NodeSeq" id="343779">render</a>: <span title="scala.xml.NodeSeq">NodeSeq</span>
<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait CometStateWithUpdate[UpdateType, DeltaType &lt;: net.liftweb.http.DeltaTrait, MyType &lt;: net.liftweb.http.CometStateWithUpdate[UpdateType,DeltaType,MyType]] extends java.lang.Object with net.liftweb.http.CometState[DeltaType,MyType]" id="14073">CometStateWithUpdate</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="14074">UpdateType</a>, <a title="&gt;: Nothing &lt;: net.liftweb.http.DeltaTrait" id="14075">DeltaType</a> &lt;: DeltaTrait,
<a title="&gt;: Nothing &lt;: net.liftweb.http.CometStateWithUpdate[UpdateType,DeltaType,MyType]" id="14076">MyType</a> &lt;: CometStateWithUpdate<span class="delimiter">[</span>UpdateType,
        DeltaType, MyType<span class="delimiter">]</span><span class="delimiter">]</span>
        <span class="keyword">extends</span> <a href="#14070" title="net.liftweb.http.CometState[DeltaType,MyType]">CometState</a><span class="delimiter">[</span>DeltaType, MyType<span class="delimiter">]</span>
<span class="delimiter">{</span>
  self: MyType =&gt;
  <span class="keyword">def</span> <a title="(in: UpdateType)MyType" id="343783">process</a><span class="delimiter">(</span><a title="UpdateType" id="343785">in</a>: <a href="#14074" title="UpdateType">UpdateType</a><span class="delimiter">)</span>: <a href="#14076" title="MyType">MyType</a>
<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait StatefulComet extends java.lang.Object with net.liftweb.http.CometActor with ScalaObject" id="14077">StatefulComet</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#14095" title="net.liftweb.http.CometActor">CometActor</a> <span class="delimiter">{</span>
  <span class="keyword">type</span> <a title="&gt;: Nothing &lt;: net.liftweb.http.DeltaTrait" id="343788">Delta</a> &lt;: DeltaTrait
  <span class="keyword">type</span> <a title="&gt;: Nothing &lt;: net.liftweb.http.CometState[StatefulComet.this.Delta,StatefulComet.this.State]" id="343789">State</a> &lt;: CometState<span class="delimiter">[</span>Delta, State<span class="delimiter">]</span>

  <span class="comment">/**
   * Test the parameter to see if it's an updated state object
   */</span>
  <span class="keyword">def</span> <a title="(in: Any)net.liftweb.common.Box[StatefulComet.this.State]" id="343790">testState</a><span class="delimiter">(</span><a title="Any" id="343807">in</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[StatefulComet.this.State]">Box</a><span class="delimiter">[</span>State<span class="delimiter">]</span>

  <span class="comment">/**
   * Return the empty state object
   */</span>
  <span class="keyword">def</span> <a title="=&gt; StatefulComet.this.State" id="343791">emptyState</a>: <a href="#343789" title="StatefulComet.this.State">State</a>

  <span class="comment">/**
   * The current state objects
   */</span>
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="StatefulComet.this.State" id="343793">state</a>: <a href="#343789" title="StatefulComet.this.State">State</a> = <a href="#343791" title="=&gt; StatefulComet.this.State">emptyState</a>

  <span class="comment">/**
   * If there's some ThreadLocal variable that needs to be setup up
   * before processing the state deltas, set it up here.
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="[T](f: =&gt; T)T" id="343795">setupLocalState</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="343797">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; T" id="343816">f</a>: =&gt; T<span class="delimiter">)</span>: <a href="#343797" title="T">T</a> = <a href="#343816" title="=&gt; T">f</a>

  <span class="keyword">private</span><span class="delimiter">[</span>http<span class="delimiter">]</span> <span class="keyword">override</span> <span class="keyword">val</span> <a title="PartialFunction[Any,Unit]" id="343798">_lowPriority</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="PartialFunction[Any,Unit]" id="343803">pf</a>: <span title="PartialFunction[Any,Unit]">PartialFunction</span><span class="delimiter">[</span>Any, Unit<span class="delimiter">]</span> = <a href="#343805" title="Unit" class="delimiter">{</a>
      <span class="keyword">case</span> <a title="Unit" id="343806">v</a> <span class="keyword">if</span> <a href="#343790" title="(in: Any)net.liftweb.common.Box[StatefulComet.this.State]">testState</a><span class="delimiter">(</span><a href="#343806" title="Any">v</a><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27014" title="=&gt; Boolean">isDefined</a> =&gt;
        <a href="#343790" title="(in: Any)net.liftweb.common.Box[StatefulComet.this.State]">testState</a><span class="delimiter">(</span><a href="#343806" title="Any">v</a><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27031" title="(f: StatefulComet.this.State =&gt; Unit)Unit">foreach</a> <span class="delimiter">{</span>
          <a title="StatefulComet.this.State" id="343813">ns</a> =&gt;
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#343813" title="StatefulComet.this.State">ns</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#343793" title="=&gt; StatefulComet.this.State">state</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                    <span class="keyword">val</span> <a title="Seq[StatefulComet.this.Delta]" id="343814">diff</a> = <a href="#343813" title="StatefulComet.this.State">ns</a> <a href="#343778" title="(other: StatefulComet.this.State)Seq[StatefulComet.this.Delta]">-</a> <a href="#343793" title="=&gt; StatefulComet.this.State">state</a>
                    <a href="#343793" title="(x$1: StatefulComet.this.State)Unit">state</a> = <a href="#343813" title="StatefulComet.this.State">ns</a>
                    <a href="#327828" title="(cmd: =&gt; net.liftweb.http.js.JsCmd)Unit">partialUpdate</a><span class="delimiter">(</span><a href="#343795" title="(f: =&gt; net.liftweb.http.js.JsCmd)net.liftweb.http.js.JsCmd">setupLocalState</a> <span class="delimiter">{</span><a href="#343814" title="Seq[StatefulComet.this.Delta]">diff</a>.<span title="(f: StatefulComet.this.Delta =&gt; net.liftweb.http.js.JsCmd)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[StatefulComet.this.Delta],net.liftweb.http.js.JsCmd,Seq[net.liftweb.http.js.JsCmd]])Seq[net.liftweb.http.js.JsCmd]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,net.liftweb.http.js.JsCmd,Seq[net.liftweb.http.js.JsCmd]]" class="delimiter">(</span><a href="#343837" title="StatefulComet.this.Delta">_</a>.<a href="#343775" title="=&gt; net.liftweb.http.js.JsCmd">toJs</a><span class="delimiter">)</span>.<span title="(z: net.liftweb.http.js.JsCmd)(op: (net.liftweb.http.js.JsCmd, net.liftweb.http.js.JsCmd) =&gt; net.liftweb.http.js.JsCmd)net.liftweb.http.js.JsCmd">foldLeft</span><span class="delimiter">(</span><a href="js/JsCommands.scala.html#146481" title="=&gt; net.liftweb.http.js.JsCmd">Noop</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#343872" title="net.liftweb.http.js.JsCmd">_</a> <a href="js/JsCommands.scala.html#148952" title="(other: net.liftweb.http.js.JsCmd)net.liftweb.http.js.JsCmd">&amp;</a> <a href="#343873" title="net.liftweb.http.js.JsCmd">_</a><span class="delimiter">)</span><span class="delimiter">}</span><span class="delimiter">)</span>
                  <span class="delimiter">}</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <a href="#343803" title="PartialFunction[Any,Unit]">pf</a> <span title="(that: PartialFunction[Any,Unit])PartialFunction[Any,Unit]">orElse</span> <a href="#14077" title="net.liftweb.http.StatefulComet" class="keyword">super</a>.<a href="#327816" title="=&gt; PartialFunction[Any,Unit]">_lowPriority</a>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * The Render method
   */</span>
  <span class="keyword">def</span> <a title="=&gt; net.liftweb.http.RenderOut" id="343800">render</a> = <a href="#343793" title="=&gt; StatefulComet.this.State">state</a>.<a href="#327841" title="implicit net.liftweb.http.CometActor.arrayToRenderOut : (in: Seq[scala.xml.Node])net.liftweb.http.RenderOut">render</a>
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="object net.liftweb.http.CurrentCometActor" id="14078">CurrentCometActor</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#13699" title="net.liftweb.util.ThreadGlobal[net.liftweb.http.LiftCometActor]">ThreadGlobal</a><span class="delimiter">[</span>LiftCometActor<span class="delimiter">]</span>

<span class="keyword">object</span> <a title="object net.liftweb.http.AddAListener" id="343942">AddAListener</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(who: net.liftweb.common.SimpleActor[Any])net.liftweb.http.AddAListener" id="343897">apply</a><span class="delimiter">(</span><a title="net.liftweb.common.SimpleActor[Any]" id="343911">who</a>: <a href="../../../../common/net/liftweb/common/SimpleActor.scala.html#10731" title="net.liftweb.common.SimpleActor[Any]">SimpleActor</a><span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="net.liftweb.http.AddAListener" class="keyword">new</span> <a href="#343977" title="net.liftweb.http.AddAListener">AddAListener</a><span class="delimiter">(</span><a href="#343911" title="net.liftweb.common.SimpleActor[Any]">who</a>, <a href="#343915" title="Boolean" class="delimiter">{</a> <span class="keyword">case</span> <span title="Boolean(true)">_</span> =&gt; <span title="Boolean(true)" class="keyword">true</span> <span class="delimiter">}</span> <span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * This is a message class for use with ListenerManager and CometListener
 * instances. The use of the shouldUpdate function is deprecated, and
 * should instead be handled by the message processing partial functions
 * on the CometListner instances themselves.
 *
 * @see CometListener
 * @see ListenerManager
 */</span>
case <span class="keyword">class</span> <a title="(x$0: net.liftweb.http.AddAListener)Option[(net.liftweb.common.SimpleActor[Any], PartialFunction[Any,Boolean])]" id="343977">AddAListener</a><a href="#343977" title="ScalaObject" class="delimiter">(</a><a title="net.liftweb.common.SimpleActor[Any]" id="343949">who</a>: <a href="../../../../common/net/liftweb/common/SimpleActor.scala.html#10731" title="net.liftweb.common.SimpleActor[Any]">SimpleActor</a><span class="delimiter">[</span>Any<span class="delimiter">]</span>, <a title="PartialFunction[Any,Boolean]" id="343950">shouldUpdate</a>: <span title="PartialFunction[Any,Boolean]">PartialFunction</span><span class="delimiter">[</span>Any, Boolean<span class="delimiter">]</span><span class="delimiter">)</span>

<span class="comment">/**
 * This is a message class for use with ListenerManager and CometListener
 * instances.
 *
 * @see CometListener
 * @see ListenerManager
 */</span>
case <span class="keyword">class</span> <a title="class RemoveAListener extends java.lang.Object with ScalaObject with Product with Serializable" id="348337">RemoveAListener</a><a href="#348337" title="ScalaObject" class="delimiter">(</a><a title="net.liftweb.common.SimpleActor[Any]" id="344241">who</a>: <a href="../../../../common/net/liftweb/common/SimpleActor.scala.html#10731" title="net.liftweb.common.SimpleActor[Any]">SimpleActor</a><span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">)</span>


<span class="keyword">object</span> <a title="object net.liftweb.http.ListenerManager" id="14086">ListenerManager</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">type</span> <a title="(net.liftweb.common.SimpleActor[Any], PartialFunction[Any,Boolean])" id="344032">ActorTest</a> = <span title="(net.liftweb.common.SimpleActor[Any], PartialFunction[Any,Boolean])" class="delimiter">(</span>SimpleActor<span class="delimiter">[</span>Any<span class="delimiter">]</span>, PartialFunction<span class="delimiter">[</span>Any, Boolean<span class="delimiter">]</span><span class="delimiter">)</span>
<span class="delimiter">}</span>


<span class="comment">/**
 * This trait manages a set of Actors in a publish/subscribe pattern. When you extend your Actor with
 * this trait, you automatically get handling for sending messages out to all subscribed Actors. Simply
 * override the high-, medium-, or lowPriority handlers to do your message processing. When you want to update
 * all subscribers, just call the updateListeners method. The createUpdate method is used to generate
 * the message that you want sent to all subscribers.
 *
 * Note that the AddAListener and RemoveAListener messages (for subscription control) are processed
 * after any highPriority or mediumPriority messages are processed, so take care to avoid overly
 * broad matches in those handlers that might consume internal messages.
 *
 * For example, you could write a simple service to provide clock ticks using the following code:
 *
 * &lt;pre name=&quot;code&quot; class=&quot;scala&quot;&gt;
 * case object Tick
 * 
 * object Ticker extends ListenerManager {
 *   import net.liftweb.util.ActorPing
 * 
 *   // Set up the initial tick
 *   ActorPing.schedule(this, Tick, 1000L)
 *
 *   // This is a placeholder, since we're only interested
 *   // in Ticks
 *   def createUpdate = &quot;Registered&quot;
 * 
 *   override def mediumPriority = {
 *     case Tick =&gt; {
 *       updateListeneres(Tick)
 *       ActorPing.schedule(this, Tick, 1000L)
 *     }
 *   }
 * }
 * &lt;/pre&gt;
 *
 * A client CometActor could look like:
 *
 * &lt;pre name=&quot;code&quot; class=&quot;scala&quot;&gt;
 * class CometClock extends CometListener {
 *   val registerWith = Ticker
 *
 *   ... handling code ...
 * }
 * &lt;/pre&gt;
 *
 * @see CometListener
 *   
 */</span>
<span class="keyword">trait</span> <a title="trait ListenerManager extends java.lang.Object with ScalaObject" id="14088">ListenerManager</a> <span title="ScalaObject" class="delimiter">{</span>
  self: SimpleActor<span class="delimiter">[</span>Any<span class="delimiter">]</span> =&gt;

  <span class="keyword">import</span> <a href="#14086" title="object net.liftweb.http.ListenerManager">ListenerManager</a>._

  <span class="comment">/**
   * This is the list of all registered actors
   */</span>
  <span class="keyword">private</span> <span class="keyword">var</span> <a title="List[(net.liftweb.common.SimpleActor[Any], PartialFunction[Any,Boolean])]" id="344037">listeners</a>: <span title="List[(net.liftweb.common.SimpleActor[Any], PartialFunction[Any,Boolean])]">List</span><span class="delimiter">[</span>ActorTest<span class="delimiter">]</span> = <span title="object Nil">Nil</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; PartialFunction[Any,Unit]" id="344039">messageHandler</a>: <span title="PartialFunction[Any,Unit]">PartialFunction</span><span class="delimiter">[</span>Any, Unit<span class="delimiter">]</span> =
    <a href="#344046" title="=&gt; PartialFunction[Any,Unit]">highPriority</a> <span title="(that: PartialFunction[Any,Unit])PartialFunction[Any,Unit]">orElse</span> <a href="#344047" title="=&gt; PartialFunction[Any,Unit]">mediumPriority</a> <span title="(that: PartialFunction[Any,Unit])PartialFunction[Any,Unit]">orElse</span>
            <a href="#344040" title="=&gt; PartialFunction[Any,Unit]">listenerService</a> <span title="(that: PartialFunction[Any,Unit])PartialFunction[Any,Unit]">orElse</span> <a href="#344048" title="=&gt; PartialFunction[Any,Unit]">lowPriority</a>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; PartialFunction[Any,Unit]" id="344040">listenerService</a>: <span title="PartialFunction[Any,Unit]">PartialFunction</span><span class="delimiter">[</span>Any, Unit<span class="delimiter">]</span> =
    <a href="#344080" title="Unit" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="Unit">AddAListener</span><span class="delimiter">(</span><a title="net.liftweb.common.SimpleActor[Any]" id="344081">who</a>, <a title="PartialFunction[Any,Boolean]" id="344082">shouldUpdate</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="(net.liftweb.common.SimpleActor[Any], PartialFunction[Any,Boolean])" id="344083">pair</a> = <span title="(_1: net.liftweb.common.SimpleActor[Any], _2: PartialFunction[Any,Boolean])(net.liftweb.common.SimpleActor[Any], PartialFunction[Any,Boolean])" class="delimiter">(</span><a href="#344081" title="net.liftweb.common.SimpleActor[Any]">who</a>, <a href="#344082" title="PartialFunction[Any,Boolean]">shouldUpdate</a><span class="delimiter">)</span>
        <a href="#344037" title="(x$1: List[(net.liftweb.common.SimpleActor[Any], PartialFunction[Any,Boolean])])Unit">listeners</a> <span title="(x: (net.liftweb.common.SimpleActor[Any], PartialFunction[Any,Boolean]))List[(net.liftweb.common.SimpleActor[Any], PartialFunction[Any,Boolean])]">::=</span> <a href="#344083" title="(net.liftweb.common.SimpleActor[Any], PartialFunction[Any,Boolean])">pair</a>
        <a href="#344044" title="(update: Any)(info: (net.liftweb.common.SimpleActor[Any], PartialFunction[Any,Boolean]))Unit">updateIfPassesTest</a><span class="delimiter">(</span><a href="#344045" title="=&gt; Any">createUpdate</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#344083" title="(net.liftweb.common.SimpleActor[Any], PartialFunction[Any,Boolean])">pair</a><span class="delimiter">)</span>

      <span class="keyword">case</span> <span title="Unit">RemoveAListener</span><span class="delimiter">(</span><a title="net.liftweb.common.SimpleActor[Any]" id="344105">who</a><span class="delimiter">)</span> =&gt;
        <a href="#344037" title="(x$1: List[(net.liftweb.common.SimpleActor[Any], PartialFunction[Any,Boolean])])Unit">listeners</a> = <a href="#344037" title="=&gt; List[(net.liftweb.common.SimpleActor[Any], PartialFunction[Any,Boolean])]">listeners</a>.<span title="(p: (net.liftweb.common.SimpleActor[Any], PartialFunction[Any,Boolean]) =&gt; Boolean)List[(net.liftweb.common.SimpleActor[Any], PartialFunction[Any,Boolean])]">filter</span><span class="delimiter">(</span><a href="#344115" title="(net.liftweb.common.SimpleActor[Any], PartialFunction[Any,Boolean])">_</a>.<span title="=&gt; net.liftweb.common.SimpleActor[Any]">_1</span> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#344105" title="net.liftweb.common.SimpleActor[Any]">who</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#344037" title="=&gt; List[(net.liftweb.common.SimpleActor[Any], PartialFunction[Any,Boolean])]">listeners</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#344041" title="()Unit">onListenersListEmptied</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <span class="comment">/**
   * Called after RemoveAListener-message is processed and no more listeners exist.
   * Default does nothing.
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="()Unit" id="344041">onListenersListEmptied</a><span class="delimiter">(</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">{</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Update the listeners with the message generated by createUpdate
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="()Unit" id="344042">updateListeners</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="(net.liftweb.common.SimpleActor[Any], PartialFunction[Any,Boolean]) =&gt; Unit" id="344119">update</a> = <a href="#344044" title="(update: Any)(info: (net.liftweb.common.SimpleActor[Any], PartialFunction[Any,Boolean]))Unit">updateIfPassesTest</a><a href="#344122" title="(net.liftweb.common.SimpleActor[Any], PartialFunction[Any,Boolean])" class="delimiter">(</a><a href="#344045" title="=&gt; Any">createUpdate</a><span class="delimiter">)</span> _
    <a href="#344037" title="=&gt; List[(net.liftweb.common.SimpleActor[Any], PartialFunction[Any,Boolean])]">listeners</a> <span title="(f: (net.liftweb.common.SimpleActor[Any], PartialFunction[Any,Boolean]) =&gt; Unit)Unit">foreach</span> <a href="#344119" title="(net.liftweb.common.SimpleActor[Any], PartialFunction[Any,Boolean]) =&gt; Unit">update</a>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Update the listeners with a message that we create. Note that
   * with this invocation the createUpdate method is not used.
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(msg: Any)Unit" id="344043">updateListeners</a><span class="delimiter">(</span><a title="Any" id="344144">msg</a>: <span title="Any">Any</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#344037" title="=&gt; List[(net.liftweb.common.SimpleActor[Any], PartialFunction[Any,Boolean])]">listeners</a> <span title="(f: (net.liftweb.common.SimpleActor[Any], PartialFunction[Any,Boolean]) =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a href="#344167" title="(net.liftweb.common.SimpleActor[Any], PartialFunction[Any,Boolean])">_</a>.<span title="=&gt; net.liftweb.common.SimpleActor[Any]">_1</span> <a href="../../../../common/net/liftweb/common/SimpleActor.scala.html#29491" title="(param: Any)Unit">!</a> <a href="#344144" title="Any">msg</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * This method provides legacy functionality for filtering messages
   * before sending to each registered actor. It is deprecated in
   * favor of doing the filtering in the registered Actor's
   * message handling partial functions instead.
   */</span>
  @deprecated<span class="delimiter">(</span><span class="string">&quot;Accept/reject logic should be done in the partial function that handles the message.&quot;</span><span class="delimiter">)</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(update: Any)(info: (net.liftweb.common.SimpleActor[Any], PartialFunction[Any,Boolean]))Unit" id="344044">updateIfPassesTest</a><span class="delimiter">(</span><a title="Any" id="344100">update</a>: <span title="Any">Any</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="(net.liftweb.common.SimpleActor[Any], PartialFunction[Any,Boolean])" id="344101">info</a>: <span title="(net.liftweb.common.SimpleActor[Any], PartialFunction[Any,Boolean])">ActorTest</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#344101" title="(net.liftweb.common.SimpleActor[Any], PartialFunction[Any,Boolean])">info</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a title="net.liftweb.common.SimpleActor[Any]" id="344172">who</a>, <a title="PartialFunction[Any,Boolean]" id="344173">test</a><span class="delimiter">)</span> =&gt; <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#344173" title="PartialFunction[Any,Boolean]">test</a>.<span title="(x: Any)Boolean">isDefinedAt</span><span class="delimiter">(</span><a href="#344100" title="Any">update</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#344173" title="(v1: Any)Boolean">test</a><span class="delimiter">(</span><a href="#344100" title="Any">update</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#344172" title="net.liftweb.common.SimpleActor[Any]">who</a> <a href="../../../../common/net/liftweb/common/SimpleActor.scala.html#29491" title="(param: Any)Unit">!</a> <a href="#344100" title="Any">update</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * This method is called when the &lt;pre&gt;updateListeners()&lt;/pre&gt; method
   * needs a message to send to subscribed Actors. In particular, createUpdate
   * is used to create the first message that a newly subscribed CometListener
   * will receive.
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; Any" id="344045">createUpdate</a>: <span title="Any">Any</span>

  <span class="comment">/**
   * Override this method to process high priority messages. Note:
   * &lt;b&gt;you must not process messages with a wildcard (match all)&lt;/b&gt;, since
   * this will intercept the messages used for subscription control.
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; PartialFunction[Any,Unit]" id="344046">highPriority</a>: <span title="PartialFunction[Any,Unit]">PartialFunction</span><span class="delimiter">[</span>Any, Unit<span class="delimiter">]</span> = <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="scala.collection.immutable.Map[Any,Nothing]">empty</span>

  <span class="comment">/**
   * Override this method to process medium priority messages. See
   * the highPriority method for an important note on wildcard
   * processing.
   *
   * @see #highPriority
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; PartialFunction[Any,Unit]" id="344047">mediumPriority</a>: <span title="PartialFunction[Any,Unit]">PartialFunction</span><span class="delimiter">[</span>Any, Unit<span class="delimiter">]</span> = <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="scala.collection.immutable.Map[Any,Nothing]">empty</span>

  <span class="comment">/**
   * Override this method to process low priority messages.
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; PartialFunction[Any,Unit]" id="344048">lowPriority</a>: <span title="PartialFunction[Any,Unit]">PartialFunction</span><span class="delimiter">[</span>Any, Unit<span class="delimiter">]</span> = <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="scala.collection.immutable.Map[Any,Nothing]">empty</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * This is a legacy trait, left over from Lift's
 * Scala 2.7 support. You should use or migrate to
 * CometListener instead.
 *
 * @see CometListener
 */</span>
@deprecated<span class="delimiter">(</span><span class="string">&quot;Use the CometListener trait instead.&quot;</span><span class="delimiter">)</span>
<span class="keyword">trait</span> <a title="trait CometListenee extends java.lang.Object with net.liftweb.http.CometListener" id="14089">CometListenee</a> <span class="keyword">extends</span> <a href="#14091" title="net.liftweb.http.CometListener">CometListener</a> <span class="delimiter">{</span>
  self: CometActor =&gt;
<span class="delimiter">}</span>


<span class="comment">/**
 * A LiftActorJ with ListenerManager.  Subclass this class
 * to get a Java-useable LiftActorJ with ListenerManager
 */</span>
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class LiftActorJWithListenerManager extends net.liftweb.actor.LiftActorJ with net.liftweb.http.ListenerManager with ScalaObject" id="14090">LiftActorJWithListenerManager</a> <a href="#14090" title="ScalaObject" class="keyword">extends</a> <a href="../../../../actor/net/liftweb/actor/LiftActor.scala.html#10563" title="net.liftweb.actor.LiftActorJ">LiftActorJ</a> <span class="keyword">with</span> <a href="#14088" title="net.liftweb.http.ListenerManager">ListenerManager</a> <span class="delimiter">{</span>
  <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; PartialFunction[Any,Unit]" id="344200">messageHandler</a>: <span title="PartialFunction[Any,Unit]">PartialFunction</span><span class="delimiter">[</span>Any, Unit<span class="delimiter">]</span> = 
        <a href="#344046" title="=&gt; PartialFunction[Any,Unit]">highPriority</a> <span title="(that: PartialFunction[Any,Unit])PartialFunction[Any,Unit]">orElse</span> <a href="#344047" title="=&gt; PartialFunction[Any,Unit]">mediumPriority</a> <span title="(that: PartialFunction[Any,Unit])PartialFunction[Any,Unit]">orElse</span>
            <a href="#344040" title="=&gt; PartialFunction[Any,Unit]">listenerService</a> <span title="(that: PartialFunction[Any,Unit])PartialFunction[Any,Unit]">orElse</span> <a href="#344048" title="=&gt; PartialFunction[Any,Unit]">lowPriority</a> <span title="(that: PartialFunction[Any,Unit])PartialFunction[Any,Unit]">orElse</span> <a href="../../../../actor/net/liftweb/actor/LiftActor.scala.html#33038" title="=&gt; PartialFunction[Any,Unit]">_messageHandler</a>
<span class="delimiter">}</span>

<span class="comment">/**
 * This trait adds functionality to automatically register with a given
 * Actor using AddAListener and RemoveAListener control messages. The most
 * typical usage would be to register with an instance of ListenerManager.
 * You will need to provide a def/val for the &lt;pre&gt;registerWith&lt;/pre&gt; member
 * to control which Actor to connect to.
 *
 * See ListenerManager for a complete example.
 *
 * @see ListenerManager
 */</span>
<span class="keyword">trait</span> <a title="trait CometListener extends java.lang.Object with net.liftweb.http.CometActor with ScalaObject" id="14091">CometListener</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#14095" title="net.liftweb.http.CometActor">CometActor</a> <span class="delimiter">{</span>
  self: CometActor =&gt;

  <span class="comment">/**
   * This controls which Actor to register with for updates. Typically
   * this will be an instance of ListenerActor, although you can provide
   * your own subscription handling on top of any SimpleActor.
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; net.liftweb.common.SimpleActor[Any]" id="344191">registerWith</a>: <a href="../../../../common/net/liftweb/common/SimpleActor.scala.html#10731" title="net.liftweb.common.SimpleActor[Any]">SimpleActor</a><span class="delimiter">[</span>Any<span class="delimiter">]</span>

  <span class="comment">/**
   * Override this in order to selectively update listeners based on the given message.
   * This method has been deprecated because it's executed in a seperate context from
   * the session's context.  This causes problems.  Accept/reject logic should be done
   * in the partial function that handles the message.
   */</span>
  @deprecated<span class="delimiter">(</span><span class="string">&quot;Accept/reject logic should be done in the partial function that handles the message.&quot;</span><span class="delimiter">)</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; PartialFunction[Any,Boolean]" id="344192">shouldUpdate</a>: <span title="PartialFunction[Any,Boolean]">PartialFunction</span><span class="delimiter">[</span>Any, Boolean<span class="delimiter">]</span> = <a href="#344227" title="Boolean" class="delimiter">{</a> <span class="keyword">case</span> <span title="Boolean(true)">_</span> =&gt; <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">}</span>

  <span class="keyword">abstract</span> <span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="()Unit" id="344193">localSetup</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#344191" title="=&gt; net.liftweb.common.SimpleActor[Any]">registerWith</a> <a href="../../../../common/net/liftweb/common/SimpleActor.scala.html#29491" title="(param: Any)Unit">!</a> <a href="#343977" title="(who: net.liftweb.common.SimpleActor[Any], shouldUpdate: PartialFunction[Any,Boolean])net.liftweb.http.AddAListener">AddAListener</a><span class="delimiter">(</span><a href="#14091" title="&lt;none&gt; extends net.liftweb.http.CometListener with net.liftweb.http.CometActor" class="keyword">this</a>, <a href="#344192" title="=&gt; PartialFunction[Any,Boolean]">shouldUpdate</a><span class="delimiter">)</span>
    <a href="#14091" title="&lt;none&gt; extends net.liftweb.http.CometListener with net.liftweb.http.CometActor" class="keyword">super</a>.<a href="#327830" title="()Unit">localSetup</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">abstract</span> <span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="()Unit" id="344194">localShutdown</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#344191" title="=&gt; net.liftweb.common.SimpleActor[Any]">registerWith</a> <a href="../../../../common/net/liftweb/common/SimpleActor.scala.html#29491" title="(param: Any)Unit">!</a> <a href="#348337" title="(who: net.liftweb.common.SimpleActor[Any])net.liftweb.http.RemoveAListener">RemoveAListener</a><span class="delimiter">(</span><a href="#14091" title="&lt;none&gt; extends net.liftweb.http.CometListener with net.liftweb.http.CometActor" class="keyword">this</a><span class="delimiter">)</span>
    <a href="#14091" title="&lt;none&gt; extends net.liftweb.http.CometListener with net.liftweb.http.CometActor" class="keyword">super</a>.<a href="#327833" title="()Unit">localShutdown</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait LiftCometActor extends java.lang.Object with net.liftweb.common.TypedActor[Any,Any] with net.liftweb.common.ForwardableActor[Any,Any] with net.liftweb.util.Dependent with ScalaObject" id="14092">LiftCometActor</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../../../../common/net/liftweb/common/SimpleActor.scala.html#10734" title="net.liftweb.common.TypedActor[Any,Any]">TypedActor</a><span class="delimiter">[</span>Any, Any<span class="delimiter">]</span> <span class="keyword">with</span> <a href="../../../../common/net/liftweb/common/SimpleActor.scala.html#10740" title="net.liftweb.common.ForwardableActor[Any,Any]">ForwardableActor</a><span class="delimiter">[</span>Any, Any<span class="delimiter">]</span> <span class="keyword">with</span> <a href="../../../../util/net/liftweb/util/Wiring.scala.html#13750" title="net.liftweb.util.Dependent">Dependent</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="325343">uniqueId</a>: <span title="String">String</span>

  <span class="keyword">private</span><span class="delimiter">[</span>http<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(theSession: net.liftweb.http.LiftSession, theType: net.liftweb.common.Box[String], name: net.liftweb.common.Box[String], defaultHtml: scala.xml.NodeSeq, attributes: Map[String,String])Unit" id="325344">callInitCometActor</a><span class="delimiter">(</span><a title="net.liftweb.http.LiftSession" id="344249">theSession</a>: <a href="LiftSession.scala.html#14496" title="net.liftweb.http.LiftSession">LiftSession</a>,
                                       <a title="net.liftweb.common.Box[String]" id="344250">theType</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[String]">Box</a><span class="delimiter">[</span>String<span class="delimiter">]</span>,
                                       <a title="net.liftweb.common.Box[String]" id="344251">name</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[String]">Box</a><span class="delimiter">[</span>String<span class="delimiter">]</span>,
                                       <a title="scala.xml.NodeSeq" id="344252">defaultHtml</a>: <span title="scala.xml.NodeSeq">NodeSeq</span>,
                                       <a title="Map[String,String]" id="344253">attributes</a>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#325345" title="(theSession: net.liftweb.http.LiftSession, theType: net.liftweb.common.Box[String], name: net.liftweb.common.Box[String], defaultHtml: scala.xml.NodeSeq, attributes: Map[String,String])Unit">initCometActor</a><span class="delimiter">(</span><a href="#344249" title="net.liftweb.http.LiftSession">theSession</a>, <a href="#344250" title="net.liftweb.common.Box[String]">theType</a>, <a href="#344251" title="net.liftweb.common.Box[String]">name</a>, <a href="#344252" title="scala.xml.NodeSeq">defaultHtml</a>, <a href="#344253" title="Map[String,String]">attributes</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(theSession: net.liftweb.http.LiftSession, theType: net.liftweb.common.Box[String], name: net.liftweb.common.Box[String], defaultHtml: scala.xml.NodeSeq, attributes: Map[String,String])Unit" id="325345">initCometActor</a><span class="delimiter">(</span><a title="net.liftweb.http.LiftSession" id="328051">theSession</a>: <a href="LiftSession.scala.html#14496" title="net.liftweb.http.LiftSession">LiftSession</a>,
                               <a title="net.liftweb.common.Box[String]" id="328052">theType</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[String]">Box</a><span class="delimiter">[</span>String<span class="delimiter">]</span>,
                               <a title="net.liftweb.common.Box[String]" id="328053">name</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[String]">Box</a><span class="delimiter">[</span>String<span class="delimiter">]</span>,
                               <a title="scala.xml.NodeSeq" id="328054">defaultHtml</a>: <span title="scala.xml.NodeSeq">NodeSeq</span>,
                               <a title="Map[String,String]" id="328055">attributes</a>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span>

  <span class="keyword">def</span> <a title="=&gt; net.liftweb.http.js.JsonCall" id="325346">jsonCall</a>: <a href="js/JsCommands.scala.html#14902" title="net.liftweb.http.js.JsonCall">JsonCall</a>

  <span class="keyword">def</span> <a title="=&gt; net.liftweb.common.Box[String]" id="325347">theType</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[String]">Box</a><span class="delimiter">[</span>String<span class="delimiter">]</span>

  <span class="keyword">def</span> <a title="=&gt; net.liftweb.common.Box[String]" id="325348">name</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[String]">Box</a><span class="delimiter">[</span>String<span class="delimiter">]</span>

  <span class="keyword">def</span> <a title="=&gt; Boolean" id="325349">hasOuter</a>: <span title="Boolean">Boolean</span>

  <span class="keyword">def</span> <a title="(time: Long, xml: scala.xml.NodeSeq)scala.xml.NodeSeq" id="325350">buildSpan</a><span class="delimiter">(</span><a title="Long" id="326513">time</a>: <span title="Long">Long</span>, <a title="scala.xml.NodeSeq" id="326514">xml</a>: <span title="scala.xml.NodeSeq">NodeSeq</span><span class="delimiter">)</span>: <span title="scala.xml.NodeSeq">NodeSeq</span>

  <span class="keyword">def</span> <a title="=&gt; scala.xml.Elem" id="325351">parentTag</a>: <span title="scala.xml.Elem">Elem</span>

  <span class="comment">/**
   * Poke the CometActor and cause it to do a partial update Noop which
   * will have the effect of causing the component to redisplay any
   * Wiring elements on the component.
   * This method is Actor-safe and may be called from any thread, not
   * just the Actor's message handler thread.
   */</span>
  <span class="keyword">def</span> <a title="()Unit" id="325352">poke</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span title="Unit" class="delimiter">{</span><span class="delimiter">}</span>

  <span class="comment">/**
   * Is this CometActor going to capture the initial Req
   * object?  If yes, override this method and return true
   * and override captureInitialReq to capture the Req.  Why
   * have to explicitly ask for the Req? In order to send Req
   * instances across threads, the Req objects must be snapshotted
   * which is the process of reading the POST or PUT body from the
   * HTTP request stream.  We don't want to do this unless we
   * have to, so by default the Req is not snapshotted/sent.  But
   * if you want it, you can have it.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="325353">sendInitialReq_?</a> : <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>

  <span class="comment">/**
   * If the predicate cell changes, the Dependent will be notified
   */</span>
  <span class="keyword">def</span> <a title="(which: net.liftweb.util.Cell[_])Unit" id="325354">predicateChanged</a><span class="delimiter">(</span><a title="net.liftweb.util.Cell[_]" id="344274">which</a>: <a href="../../../../util/net/liftweb/util/Wiring.scala.html#13751" title="net.liftweb.util.Cell[_]">Cell</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span><a href="#325352" title="()Unit">poke</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">}</span>


  <span class="comment">/**
   * The locale for the session that created the CometActor
   */</span>
  <span class="keyword">def</span> <a title="=&gt; java.util.Locale" id="325355">cometActorLocale</a>: <span title="java.util.Locale">Locale</span> = <a href="#325357" title="=&gt; java.util.Locale">_myLocale</a>
  <span class="keyword">private</span> <span class="keyword">var</span> <a title="java.util.Locale" id="325357">_myLocale</a> = <span title="object java.util.Locale">Locale</span>.<span title="()java.util.Locale">getDefault</span><span class="delimiter">(</span><span class="delimiter">)</span>
  
  <span class="keyword">private</span><span class="delimiter">[</span>http<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(loc: java.util.Locale)Unit" id="325359">setCometActorLocale</a><span class="delimiter">(</span><a title="java.util.Locale" id="344310">loc</a>: <span title="java.util.Locale">Locale</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#325357" title="(x$1: java.util.Locale)Unit">_myLocale</a> = <a href="#344310" title="java.util.Locale">loc</a>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Subclass from this class if you're in Java-land
 * and want a CometActor
 */</span>
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class CometActorJ extends net.liftweb.actor.LiftActorJ with net.liftweb.http.CometActor with ScalaObject" id="14093">CometActorJ</a> <a href="#14093" title="ScalaObject" class="keyword">extends</a> <a href="../../../../actor/net/liftweb/actor/LiftActor.scala.html#10563" title="net.liftweb.actor.LiftActorJ">LiftActorJ</a> <span class="keyword">with</span> <a href="#14095" title="net.liftweb.http.CometActor">CometActor</a> <span class="delimiter">{</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; PartialFunction[Any,Unit]" id="344313">lowPriority</a> = <a href="../../../../actor/net/liftweb/actor/LiftActor.scala.html#33038" title="=&gt; PartialFunction[Any,Unit]">_messageHandler</a>

<span class="delimiter">}</span>

<span class="comment">/**
 * Subclass from this class if you want a CometActorJ with
 * CometListeners
 */</span>
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class CometActorJWithCometListener extends net.liftweb.http.CometActorJ with net.liftweb.http.CometListener with ScalaObject" id="14094">CometActorJWithCometListener</a> <a href="#14094" title="ScalaObject" class="keyword">extends</a> <a href="#14093" title="net.liftweb.http.CometActorJ">CometActorJ</a> <span class="keyword">with</span> <a href="#14091" title="net.liftweb.http.CometListener">CometListener</a> <span class="delimiter">{</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; PartialFunction[Any,Unit]" id="344319">lowPriority</a> = <a href="../../../../actor/net/liftweb/actor/LiftActor.scala.html#33038" title="=&gt; PartialFunction[Any,Unit]">_messageHandler</a>
<span class="delimiter">}</span>

<span class="comment">/**
 * Takes care of the plumbing for building Comet-based Web Apps
 */</span>
<span class="keyword">trait</span> <a title="trait CometActor extends java.lang.Object with net.liftweb.actor.LiftActor with net.liftweb.http.LiftCometActor with net.liftweb.util.BindHelpers with ScalaObject" id="14095">CometActor</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../../../../actor/net/liftweb/actor/LiftActor.scala.html#10558" title="net.liftweb.actor.LiftActor">LiftActor</a> <span class="keyword">with</span> <a href="#14092" title="net.liftweb.http.LiftCometActor">LiftCometActor</a> <span class="keyword">with</span> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#13112" title="net.liftweb.util.BindHelpers">BindHelpers</a> <span class="delimiter">{</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="net.liftweb.common.Logger" id="327707">logger</a> = <a href="../../../../common/net/liftweb/common/Logging.scala.html#31889" title="(cls: Class[_])net.liftweb.common.Logger">Logger</a><span class="delimiter">(</span>classOf<span title="java.lang.Class[net.liftweb.http.CometActor](classOf[net.liftweb.http.CometActor])" class="delimiter">[</span>CometActor<span class="delimiter">]</span><span class="delimiter">)</span>
  <span class="keyword">val</span> <a title="String" id="327709">uniqueId</a> = <a href="../../../../util/net/liftweb/util/Helpers.scala.html#13346" title="object net.liftweb.util.Helpers">Helpers</a>.<a href="../../../../util/net/liftweb/util/HttpHelpers.scala.html#49067" title="=&gt; String">nextFuncName</a>
  <span class="keyword">private</span> <span class="keyword">var</span> <a title="String" id="327712">spanId</a> = <a href="#327709" title="=&gt; String">uniqueId</a>
  <span class="keyword">private</span> <span class="keyword">var</span> <a title="Long" id="327715">lastRenderTime</a> = <a href="../../../../util/net/liftweb/util/Helpers.scala.html#13346" title="object net.liftweb.util.Helpers">Helpers</a>.<a href="../../../../util/net/liftweb/util/HttpHelpers.scala.html#49062" title="=&gt; Long">nextNum</a>

  <span class="comment">/**
   * If we're going to cache the last rendering, here's the
   * private cache
   */</span>
  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">var</span> <a title="net.liftweb.http.RenderOut" id="327717">_realLastRendering</a>: <a href="#348267" title="net.liftweb.http.RenderOut">RenderOut</a> = _

  <span class="comment">/**
   * The last rendering (cached or not)
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; net.liftweb.http.RenderOut" id="327718">lastRendering</a>: <a href="#348267" title="net.liftweb.http.RenderOut">RenderOut</a> = 
    <span title="net.liftweb.http.RenderOut" class="keyword">if</span> <span class="delimiter">(</span><a href="#327822" title="=&gt; Boolean">dontCacheRendering</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="net.liftweb.http.RenderOut" id="344462">ret</a> = <span class="delimiter">(</span><a href="#327819" title="=&gt; net.liftweb.http.RenderOut">render</a> <a href="#328609" title="(cmd: net.liftweb.http.js.JsCmd)net.liftweb.http.RenderOut">++</a> <a href="#327792" title="=&gt; net.liftweb.http.js.JsCmd">jsonInCode</a><span class="delimiter">)</span>: <a href="#348267" title="net.liftweb.http.RenderOut">RenderOut</a>
      <a href="#327749" title="=&gt; net.liftweb.http.LiftSession">theSession</a>.<a href="LiftSession.scala.html#230223" title="(funcs: Map[String,net.liftweb.http.S.AFuncHolder], uniqueId: String, when: Long)Unit">updateFunctionMap</a><span class="delimiter">(</span><a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49475" title="=&gt; Map[String,net.liftweb.http.S.AFuncHolder]">functionMap</a>, <a href="#327712" title="=&gt; String">spanId</a>, <a href="#327715" title="=&gt; Long">lastRenderTime</a><span class="delimiter">)</span>
      <a href="#344462" title="net.liftweb.http.RenderOut">ret</a>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
      <a href="#327717" title="net.liftweb.http.RenderOut">_realLastRendering</a>
    <span class="delimiter">}</span>

  <span class="comment">/**
   * set the last rendering... ignore if we're not caching
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(last: net.liftweb.http.RenderOut)Unit" id="327719">lastRendering_=</a><span class="delimiter">(</span><a title="net.liftweb.http.RenderOut" id="344509">last</a>: <a href="#348267" title="net.liftweb.http.RenderOut">RenderOut</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#327822" title="=&gt; Boolean">dontCacheRendering</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#327717" title="net.liftweb.http.RenderOut">_realLastRendering</a> = <a href="#344509" title="net.liftweb.http.RenderOut">last</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  
  <span class="keyword">private</span> <span class="keyword">var</span> <a title="Boolean" id="327721">wasLastFullRender</a> = <span title="Boolean(false)" class="keyword">false</span>
  @transient
  <span class="keyword">private</span> <span class="keyword">var</span> <a title="List[(net.liftweb.http.ListenerId, net.liftweb.http.AnswerRender =&gt; Unit)]" id="327724">listeners</a>: <span title="List[(net.liftweb.http.ListenerId, net.liftweb.http.AnswerRender =&gt; Unit)]">List</span><span class="delimiter">[</span><span class="delimiter">(</span>ListenerId, AnswerRender =&gt; Unit<span class="delimiter">)</span><span class="delimiter">]</span> = <span title="object Nil">Nil</span>
  <span class="keyword">private</span> <span class="keyword">var</span> <a title="net.liftweb.common.Box[net.liftweb.http.LiftCometActor]" id="327727">askingWho</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.http.LiftCometActor]">Box</a><span class="delimiter">[</span>LiftCometActor<span class="delimiter">]</span> = <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>
  <span class="keyword">private</span> <span class="keyword">var</span> <a title="net.liftweb.common.Box[net.liftweb.http.LiftCometActor]" id="327730">whosAsking</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.http.LiftCometActor]">Box</a><span class="delimiter">[</span>LiftCometActor<span class="delimiter">]</span> = <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>
  <span class="keyword">private</span> <span class="keyword">var</span> <a title="net.liftweb.common.Box[Any =&gt; Any]" id="327733">answerWith</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[Any =&gt; Any]">Box</a><span class="delimiter">[</span>Any =&gt; Any<span class="delimiter">]</span> = <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>
  <span class="keyword">private</span> <span class="keyword">var</span> <a title="List[net.liftweb.http.Delta]" id="327736">deltas</a>: <span title="List[net.liftweb.http.Delta]">List</span><span class="delimiter">[</span>Delta<span class="delimiter">]</span> = <span title="object Nil">Nil</span>
  <span class="keyword">private</span> <span class="keyword">var</span> <a title="PartialFunction[Any,net.liftweb.http.js.JsCmd]" id="327739">jsonHandlerChain</a>: <span title="PartialFunction[Any,net.liftweb.http.js.JsCmd]">PartialFunction</span><span class="delimiter">[</span>Any, JsCmd<span class="delimiter">]</span> = <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="scala.collection.immutable.Map[Any,Nothing]">empty</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]" id="327741">notices</a> = <span title="scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">ListBuffer</span><span class="delimiter">[</span><span class="delimiter">(</span>NoticeType.Value, NodeSeq, Box<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span>
  <span class="keyword">private</span> <span class="keyword">var</span> <a title="Long" id="327744">lastListenTime</a> = <a href="../../../../util/net/liftweb/util/TimeHelpers.scala.html#48788" title="=&gt; Long">millis</a>

  <span class="keyword">private</span> <span class="keyword">var</span> <a title="net.liftweb.http.LiftSession" id="327747">_theSession</a>: <a href="LiftSession.scala.html#14496" title="net.liftweb.http.LiftSession">LiftSession</a> = _

  <span class="keyword">def</span> <a title="=&gt; net.liftweb.http.LiftSession" id="327749">theSession</a> = <a href="#327747" title="=&gt; net.liftweb.http.LiftSession">_theSession</a>

  @volatile <span class="keyword">private</span> <span class="keyword">var</span> <a title="scala.xml.NodeSeq" id="327751">_defaultHtml</a>: <span title="scala.xml.NodeSeq">NodeSeq</span> = _

  @deprecated<span class="delimiter">(</span><span class="string">&quot;Use defaultHtml&quot;</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; scala.xml.NodeSeq" id="327753">defaultXml</a> = <a href="#327751" title="=&gt; scala.xml.NodeSeq">_defaultHtml</a>

  <span class="comment">/**
   * The template that was passed to this component during comet
   * initializations
   */</span>
  <span class="keyword">def</span> <a title="=&gt; scala.xml.NodeSeq" id="327754">defaultHtml</a>: <span title="scala.xml.NodeSeq">NodeSeq</span> = <a href="#327751" title="=&gt; scala.xml.NodeSeq">_defaultHtml</a>

  <span class="keyword">private</span> <span class="keyword">var</span> <a title="net.liftweb.common.Box[String]" id="327756">_name</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[String]">Box</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>

  <span class="comment">/**
   * The optional name of this CometActors
   */</span>
  <span class="keyword">def</span> <a title="=&gt; net.liftweb.common.Box[String]" id="327758">name</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[String]">Box</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="#327756" title="=&gt; net.liftweb.common.Box[String]">_name</a>

  <span class="keyword">private</span> <span class="keyword">var</span> <a title="net.liftweb.common.Box[String]" id="327760">_theType</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[String]">Box</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>

  <span class="comment">/**
   * The optional type of this CometActor
   */</span>
  <span class="keyword">def</span> <a title="=&gt; net.liftweb.common.Box[String]" id="327762">theType</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[String]">Box</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="#327760" title="=&gt; net.liftweb.common.Box[String]">_theType</a>

  <span class="keyword">private</span> <span class="keyword">var</span> <a title="Map[String,String]" id="327764">_attributes</a>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span> = <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="scala.collection.immutable.Map[String,Nothing]">empty</span>

  <span class="keyword">def</span> <a title="=&gt; Map[String,String]" id="327766">attributes</a> = <a href="#327764" title="=&gt; Map[String,String]">_attributes</a>

  <span class="comment">/**
   * The lifespan of this component.  By default CometActors
   * will last for the entire session that they were created in,
   * even if the CometActor is not currently visible.  You can
   * set the lifespan of the CometActor.  If the CometActor
   * isn't visible on any page for some period after its lifespan
   * the CometActor will be shut down.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; net.liftweb.common.Box[net.liftweb.util.Helpers.TimeSpan]" id="327767">lifespan</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.util.Helpers.TimeSpan]">Box</a><span class="delimiter">[</span>TimeSpan<span class="delimiter">]</span> = <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>

  <span class="keyword">private</span> <span class="keyword">var</span> <a title="Boolean" id="327769">_running</a> = <span title="Boolean(true)" class="keyword">true</span>

  <span class="keyword">private</span> <span class="keyword">var</span> <a title="Long" id="327772">_shutDownAt</a> = <a href="../../../../util/net/liftweb/util/TimeHelpers.scala.html#48788" title="=&gt; Long">millis</a>

  <span class="comment">/**
   * Is the CometActor running?
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="327774">running</a> = <a href="#327769" title="=&gt; Boolean">_running</a>

  <span class="comment">/**
   * It's seriously suboptimal to override this method.  Instead
   * use localSetup()
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(theSession: net.liftweb.http.LiftSession, theType: net.liftweb.common.Box[String], name: net.liftweb.common.Box[String], defaultHtml: scala.xml.NodeSeq, attributes: Map[String,String])Unit" id="327775">initCometActor</a><span class="delimiter">(</span><a title="net.liftweb.http.LiftSession" id="328045">theSession</a>: <a href="LiftSession.scala.html#14496" title="net.liftweb.http.LiftSession">LiftSession</a>,
                               <a title="net.liftweb.common.Box[String]" id="328046">theType</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[String]">Box</a><span class="delimiter">[</span>String<span class="delimiter">]</span>,
                               <a title="net.liftweb.common.Box[String]" id="328047">name</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[String]">Box</a><span class="delimiter">[</span>String<span class="delimiter">]</span>,
                               <a title="scala.xml.NodeSeq" id="328048">defaultHtml</a>: <span title="scala.xml.NodeSeq">NodeSeq</span>,
                               <a title="Map[String,String]" id="328049">attributes</a>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#327822" title="=&gt; Boolean">dontCacheRendering</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#327719" title="(last: net.liftweb.http.RenderOut)Unit">lastRendering</a> = <a href="#348267" title="(xhtml: net.liftweb.common.Box[scala.xml.NodeSeq], fixedXhtml: net.liftweb.common.Box[scala.xml.NodeSeq], script: net.liftweb.common.Box[net.liftweb.http.js.JsCmd], destroyScript: net.liftweb.common.Box[net.liftweb.http.js.JsCmd], ignoreHtmlOnJs: Boolean)net.liftweb.http.RenderOut">RenderOut</a><span class="delimiter">(</span><a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: scala.xml.NodeSeq)net.liftweb.common.Full[scala.xml.NodeSeq]">Full</a><span class="delimiter">(</span><a href="#328048" title="scala.xml.NodeSeq">defaultHtml</a><span class="delimiter">)</span>,
                                <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>, <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>, <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <a href="#14095" title="CometActor.this.type" class="keyword">this</a>.<a href="#327760" title="(x$1: net.liftweb.common.Box[String])Unit">_theType</a> = <a href="#328046" title="net.liftweb.common.Box[String]">theType</a>
    <a href="#14095" title="CometActor.this.type" class="keyword">this</a>.<a href="#327747" title="(x$1: net.liftweb.http.LiftSession)Unit">_theSession</a> = <a href="#328045" title="net.liftweb.http.LiftSession">theSession</a>
    <a href="#14095" title="CometActor.this.type" class="keyword">this</a>.<a href="#327751" title="(x$1: scala.xml.NodeSeq)Unit">_defaultHtml</a> = <a href="#328048" title="scala.xml.NodeSeq">defaultHtml</a>
    <a href="#14095" title="CometActor.this.type" class="keyword">this</a>.<a href="#327756" title="(x$1: net.liftweb.common.Box[String])Unit">_name</a> = <a href="#328047" title="net.liftweb.common.Box[String]">name</a>
    <a href="#14095" title="CometActor.this.type" class="keyword">this</a>.<a href="#327764" title="(x$1: Map[String,String])Unit">_attributes</a> = <a href="#328049" title="Map[String,String]">attributes</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; net.liftweb.common.Box[String]" id="327776">defaultPrefix</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[String]">Box</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>

  <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="String" id="327778">_defaultPrefix</a>: <span title="String">String</span> = <span class="delimiter">(</span><a href="#327776" title="=&gt; net.liftweb.common.Box[String]">defaultPrefix</a> <a href="../../../../common/net/liftweb/common/Box.scala.html#27043" title="(alternative: =&gt; net.liftweb.common.Box[String])net.liftweb.common.Box[String]">or</a> <a href="#327756" title="=&gt; net.liftweb.common.Box[String]">_name</a><span class="delimiter">)</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; String)String">openOr</a> <span title="java.lang.String(&quot;comet&quot;)" class="string">&quot;comet&quot;</span>

  <span class="comment">/**
   * Set to 'true' if we should run &quot;render&quot; on every page load
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="327779">devMode</a> = <span title="Boolean(false)" class="keyword">false</span>

  <span class="keyword">def</span> <a title="=&gt; Boolean" id="327780">hasOuter</a> = <span title="Boolean(true)" class="keyword">true</span>

  <span class="keyword">def</span> <a title="=&gt; scala.xml.Elem" id="327781">parentTag</a> = &lt;<a title="scala.xml.MetaData" id="344563">div</a> style=<span title="scala.xml.Text" class="string">&quot;display: inline&quot;</span>/&gt;

  <span class="comment">/**
   * Return the list of ListenerIds of all long poll agents that
   * are waiting for this CometActor to change its state.  This method
   * is useful for detecting presence.
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; List[net.liftweb.http.ListenerId]" id="327782">cometListeners</a>: <span title="List[net.liftweb.http.ListenerId]">List</span><span class="delimiter">[</span>ListenerId<span class="delimiter">]</span> = <a href="#327724" title="=&gt; List[(net.liftweb.http.ListenerId, net.liftweb.http.AnswerRender =&gt; Unit)]">listeners</a>.<span title="(f: (net.liftweb.http.ListenerId, net.liftweb.http.AnswerRender =&gt; Unit) =&gt; net.liftweb.http.ListenerId)(implicit bf: scala.collection.generic.CanBuildFrom[List[(net.liftweb.http.ListenerId, net.liftweb.http.AnswerRender =&gt; Unit)],net.liftweb.http.ListenerId,List[net.liftweb.http.ListenerId]])List[net.liftweb.http.ListenerId]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,net.liftweb.http.ListenerId,List[net.liftweb.http.ListenerId]]" class="delimiter">(</span><a href="#344604" title="(net.liftweb.http.ListenerId, net.liftweb.http.AnswerRender =&gt; Unit)">_</a>.<span title="=&gt; net.liftweb.http.ListenerId">_1</span><span class="delimiter">)</span>

  <span class="comment">/**
   * This method will be called when there's a change in the long poll
   * listeners.  The method does nothing, but allows you to get a granular
   * sense of how many browsers care about this CometActor.  Note that
   * this method should not block for any material time and if there's
   * any processing to do, use Scheduler.schedule or send a message to this
   * CometActor.  Do not change the Actor's state from this method.
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="()Unit" id="327783">listenerTransition</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span title="Unit" class="delimiter">{</span><span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(in: Any)net.liftweb.http.js.JsCmd" id="327784">_handleJson</a><span class="delimiter">(</span><a title="Any" id="344371">in</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <a href="js/JsCommands.scala.html#14913" title="net.liftweb.http.js.JsCmd">JsCmd</a> =
    <span title="net.liftweb.http.js.JsCmd" class="keyword">if</span> <span class="delimiter">(</span><a href="#327739" title="=&gt; PartialFunction[Any,net.liftweb.http.js.JsCmd]">jsonHandlerChain</a>.<span title="(x: Any)Boolean">isDefinedAt</span><span class="delimiter">(</span><a href="#344371" title="Any">in</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#327739" title="(v1: Any)net.liftweb.http.js.JsCmd">jsonHandlerChain</a><span class="delimiter">(</span><a href="#344371" title="Any">in</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#327786" title="(in: Any)net.liftweb.http.js.JsCmd">handleJson</a><span class="delimiter">(</span><a href="#344371" title="Any">in</a><span class="delimiter">)</span>


  <span class="comment">/**
   * Prepends the handler to the Json Handlers.  Should only be used
   * during instantiation
   *
   * @param h -- the PartialFunction that can handle a JSON request
   */</span>
  <span class="keyword">def</span> <a title="(h: PartialFunction[Any,net.liftweb.http.js.JsCmd])Unit" id="327785">appendJsonHandler</a><span class="delimiter">(</span><a title="PartialFunction[Any,net.liftweb.http.js.JsCmd]" id="344647">h</a>: <span title="PartialFunction[Any,net.liftweb.http.js.JsCmd]">PartialFunction</span><span class="delimiter">[</span>Any, JsCmd<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#327739" title="(x$1: PartialFunction[Any,net.liftweb.http.js.JsCmd])Unit">jsonHandlerChain</a> = <a href="#344647" title="PartialFunction[Any,net.liftweb.http.js.JsCmd]">h</a> <span title="(that: PartialFunction[Any,net.liftweb.http.js.JsCmd])PartialFunction[Any,net.liftweb.http.js.JsCmd]">orElse</span> <a href="#327739" title="=&gt; PartialFunction[Any,net.liftweb.http.js.JsCmd]">jsonHandlerChain</a>
  <span class="delimiter">}</span>


  <span class="keyword">def</span> <a title="(in: Any)net.liftweb.http.js.JsCmd" id="327786">handleJson</a><span class="delimiter">(</span><a title="Any" id="344645">in</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <a href="js/JsCommands.scala.html#14913" title="net.liftweb.http.js.JsCmd">JsCmd</a> = <a href="js/JsCommands.scala.html#146481" title="=&gt; net.liftweb.http.js.JsCmd">Noop</a>

  <span class="comment">/**
   * If there's actor-specific JSON behavior on failure to make the JSON
   * call, include the JavaScript here.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; net.liftweb.common.Box[net.liftweb.http.js.JsCmd]" id="327787">onJsonError</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.http.js.JsCmd]">Box</a><span class="delimiter">[</span>JsCmd<span class="delimiter">]</span> = <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a href="#327791" title="(net.liftweb.http.js.JsonCall, net.liftweb.http.js.JsCmd)" id="327789" class="delimiter">(</a><a href="#327788" title="net.liftweb.http.js.JsonCall" id="327791">jsonCall</a>, <a href="#327788" title="net.liftweb.http.js.JsCmd" id="327793">jsonInCode</a><span class="delimiter">)</span> = <a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49516" title="(name: net.liftweb.common.Box[String], onError: net.liftweb.common.Box[net.liftweb.http.js.JsCmd], f: Any =&gt; net.liftweb.http.js.JsCmd)(net.liftweb.http.js.JsonCall, net.liftweb.http.js.JsCmd)">buildJsonFunc</a><span title="(net.liftweb.http.js.JsonCall, net.liftweb.http.js.JsCmd) @unchecked" class="delimiter">(</span><a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: String)net.liftweb.common.Full[String]">Full</a><span class="delimiter">(</span><a href="#327777" title="=&gt; String">_defaultPrefix</a><span class="delimiter">)</span>, <a href="#327787" title="=&gt; net.liftweb.common.Box[net.liftweb.http.js.JsCmd]">onJsonError</a>, <a href="#327784" title="(in: Any)net.liftweb.http.js.JsCmd">_handleJson</a><span class="delimiter">)</span>
  
  <span class="comment">/**
  * Override this method to deal with JSON sent from the browser via the sendJson function.  This
  * is based on the Lift JSON package rather than the handleJson stuff based on the older util.JsonParser.  This
  * is the prefered mechanism.  If you use the jsonSend call, you will get a JObject(JField(&quot;command&quot;, cmd), JField(&quot;param&quot;, params))
  */</span>
  <span class="keyword">def</span> <a title="=&gt; PartialFunction[net.liftweb.json.JsonAST.JValue,net.liftweb.http.js.JsCmd]" id="327794">receiveJson</a>: <span title="PartialFunction[net.liftweb.json.JsonAST.JValue,net.liftweb.http.js.JsCmd]">PartialFunction</span><span class="delimiter">[</span>JsonAST.JValue, JsCmd<span class="delimiter">]</span> = <span title="(elems: (net.liftweb.json.JsonAST.JValue, Nothing)*)scala.collection.immutable.Map[net.liftweb.json.JsonAST.JValue,Nothing]">Map</span><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="comment">/**
  * The JavaScript call that you use to send the data to the server. For example:
  * &amp;lt;button onclick={jsonSend(&quot;Hello&quot;, JsRaw(&quot;Dude&quot;.encJs))}&amp;gt;Click&amp;lt;/button&amp;gt;
  */</span>
  <span class="keyword">def</span> <a title="=&gt; net.liftweb.http.js.JsonCall" id="327795">jsonSend</a>: <a href="js/JsCommands.scala.html#14902" title="net.liftweb.http.js.JsonCall">JsonCall</a> = <a href="#327799" title="=&gt; net.liftweb.http.js.JsonCall">_sendJson</a>

  <span class="comment">/**
  * The call that packages up the JSON and tosses it to the server.  If you set autoIncludeJsonCode to true,
  * then this will be included in the stuff sent to the server.
  */</span>
  <span class="keyword">def</span> <a title="=&gt; net.liftweb.http.js.JsCmd" id="327796">jsonToIncludeInCode</a>: <a href="js/JsCommands.scala.html#14913" title="net.liftweb.http.js.JsCmd">JsCmd</a> = <a href="#327801" title="=&gt; net.liftweb.http.js.JsCmd">_jsonToIncludeCode</a>

  <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a href="#327800" title="(net.liftweb.http.js.JsonCall, net.liftweb.http.js.JsCmd)" id="327798" class="delimiter">(</a><a href="#327797" title="net.liftweb.http.js.JsonCall" id="327800">_sendJson</a>, <a href="#327797" title="net.liftweb.http.js.JsCmd" id="327802">_jsonToIncludeCode</a><span class="delimiter">)</span> = <a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49513" title="(name: net.liftweb.common.Box[String], onError: net.liftweb.common.Box[net.liftweb.http.js.JsCmd], pfp: net.liftweb.http.S.PFPromoter[net.liftweb.json.JsonAST.JValue,net.liftweb.http.js.JsCmd])(net.liftweb.http.js.JsonCall, net.liftweb.http.js.JsCmd)">createJsonFunc</a><span title="(net.liftweb.http.js.JsonCall, net.liftweb.http.js.JsCmd) @unchecked" class="delimiter">(</span><a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: String)net.liftweb.common.Full[String]">Full</a><span class="delimiter">(</span><a href="#327777" title="=&gt; String">_defaultPrefix</a><span class="delimiter">)</span>, <a href="#327787" title="=&gt; net.liftweb.common.Box[net.liftweb.http.js.JsCmd]">onJsonError</a>, <a href="S.scala.html#344411" title="(pff: () =&gt; PartialFunction[net.liftweb.json.JsonAST.JValue,net.liftweb.http.js.JsCmd])net.liftweb.http.S.PFPromoter[net.liftweb.json.JsonAST.JValue,net.liftweb.http.js.JsCmd]">receiveJson</a> _<span class="delimiter">)</span>

  <span class="comment">/**
  * Set this method to true to have the Json call code included in the Comet output
  */</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="327803">autoIncludeJsonCode</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>

  <span class="comment">/**
   * Creates the span element acting as the real estate for commet rendering.
   */</span>
  <span class="keyword">def</span> <a title="(time: Long, xml: scala.xml.NodeSeq)scala.xml.NodeSeq" id="327804">buildSpan</a><span class="delimiter">(</span><a title="Long" id="344662">time</a>: <span title="Long">Long</span>, <a title="scala.xml.NodeSeq" id="344663">xml</a>: <span title="scala.xml.NodeSeq">NodeSeq</span><span class="delimiter">)</span>: <span title="scala.xml.NodeSeq">NodeSeq</span> = <span class="delimiter">{</span>
    <span title="(prefix: String, label: String, attributes: scala.xml.MetaData, scope: scala.xml.NamespaceBinding, child: scala.xml.Node*)scala.xml.Elem">Elem</span><span class="delimiter">(</span><a href="#327781" title="=&gt; scala.xml.Elem">parentTag</a>.<span title="=&gt; String">prefix</span>, <a href="#327781" title="=&gt; scala.xml.Elem">parentTag</a>.<span title="=&gt; String">label</span>, <a href="#327781" title="=&gt; scala.xml.Elem">parentTag</a>.<span title="=&gt; scala.xml.MetaData">attributes</span>,
         <a href="#327781" title="=&gt; scala.xml.Elem">parentTag</a>.<span title="=&gt; scala.xml.NamespaceBinding">scope</span>, <span title="(nodes: Seq[scala.xml.Node])scala.xml.Group">Group</span><span class="delimiter">(</span><a href="#344663" title="scala.xml.NodeSeq">xml</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(updates: scala.xml.MetaData)scala.xml.Elem">%</span>
    <span title="scala.xml.UnprefixedAttribute" class="keyword">new</span> <span title="scala.xml.UnprefixedAttribute">UnprefixedAttribute</span><span class="delimiter">(</span><span title="java.lang.String(&quot;id&quot;)" class="string">&quot;id&quot;</span>, 
                            <span title="(_data: String)scala.xml.Text">Text</span><span class="delimiter">(</span><a href="#327712" title="=&gt; String">spanId</a><span class="delimiter">)</span>, 
                            <span title="scala.xml.MetaData" class="keyword">if</span> <span class="delimiter">(</span><a href="#344662" title="Long">time</a> <span title="(x: Long)Boolean">&gt;</span> <span title="Long(0L)" class="long">0L</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                              <span title="(pre: String, key: String, value: String, next: scala.xml.MetaData)scala.xml.PrefixedAttribute" class="keyword">new</span> <span title="scala.xml.PrefixedAttribute">PrefixedAttribute</span><span class="delimiter">(</span><span title="java.lang.String(&quot;lift&quot;)" class="string">&quot;lift&quot;</span>, <span title="java.lang.String(&quot;when&quot;)" class="string">&quot;when&quot;</span>, 
                                                    <a href="#344662" title="Long">time</a>.<span title="()java.lang.String">toString</span>, 
                                                    <span title="object scala.xml.Null">Null</span><span class="delimiter">)</span>
                            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span><span title="object scala.xml.Null">Null</span><span class="delimiter">}</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; PartialFunction[Any,Unit]" id="327805">messageHandler</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="PartialFunction[Any,Unit]" id="345526">what</a> = <a href="#327834" title="=&gt; PartialFunction[Any,Unit]">composeFunction</a>
    <span class="keyword">val</span> <a title="PartialFunction[Any,Unit]" id="345527">myPf</a>: <span title="PartialFunction[Any,Unit]">PartialFunction</span><span class="delimiter">[</span>Any, Unit<span class="delimiter">]</span> = <a href="#345530" title="java.lang.Object with PartialFunction[Any,Unit]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with PartialFunction[Any,Unit]" id="345530">PartialFunction</a><span class="delimiter">[</span>Any, Unit<span class="delimiter">]</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(in: Any)Unit" id="345538">apply</a><span class="delimiter">(</span><a title="Any" id="345540">in</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
        <a href="#14078" title="object net.liftweb.http.CurrentCometActor">CurrentCometActor</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51274" title="(x: net.liftweb.http.LiftCometActor)(f: =&gt; Unit)Unit">doWith</a><span class="delimiter">(</span><a href="#14095" title="net.liftweb.http.CometActor">CometActor</a>.<span class="keyword">this</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49455" title="(session: net.liftweb.http.LiftSession)(f: =&gt; Unit)Unit">initIfUninitted</a><span class="delimiter">(</span><a href="#327749" title="=&gt; net.liftweb.http.LiftSession">theSession</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="LiftSession.scala.html#14488" title="object net.liftweb.http.RenderVersion">RenderVersion</a>.<a href="LiftSession.scala.html#345565" title="(v: String)(f: =&gt; Unit)Unit">doWith</a><span class="delimiter">(</span><a href="#327709" title="=&gt; String">uniqueId</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49432" title="(span: Boolean)(f: =&gt; Unit)Unit">functionLifespan</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#345526" title="PartialFunction[Any,Unit]">what</a>.<span title="(v1: Any)Unit">apply</span><span class="delimiter">(</span><a href="#345540" title="Any">in</a><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49475" title="=&gt; Map[String,net.liftweb.http.S.AFuncHolder]">functionMap</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#327749" title="=&gt; net.liftweb.http.LiftSession">theSession</a>.<a href="LiftSession.scala.html#230223" title="(funcs: Map[String,net.liftweb.http.S.AFuncHolder], uniqueId: String, when: Long)Unit">updateFunctionMap</a><span class="delimiter">(</span><a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49475" title="=&gt; Map[String,net.liftweb.http.S.AFuncHolder]">functionMap</a>,
                                               <a href="#327709" title="=&gt; String">uniqueId</a>, <a href="#327715" title="=&gt; Long">lastRenderTime</a><span class="delimiter">)</span>
                  <a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49479" title="=&gt; Unit">clearFunctionMap</a>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      
      <span class="keyword">def</span> <a title="(in: Any)Boolean" id="345539">isDefinedAt</a><span class="delimiter">(</span><a title="Any" id="345543">in</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
        <a href="#14078" title="object net.liftweb.http.CurrentCometActor">CurrentCometActor</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51274" title="(x: net.liftweb.http.LiftCometActor)(f: =&gt; Boolean)Boolean">doWith</a><span class="delimiter">(</span><a href="#14095" title="net.liftweb.http.CometActor">CometActor</a>.<span class="keyword">this</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49455" title="(session: net.liftweb.http.LiftSession)(f: =&gt; Boolean)Boolean">initIfUninitted</a><span class="delimiter">(</span><a href="#327749" title="=&gt; net.liftweb.http.LiftSession">theSession</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="LiftSession.scala.html#14488" title="object net.liftweb.http.RenderVersion">RenderVersion</a>.<a href="LiftSession.scala.html#345565" title="(v: String)(f: =&gt; Boolean)Boolean">doWith</a><span class="delimiter">(</span><a href="#327709" title="=&gt; String">uniqueId</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49432" title="(span: Boolean)(f: =&gt; Boolean)Boolean">functionLifespan</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#345526" title="PartialFunction[Any,Unit]">what</a>.<span title="(x: Any)Boolean">isDefinedAt</span><span class="delimiter">(</span><a href="#345543" title="Any">in</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    
    <a href="#345527" title="PartialFunction[Any,Unit]">myPf</a>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * A part of the CometActor's screen real estate that is not
   * updated by default with reRender().  This block of HTML is
   * useful for the editor part of a Comet-based control where
   * the data is JSON and updated with partialUpdates.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; net.liftweb.common.Box[scala.xml.NodeSeq]" id="327806">fixedRender</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[scala.xml.NodeSeq]">Box</a><span class="delimiter">[</span>NodeSeq<span class="delimiter">]</span> = <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>

  <span class="comment">/**
   * Calculate fixedRender and capture the postpage javascript
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; net.liftweb.common.Box[scala.xml.NodeSeq]" id="327807">calcFixedRender</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[scala.xml.NodeSeq]">Box</a><span class="delimiter">[</span>NodeSeq<span class="delimiter">]</span> = 
    <a href="#327806" title="=&gt; net.liftweb.common.Box[scala.xml.NodeSeq]">fixedRender</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: scala.xml.NodeSeq =&gt; scala.xml.NodeSeq)net.liftweb.common.Box[scala.xml.NodeSeq]">map</a><span class="delimiter">(</span><a title="scala.xml.NodeSeq" id="345640">ns</a> =&gt; <a href="#327749" title="=&gt; net.liftweb.http.LiftSession">theSession</a>.<a href="LiftSession.scala.html#230242" title="()List[net.liftweb.http.js.JsCmd]">postPageJavaScript</a><span class="delimiter">(</span><span class="delimiter">)</span> <span title="scala.xml.NodeSeq" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="scala.xml.NodeSeq">Nil</span> =&gt; <a href="#345640" title="scala.xml.NodeSeq">ns</a>
      <span class="keyword">case</span> <a title="scala.xml.NodeSeq" id="345648">xs</a> =&gt; <span class="delimiter">{</span>
        <a href="#345640" title="scala.xml.NodeSeq">ns</a> <span title="(that: scala.collection.GenTraversableOnce[scala.xml.Node])(implicit bf: scala.collection.generic.CanBuildFrom[scala.xml.NodeSeq,scala.xml.Node,scala.xml.NodeSeq])scala.xml.NodeSeq">++</span> <a href="js/JsCommands.scala.html#196378" title="(script: net.liftweb.http.js.JsCmd)scala.xml.Node">Script</a><span class="delimiter">(</span><a href="js/JsCommands.scala.html#146426" title="implicit net.liftweb.http.js.JsCmds.seqJsToJs : (in: Seq[net.liftweb.http.js.JsCmd])net.liftweb.http.js.JsCmd">xs</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="comment">/**
   * We have to cache fixedRender and only change it if
   * the tempalte changes or we get a reRender(true)
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; net.liftweb.common.Box[scala.xml.NodeSeq]" id="327808">internalFixedRender</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[scala.xml.NodeSeq]">Box</a><span class="delimiter">[</span>NodeSeq<span class="delimiter">]</span> = 
    <span title="net.liftweb.common.Box[scala.xml.NodeSeq]" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#327811" title="=&gt; Boolean">cacheFixedRender</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#327807" title="=&gt; net.liftweb.common.Box[scala.xml.NodeSeq]">calcFixedRender</a>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
      <a href="#327809" title="=&gt; net.liftweb.util.FatLazy[net.liftweb.common.Box[scala.xml.NodeSeq]]">cachedFixedRender</a>.<a href="../../../../util/net/liftweb/util/FatLazy.scala.html#147758" title="=&gt; net.liftweb.common.Box[scala.xml.NodeSeq]">get</a>
    <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="net.liftweb.util.FatLazy[net.liftweb.common.Box[scala.xml.NodeSeq]]" id="327809">cachedFixedRender</a>: <a href="../../../../util/net/liftweb/util/FatLazy.scala.html#13322" title="net.liftweb.util.FatLazy[net.liftweb.common.Box[scala.xml.NodeSeq]]">FatLazy</a><span class="delimiter">[</span>Box<span class="delimiter">[</span>NodeSeq<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="../../../../util/net/liftweb/util/FatLazy.scala.html#154877" title="(f: =&gt; net.liftweb.common.Box[scala.xml.NodeSeq])net.liftweb.util.FatLazy[net.liftweb.common.Box[scala.xml.NodeSeq]]">FatLazy</a><span class="delimiter">(</span><a href="#327807" title="=&gt; net.liftweb.common.Box[scala.xml.NodeSeq]">calcFixedRender</a><span class="delimiter">)</span>

  <span class="comment">/**
   * By default, we do not cache the value of fixedRender.  If it's
   * expensive to recompute it each time there's a convertion
   * of something to a RenderOut, override this method if you
   * want to cache fixedRender
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="327811">cacheFixedRender</a> = <span title="Boolean(false)" class="keyword">false</span>

  <span class="comment">/**
   * A helpful implicit conversion that takes a NodeSeq =&gt; NodeSeq
   * (for example a CssSel) and converts it to a Box[NodeSeq] by
   * applying the function to defaultHtml
   */</span>
  <span class="keyword">protected</span> <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit net.liftweb.http.CometActor.nodeSeqFuncToBoxNodeSeq : (f: scala.xml.NodeSeq =&gt; scala.xml.NodeSeq)net.liftweb.common.Box[scala.xml.NodeSeq]" id="327812">nodeSeqFuncToBoxNodeSeq</a><span class="delimiter">(</span><a title="scala.xml.NodeSeq =&gt; scala.xml.NodeSeq" id="328623">f</a>: NodeSeq =&gt; NodeSeq<span class="delimiter">)</span>:
  <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[scala.xml.NodeSeq]">Box</a><span class="delimiter">[</span>NodeSeq<span class="delimiter">]</span> = <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: scala.xml.NodeSeq)net.liftweb.common.Full[scala.xml.NodeSeq]">Full</a><span class="delimiter">(</span><a href="#328623" title="(v1: scala.xml.NodeSeq)scala.xml.NodeSeq">f</a><span class="delimiter">(</span><a href="#327754" title="=&gt; scala.xml.NodeSeq">defaultHtml</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Handle messages sent to this Actor before the 
   */</span>
  <span class="keyword">def</span> <a title="=&gt; PartialFunction[Any,Unit]" id="327813">highPriority</a>: <span title="PartialFunction[Any,Unit]">PartialFunction</span><span class="delimiter">[</span>Any, Unit<span class="delimiter">]</span> = <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="scala.collection.immutable.Map[Any,Nothing]">empty</span>

  <span class="keyword">def</span> <a title="=&gt; PartialFunction[Any,Unit]" id="327814">lowPriority</a>: <span title="PartialFunction[Any,Unit]">PartialFunction</span><span class="delimiter">[</span>Any, Unit<span class="delimiter">]</span> = <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="scala.collection.immutable.Map[Any,Nothing]">empty</span>

  <span class="keyword">def</span> <a title="=&gt; PartialFunction[Any,Unit]" id="327815">mediumPriority</a>: <span title="PartialFunction[Any,Unit]">PartialFunction</span><span class="delimiter">[</span>Any, Unit<span class="delimiter">]</span> = <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="scala.collection.immutable.Map[Any,Nothing]">empty</span>

  <span class="keyword">private</span><span class="delimiter">[</span>http<span class="delimiter">]</span> <span class="keyword">def</span> <a title="=&gt; PartialFunction[Any,Unit]" id="327816">_lowPriority</a>: <span title="PartialFunction[Any,Unit]">PartialFunction</span><span class="delimiter">[</span>Any, Unit<span class="delimiter">]</span> = <a href="#345713" title="Unit" class="delimiter">{</a>
    <span class="keyword">case</span> <a title="Unit" id="345714">s</a> =&gt; <a href="#327707" title="=&gt; net.liftweb.common.Logger">logger</a>.<a href="../../../../common/net/liftweb/common/Logging.scala.html#31942" title="(msg: =&gt; AnyRef)Unit">debug</a><span class="delimiter">(</span><span title="java.lang.String(&quot;CometActor &quot;)" class="string">&quot;CometActor &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#14095" title="net.liftweb.http.CometActor" class="keyword">this</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; got unexpected message &quot;)" class="string">&quot; got unexpected message &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#345714" title="Any">s</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="PartialFunction[Any,Unit]" id="327818">_mediumPriority</a>: <span title="PartialFunction[Any,Unit]">PartialFunction</span><span class="delimiter">[</span>Any, Unit<span class="delimiter">]</span> = <a href="#345720" title="Unit" class="delimiter">{</a>
    <span class="keyword">case</span> <a title="Unit" id="345721">l</a>@Unlisten<span class="delimiter">(</span><a title="net.liftweb.http.ListenerId" id="345749">seq</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
      <a href="#327744" title="(x$1: Long)Unit">lastListenTime</a> = <a href="../../../../util/net/liftweb/util/TimeHelpers.scala.html#48788" title="=&gt; Long">millis</a>
      <a href="#327727" title="=&gt; net.liftweb.common.Box[net.liftweb.http.LiftCometActor]">askingWho</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Unit">Full</span><span class="delimiter">(</span><a title="net.liftweb.http.LiftCometActor" id="345751">who</a><span class="delimiter">)</span> =&gt; <a href="../../../../actor/net/liftweb/actor/LiftActor.scala.html#32898" title="(msg: Any, forwardTo: net.liftweb.common.TypedActor[Any,Any])Unit">forwardMessageTo</a><span class="delimiter">(</span><a href="#345721" title="net.liftweb.http.Unlisten">l</a>, <a href="#345751" title="net.liftweb.http.LiftCometActor">who</a><span class="delimiter">)</span> <span class="comment">// forward l</span>
        <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <a href="#327724" title="(x$1: List[(net.liftweb.http.ListenerId, net.liftweb.http.AnswerRender =&gt; Unit)])Unit">listeners</a> = <a href="#327724" title="=&gt; List[(net.liftweb.http.ListenerId, net.liftweb.http.AnswerRender =&gt; Unit)]">listeners</a>.<span title="(p: (net.liftweb.http.ListenerId, net.liftweb.http.AnswerRender =&gt; Unit) =&gt; Boolean)List[(net.liftweb.http.ListenerId, net.liftweb.http.AnswerRender =&gt; Unit)]">filter</span><span class="delimiter">(</span><a href="#345759" title="(net.liftweb.http.ListenerId, net.liftweb.http.AnswerRender =&gt; Unit)">_</a>.<span title="=&gt; net.liftweb.http.ListenerId">_1</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#345749" title="net.liftweb.http.ListenerId">seq</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#327783" title="()Unit">listenerTransition</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>


    <span class="keyword">case</span> <a title="Unit" id="345764">l</a>@Listen<span class="delimiter">(</span><a title="Long" id="345809">when</a>, <a title="net.liftweb.http.ListenerId" id="345810">seqId</a>, <a title="net.liftweb.http.AnswerRender =&gt; Unit" id="345811">toDo</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
      <a href="#327744" title="(x$1: Long)Unit">lastListenTime</a> = <a href="../../../../util/net/liftweb/util/TimeHelpers.scala.html#48788" title="=&gt; Long">millis</a>
      <a href="#327727" title="=&gt; net.liftweb.common.Box[net.liftweb.http.LiftCometActor]">askingWho</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Unit">Full</span><span class="delimiter">(</span><a title="net.liftweb.http.LiftCometActor" id="345813">who</a><span class="delimiter">)</span> =&gt; <a href="../../../../actor/net/liftweb/actor/LiftActor.scala.html#32898" title="(msg: Any, forwardTo: net.liftweb.common.TypedActor[Any,Any])Unit">forwardMessageTo</a><span class="delimiter">(</span><a href="#345764" title="net.liftweb.http.Listen">l</a>, <a href="#345813" title="net.liftweb.http.LiftCometActor">who</a><span class="delimiter">)</span> <span class="comment">// who forward l</span>
        <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#345809" title="Long">when</a> <span title="(x: Long)Boolean">&lt;</span> <a href="#327715" title="=&gt; Long">lastRenderTime</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#345811" title="(v1: net.liftweb.http.AnswerRender)Unit">toDo</a><span class="delimiter">(</span><a href="#348321" title="(response: net.liftweb.http.XmlOrJsCmd, who: net.liftweb.http.LiftCometActor, when: Long, displayAll: Boolean)net.liftweb.http.AnswerRender">AnswerRender</a><span class="delimiter">(</span><a href="#326481" title="(id: String, ro: net.liftweb.http.RenderOut, spanFunc: (Long, scala.xml.NodeSeq) =&gt; scala.xml.NodeSeq, notices: List[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])])net.liftweb.http.XmlOrJsCmd" class="keyword">new</a> <a href="#14101" title="net.liftweb.http.XmlOrJsCmd">XmlOrJsCmd</a><span class="delimiter">(</span><a href="#327712" title="=&gt; String">spanId</a>, <a href="#327718" title="=&gt; net.liftweb.http.RenderOut">lastRendering</a>,
              <a href="#327804" title="(time: Long, xml: scala.xml.NodeSeq)scala.xml.NodeSeq">buildSpan</a> _, <a href="#327741" title="=&gt; scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">notices</a> <span title="=&gt; List[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">toList</span><span class="delimiter">)</span>,
              <a href="#327730" title="=&gt; net.liftweb.common.Box[net.liftweb.http.LiftCometActor]">whosAsking</a> <a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; net.liftweb.http.LiftCometActor)net.liftweb.http.LiftCometActor">openOr</a> <a href="#14095" title="net.liftweb.http.CometActor" class="keyword">this</a>, <a href="#327715" title="=&gt; Long">lastRenderTime</a>, <a href="#327721" title="=&gt; Boolean">wasLastFullRender</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#327858" title="=&gt; Unit">clearNotices</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#327736" title="=&gt; List[net.liftweb.http.Delta]">deltas</a>.<span title="(p: net.liftweb.http.Delta =&gt; Boolean)List[net.liftweb.http.Delta]">filter</span><span class="delimiter">(</span><a href="#345865" title="net.liftweb.http.Delta">_</a>.<a href="#346994" title="=&gt; Long">when</a> <span title="(x: Long)Boolean">&gt;</span> <a href="#345809" title="Long">when</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Unit">Nil</span> =&gt; <a href="#327724" title="(x$1: List[(net.liftweb.http.ListenerId, net.liftweb.http.AnswerRender =&gt; Unit)])Unit">listeners</a> = <span title="(_1: net.liftweb.http.ListenerId, _2: net.liftweb.http.AnswerRender =&gt; Unit)(net.liftweb.http.ListenerId, net.liftweb.http.AnswerRender =&gt; Unit)" class="delimiter">(</span><a href="#345810" title="net.liftweb.http.ListenerId">seqId</a>, <a href="#345811" title="net.liftweb.http.AnswerRender =&gt; Unit">toDo</a><span class="delimiter">)</span> <a href="#345870" title="(x: (net.liftweb.http.ListenerId, net.liftweb.http.AnswerRender =&gt; Unit))List[(net.liftweb.http.ListenerId, net.liftweb.http.AnswerRender =&gt; Unit)]">::</a> <a href="#327724" title="=&gt; List[(net.liftweb.http.ListenerId, net.liftweb.http.AnswerRender =&gt; Unit)]">listeners</a>

              <span class="keyword">case</span> <a title="Unit" id="345882">all</a>@<span class="delimiter">(</span><a title="net.liftweb.http.Delta" id="345887">hd</a> :: <a title="List[net.liftweb.http.Delta]" id="345888">xs</a><span class="delimiter">)</span> =&gt;
                <a href="#345811" title="(v1: net.liftweb.http.AnswerRender)Unit">toDo</a><span class="delimiter">(</span><a href="#348321" title="(response: net.liftweb.http.XmlOrJsCmd, who: net.liftweb.http.LiftCometActor, when: Long, displayAll: Boolean)net.liftweb.http.AnswerRender">AnswerRender</a><span class="delimiter">(</span><span title="net.liftweb.http.XmlOrJsCmd" class="keyword">new</span> <a href="#14101" title="net.liftweb.http.XmlOrJsCmd">XmlOrJsCmd</a><span class="delimiter">(</span><a href="#327712" title="=&gt; String">spanId</a>, <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>, <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>,
                  <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: net.liftweb.http.js.JsCmd)net.liftweb.common.Full[net.liftweb.http.js.JsCmd]">Full</a><span class="delimiter">(</span><a href="#345882" title="collection.immutable.::[net.liftweb.http.Delta]">all</a>.<span title="=&gt; List[net.liftweb.http.Delta]">reverse</span>.<span title="(z: net.liftweb.http.js.JsCmd)(f: (net.liftweb.http.js.JsCmd, net.liftweb.http.Delta) =&gt; net.liftweb.http.js.JsCmd)net.liftweb.http.js.JsCmd">foldLeft</span><span class="delimiter">(</span><a href="js/JsCommands.scala.html#146481" title="=&gt; net.liftweb.http.js.JsCmd">Noop</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#345928" title="net.liftweb.http.js.JsCmd">_</a> <a href="js/JsCommands.scala.html#148952" title="(other: net.liftweb.http.js.JsCmd)net.liftweb.http.js.JsCmd">&amp;</a> <a href="#345929" title="net.liftweb.http.Delta">_</a>.<a href="#344515" title="=&gt; net.liftweb.http.js.JsCmd">js</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>, <a href="#327804" title="(time: Long, xml: scala.xml.NodeSeq)scala.xml.NodeSeq">buildSpan</a>, <span title="Boolean(false)" class="keyword">false</span>, <a href="#327741" title="=&gt; scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">notices</a> <span title="=&gt; List[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">toList</span><span class="delimiter">)</span>,
                  <a href="#327730" title="=&gt; net.liftweb.common.Box[net.liftweb.http.LiftCometActor]">whosAsking</a> <a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; net.liftweb.http.LiftCometActor)net.liftweb.http.LiftCometActor">openOr</a> <a href="#14095" title="net.liftweb.http.CometActor" class="keyword">this</a>, <a href="#345887" title="net.liftweb.http.Delta">hd</a>.<a href="#346994" title="=&gt; Long">when</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="#327858" title="=&gt; Unit">clearNotices</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#327783" title="()Unit">listenerTransition</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>


    <span class="keyword">case</span> <span title="Unit">PerformSetupComet2</span><span class="delimiter">(</span><a title="net.liftweb.common.Box[net.liftweb.http.Req]" id="345957">initialReq</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
      <span class="comment">// this ! RelinkToActorWatcher</span>
      <a href="#327830" title="()Unit">localSetup</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#327831" title="(initialReq: net.liftweb.common.Box[net.liftweb.http.Req])Unit">captureInitialReq</a><span class="delimiter">(</span><a href="#345957" title="net.liftweb.common.Box[net.liftweb.http.Req]">initialReq</a><span class="delimiter">)</span>
      <a href="#327825" title="(sendAll: Boolean)Unit">performReRender</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Update the defaultHtml... sent in dev mode
     */</span>
    <span class="keyword">case</span> <span title="Unit">UpdateDefaultXml</span><span class="delimiter">(</span><a title="scala.xml.NodeSeq" id="345980">xml</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Boolean" id="345981">redo</a> = <a href="#345980" title="scala.xml.NodeSeq">xml</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#327751" title="=&gt; scala.xml.NodeSeq">_defaultHtml</a>
      
      <a href="#327751" title="(x$1: scala.xml.NodeSeq)Unit">_defaultHtml</a> = <a href="#345980" title="scala.xml.NodeSeq">xml</a>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#345981" title="Boolean">redo</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#327825" title="(sendAll: Boolean)Unit">performReRender</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">case</span> <a href="#347467" title="Unit">AskRender</a> =&gt;
      <a href="#327727" title="=&gt; net.liftweb.common.Box[net.liftweb.http.LiftCometActor]">askingWho</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Unit">Full</span><span class="delimiter">(</span><a title="net.liftweb.http.LiftCometActor" id="345987">who</a><span class="delimiter">)</span> =&gt; <a href="../../../../actor/net/liftweb/actor/LiftActor.scala.html#32898" title="(msg: Any, forwardTo: net.liftweb.common.TypedActor[Any,Any])Unit">forwardMessageTo</a><span class="delimiter">(</span><a href="#347467" title="object net.liftweb.http.AskRender">AskRender</a>, <a href="#345987" title="net.liftweb.http.LiftCometActor">who</a><span class="delimiter">)</span> <span class="comment">//  forward AskRender</span>
        <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#327736" title="=&gt; List[net.liftweb.http.Delta]">deltas</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">||</span> <a href="#327779" title="=&gt; Boolean">devMode</a><span class="delimiter">)</span> <a href="#327825" title="(sendAll: Boolean)Unit">performReRender</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
          
          <a href="../../../../actor/net/liftweb/actor/LiftActor.scala.html#32909" title="(v: Any)Unit">reply</a><span class="delimiter">(</span><a href="#348321" title="(response: net.liftweb.http.XmlOrJsCmd, who: net.liftweb.http.LiftCometActor, when: Long, displayAll: Boolean)net.liftweb.http.AnswerRender">AnswerRender</a><span class="delimiter">(</span><a href="#326481" title="(id: String, ro: net.liftweb.http.RenderOut, spanFunc: (Long, scala.xml.NodeSeq) =&gt; scala.xml.NodeSeq, notices: List[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])])net.liftweb.http.XmlOrJsCmd" class="keyword">new</a> <a href="#14101" title="net.liftweb.http.XmlOrJsCmd">XmlOrJsCmd</a><span class="delimiter">(</span><a href="#327712" title="=&gt; String">spanId</a>, <a href="#327718" title="=&gt; net.liftweb.http.RenderOut">lastRendering</a>, 
                                            <a href="#327804" title="(time: Long, xml: scala.xml.NodeSeq)scala.xml.NodeSeq">buildSpan</a> _, <a href="#327741" title="=&gt; scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">notices</a> <span title="=&gt; List[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">toList</span><span class="delimiter">)</span>,
                             <a href="#327730" title="=&gt; net.liftweb.common.Box[net.liftweb.http.LiftCometActor]">whosAsking</a> <a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; net.liftweb.http.LiftCometActor)net.liftweb.http.LiftCometActor">openOr</a> <a href="#14095" title="net.liftweb.http.CometActor" class="keyword">this</a>, <a href="#327715" title="=&gt; Long">lastRenderTime</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#327858" title="=&gt; Unit">clearNotices</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

    <span class="keyword">case</span> <span title="Unit">ActionMessageSet</span><span class="delimiter">(</span><a title="List[() =&gt; Any]" id="346035">msgs</a>, <a title="net.liftweb.http.Req" id="346036">req</a><span class="delimiter">)</span> =&gt;
      <a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49537" title="(map: Map[String,List[String]])(f: =&gt; Unit)Unit">doCometParams</a><span class="delimiter">(</span><a href="#346036" title="net.liftweb.http.Req">req</a>.<a href="Req.scala.html#149194" title="=&gt; Map[String,List[String]]">params</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49340" title="()List[net.liftweb.http.js.JsCmd]">jsToAppend</a><span class="delimiter">(</span><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">Nil</span> =&gt;
          <span class="keyword">case</span> <a title="Unit" id="346045">js</a> =&gt; <a href="#327828" title="(cmd: =&gt; net.liftweb.http.js.JsCmd)Unit">partialUpdate</a><span class="delimiter">(</span><a href="js/JsCommands.scala.html#146426" title="implicit net.liftweb.http.js.JsCmds.seqJsToJs : (in: Seq[net.liftweb.http.js.JsCmd])net.liftweb.http.js.JsCmd">js</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <a href="../../../../actor/net/liftweb/actor/LiftActor.scala.html#32909" title="(v: Any)Unit">reply</a><span class="delimiter">(</span><a href="#346035" title="List[() =&gt; Any]">msgs</a>.<span title="(f: () =&gt; Any =&gt; Any)(implicit bf: scala.collection.generic.CanBuildFrom[List[() =&gt; Any],Any,List[Any]])List[Any]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Any,List[Any]]" class="delimiter">(</span><a href="#346063" title="()Any">_</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#346046" title="(prefix: List[Any])List[Any]">:::</a> <span title="(xs: net.liftweb.http.js.JsCmd*)List[net.liftweb.http.js.JsCmd]">List</span><span class="delimiter">(</span><a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49517" title="=&gt; net.liftweb.http.js.JsCmd">noticesToJsCmd</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    <span class="keyword">case</span> <span title="Unit">AskQuestion</span><span class="delimiter">(</span><a title="Any" id="346164">what</a>, <a title="net.liftweb.http.LiftCometActor" id="346165">who</a>, <a title="List[(net.liftweb.http.ListenerId, net.liftweb.http.AnswerRender =&gt; Unit)]" id="346166">otherlisteners</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
      <a href="#14095" title="CometActor.this.type" class="keyword">this</a>.<a href="#327712" title="(x$1: String)Unit">spanId</a> = <a href="#346165" title="net.liftweb.http.LiftCometActor">who</a>.<a href="#325343" title="=&gt; String">uniqueId</a>
      <a href="#14095" title="CometActor.this.type" class="keyword">this</a>.<a href="#327724" title="(x$1: List[(net.liftweb.http.ListenerId, net.liftweb.http.AnswerRender =&gt; Unit)])Unit">listeners</a> = <a href="#346166" title="List[(net.liftweb.http.ListenerId, net.liftweb.http.AnswerRender =&gt; Unit)]">otherlisteners</a> <a href="#346167" title="(prefix: List[(net.liftweb.http.ListenerId, net.liftweb.http.AnswerRender =&gt; Unit)])List[(net.liftweb.http.ListenerId, net.liftweb.http.AnswerRender =&gt; Unit)]">:::</a> <a href="#14095" title="CometActor.this.type" class="keyword">this</a>.<a href="#327724" title="=&gt; List[(net.liftweb.http.ListenerId, net.liftweb.http.AnswerRender =&gt; Unit)]">listeners</a>
      <a href="#327829" title="(what: Any)Unit">startQuestion</a><span class="delimiter">(</span><a href="#346164" title="Any">what</a><span class="delimiter">)</span>
      <a href="#327730" title="(x$1: net.liftweb.common.Box[net.liftweb.http.LiftCometActor])Unit">whosAsking</a> = <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: net.liftweb.http.LiftCometActor)net.liftweb.common.Full[net.liftweb.http.LiftCometActor]">Full</a><span class="delimiter">(</span><a href="#346165" title="net.liftweb.http.LiftCometActor">who</a><span class="delimiter">)</span>
      <a href="#14095" title="CometActor.this.type" class="keyword">this</a>.<a href="#327820" title="(sendAll: Boolean)Unit">reRender</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
      <a href="#327783" title="()Unit">listenerTransition</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">case</span> <span title="Unit">AnswerQuestion</span><span class="delimiter">(</span><a title="Any" id="346222">what</a>, <a title="List[(net.liftweb.http.ListenerId, net.liftweb.http.AnswerRender =&gt; Unit)]" id="346223">otherListeners</a><span class="delimiter">)</span> =&gt;
      <a href="#327727" title="=&gt; net.liftweb.common.Box[net.liftweb.http.LiftCometActor]">askingWho</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27031" title="(f: net.liftweb.http.LiftCometActor =&gt; Unit)Unit">foreach</a> <span class="delimiter">{</span>
        <a title="net.liftweb.http.LiftCometActor" id="346228">ah</a> =&gt; <span class="delimiter">{</span>
          <a href="../../../../actor/net/liftweb/actor/LiftActor.scala.html#32909" title="(v: Any)Unit">reply</a><span class="delimiter">(</span><span title="java.lang.String(&quot;A null message to release the actor from its send and await reply... do not delete this message&quot;)" class="string">&quot;A null message to release the actor from its send and await reply... do not delete this message&quot;</span><span class="delimiter">)</span>
          <span class="comment">// askingWho.unlink(self)</span>
          <a href="#346228" title="net.liftweb.http.LiftCometActor">ah</a> <a href="../../../../common/net/liftweb/common/SimpleActor.scala.html#29491" title="(param: Any)Unit">!</a> <a href="LiftSession.scala.html#14497" title="object net.liftweb.http.ShutDown">ShutDown</a>
          <a href="#14095" title="CometActor.this.type" class="keyword">this</a>.<a href="#327724" title="(x$1: List[(net.liftweb.http.ListenerId, net.liftweb.http.AnswerRender =&gt; Unit)])Unit">listeners</a> = <a href="#14095" title="CometActor.this.type" class="keyword">this</a>.<a href="#327724" title="=&gt; List[(net.liftweb.http.ListenerId, net.liftweb.http.AnswerRender =&gt; Unit)]">listeners</a> <a href="#346232" title="(prefix: List[(net.liftweb.http.ListenerId, net.liftweb.http.AnswerRender =&gt; Unit)])List[(net.liftweb.http.ListenerId, net.liftweb.http.AnswerRender =&gt; Unit)]">:::</a> <a href="#346223" title="List[(net.liftweb.http.ListenerId, net.liftweb.http.AnswerRender =&gt; Unit)]">otherListeners</a>
          <a href="#14095" title="CometActor.this.type" class="keyword">this</a>.<a href="#327727" title="(x$1: net.liftweb.common.Box[net.liftweb.http.LiftCometActor])Unit">askingWho</a> = <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>
          <span class="keyword">val</span> <a title="net.liftweb.common.Box[Any =&gt; Any]" id="346229">aw</a> = <a href="#327733" title="=&gt; net.liftweb.common.Box[Any =&gt; Any]">answerWith</a>
          <a href="#327733" title="(x$1: net.liftweb.common.Box[Any =&gt; Any])Unit">answerWith</a> = <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>
          <a href="#346229" title="net.liftweb.common.Box[Any =&gt; Any]">aw</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27031" title="(f: Any =&gt; Any =&gt; Any)Unit">foreach</a><span class="delimiter">(</span><a href="#346244" title="(v1: Any)Any">_</a><span class="delimiter">(</span><a href="#346222" title="Any">what</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#327825" title="(sendAll: Boolean)Unit">performReRender</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
          <a href="#327783" title="()Unit">listenerTransition</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

    <span class="keyword">case</span> <a href="#347562" title="Unit">ShutdownIfPastLifespan</a> =&gt;
      <span class="keyword">for</span><span class="delimiter">{</span>
        <a title="net.liftweb.util.Helpers.TimeSpan" id="346267">ls</a> &lt;- <a href="../../../../common/net/liftweb/common/Box.scala.html#37117" title="(f: net.liftweb.util.Helpers.TimeSpan =&gt; Unit)Unit">lifespan</a> <span class="keyword">if</span> <a href="#327724" title="=&gt; List[(net.liftweb.http.ListenerId, net.liftweb.http.AnswerRender =&gt; Unit)]">listeners</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#327744" title="=&gt; Long">lastListenTime</a> <span title="(x: Long)Long">+</span> <a href="#346267" title="net.liftweb.util.Helpers.TimeSpan">ls</a>.<a href="../../../../util/net/liftweb/util/TimeHelpers.scala.html#58452" title="=&gt; Long">millis</a><span class="delimiter">)</span> <span title="(x: Long)Boolean">&lt;</span> <a href="../../../../util/net/liftweb/util/TimeHelpers.scala.html#48788" title="=&gt; Long">millis</a>
      <span class="delimiter">}</span> <span class="delimiter">{</span>
        <a href="#14095" title="CometActor.this.type" class="keyword">this</a> <a href="../../../../actor/net/liftweb/actor/LiftActor.scala.html#29502" title="(msg: Any)Unit">!</a> <a href="LiftSession.scala.html#14497" title="object net.liftweb.http.ShutDown">ShutDown</a>
      <span class="delimiter">}</span>

    <span class="keyword">case</span> <span title="Unit">ReRender</span><span class="delimiter">(</span><a title="Boolean" id="346298">all</a><span class="delimiter">)</span> =&gt; <a href="#327825" title="(sendAll: Boolean)Unit">performReRender</a><span class="delimiter">(</span><a href="#346298" title="Boolean">all</a><span class="delimiter">)</span>

    <span class="keyword">case</span> <span title="Unit">Error</span><span class="delimiter">(</span><a title="net.liftweb.common.Box[String]" id="346339">id</a>, <a title="scala.xml.NodeSeq" id="346340">node</a><span class="delimiter">)</span> =&gt; <a href="#327741" title="=&gt; scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">notices</a> <span title="(x: (net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String]))CometActor.this.notices.type">+=</span> <span class="delimiter">(</span><span title="(_1: net.liftweb.http.NoticeType.Error.type, _2: scala.xml.NodeSeq, _3: net.liftweb.common.Box[String])(net.liftweb.http.NoticeType.Error.type, scala.xml.NodeSeq, net.liftweb.common.Box[String])" class="delimiter">(</span><a href="S.scala.html#14644" title="object net.liftweb.http.NoticeType">NoticeType</a>.<a href="S.scala.html#221966" title="object net.liftweb.http.NoticeType.Error">Error</a>, <a href="#346340" title="scala.xml.NodeSeq">node</a>, <a href="#346339" title="net.liftweb.common.Box[String]">id</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">case</span> <span title="Unit">Warning</span><span class="delimiter">(</span><a title="net.liftweb.common.Box[String]" id="346399">id</a>, <a title="scala.xml.NodeSeq" id="346400">node</a><span class="delimiter">)</span> =&gt; <a href="#327741" title="=&gt; scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">notices</a> <span title="(x: (net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String]))CometActor.this.notices.type">+=</span> <span class="delimiter">(</span><span title="(_1: net.liftweb.http.NoticeType.Warning.type, _2: scala.xml.NodeSeq, _3: net.liftweb.common.Box[String])(net.liftweb.http.NoticeType.Warning.type, scala.xml.NodeSeq, net.liftweb.common.Box[String])" class="delimiter">(</span><a href="S.scala.html#14644" title="object net.liftweb.http.NoticeType">NoticeType</a>.<a href="S.scala.html#221964" title="object net.liftweb.http.NoticeType.Warning">Warning</a>, <a href="#346400" title="scala.xml.NodeSeq">node</a>, <a href="#346399" title="net.liftweb.common.Box[String]">id</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">case</span> <span title="Unit">Notice</span><span class="delimiter">(</span><a title="net.liftweb.common.Box[String]" id="346452">id</a>, <a title="scala.xml.NodeSeq" id="346453">node</a><span class="delimiter">)</span> =&gt; <a href="#327741" title="=&gt; scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">notices</a> <span title="(x: (net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String]))CometActor.this.notices.type">+=</span> <span class="delimiter">(</span><span title="(_1: net.liftweb.http.NoticeType.Notice.type, _2: scala.xml.NodeSeq, _3: net.liftweb.common.Box[String])(net.liftweb.http.NoticeType.Notice.type, scala.xml.NodeSeq, net.liftweb.common.Box[String])" class="delimiter">(</span><a href="S.scala.html#14644" title="object net.liftweb.http.NoticeType">NoticeType</a>.<a href="S.scala.html#221962" title="object net.liftweb.http.NoticeType.Notice">Notice</a>, <a href="#346453" title="scala.xml.NodeSeq">node</a>, <a href="#346452" title="net.liftweb.common.Box[String]">id</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">case</span> <a href="#347933" title="Unit">ClearNotices</a> =&gt; <a href="#327858" title="=&gt; Unit">clearNotices</a>

    <span class="keyword">case</span> <a href="LiftSession.scala.html#14497" title="Unit">ShutDown</a> =&gt;
      <a href="#327707" title="=&gt; net.liftweb.common.Logger">logger</a>.<a href="../../../../common/net/liftweb/common/Logging.scala.html#31948" title="(msg: =&gt; AnyRef)Unit">info</a><span class="delimiter">(</span><span title="java.lang.String(&quot;The CometActor &quot;)" class="string">&quot;The CometActor &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#14095" title="net.liftweb.http.CometActor" class="keyword">this</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; Received Shutdown&quot;)" class="string">&quot; Received Shutdown&quot;</span><span class="delimiter">)</span>
      <a href="#327727" title="=&gt; net.liftweb.common.Box[net.liftweb.http.LiftCometActor]">askingWho</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27031" title="(f: net.liftweb.http.LiftCometActor =&gt; Unit)Unit">foreach</a><span class="delimiter">(</span><a href="#346474" title="net.liftweb.http.LiftCometActor">_</a> <a href="../../../../common/net/liftweb/common/SimpleActor.scala.html#29491" title="(param: Any)Unit">!</a> <a href="LiftSession.scala.html#14497" title="object net.liftweb.http.ShutDown">ShutDown</a><span class="delimiter">)</span>
      <a href="#327749" title="=&gt; net.liftweb.http.LiftSession">theSession</a>.<a href="LiftSession.scala.html#230320" title="(act: net.liftweb.http.LiftCometActor)Unit">removeCometActor</a><span class="delimiter">(</span><a href="#14095" title="net.liftweb.http.CometActor" class="keyword">this</a><span class="delimiter">)</span>
      <a href="#327832" title="()Unit">_localShutdown</a><span class="delimiter">(</span><span class="delimiter">)</span>

    <span class="keyword">case</span> <span title="Unit">PartialUpdateMsg</span><span class="delimiter">(</span><a title="() =&gt; net.liftweb.http.js.JsCmd" id="346507">cmdF</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="net.liftweb.http.js.JsCmd" id="346508">cmd</a>: <a href="js/JsCommands.scala.html#14913" title="net.liftweb.http.js.JsCmd">JsCmd</a> = <a href="#346507" title="() =&gt; net.liftweb.http.js.JsCmd">cmdF</a>.<span title="()net.liftweb.http.js.JsCmd">apply</span>
      <span class="keyword">val</span> <a title="Long" id="346509">time</a> = <a href="../../../../util/net/liftweb/util/Helpers.scala.html#13346" title="object net.liftweb.util.Helpers">Helpers</a>.<a href="../../../../util/net/liftweb/util/HttpHelpers.scala.html#49062" title="=&gt; Long">nextNum</a>
      <span class="keyword">val</span> <a title="net.liftweb.http.JsDelta" id="346510">delta</a> = <a href="#348333" title="(when: Long, js: net.liftweb.http.js.JsCmd)net.liftweb.http.JsDelta">JsDelta</a><span class="delimiter">(</span><a href="#346509" title="Long">time</a>, <a href="#346508" title="net.liftweb.http.js.JsCmd">cmd</a><span class="delimiter">)</span>
      <a href="#327749" title="=&gt; net.liftweb.http.LiftSession">theSession</a>.<a href="LiftSession.scala.html#230223" title="(funcs: Map[String,net.liftweb.http.S.AFuncHolder], uniqueId: String, when: Long)Unit">updateFunctionMap</a><span class="delimiter">(</span><a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49475" title="=&gt; Map[String,net.liftweb.http.S.AFuncHolder]">functionMap</a>, <a href="#327709" title="=&gt; String">uniqueId</a>, <a href="#346509" title="Long">time</a><span class="delimiter">)</span>
      <a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49479" title="=&gt; Unit">clearFunctionMap</a>
      <span class="keyword">val</span> <a title="Long" id="346511">m</a> = <a href="../../../../util/net/liftweb/util/TimeHelpers.scala.html#48788" title="=&gt; Long">millis</a>
      <a href="#327736" title="(x$1: List[net.liftweb.http.Delta])Unit">deltas</a> = <span class="delimiter">(</span><a href="#346510" title="net.liftweb.http.JsDelta">delta</a> <a href="#346531" title="(x: net.liftweb.http.Delta)List[net.liftweb.http.Delta]">::</a> <a href="#327736" title="=&gt; List[net.liftweb.http.Delta]">deltas</a><span class="delimiter">)</span>.<span title="(p: net.liftweb.http.Delta =&gt; Boolean)List[net.liftweb.http.Delta]">filter</span><span class="delimiter">(</span><a title="net.liftweb.http.Delta" id="346542">d</a> =&gt; <span class="delimiter">(</span><a href="#346511" title="Long">m</a> <span title="(x: Long)Long">-</span> <a href="#346542" title="net.liftweb.http.Delta">d</a>.<a href="#344516" title="=&gt; Long">timestamp</a><span class="delimiter">)</span> <span title="(x: Long)Boolean">&lt;</span> <span title="Long(120000L)" class="long">120000L</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#327724" title="=&gt; List[(net.liftweb.http.ListenerId, net.liftweb.http.AnswerRender =&gt; Unit)]">listeners</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[net.liftweb.http.js.JsCmd]" id="346552">postPage</a> = <a href="#327749" title="=&gt; net.liftweb.http.LiftSession">theSession</a>.<a href="LiftSession.scala.html#230242" title="()List[net.liftweb.http.js.JsCmd]">postPageJavaScript</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="net.liftweb.http.AnswerRender" id="346553">rendered</a> = 
          <a href="#348321" title="(response: net.liftweb.http.XmlOrJsCmd, who: net.liftweb.http.LiftCometActor, when: Long, displayAll: Boolean)net.liftweb.http.AnswerRender">AnswerRender</a><span class="delimiter">(</span><span title="net.liftweb.http.XmlOrJsCmd" class="keyword">new</span> <a href="#14101" title="net.liftweb.http.XmlOrJsCmd">XmlOrJsCmd</a><span class="delimiter">(</span><a href="#327712" title="=&gt; String">spanId</a>, <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>, <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>,
                                      <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: net.liftweb.http.js.JsCmd)net.liftweb.common.Full[net.liftweb.http.js.JsCmd]">Full</a><span class="delimiter">(</span><a href="#346508" title="net.liftweb.http.js.JsCmd">cmd</a> <a href="js/JsCommands.scala.html#148952" title="(other: net.liftweb.http.js.JsCmd)net.liftweb.http.js.JsCmd">&amp;</a> <a href="js/JsCommands.scala.html#146426" title="implicit net.liftweb.http.js.JsCmds.seqJsToJs : (in: Seq[net.liftweb.http.js.JsCmd])net.liftweb.http.js.JsCmd">postPage</a><span class="delimiter">)</span>,
                                      <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>, <a href="#327804" title="(time: Long, xml: scala.xml.NodeSeq)scala.xml.NodeSeq">buildSpan</a>, <span title="Boolean(false)" class="keyword">false</span>,
                                      <a href="#327741" title="=&gt; scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">notices</a> <span title="=&gt; List[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">toList</span><span class="delimiter">)</span>,
                       <a href="#327730" title="=&gt; net.liftweb.common.Box[net.liftweb.http.LiftCometActor]">whosAsking</a> <a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; net.liftweb.http.LiftCometActor)net.liftweb.http.LiftCometActor">openOr</a> <a href="#14095" title="net.liftweb.http.CometActor" class="keyword">this</a>, <a href="#346509" title="Long">time</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
        <a href="#327858" title="=&gt; Unit">clearNotices</a>
        <a href="#327724" title="=&gt; List[(net.liftweb.http.ListenerId, net.liftweb.http.AnswerRender =&gt; Unit)]">listeners</a>.<span title="(f: (net.liftweb.http.ListenerId, net.liftweb.http.AnswerRender =&gt; Unit) =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#346588" title="(net.liftweb.http.ListenerId, net.liftweb.http.AnswerRender =&gt; Unit)">_</a>.<span title="(v1: net.liftweb.http.AnswerRender)Unit">_2</span><span class="delimiter">(</span><a href="#346553" title="net.liftweb.http.AnswerRender">rendered</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#327724" title="(x$1: List[(net.liftweb.http.ListenerId, net.liftweb.http.AnswerRender =&gt; Unit)])Unit">listeners</a> = <span title="object Nil">Nil</span>
        <a href="#327783" title="()Unit">listenerTransition</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>


  <span class="comment">/**
   * It's the main method to override, to define what is rendered by the CometActor
   *
   * There are implicit conversions for a bunch of stuff to
   * RenderOut (including NodeSeq).  Thus, if you don't declare the return
   * turn to be something other than RenderOut and return something that's
   * coersable into RenderOut, the compiler &quot;does the right thing&quot;(tm) for you.
   * &lt;br/&gt;
   * There are implicit conversions for NodeSeq, so you can return a pile of
   * XML right here.  There's an implicit conversion for NodeSeq =&gt; NodeSeq,
   * so you can return a function (e.g., a CssBindFunc) that will convert
   * the defaultHtml to the correct output.  There's an implicit conversion
   * from JsCmd, so you can return a pile of JavaScript that'll be shipped
   * to the browser.&lt;br/&gt;
   * Note that the render method will be called each time a new browser tab
   * is opened to the comet component or the comet component is otherwise
   * accessed during a full page load (this is true if a partialUpdate
   * has occured.)  You may want to look at the fixedRender method which is
   * only called once and sets up a stable rendering state.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; net.liftweb.http.RenderOut" id="327819">render</a>: <a href="#348267" title="net.liftweb.http.RenderOut">RenderOut</a>

  <span class="comment">/**
   * Cause the entire component to be reRendered and pushed out
   * to any listeners.  This method will cause the entire component
   * to be rendered which can result in a huge blob of JavaScript to
   * be sent to the client.  It's a much better practice to use
   * partialUpdate for non-trivial CometActor components.
   *
   * @param sendAll -- Should the fixed part of the CometActor be
   * rendered.
   */</span>
  <span class="keyword">def</span> <a title="(sendAll: Boolean)Unit" id="327820">reRender</a><span class="delimiter">(</span><a title="Boolean" id="346183">sendAll</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#14095" title="CometActor.this.type" class="keyword">this</a> <a href="../../../../actor/net/liftweb/actor/LiftActor.scala.html#29502" title="(msg: Any)Unit">!</a> <a href="#348278" title="(doAll: Boolean)net.liftweb.http.ReRender">ReRender</a><span class="delimiter">(</span><a href="#346183" title="Boolean">sendAll</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Cause the entire component to be reRendered and pushed out
   * to any listeners.  This method will cause the entire component
   * to be rendered which can result in a huge blob of JavaScript to
   * be sent to the client.  It's a much better practice to use
   * partialUpdate for non-trivial CometActor components.
   */</span>
  <span class="keyword">def</span> <a title="()Unit" id="327821">reRender</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span><a href="#327820" title="(sendAll: Boolean)Unit">reRender</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span><span class="delimiter">}</span>


  <span class="comment">/**
   * Set this method to true if you want to avoid caching the
   * rendering.  This trades space for time.
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="327822">dontCacheRendering</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>

  <span class="comment">/**
   * Clear the common dependencies for Wiring.  This
   * method will clearPostPageJavaScriptForThisPage() and
   * unregisterFromAllDependencies().  The combination
   * will result in a clean slate for Wiring during a redraw.
   * You can change the behavior of the wiring dependency management
   * by overriding this method
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="()Unit" id="327823">clearWiringDependencies</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#327824" title="=&gt; Boolean">manualWiringDependencyManagement</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#327749" title="=&gt; net.liftweb.http.LiftSession">theSession</a>.<a href="LiftSession.scala.html#230238" title="()Unit">clearPostPageJavaScriptForThisPage</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="../../../../util/net/liftweb/util/Wiring.scala.html#322584" title="()Unit">unregisterFromAllDepenencies</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * By default, Lift deals with managing wiring dependencies.
   * This means on each full render (a full render will
   * happen on reRender() or on a page load if there have been
   * partial updates.) You may want to manually deal with
   * wiring dependencies.  If you do, override this method
   * and return true
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="327824">manualWiringDependencyManagement</a> = <span title="Boolean(false)" class="keyword">false</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sendAll: Boolean)Unit" id="327825">performReRender</a><span class="delimiter">(</span><a title="Boolean" id="345960">sendAll</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#327715" title="(x$1: Long)Unit">lastRenderTime</a> = <a href="../../../../util/net/liftweb/util/Helpers.scala.html#13346" title="object net.liftweb.util.Helpers">Helpers</a>.<a href="../../../../util/net/liftweb/util/HttpHelpers.scala.html#49062" title="=&gt; Long">nextNum</a>

    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#345960" title="Boolean">sendAll</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#327809" title="=&gt; net.liftweb.util.FatLazy[net.liftweb.common.Box[scala.xml.NodeSeq]]">cachedFixedRender</a>.<a href="../../../../util/net/liftweb/util/FatLazy.scala.html#147763" title="=&gt; Unit">reset</a>
    <span class="delimiter">}</span>

    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#345960" title="Boolean">sendAll</a> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#327811" title="=&gt; Boolean">cacheFixedRender</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#327823" title="()Unit">clearWiringDependencies</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <a href="#327721" title="(x$1: Boolean)Unit">wasLastFullRender</a> = <a href="#345960" title="Boolean">sendAll</a> <span title="(x: Boolean)Boolean">&amp;</span> <a href="#327780" title="=&gt; Boolean">hasOuter</a>
    <a href="#327736" title="(x$1: List[net.liftweb.http.Delta])Unit">deltas</a> = <span title="object Nil">Nil</span>

    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#327822" title="=&gt; Boolean">dontCacheRendering</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#327719" title="(last: net.liftweb.http.RenderOut)Unit">lastRendering</a> = <a href="#327819" title="=&gt; net.liftweb.http.RenderOut">render</a> <a href="#328609" title="(cmd: net.liftweb.http.js.JsCmd)net.liftweb.http.RenderOut">++</a> <a href="#327792" title="=&gt; net.liftweb.http.js.JsCmd">jsonInCode</a>
    <span class="delimiter">}</span>

    <a href="#327749" title="=&gt; net.liftweb.http.LiftSession">theSession</a>.<a href="LiftSession.scala.html#230223" title="(funcs: Map[String,net.liftweb.http.S.AFuncHolder], uniqueId: String, when: Long)Unit">updateFunctionMap</a><span class="delimiter">(</span><a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49475" title="=&gt; Map[String,net.liftweb.http.S.AFuncHolder]">functionMap</a>, <a href="#327712" title="=&gt; String">spanId</a>, <a href="#327715" title="=&gt; Long">lastRenderTime</a><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="net.liftweb.http.AnswerRender" id="346605">rendered</a>: <a href="#348321" title="net.liftweb.http.AnswerRender">AnswerRender</a> =
    <a href="#348321" title="(response: net.liftweb.http.XmlOrJsCmd, who: net.liftweb.http.LiftCometActor, when: Long, displayAll: Boolean)net.liftweb.http.AnswerRender">AnswerRender</a><span class="delimiter">(</span><a href="#326481" title="(id: String, ro: net.liftweb.http.RenderOut, spanFunc: (Long, scala.xml.NodeSeq) =&gt; scala.xml.NodeSeq, notices: List[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])])net.liftweb.http.XmlOrJsCmd" class="keyword">new</a> <a href="#14101" title="net.liftweb.http.XmlOrJsCmd">XmlOrJsCmd</a><span class="delimiter">(</span><a href="#327712" title="=&gt; String">spanId</a>, <a href="#327718" title="=&gt; net.liftweb.http.RenderOut">lastRendering</a>, <a href="#327804" title="(time: Long, xml: scala.xml.NodeSeq)scala.xml.NodeSeq">buildSpan</a> _, <a href="#327741" title="=&gt; scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">notices</a> <span title="=&gt; List[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">toList</span><span class="delimiter">)</span>,
      <a href="#14095" title="net.liftweb.http.CometActor" class="keyword">this</a>, <a href="#327715" title="=&gt; Long">lastRenderTime</a>, <a href="#345960" title="Boolean">sendAll</a><span class="delimiter">)</span>

    <a href="#327858" title="=&gt; Unit">clearNotices</a>
    <a href="#327724" title="=&gt; List[(net.liftweb.http.ListenerId, net.liftweb.http.AnswerRender =&gt; Unit)]">listeners</a>.<span title="(f: (net.liftweb.http.ListenerId, net.liftweb.http.AnswerRender =&gt; Unit) =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#346632" title="(net.liftweb.http.ListenerId, net.liftweb.http.AnswerRender =&gt; Unit)">_</a>.<span title="(v1: net.liftweb.http.AnswerRender)Unit">_2</span><span class="delimiter">(</span><a href="#346605" title="net.liftweb.http.AnswerRender">rendered</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#327724" title="(x$1: List[(net.liftweb.http.ListenerId, net.liftweb.http.AnswerRender =&gt; Unit)])Unit">listeners</a> = <span title="object Nil">Nil</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; Unit" id="327826">unWatch</a> = <a href="#327828" title="(cmd: =&gt; net.liftweb.http.js.JsCmd)Unit">partialUpdate</a><span class="delimiter">(</span><a href="js/JsCommands.scala.html#346640" title="(function: String, params: net.liftweb.http.js.JsExp*)net.liftweb.http.js.JE.Call">Call</a><a href="js/JsCommands.scala.html#146461" title="implicit net.liftweb.http.js.JsCmds.jsExpToJsCmd : (in: net.liftweb.http.js.JsExp)net.liftweb.http.js.JsCmd" class="delimiter">(</a><span title="java.lang.String(&quot;liftComet.lift_unlistWatch&quot;)" class="string">&quot;liftComet.lift_unlistWatch&quot;</span>, <a href="js/JsCommands.scala.html#164811" title="implicit net.liftweb.http.js.JsExp.strToJsExp : (str: String)net.liftweb.http.js.JE.Str">uniqueId</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Poke the CometActor and cause it to do a partial update Noop which
   * will have the effect of causing the component to redisplay any
   * Wiring elements on the component.
   * This method is Actor-safe and may be called from any thread, not
   * just the Actor's message handler thread.
   */</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Unit" id="327827">poke</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#327774" title="=&gt; Boolean">running</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#327828" title="(cmd: =&gt; net.liftweb.http.js.JsCmd)Unit">partialUpdate</a><span class="delimiter">(</span><a href="js/JsCommands.scala.html#146481" title="=&gt; net.liftweb.http.js.JsCmd">Noop</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Perform a partial update of the comet component based
   * on the JsCmd.  This means that the JsCmd will be sent to
   * all of the currently listening browser tabs.  This is the
   * preferred method over reRender to update the component
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(cmd: =&gt; net.liftweb.http.js.JsCmd)Unit" id="327828">partialUpdate</a><span class="delimiter">(</span><a title="=&gt; net.liftweb.http.js.JsCmd" id="328718">cmd</a>: =&gt; JsCmd<span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#14095" title="CometActor.this.type" class="keyword">this</a> <a href="../../../../actor/net/liftweb/actor/LiftActor.scala.html#29502" title="(msg: Any)Unit">!</a> <a href="#348325" title="(cmd: () =&gt; net.liftweb.http.js.JsCmd)net.liftweb.http.PartialUpdateMsg">PartialUpdateMsg</a><span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#328718" title="=&gt; net.liftweb.http.js.JsCmd">cmd</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(what: Any)Unit" id="327829">startQuestion</a><span class="delimiter">(</span><a title="Any" id="346175">what</a>: <span title="Any">Any</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">{</span><span class="delimiter">}</span>

  <span class="comment">/**
   * This method will be called after the Actor has started.  Do any setup here.
   * DO NOT do initialization in the constructor or in initCometActor... do it here.
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="()Unit" id="327830">localSetup</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span title="Unit" class="delimiter">{</span><span class="delimiter">}</span>

  <span class="comment">/**
   * Comet Actors live outside the HTTP request/response cycle.
   * However, it may be useful to know what Request led to the
   * creation of the CometActor.  You can override this method
   * and capture the initial Req object.  Note that keeping a reference
   * to the Req may lead to memory retention issues if the Req contains
   * large message bodies, etc.  It's optimal to capture the path
   * or capture any request parameters that you care about rather
   * the keeping the whole Req reference.
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(initialReq: net.liftweb.common.Box[net.liftweb.http.Req])Unit" id="327831">captureInitialReq</a><span class="delimiter">(</span><a title="net.liftweb.common.Box[net.liftweb.http.Req]" id="345958">initialReq</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.http.Req]">Box</a><span class="delimiter">[</span>Req<span class="delimiter">]</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">{</span><span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="()Unit" id="327832">_localShutdown</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#327833" title="()Unit">localShutdown</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#327858" title="=&gt; Unit">clearNotices</a>
    <a href="#327724" title="(x$1: List[(net.liftweb.http.ListenerId, net.liftweb.http.AnswerRender =&gt; Unit)])Unit">listeners</a> = <span title="object Nil">Nil</span>
    <a href="#327727" title="(x$1: net.liftweb.common.Box[net.liftweb.http.LiftCometActor])Unit">askingWho</a> = <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>
    <a href="#327730" title="(x$1: net.liftweb.common.Box[net.liftweb.http.LiftCometActor])Unit">whosAsking</a> = <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>
    <a href="#327736" title="(x$1: List[net.liftweb.http.Delta])Unit">deltas</a> = <span title="object Nil">Nil</span>
    <a href="#327739" title="(x$1: PartialFunction[Any,net.liftweb.http.js.JsCmd])Unit">jsonHandlerChain</a> = <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="scala.collection.immutable.Map[Any,Nothing]">empty</span>
    <a href="#327769" title="(x$1: Boolean)Unit">_running</a> = <span title="Boolean(false)" class="keyword">false</span>
    <a href="#327772" title="(x$1: Long)Unit">_shutDownAt</a> = <a href="../../../../util/net/liftweb/util/TimeHelpers.scala.html#48788" title="=&gt; Long">millis</a>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * This method will be called as part of the shut-down of the actor.  Release any resources here.
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="()Unit" id="327833">localShutdown</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span title="Unit" class="delimiter">{</span><span class="delimiter">}</span>

  <span class="comment">/**
   * Compose the Message Handler function. By default,
   * composes highPriority orElse mediumePriority orElse internalHandler orElse
   * lowPriority orElse internalHandler.  But you can change how
   * the handler works if doing stuff in highPriority, mediumPriority and
   * lowPriority is not enough
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; PartialFunction[Any,Unit]" id="327834">composeFunction</a>: <span title="PartialFunction[Any,Unit]">PartialFunction</span><span class="delimiter">[</span>Any, Unit<span class="delimiter">]</span> = <a href="#327835" title="=&gt; PartialFunction[Any,Unit]">composeFunction_i</a>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; PartialFunction[Any,Unit]" id="327835">composeFunction_i</a>: <span title="PartialFunction[Any,Unit]">PartialFunction</span><span class="delimiter">[</span>Any, Unit<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="comment">// if we're no longer running don't pass messages to the other handlers</span>
    <span class="comment">// just pass them to our handlers</span>
    <span title="PartialFunction[Any,Unit]" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#327769" title="=&gt; Boolean">_running</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="../../../../util/net/liftweb/util/TimeHelpers.scala.html#48788" title="=&gt; Long">millis</a> <span title="(x: Long)Long">-</span> <span title="Long(20000L)" class="long">20000L</span><span class="delimiter">)</span> <span title="(x: Long)Boolean">&gt;</span> <a href="#327772" title="=&gt; Long">_shutDownAt</a><span class="delimiter">)</span> 
      <a href="#327817" title="=&gt; PartialFunction[Any,Unit]">_mediumPriority</a> <span title="(that: PartialFunction[Any,Unit])PartialFunction[Any,Unit]">orElse</span> <a href="#327816" title="=&gt; PartialFunction[Any,Unit]">_lowPriority</a>
    <span class="keyword">else</span> 
      <a href="#327813" title="=&gt; PartialFunction[Any,Unit]">highPriority</a> <span title="(that: PartialFunction[Any,Unit])PartialFunction[Any,Unit]">orElse</span> <a href="#327815" title="=&gt; PartialFunction[Any,Unit]">mediumPriority</a> <span title="(that: PartialFunction[Any,Unit])PartialFunction[Any,Unit]">orElse</span> 
    <a href="#327817" title="=&gt; PartialFunction[Any,Unit]">_mediumPriority</a> <span title="(that: PartialFunction[Any,Unit])PartialFunction[Any,Unit]">orElse</span> <a href="#327814" title="=&gt; PartialFunction[Any,Unit]">lowPriority</a> <span title="(that: PartialFunction[Any,Unit])PartialFunction[Any,Unit]">orElse</span> <a href="#327816" title="=&gt; PartialFunction[Any,Unit]">_lowPriority</a>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * A helper for binding which uses the defaultHtml property.
   */</span>
  <span class="keyword">def</span> <a title="(prefix: String, vals: CometActor.this.BindParam*)scala.xml.NodeSeq" id="327836">bind</a><span class="delimiter">(</span><a title="String" id="346703">prefix</a>: <span title="String">String</span>, <a title="CometActor.this.BindParam*" id="346704">vals</a>: <span title="CometActor.this.BindParam*">BindParam</span>*<span class="delimiter">)</span>: <span title="scala.xml.NodeSeq">NodeSeq</span> = <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49008" title="(namespace: String, xml: scala.xml.NodeSeq, params: CometActor.this.BindParam*)scala.xml.NodeSeq">bind</a><span class="delimiter">(</span><a href="#346703" title="String">prefix</a>, <a href="#327751" title="=&gt; scala.xml.NodeSeq">_defaultHtml</a>, <a href="#346704" title="CometActor.this.BindParam*">vals</a>: _*<span class="delimiter">)</span>

  <span class="comment">/**
   * A helper for binding which uses the defaultHtml property and the
   * default prefix.
   */</span>
  <span class="keyword">def</span> <a title="(vals: CometActor.this.BindParam*)scala.xml.NodeSeq" id="327837">bind</a><span class="delimiter">(</span><a title="CometActor.this.BindParam*" id="346721">vals</a>: <span title="CometActor.this.BindParam*">BindParam</span>*<span class="delimiter">)</span>: <span title="scala.xml.NodeSeq">NodeSeq</span> = <a href="#327836" title="(prefix: String, vals: CometActor.this.BindParam*)scala.xml.NodeSeq">bind</a><span class="delimiter">(</span><a href="#327777" title="=&gt; String">_defaultPrefix</a>, <a href="#346721" title="CometActor.this.BindParam*">vals</a>: _*<span class="delimiter">)</span>

  <span class="comment">/**
   * Ask another CometActor a question.  That other CometActor will
   * take over the screen real estate until the question is answered.
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(who: net.liftweb.http.LiftCometActor, what: Any)(answerWith: Any =&gt; Unit)Unit" id="327838">ask</a><span class="delimiter">(</span><a title="net.liftweb.http.LiftCometActor" id="346736">who</a>: <a href="#14092" title="net.liftweb.http.LiftCometActor">LiftCometActor</a>, <a title="Any" id="346737">what</a>: <span title="Any">Any</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="Any =&gt; Unit" id="346738">answerWith</a>: Any =&gt; Unit<span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#346736" title="net.liftweb.http.LiftCometActor">who</a>.<a href="#325344" title="(theSession: net.liftweb.http.LiftSession, theType: net.liftweb.common.Box[String], name: net.liftweb.common.Box[String], defaultHtml: scala.xml.NodeSeq, attributes: Map[String,String])Unit">callInitCometActor</a><span class="delimiter">(</span><a href="#327749" title="=&gt; net.liftweb.http.LiftSession">theSession</a>, <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: String)net.liftweb.common.Full[String]">Full</a><span class="delimiter">(</span><a href="#346736" title="net.liftweb.http.LiftCometActor">who</a>.<a href="#325343" title="=&gt; String">uniqueId</a><span class="delimiter">)</span>, <a href="#327758" title="=&gt; net.liftweb.common.Box[String]">name</a>, <a href="#327754" title="=&gt; scala.xml.NodeSeq">defaultHtml</a>, <a href="#327766" title="=&gt; Map[String,String]">attributes</a><span class="delimiter">)</span>
    <a href="#327749" title="=&gt; net.liftweb.http.LiftSession">theSession</a>.<a href="LiftSession.scala.html#230318" title="(act: net.liftweb.http.LiftCometActor)Unit">addCometActor</a><span class="delimiter">(</span><a href="#346736" title="net.liftweb.http.LiftCometActor">who</a><span class="delimiter">)</span>
    <span class="comment">// who.link(this)</span>
    <a href="#346736" title="net.liftweb.http.LiftCometActor">who</a> <a href="../../../../common/net/liftweb/common/SimpleActor.scala.html#29491" title="(param: Any)Unit">!</a> <a href="#348317" title="(initialReq: net.liftweb.common.Box[net.liftweb.http.Req])net.liftweb.http.PerformSetupComet2">PerformSetupComet2</a><span class="delimiter">(</span><a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a><span class="delimiter">)</span>
    <a href="#327727" title="(x$1: net.liftweb.common.Box[net.liftweb.http.LiftCometActor])Unit">askingWho</a> = <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: net.liftweb.http.LiftCometActor)net.liftweb.common.Full[net.liftweb.http.LiftCometActor]">Full</a><span class="delimiter">(</span><a href="#346736" title="net.liftweb.http.LiftCometActor">who</a><span class="delimiter">)</span>
    <a href="#14095" title="CometActor.this.type" class="keyword">this</a>.<a href="#327733" title="(x$1: net.liftweb.common.Box[Any =&gt; Any])Unit">answerWith</a> = <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: Any =&gt; Unit)net.liftweb.common.Full[Any =&gt; Unit]">Full</a><span class="delimiter">(</span><a href="#346738" title="Any =&gt; Unit">answerWith</a><span class="delimiter">)</span>
    <a href="#346736" title="net.liftweb.http.LiftCometActor">who</a> <a href="../../../../common/net/liftweb/common/SimpleActor.scala.html#29491" title="(param: Any)Unit">!</a> <a href="#348313" title="(what: Any, who: net.liftweb.http.LiftCometActor, listeners: List[(net.liftweb.http.ListenerId, net.liftweb.http.AnswerRender =&gt; Unit)])net.liftweb.http.AskQuestion">AskQuestion</a><span class="delimiter">(</span><a href="#346737" title="Any">what</a>, <a href="#14095" title="net.liftweb.http.CometActor" class="keyword">this</a>, <a href="#327724" title="=&gt; List[(net.liftweb.http.ListenerId, net.liftweb.http.AnswerRender =&gt; Unit)]">listeners</a><span class="delimiter">)</span>
    <span class="comment">// this ! AskRender</span>
  <span class="delimiter">}</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(answer: Any)Unit" id="327839">answer</a><span class="delimiter">(</span><a title="Any" id="346763">answer</a>: <span title="Any">Any</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#327730" title="=&gt; net.liftweb.common.Box[net.liftweb.http.LiftCometActor]">whosAsking</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27031" title="(f: net.liftweb.http.LiftCometActor =&gt; Any)Unit">foreach</a><span class="delimiter">(</span><a href="#346768" title="net.liftweb.http.LiftCometActor">_</a> <a href="../../../../common/net/liftweb/common/SimpleActor.scala.html#32911" title="(param: Any)Any">!?</a> <a href="#348309" title="(what: Any, listeners: List[(net.liftweb.http.ListenerId, net.liftweb.http.AnswerRender =&gt; Unit)])net.liftweb.http.AnswerQuestion">AnswerQuestion</a><span class="delimiter">(</span><a href="#346763" title="Any">answer</a>, <a href="#327724" title="=&gt; List[(net.liftweb.http.ListenerId, net.liftweb.http.AnswerRender =&gt; Unit)]">listeners</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#327730" title="(x$1: net.liftweb.common.Box[net.liftweb.http.LiftCometActor])Unit">whosAsking</a> = <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>
    <a href="#327825" title="(sendAll: Boolean)Unit">performReRender</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Convert a NodeSeq =&gt; NodeSeq to a RenderOut.  The render method
   * returns a RenderOut.  This method implicitly (in Scala) or explicitly
   * (in Java) will convert a NodeSeq =&gt; NodeSeq to a RenderOut.  This
   * is helpful if you use Lift's CSS Seletor Transforms to define
   * rendering.
   */</span>
  <span class="keyword">protected</span> <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit net.liftweb.http.CometActor.nsToNsFuncToRenderOut : (f: scala.xml.NodeSeq =&gt; scala.xml.NodeSeq)net.liftweb.http.RenderOut" id="327840">nsToNsFuncToRenderOut</a><span class="delimiter">(</span><a title="scala.xml.NodeSeq =&gt; scala.xml.NodeSeq" id="328587">f</a>: NodeSeq =&gt; NodeSeq<span class="delimiter">)</span> =
    <span title="net.liftweb.http.RenderOut" class="keyword">new</span> <a href="#348267" title="net.liftweb.http.RenderOut">RenderOut</a><span class="delimiter">(</span><span class="delimiter">(</span><a href="../../../../common/net/liftweb/common/Box.scala.html#10572" title="object net.liftweb.common.Box">Box</a> <a href="../../../../common/net/liftweb/common/Box.scala.html#28636" title="(in: scala.xml.NodeSeq)net.liftweb.common.Box[scala.xml.NodeSeq]">!!</a> <a href="#327754" title="=&gt; scala.xml.NodeSeq">defaultHtml</a><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: scala.xml.NodeSeq =&gt; scala.xml.NodeSeq)net.liftweb.common.Box[scala.xml.NodeSeq]">map</a><span class="delimiter">(</span><a href="#328587" title="scala.xml.NodeSeq =&gt; scala.xml.NodeSeq">f</a><span class="delimiter">)</span>, <a href="#327808" title="=&gt; net.liftweb.common.Box[scala.xml.NodeSeq]">internalFixedRender</a>, <span title="net.liftweb.common.Box[net.liftweb.http.js.JsCmd]" class="keyword">if</span> <span class="delimiter">(</span><a href="#327803" title="=&gt; Boolean">autoIncludeJsonCode</a><span class="delimiter">)</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: net.liftweb.http.js.JsCmd)net.liftweb.common.Full[net.liftweb.http.js.JsCmd]">Full</a><span class="delimiter">(</span><a href="#327796" title="=&gt; net.liftweb.http.js.JsCmd">jsonToIncludeInCode</a> <a href="js/JsCommands.scala.html#148952" title="(other: net.liftweb.http.js.JsCmd)net.liftweb.http.js.JsCmd">&amp;</a> <a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49340" title="()List[net.liftweb.http.js.JsCmd]">jsToAppend</a><a href="js/JsCommands.scala.html#146426" title="implicit net.liftweb.http.js.JsCmds.seqJsToJs : (in: Seq[net.liftweb.http.js.JsCmd])net.liftweb.http.js.JsCmd" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">else</span> <span class="delimiter">{</span>
      <a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49340" title="()List[net.liftweb.http.js.JsCmd]">jsToAppend</a> <span title="net.liftweb.common.Box[net.liftweb.http.js.JsCmd]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="net.liftweb.common.Empty.type">Nil</span> =&gt; <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>
        <span class="keyword">case</span> <a title="net.liftweb.common.Full[net.liftweb.http.js.JsCmd]" id="328657">x</a> :: <span title="object Nil">Nil</span> =&gt; <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: net.liftweb.http.js.JsCmd)net.liftweb.common.Full[net.liftweb.http.js.JsCmd]">Full</a><span class="delimiter">(</span><a href="#328657" title="net.liftweb.http.js.JsCmd">x</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="net.liftweb.common.Full[net.liftweb.http.js.JsCmd]" id="328661">xs</a> =&gt; <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: net.liftweb.http.js.JsCmd)net.liftweb.common.Full[net.liftweb.http.js.JsCmd]">Full</a><span class="delimiter">(</span><a href="#328661" title="List[net.liftweb.http.js.JsCmd]">xs</a>.<span title="(f: (net.liftweb.http.js.JsCmd, net.liftweb.http.js.JsCmd) =&gt; net.liftweb.http.js.JsCmd)net.liftweb.http.js.JsCmd">reduceLeft</span><span class="delimiter">(</span><a href="#328676" title="net.liftweb.http.js.JsCmd">_</a> <a href="js/JsCommands.scala.html#148952" title="(other: net.liftweb.http.js.JsCmd)net.liftweb.http.js.JsCmd">&amp;</a> <a href="#328677" title="net.liftweb.http.js.JsCmd">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="delimiter">}</span>, <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Convert a Seq[Node] (the superclass of NodeSeq) to a RenderOut.
   * The render method
   * returns a RenderOut.  This method implicitly (in Scala) or explicitly
   * (in Java) will convert a NodeSeq to a RenderOut.  This
   * is helpful if you return a NodeSeq from your render method.
   */</span>
  <span class="keyword">protected</span> <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit net.liftweb.http.CometActor.arrayToRenderOut : (in: Seq[scala.xml.Node])net.liftweb.http.RenderOut" id="327841">arrayToRenderOut</a><span class="delimiter">(</span><a title="Seq[scala.xml.Node]" id="328585">in</a>: <span title="Seq[scala.xml.Node]">Seq</span><span class="delimiter">[</span>Node<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#348267" title="net.liftweb.http.RenderOut">RenderOut</a> = <span title="net.liftweb.http.RenderOut" class="keyword">new</span> <a href="#348267" title="net.liftweb.http.RenderOut">RenderOut</a><span class="delimiter">(</span><a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: scala.xml.NodeSeq)net.liftweb.common.Full[scala.xml.NodeSeq]">Full</a><span class="delimiter">(</span><a href="#328585" title="implicit scala.xml.NodeSeq.seqToNodeSeq : (s: Seq[scala.xml.Node])scala.xml.NodeSeq">in</a>: <span title="scala.xml.NodeSeq">NodeSeq</span><span class="delimiter">)</span>, <a href="#327808" title="=&gt; net.liftweb.common.Box[scala.xml.NodeSeq]">internalFixedRender</a>, <span title="net.liftweb.common.Box[net.liftweb.http.js.JsCmd]" class="keyword">if</span> <span class="delimiter">(</span><a href="#327803" title="=&gt; Boolean">autoIncludeJsonCode</a><span class="delimiter">)</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: net.liftweb.http.js.JsCmd)net.liftweb.common.Full[net.liftweb.http.js.JsCmd]">Full</a><span class="delimiter">(</span><a href="#327796" title="=&gt; net.liftweb.http.js.JsCmd">jsonToIncludeInCode</a> <a href="js/JsCommands.scala.html#148952" title="(other: net.liftweb.http.js.JsCmd)net.liftweb.http.js.JsCmd">&amp;</a> <a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49340" title="()List[net.liftweb.http.js.JsCmd]">jsToAppend</a><a href="js/JsCommands.scala.html#146426" title="implicit net.liftweb.http.js.JsCmds.seqJsToJs : (in: Seq[net.liftweb.http.js.JsCmd])net.liftweb.http.js.JsCmd" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">else</span> <span class="delimiter">{</span>
      <a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49340" title="()List[net.liftweb.http.js.JsCmd]">jsToAppend</a> <span title="net.liftweb.common.Box[net.liftweb.http.js.JsCmd]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="net.liftweb.common.Empty.type">Nil</span> =&gt; <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>
        <span class="keyword">case</span> <a title="net.liftweb.common.Full[net.liftweb.http.js.JsCmd]" id="346794">x</a> :: <span title="object Nil">Nil</span> =&gt; <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: net.liftweb.http.js.JsCmd)net.liftweb.common.Full[net.liftweb.http.js.JsCmd]">Full</a><span class="delimiter">(</span><a href="#346794" title="net.liftweb.http.js.JsCmd">x</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="net.liftweb.common.Full[net.liftweb.http.js.JsCmd]" id="346798">xs</a> =&gt; <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: net.liftweb.http.js.JsCmd)net.liftweb.common.Full[net.liftweb.http.js.JsCmd]">Full</a><span class="delimiter">(</span><a href="#346798" title="List[net.liftweb.http.js.JsCmd]">xs</a>.<span title="(f: (net.liftweb.http.js.JsCmd, net.liftweb.http.js.JsCmd) =&gt; net.liftweb.http.js.JsCmd)net.liftweb.http.js.JsCmd">reduceLeft</span><span class="delimiter">(</span><a href="#346813" title="net.liftweb.http.js.JsCmd">_</a> <a href="js/JsCommands.scala.html#148952" title="(other: net.liftweb.http.js.JsCmd)net.liftweb.http.js.JsCmd">&amp;</a> <a href="#346814" title="net.liftweb.http.js.JsCmd">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="delimiter">}</span>, <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>

  <span class="keyword">protected</span> <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit net.liftweb.http.CometActor.jsToXmlOrJsCmd : (in: net.liftweb.http.js.JsCmd)net.liftweb.http.RenderOut" id="327842">jsToXmlOrJsCmd</a><span class="delimiter">(</span><a title="net.liftweb.http.js.JsCmd" id="328583">in</a>: <a href="js/JsCommands.scala.html#14913" title="net.liftweb.http.js.JsCmd">JsCmd</a><span class="delimiter">)</span>: <a href="#348267" title="net.liftweb.http.RenderOut">RenderOut</a> = <span title="net.liftweb.http.RenderOut" class="keyword">new</span> <a href="#348267" title="net.liftweb.http.RenderOut">RenderOut</a><span class="delimiter">(</span><a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>, <a href="#327808" title="=&gt; net.liftweb.common.Box[scala.xml.NodeSeq]">internalFixedRender</a>, <span title="net.liftweb.common.Box[net.liftweb.http.js.JsCmd]" class="keyword">if</span> <span class="delimiter">(</span><a href="#327803" title="=&gt; Boolean">autoIncludeJsonCode</a><span class="delimiter">)</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: net.liftweb.http.js.JsCmd)net.liftweb.common.Full[net.liftweb.http.js.JsCmd]">Full</a><span class="delimiter">(</span><a href="#328583" title="net.liftweb.http.js.JsCmd">in</a> <a href="js/JsCommands.scala.html#148952" title="(other: net.liftweb.http.js.JsCmd)net.liftweb.http.js.JsCmd">&amp;</a> <a href="#327796" title="=&gt; net.liftweb.http.js.JsCmd">jsonToIncludeInCode</a> <a href="js/JsCommands.scala.html#148952" title="(other: net.liftweb.http.js.JsCmd)net.liftweb.http.js.JsCmd">&amp;</a> <a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49340" title="()List[net.liftweb.http.js.JsCmd]">jsToAppend</a><a href="js/JsCommands.scala.html#146426" title="implicit net.liftweb.http.js.JsCmds.seqJsToJs : (in: Seq[net.liftweb.http.js.JsCmd])net.liftweb.http.js.JsCmd" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: net.liftweb.http.js.JsCmd)net.liftweb.common.Full[net.liftweb.http.js.JsCmd]">Full</a><span class="delimiter">(</span><a href="#328583" title="net.liftweb.http.js.JsCmd">in</a> <a href="js/JsCommands.scala.html#148952" title="(other: net.liftweb.http.js.JsCmd)net.liftweb.http.js.JsCmd">&amp;</a> <a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49340" title="()List[net.liftweb.http.js.JsCmd]">jsToAppend</a><a href="js/JsCommands.scala.html#146426" title="implicit net.liftweb.http.js.JsCmds.seqJsToJs : (in: Seq[net.liftweb.http.js.JsCmd])net.liftweb.http.js.JsCmd" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit net.liftweb.http.CometActor.pairToPair : (in: (String, Any))(String, scala.xml.NodeSeq)" id="327843">pairToPair</a><span class="delimiter">(</span><a title="(String, Any)" id="328581">in</a>: <span title="(String, Any)" class="delimiter">(</span>String, Any<span class="delimiter">)</span><span class="delimiter">)</span>: <span title="(String, scala.xml.NodeSeq)" class="delimiter">(</span>String, NodeSeq<span class="delimiter">)</span> = <span title="(_1: String, _2: scala.xml.Text)(String, scala.xml.Text)" class="delimiter">(</span><a href="#328581" title="(String, Any)">in</a>.<span title="=&gt; String">_1</span>, <span title="(_data: String)scala.xml.Text">Text</span><span class="delimiter">(</span><a href="#328581" title="(String, Any)">in</a>.<span title="=&gt; Any">_2</span> <span title="String" class="keyword">match</span> <span class="delimiter">{</span><span class="keyword">case</span> <span title="java.lang.String(&quot;null&quot;)" class="keyword">null</span> =&gt; <span title="java.lang.String(&quot;null&quot;)" class="string">&quot;null&quot;</span> <span class="keyword">case</span> <a title="java.lang.String" id="346830">s</a> =&gt; <a href="#346830" title="Any">s</a>.<span title="()java.lang.String">toString</span><span class="delimiter">}</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit net.liftweb.http.CometActor.nodeSeqToFull : (in: scala.xml.NodeSeq)net.liftweb.common.Box[scala.xml.NodeSeq]" id="327844">nodeSeqToFull</a><span class="delimiter">(</span><a title="scala.xml.NodeSeq" id="328579">in</a>: <span title="scala.xml.NodeSeq">NodeSeq</span><span class="delimiter">)</span>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[scala.xml.NodeSeq]">Box</a><span class="delimiter">[</span>NodeSeq<span class="delimiter">]</span> = <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: scala.xml.NodeSeq)net.liftweb.common.Full[scala.xml.NodeSeq]">Full</a><span class="delimiter">(</span><a href="#328579" title="scala.xml.NodeSeq">in</a><span class="delimiter">)</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit net.liftweb.http.CometActor.elemToFull : (in: scala.xml.Elem)net.liftweb.common.Box[scala.xml.NodeSeq]" id="327845">elemToFull</a><span class="delimiter">(</span><a title="scala.xml.Elem" id="328577">in</a>: <span title="scala.xml.Elem">Elem</span><span class="delimiter">)</span>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[scala.xml.NodeSeq]">Box</a><span class="delimiter">[</span>NodeSeq<span class="delimiter">]</span> = <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: scala.xml.Elem)net.liftweb.common.Full[scala.xml.Elem]">Full</a><span class="delimiter">(</span><a href="#328577" title="scala.xml.Elem">in</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Similar with S.error
   */</span>
  <span class="keyword">def</span> <a title="(n: String)Unit" id="327846">error</a><span class="delimiter">(</span><a title="String" id="346839">n</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span><a href="#327847" title="(n: scala.xml.NodeSeq)Unit">error</a><span class="delimiter">(</span><span title="(_data: String)scala.xml.Text">Text</span><span class="delimiter">(</span><a href="#346839" title="String">n</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">}</span>

  <span class="comment">/**
   * Similar with S.error
   */</span>
  <span class="keyword">def</span> <a title="(n: scala.xml.NodeSeq)Unit" id="327847">error</a><span class="delimiter">(</span><a title="scala.xml.NodeSeq" id="346851">n</a>: <span title="scala.xml.NodeSeq">NodeSeq</span><span class="delimiter">)</span> <span class="delimiter">{</span><a href="#327741" title="=&gt; scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">notices</a> <span title="(x: (net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String]))CometActor.this.notices.type">+=</span> <span class="delimiter">(</span><span title="(_1: net.liftweb.http.NoticeType.Error.type, _2: scala.xml.NodeSeq, _3: net.liftweb.common.Empty.type)(net.liftweb.http.NoticeType.Error.type, scala.xml.NodeSeq, net.liftweb.common.Empty.type)" class="delimiter">(</span><a href="S.scala.html#14644" title="object net.liftweb.http.NoticeType">NoticeType</a>.<a href="S.scala.html#221966" title="object net.liftweb.http.NoticeType.Error">Error</a>, <a href="#346851" title="scala.xml.NodeSeq">n</a>, <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">}</span>

  <span class="comment">/**
   * Similar with S.error
   */</span>
  <span class="keyword">def</span> <a title="(id: String, n: scala.xml.NodeSeq)Unit" id="327848">error</a><span class="delimiter">(</span><a title="String" id="346848">id</a>: <span title="String">String</span>, <a title="scala.xml.NodeSeq" id="346849">n</a>: <span title="scala.xml.NodeSeq">NodeSeq</span><span class="delimiter">)</span> <span class="delimiter">{</span><a href="#327741" title="=&gt; scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">notices</a> <span title="(x: (net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String]))CometActor.this.notices.type">+=</span> <span class="delimiter">(</span><span title="(_1: net.liftweb.http.NoticeType.Error.type, _2: scala.xml.NodeSeq, _3: net.liftweb.common.Full[String])(net.liftweb.http.NoticeType.Error.type, scala.xml.NodeSeq, net.liftweb.common.Full[String])" class="delimiter">(</span><a href="S.scala.html#14644" title="object net.liftweb.http.NoticeType">NoticeType</a>.<a href="S.scala.html#221966" title="object net.liftweb.http.NoticeType.Error">Error</a>, <a href="#346849" title="scala.xml.NodeSeq">n</a>, <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: String)net.liftweb.common.Full[String]">Full</a><span class="delimiter">(</span><a href="#346848" title="String">id</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">}</span>

  <span class="comment">/**
   * Similar with S.error
   */</span>
  <span class="keyword">def</span> <a title="(id: String, n: String)Unit" id="327849">error</a><span class="delimiter">(</span><a title="String" id="346845">id</a>: <span title="String">String</span>, <a title="String" id="346846">n</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span><a href="#327848" title="(id: String, n: scala.xml.NodeSeq)Unit">error</a><span class="delimiter">(</span><a href="#346845" title="String">id</a>, <span title="(_data: String)scala.xml.Text">Text</span><span class="delimiter">(</span><a href="#346846" title="String">n</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">}</span>

  <span class="comment">/**
   * Similar with S.notice
   */</span>
  <span class="keyword">def</span> <a title="(n: String)Unit" id="327850">notice</a><span class="delimiter">(</span><a title="String" id="346890">n</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span><a href="#327851" title="(n: scala.xml.NodeSeq)Unit">notice</a><span class="delimiter">(</span><span title="(_data: String)scala.xml.Text">Text</span><span class="delimiter">(</span><a href="#346890" title="String">n</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">}</span>

  <span class="comment">/**
   * Similar with S.notice
   */</span>
  <span class="keyword">def</span> <a title="(n: scala.xml.NodeSeq)Unit" id="327851">notice</a><span class="delimiter">(</span><a title="scala.xml.NodeSeq" id="346902">n</a>: <span title="scala.xml.NodeSeq">NodeSeq</span><span class="delimiter">)</span> <span class="delimiter">{</span><a href="#327741" title="=&gt; scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">notices</a> <span title="(x: (net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String]))CometActor.this.notices.type">+=</span> <span class="delimiter">(</span><span title="(_1: net.liftweb.http.NoticeType.Notice.type, _2: scala.xml.NodeSeq, _3: net.liftweb.common.Empty.type)(net.liftweb.http.NoticeType.Notice.type, scala.xml.NodeSeq, net.liftweb.common.Empty.type)" class="delimiter">(</span><a href="S.scala.html#14644" title="object net.liftweb.http.NoticeType">NoticeType</a>.<a href="S.scala.html#221962" title="object net.liftweb.http.NoticeType.Notice">Notice</a>, <a href="#346902" title="scala.xml.NodeSeq">n</a>, <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">}</span>

  <span class="comment">/**
   * Similar with S.notice
   */</span>
  <span class="keyword">def</span> <a title="(id: String, n: scala.xml.NodeSeq)Unit" id="327852">notice</a><span class="delimiter">(</span><a title="String" id="346899">id</a>: <span title="String">String</span>, <a title="scala.xml.NodeSeq" id="346900">n</a>: <span title="scala.xml.NodeSeq">NodeSeq</span><span class="delimiter">)</span> <span class="delimiter">{</span><a href="#327741" title="=&gt; scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">notices</a> <span title="(x: (net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String]))CometActor.this.notices.type">+=</span> <span class="delimiter">(</span><span title="(_1: net.liftweb.http.NoticeType.Notice.type, _2: scala.xml.NodeSeq, _3: net.liftweb.common.Full[String])(net.liftweb.http.NoticeType.Notice.type, scala.xml.NodeSeq, net.liftweb.common.Full[String])" class="delimiter">(</span><a href="S.scala.html#14644" title="object net.liftweb.http.NoticeType">NoticeType</a>.<a href="S.scala.html#221962" title="object net.liftweb.http.NoticeType.Notice">Notice</a>, <a href="#346900" title="scala.xml.NodeSeq">n</a>, <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: String)net.liftweb.common.Full[String]">Full</a><span class="delimiter">(</span><a href="#346899" title="String">id</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">}</span>

  <span class="comment">/**
   * Similar with S.notice
   */</span>
  <span class="keyword">def</span> <a title="(id: String, n: String)Unit" id="327853">notice</a><span class="delimiter">(</span><a title="String" id="346896">id</a>: <span title="String">String</span>, <a title="String" id="346897">n</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span><a href="#327852" title="(id: String, n: scala.xml.NodeSeq)Unit">notice</a><span class="delimiter">(</span><a href="#346896" title="String">id</a>, <span title="(_data: String)scala.xml.Text">Text</span><span class="delimiter">(</span><a href="#346897" title="String">n</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">}</span>

  <span class="comment">/**
   * Similar with S.warning
   */</span>
  <span class="keyword">def</span> <a title="(n: String)Unit" id="327854">warning</a><span class="delimiter">(</span><a title="String" id="346941">n</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span><a href="#327855" title="(n: scala.xml.NodeSeq)Unit">warning</a><span class="delimiter">(</span><span title="(_data: String)scala.xml.Text">Text</span><span class="delimiter">(</span><a href="#346941" title="String">n</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">}</span>

  <span class="comment">/**
   * Similar with S.warning
   */</span>
  <span class="keyword">def</span> <a title="(n: scala.xml.NodeSeq)Unit" id="327855">warning</a><span class="delimiter">(</span><a title="scala.xml.NodeSeq" id="346953">n</a>: <span title="scala.xml.NodeSeq">NodeSeq</span><span class="delimiter">)</span> <span class="delimiter">{</span><a href="#327741" title="=&gt; scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">notices</a> <span title="(x: (net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String]))CometActor.this.notices.type">+=</span> <span class="delimiter">(</span><span title="(_1: net.liftweb.http.NoticeType.Warning.type, _2: scala.xml.NodeSeq, _3: net.liftweb.common.Empty.type)(net.liftweb.http.NoticeType.Warning.type, scala.xml.NodeSeq, net.liftweb.common.Empty.type)" class="delimiter">(</span><a href="S.scala.html#14644" title="object net.liftweb.http.NoticeType">NoticeType</a>.<a href="S.scala.html#221964" title="object net.liftweb.http.NoticeType.Warning">Warning</a>, <a href="#346953" title="scala.xml.NodeSeq">n</a>, <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">}</span>

  <span class="comment">/**
   * Similar with S.warning
   */</span>
  <span class="keyword">def</span> <a title="(id: String, n: scala.xml.NodeSeq)Unit" id="327856">warning</a><span class="delimiter">(</span><a title="String" id="346950">id</a>: <span title="String">String</span>, <a title="scala.xml.NodeSeq" id="346951">n</a>: <span title="scala.xml.NodeSeq">NodeSeq</span><span class="delimiter">)</span> <span class="delimiter">{</span><a href="#327741" title="=&gt; scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">notices</a> <span title="(x: (net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String]))CometActor.this.notices.type">+=</span> <span class="delimiter">(</span><span title="(_1: net.liftweb.http.NoticeType.Warning.type, _2: scala.xml.NodeSeq, _3: net.liftweb.common.Full[String])(net.liftweb.http.NoticeType.Warning.type, scala.xml.NodeSeq, net.liftweb.common.Full[String])" class="delimiter">(</span><a href="S.scala.html#14644" title="object net.liftweb.http.NoticeType">NoticeType</a>.<a href="S.scala.html#221964" title="object net.liftweb.http.NoticeType.Warning">Warning</a>, <a href="#346951" title="scala.xml.NodeSeq">n</a>, <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: String)net.liftweb.common.Full[String]">Full</a><span class="delimiter">(</span><a href="#346950" title="String">id</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">}</span>

  <span class="comment">/**
   * Similar with S.warning
   */</span>
  <span class="keyword">def</span> <a title="(id: String, n: String)Unit" id="327857">warning</a><span class="delimiter">(</span><a title="String" id="346947">id</a>: <span title="String">String</span>, <a title="String" id="346948">n</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span><a href="#327856" title="(id: String, n: scala.xml.NodeSeq)Unit">warning</a><span class="delimiter">(</span><a href="#346947" title="String">id</a>, <span title="(_data: String)scala.xml.Text">Text</span><span class="delimiter">(</span><a href="#346948" title="String">n</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Unit" id="327858">clearNotices</a> <span class="delimiter">{</span><a href="#327741" title="=&gt; scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">notices</a> <span title="()Unit">clear</span><span class="delimiter">}</span>

<span class="delimiter">}</span>

<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Delta extends java.lang.Object with ScalaObject" id="14096">Delta</a><a href="#14096" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="Long" id="346994">when</a>: <span title="Long">Long</span><span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; net.liftweb.http.js.JsCmd" id="344515">js</a>: <a href="js/JsCommands.scala.html#14913" title="net.liftweb.http.js.JsCmd">JsCmd</a>

  <span class="keyword">val</span> <a title="Long" id="344516">timestamp</a> = <a href="../../../../util/net/liftweb/util/TimeHelpers.scala.html#48788" title="=&gt; Long">millis</a>
<span class="delimiter">}</span>

case <span class="keyword">class</span> <a title="class JsDelta extends net.liftweb.http.Delta with ScalaObject with Product with Serializable" id="348333">JsDelta</a><a href="#348333" title="ScalaObject" class="delimiter">(</a><span class="keyword">override</span> <span class="keyword">val</span> <a title="Long" id="346524">when</a>: <span title="Long">Long</span>, <a title="net.liftweb.http.js.JsCmd" id="346525">js</a>: <a href="js/JsCommands.scala.html#14913" title="net.liftweb.http.js.JsCmd">JsCmd</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#14096" title="net.liftweb.http.Delta">Delta</a><span class="delimiter">(</span><a href="#346524" title="Long">when</a><span class="delimiter">)</span>

<span class="keyword">sealed</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class CometMessage extends java.lang.Object with ScalaObject" id="14100">CometMessage</a>

<span class="comment">/**
 * Impersonates the actual comet response content
 */</span>
<a href="#14100" title="net.liftweb.http.CometMessage" class="keyword">private</a><span class="delimiter">[</span>http<span class="delimiter">]</span> <span class="keyword">class</span> <a title="class XmlOrJsCmd extends java.lang.Object with ScalaObject" id="14101">XmlOrJsCmd</a><a href="#14101" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="String" id="345838">id</a>: <span title="String">String</span>,
                               <a title="net.liftweb.common.Box[scala.xml.NodeSeq]" id="345839">_xml</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[scala.xml.NodeSeq]">Box</a><span class="delimiter">[</span>NodeSeq<span class="delimiter">]</span>,
                               <a title="net.liftweb.common.Box[scala.xml.NodeSeq]" id="345840">_fixedXhtml</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[scala.xml.NodeSeq]">Box</a><span class="delimiter">[</span>NodeSeq<span class="delimiter">]</span>,
                               <span class="keyword">val</span> <a title="net.liftweb.common.Box[net.liftweb.http.js.JsCmd]" id="345841">javaScript</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.http.js.JsCmd]">Box</a><span class="delimiter">[</span>JsCmd<span class="delimiter">]</span>,
                               <span class="keyword">val</span> <a title="net.liftweb.common.Box[net.liftweb.http.js.JsCmd]" id="345842">destroy</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.http.js.JsCmd]">Box</a><span class="delimiter">[</span>JsCmd<span class="delimiter">]</span>,
                               <a title="(Long, scala.xml.NodeSeq) =&gt; scala.xml.NodeSeq" id="345843">spanFunc</a>: <span class="delimiter">(</span>Long, NodeSeq<span class="delimiter">)</span> =&gt; NodeSeq,
                               <a title="Boolean" id="345844">ignoreHtmlOnJs</a>: <span title="Boolean">Boolean</span>,
                               <a title="List[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]" id="345845">notices</a>: <span title="List[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">List</span><span class="delimiter">[</span><span class="delimiter">(</span>NoticeType.Value, NodeSeq, Box<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(id: String, ro: net.liftweb.http.RenderOut, spanFunc: (Long, scala.xml.NodeSeq) =&gt; scala.xml.NodeSeq, notices: List[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])])net.liftweb.http.XmlOrJsCmd" id="326481" class="keyword">this</a><span class="delimiter">(</span><a title="String" id="345834">id</a>: <span title="String">String</span>, <a title="net.liftweb.http.RenderOut" id="345835">ro</a>: <a href="#348267" title="net.liftweb.http.RenderOut">RenderOut</a>, <a title="(Long, scala.xml.NodeSeq) =&gt; scala.xml.NodeSeq" id="345836">spanFunc</a>: <span class="delimiter">(</span>Long, NodeSeq<span class="delimiter">)</span> =&gt; NodeSeq, <a title="List[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]" id="345837">notices</a>: <span title="List[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">List</span><span class="delimiter">[</span><span class="delimiter">(</span>NoticeType.Value, NodeSeq, Box<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span> =
    <a href="#14101" title="XmlOrJsCmd.this.type" class="keyword">this</a> <span class="delimiter">(</span><a href="#345834" title="String">id</a>, <a href="#345835" title="net.liftweb.http.RenderOut">ro</a>.<a href="#344470" title="=&gt; net.liftweb.common.Box[scala.xml.NodeSeq]">xhtml</a>, <a href="#345835" title="net.liftweb.http.RenderOut">ro</a>.<a href="#344471" title="=&gt; net.liftweb.common.Box[scala.xml.NodeSeq]">fixedXhtml</a>, <a href="#345835" title="net.liftweb.http.RenderOut">ro</a>.<a href="#344472" title="=&gt; net.liftweb.common.Box[net.liftweb.http.js.JsCmd]">script</a>, <a href="#345835" title="net.liftweb.http.RenderOut">ro</a>.<a href="#344473" title="=&gt; net.liftweb.common.Box[net.liftweb.http.js.JsCmd]">destroyScript</a>, <a href="#345836" title="(Long, scala.xml.NodeSeq) =&gt; scala.xml.NodeSeq">spanFunc</a>, <a href="#345835" title="net.liftweb.http.RenderOut">ro</a>.<a href="#344474" title="=&gt; Boolean">ignoreHtmlOnJs</a>, <a href="#345837" title="List[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">notices</a><span class="delimiter">)</span>

  <span class="keyword">val</span> <a title="net.liftweb.common.Box[scala.xml.NodeSeq]" id="326482">xml</a> = <a href="#345839" title="net.liftweb.common.Box[scala.xml.NodeSeq]">_xml</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27023" title="(f: scala.xml.NodeSeq =&gt; net.liftweb.common.Box[scala.xml.NodeSeq])net.liftweb.common.Box[scala.xml.NodeSeq]">flatMap</a><span class="delimiter">(</span><a title="scala.xml.NodeSeq" id="347070">content</a> =&gt; <a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49382" title="=&gt; net.liftweb.common.Box[net.liftweb.http.LiftSession]">session</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: net.liftweb.http.LiftSession =&gt; scala.xml.NodeSeq)net.liftweb.common.Box[scala.xml.NodeSeq]">map</a><span class="delimiter">(</span><a title="net.liftweb.http.LiftSession" id="347075">s</a> =&gt; <a href="#347075" title="net.liftweb.http.LiftSession">s</a>.<a href="LiftSession.scala.html#230307" title="(page: String, in: scala.xml.NodeSeq)scala.xml.NodeSeq">processSurroundAndInclude</a><span class="delimiter">(</span><span title="java.lang.String(&quot;JS SetHTML id: &quot;)" class="string">&quot;JS SetHTML id: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#345838" title="=&gt; String">id</a>, <a href="#347070" title="scala.xml.NodeSeq">content</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">val</span> <a title="net.liftweb.common.Box[scala.xml.NodeSeq]" id="326484">fixedXhtml</a> = <a href="#345840" title="net.liftweb.common.Box[scala.xml.NodeSeq]">_fixedXhtml</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27023" title="(f: scala.xml.NodeSeq =&gt; net.liftweb.common.Box[scala.xml.NodeSeq])net.liftweb.common.Box[scala.xml.NodeSeq]">flatMap</a><span class="delimiter">(</span><a title="scala.xml.NodeSeq" id="347082">content</a> =&gt; <a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49382" title="=&gt; net.liftweb.common.Box[net.liftweb.http.LiftSession]">session</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: net.liftweb.http.LiftSession =&gt; scala.xml.NodeSeq)net.liftweb.common.Box[scala.xml.NodeSeq]">map</a><span class="delimiter">(</span><a title="net.liftweb.http.LiftSession" id="347086">s</a> =&gt; <a href="#347086" title="net.liftweb.http.LiftSession">s</a>.<a href="LiftSession.scala.html#230307" title="(page: String, in: scala.xml.NodeSeq)scala.xml.NodeSeq">processSurroundAndInclude</a><span class="delimiter">(</span><span title="java.lang.String(&quot;JS SetHTML id: &quot;)" class="string">&quot;JS SetHTML id: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#345838" title="=&gt; String">id</a>, <a href="#347082" title="scala.xml.NodeSeq">content</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Returns the JsCmd that will be sent to client
   */</span>
  <span class="keyword">def</span> <a title="(session: net.liftweb.http.LiftSession, displayAll: Boolean)net.liftweb.http.js.JsCmd" id="326486">toJavaScript</a><span class="delimiter">(</span><a title="net.liftweb.http.LiftSession" id="347099">session</a>: <a href="LiftSession.scala.html#14496" title="net.liftweb.http.LiftSession">LiftSession</a>, <a title="Boolean" id="347100">displayAll</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <a href="js/JsCommands.scala.html#14913" title="net.liftweb.http.js.JsCmd">JsCmd</a> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="net.liftweb.http.js.JsCmd" id="347102">ret</a>: <a href="js/JsCommands.scala.html#14913" title="net.liftweb.http.js.JsCmd">JsCmd</a> = <a href="js/JsCommands.scala.html#14916" title="object net.liftweb.http.js.JsCmds">JsCmds</a>.<a href="js/JsCommands.scala.html#347105" title="(what: net.liftweb.http.js.JsCmd, alert: Boolean)net.liftweb.http.js.JsCmds.JsTry">JsTry</a><span class="delimiter">(</span><a href="js/JsCommands.scala.html#14916" title="object net.liftweb.http.js.JsCmds">JsCmds</a>.<a href="js/JsCommands.scala.html#196384" title="(text: String)net.liftweb.http.js.JsCmds.Run">Run</a><span class="delimiter">(</span><span title="java.lang.String(&quot;destroy_&quot;)" class="string">&quot;destroy_&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#345838" title="=&gt; String">id</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;();&quot;)" class="string">&quot;();&quot;</span><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <a href="js/JsCommands.scala.html#148952" title="(other: net.liftweb.http.js.JsCmd)net.liftweb.http.js.JsCmd">&amp;</a>
            <span class="delimiter">(</span><span title="(_1: net.liftweb.common.Box[scala.xml.NodeSeq], _2: net.liftweb.common.Box[net.liftweb.http.js.JsCmd], _3: Boolean)(net.liftweb.common.Box[scala.xml.NodeSeq], net.liftweb.common.Box[net.liftweb.http.js.JsCmd], Boolean)" class="delimiter">(</span><span title="net.liftweb.common.Box[scala.xml.NodeSeq]" class="keyword">if</span> <span class="delimiter">(</span><a href="#345844" title="Boolean">ignoreHtmlOnJs</a><span class="delimiter">)</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a> <span class="keyword">else</span> <a href="#326482" title="=&gt; net.liftweb.common.Box[scala.xml.NodeSeq]">xml</a>, <a href="#345841" title="=&gt; net.liftweb.common.Box[net.liftweb.http.js.JsCmd]">javaScript</a>, <a href="#347100" title="Boolean">displayAll</a><span class="delimiter">)</span> <span title="net.liftweb.http.js.JsCmd" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="net.liftweb.http.js.JsCmd" class="delimiter">(</span>Full<span class="delimiter">(</span><a title="scala.xml.NodeSeq" id="347137">xml</a><span class="delimiter">)</span>, Full<span class="delimiter">(</span><a title="net.liftweb.http.js.JsCmd" id="347139">js</a><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> =&gt; <a href="LiftRules.scala.html#158817" title="implicit net.liftweb.http.LiftRulesMocker.toLiftRules : (in: net.liftweb.http.LiftRulesMocker)net.liftweb.http.LiftRules">LiftRules</a>.<a href="LiftRules.scala.html#158871" title="=&gt; net.liftweb.http.js.JSArtifacts">jsArtifacts</a>.<a href="js/JSArtifacts.scala.html#327566" title="(id: String, content: scala.xml.NodeSeq)net.liftweb.http.js.JsCmd">setHtml</a><span class="delimiter">(</span><a href="#345838" title="=&gt; String">id</a>, <a href="../../../../util/net/liftweb/util/Helpers.scala.html#13346" title="object net.liftweb.util.Helpers">Helpers</a>.<a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#48996" title="(in: scala.xml.NodeSeq)scala.xml.NodeSeq">stripHead</a><span class="delimiter">(</span><a href="#347137" title="scala.xml.NodeSeq">xml</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="js/JsCommands.scala.html#148952" title="(other: net.liftweb.http.js.JsCmd)net.liftweb.http.js.JsCmd">&amp;</a> <a href="js/JsCommands.scala.html#14916" title="object net.liftweb.http.js.JsCmds">JsCmds</a>.<a href="js/JsCommands.scala.html#347105" title="(what: net.liftweb.http.js.JsCmd, alert: Boolean)net.liftweb.http.js.JsCmds.JsTry">JsTry</a><span class="delimiter">(</span><a href="#347139" title="net.liftweb.http.js.JsCmd">js</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="net.liftweb.http.js.JsCmd" class="delimiter">(</span>Full<span class="delimiter">(</span><a title="scala.xml.NodeSeq" id="347149">xml</a><span class="delimiter">)</span>, _, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> =&gt; <a href="LiftRules.scala.html#158817" title="implicit net.liftweb.http.LiftRulesMocker.toLiftRules : (in: net.liftweb.http.LiftRulesMocker)net.liftweb.http.LiftRules">LiftRules</a>.<a href="LiftRules.scala.html#158871" title="=&gt; net.liftweb.http.js.JSArtifacts">jsArtifacts</a>.<a href="js/JSArtifacts.scala.html#327566" title="(id: String, content: scala.xml.NodeSeq)net.liftweb.http.js.JsCmd">setHtml</a><span class="delimiter">(</span><a href="#345838" title="=&gt; String">id</a>, <a href="../../../../util/net/liftweb/util/Helpers.scala.html#13346" title="object net.liftweb.util.Helpers">Helpers</a>.<a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#48996" title="(in: scala.xml.NodeSeq)scala.xml.NodeSeq">stripHead</a><span class="delimiter">(</span><a href="#347149" title="scala.xml.NodeSeq">xml</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="net.liftweb.http.js.JsCmd" class="delimiter">(</span>Full<span class="delimiter">(</span><a title="scala.xml.NodeSeq" id="347156">xml</a><span class="delimiter">)</span>, Full<span class="delimiter">(</span><a title="net.liftweb.http.js.JsCmd" id="347158">js</a><span class="delimiter">)</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span> =&gt; <a href="LiftRules.scala.html#158817" title="implicit net.liftweb.http.LiftRulesMocker.toLiftRules : (in: net.liftweb.http.LiftRulesMocker)net.liftweb.http.LiftRules">LiftRules</a>.<a href="LiftRules.scala.html#158871" title="=&gt; net.liftweb.http.js.JSArtifacts">jsArtifacts</a>.<a href="js/JSArtifacts.scala.html#327566" title="(id: String, content: scala.xml.NodeSeq)net.liftweb.http.js.JsCmd">setHtml</a><span class="delimiter">(</span><a href="#345838" title="=&gt; String">id</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;_outer&quot;)" class="string">&quot;_outer&quot;</span>, <span class="delimiter">(</span> 
                <a href="#345843" title="(v1: Long, v2: scala.xml.NodeSeq)scala.xml.NodeSeq">spanFunc</a><span class="delimiter">(</span><span title="Long(0L)" class="int">0</span>, <a href="../../../../util/net/liftweb/util/Helpers.scala.html#13346" title="object net.liftweb.util.Helpers">Helpers</a>.<a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#48996" title="(in: scala.xml.NodeSeq)scala.xml.NodeSeq">stripHead</a><span class="delimiter">(</span><a href="#347156" title="scala.xml.NodeSeq">xml</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(that: scala.collection.GenTraversableOnce[scala.xml.Node])(implicit bf: scala.collection.generic.CanBuildFrom[scala.xml.NodeSeq,scala.xml.Node,scala.xml.NodeSeq])scala.xml.NodeSeq">++</span> <a href="#326484" title="=&gt; net.liftweb.common.Box[scala.xml.NodeSeq]">fixedXhtml</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; scala.xml.NodeSeq)scala.xml.NodeSeq">openOr</a><span class="delimiter">(</span><span title="(_data: String)scala.xml.Text">Text</span><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="js/JsCommands.scala.html#148952" title="(other: net.liftweb.http.js.JsCmd)net.liftweb.http.js.JsCmd">&amp;</a> <a href="js/JsCommands.scala.html#14916" title="object net.liftweb.http.js.JsCmds">JsCmds</a>.<a href="js/JsCommands.scala.html#347105" title="(what: net.liftweb.http.js.JsCmd, alert: Boolean)net.liftweb.http.js.JsCmds.JsTry">JsTry</a><span class="delimiter">(</span><a href="#347158" title="net.liftweb.http.js.JsCmd">js</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="net.liftweb.http.js.JsCmd" class="delimiter">(</span>Full<span class="delimiter">(</span><a title="scala.xml.NodeSeq" id="347218">xml</a><span class="delimiter">)</span>, _, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span> =&gt; <a href="LiftRules.scala.html#158817" title="implicit net.liftweb.http.LiftRulesMocker.toLiftRules : (in: net.liftweb.http.LiftRulesMocker)net.liftweb.http.LiftRules">LiftRules</a>.<a href="LiftRules.scala.html#158871" title="=&gt; net.liftweb.http.js.JSArtifacts">jsArtifacts</a>.<a href="js/JSArtifacts.scala.html#327566" title="(id: String, content: scala.xml.NodeSeq)net.liftweb.http.js.JsCmd">setHtml</a><span class="delimiter">(</span><a href="#345838" title="=&gt; String">id</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;_outer&quot;)" class="string">&quot;_outer&quot;</span>, <span class="delimiter">(</span> 
                <a href="#345843" title="(v1: Long, v2: scala.xml.NodeSeq)scala.xml.NodeSeq">spanFunc</a><span class="delimiter">(</span><span title="Long(0L)" class="int">0</span>, <a href="../../../../util/net/liftweb/util/Helpers.scala.html#13346" title="object net.liftweb.util.Helpers">Helpers</a>.<a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#48996" title="(in: scala.xml.NodeSeq)scala.xml.NodeSeq">stripHead</a><span class="delimiter">(</span><a href="#347218" title="scala.xml.NodeSeq">xml</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(that: scala.collection.GenTraversableOnce[scala.xml.Node])(implicit bf: scala.collection.generic.CanBuildFrom[scala.xml.NodeSeq,scala.xml.Node,scala.xml.NodeSeq])scala.xml.NodeSeq">++</span> <a href="#326484" title="=&gt; net.liftweb.common.Box[scala.xml.NodeSeq]">fixedXhtml</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; scala.xml.NodeSeq)scala.xml.NodeSeq">openOr</a><span class="delimiter">(</span><span title="(_data: String)scala.xml.Text">Text</span><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="net.liftweb.http.js.JsCmd" class="delimiter">(</span>_, Full<span class="delimiter">(</span><a title="net.liftweb.http.js.JsCmd" id="347274">js</a><span class="delimiter">)</span>, _<span class="delimiter">)</span> =&gt; <a href="#347274" title="net.liftweb.http.js.JsCmd">js</a>
              <span class="keyword">case</span> <span title="net.liftweb.http.js.JsCmd">_</span> =&gt; <a href="js/JsCommands.scala.html#14916" title="object net.liftweb.http.js.JsCmds">JsCmds</a>.<a href="js/JsCommands.scala.html#146481" title="=&gt; net.liftweb.http.js.JsCmd">Noop</a>
            <span class="delimiter">}</span><span class="delimiter">)</span> <a href="js/JsCommands.scala.html#148952" title="(other: net.liftweb.http.js.JsCmd)net.liftweb.http.js.JsCmd">&amp;</a> <a href="js/JsCommands.scala.html#14916" title="object net.liftweb.http.js.JsCmds">JsCmds</a>.<a href="js/JsCommands.scala.html#347105" title="(what: net.liftweb.http.js.JsCmd, alert: Boolean)net.liftweb.http.js.JsCmds.JsTry">JsTry</a><span class="delimiter">(</span><a href="js/JsCommands.scala.html#14916" title="object net.liftweb.http.js.JsCmds">JsCmds</a>.<a href="js/JsCommands.scala.html#196384" title="(text: String)net.liftweb.http.js.JsCmds.Run">Run</a><span class="delimiter">(</span><span title="java.lang.String(&quot;destroy_&quot;)" class="string">&quot;destroy_&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#345838" title="=&gt; String">id</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; = function() {&quot;)" class="string">&quot; = function() {&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">(</span><a href="#345842" title="=&gt; net.liftweb.common.Box[net.liftweb.http.js.JsCmd]">destroy</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; net.liftweb.http.js.JsCmd)net.liftweb.http.js.JsCmd">openOr</a><span class="delimiter">(</span><a href="js/JsCommands.scala.html#14916" title="object net.liftweb.http.js.JsCmds">JsCmds</a>.<a href="js/JsCommands.scala.html#146481" title="=&gt; net.liftweb.http.js.JsCmd">Noop</a><span class="delimiter">)</span>.<a href="js/JsCommands.scala.html#148953" title="=&gt; String">toJsCmd</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;};&quot;)" class="string">&quot;};&quot;</span><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>

    <a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49555" title="(list: Seq[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])])Unit">appendNotices</a><span class="delimiter">(</span><a href="#345845" title="List[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">notices</a><span class="delimiter">)</span>
    <a href="#347102" title="net.liftweb.http.js.JsCmd">ret</a> = <a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49517" title="=&gt; net.liftweb.http.js.JsCmd">noticesToJsCmd</a> <a href="js/JsCommands.scala.html#148952" title="(other: net.liftweb.http.js.JsCmd)net.liftweb.http.js.JsCmd">&amp;</a> <a href="#347102" title="net.liftweb.http.js.JsCmd">ret</a>
    <a href="#347102" title="net.liftweb.http.js.JsCmd">ret</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; scala.xml.NodeSeq" id="326487">inSpan</a>: <span title="scala.xml.NodeSeq">NodeSeq</span> = <a href="#326482" title="=&gt; net.liftweb.common.Box[scala.xml.NodeSeq]">xml</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; scala.xml.NodeSeq)scala.xml.NodeSeq">openOr</a><span class="delimiter">(</span><span title="(_data: String)scala.xml.Text">Text</span><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(that: scala.collection.GenTraversableOnce[scala.xml.Node])(implicit bf: scala.collection.generic.CanBuildFrom[scala.xml.NodeSeq,scala.xml.Node,scala.xml.NodeSeq])scala.xml.NodeSeq">++</span> <a href="#345841" title="=&gt; net.liftweb.common.Box[net.liftweb.http.js.JsCmd]">javaScript</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: net.liftweb.http.js.JsCmd =&gt; scala.xml.Node)net.liftweb.common.Box[scala.xml.Node]">map</a><span class="delimiter">(</span><a title="net.liftweb.http.js.JsCmd" id="347322">s</a> =&gt; <a href="js/JsCommands.scala.html#196378" title="(script: net.liftweb.http.js.JsCmd)scala.xml.Node">Script</a><span class="delimiter">(</span><a href="#347322" title="net.liftweb.http.js.JsCmd">s</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; scala.xml.Node)scala.xml.Node">openOr</a><span class="delimiter">(</span><span title="(_data: String)scala.xml.Text">Text</span><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="=&gt; scala.xml.NodeSeq" id="326488">outSpan</a>: <span title="scala.xml.NodeSeq">NodeSeq</span> = <a href="js/JsCommands.scala.html#196378" title="(script: net.liftweb.http.js.JsCmd)scala.xml.Node">Script</a><span class="delimiter">(</span><a href="js/JsCommands.scala.html#196384" title="(text: String)net.liftweb.http.js.JsCmds.Run">Run</a><span class="delimiter">(</span><span title="java.lang.String(&quot;var destroy_&quot;)" class="string">&quot;var destroy_&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#345838" title="=&gt; String">id</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; = function() {&quot;)" class="string">&quot; = function() {&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">(</span><a href="#345842" title="=&gt; net.liftweb.common.Box[net.liftweb.http.js.JsCmd]">destroy</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; net.liftweb.http.js.JsCmd)net.liftweb.http.js.JsCmd">openOr</a><span class="delimiter">(</span><a href="js/JsCommands.scala.html#14916" title="object net.liftweb.http.js.JsCmds">JsCmds</a>.<a href="js/JsCommands.scala.html#146481" title="=&gt; net.liftweb.http.js.JsCmd">Noop</a><span class="delimiter">)</span>.<a href="js/JsCommands.scala.html#148953" title="=&gt; String">toJsCmd</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;}&quot;)" class="string">&quot;}&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(that: scala.collection.GenTraversableOnce[scala.xml.Node])(implicit bf: scala.collection.generic.CanBuildFrom[scala.xml.NodeSeq,scala.xml.Node,scala.xml.NodeSeq])scala.xml.NodeSeq">++</span>
          <a href="#326484" title="=&gt; net.liftweb.common.Box[scala.xml.NodeSeq]">fixedXhtml</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; scala.xml.NodeSeq)scala.xml.NodeSeq">openOr</a><span class="delimiter">(</span><span title="(_data: String)scala.xml.Text">Text</span><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Update the comet XML on each page reload in dev mode
 */</span>
case <span class="keyword">class</span> <a title="class UpdateDefaultXml extends net.liftweb.http.CometMessage with ScalaObject with Product with Serializable" id="348329">UpdateDefaultXml</a><a href="#348329" title="ScalaObject" class="delimiter">(</a><a title="scala.xml.NodeSeq" id="326419">xml</a>: <span title="scala.xml.NodeSeq">NodeSeq</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#14100" title="net.liftweb.http.CometMessage">CometMessage</a>

case <span class="keyword">class</span> <a title="class PartialUpdateMsg extends net.liftweb.http.CometMessage with ScalaObject with Product with Serializable" id="348325">PartialUpdateMsg</a><a href="#348325" title="ScalaObject" class="delimiter">(</a><a title="() =&gt; net.liftweb.http.js.JsCmd" id="346658">cmd</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; JsCmd<span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#14100" title="net.liftweb.http.CometMessage">CometMessage</a>
case <span class="keyword">object</span> <a href="#347462" title="object net.liftweb.http.AskRender" id="347467">AskRender</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#14100" title="net.liftweb.http.CometMessage">CometMessage</a>
case <span class="keyword">class</span> <a title="class AnswerRender extends net.liftweb.http.CometMessage with ScalaObject with Product with Serializable" id="348321">AnswerRender</a><a href="#348321" title="ScalaObject" class="delimiter">(</a><a title="net.liftweb.http.XmlOrJsCmd" id="345819">response</a>: <a href="#14101" title="net.liftweb.http.XmlOrJsCmd">XmlOrJsCmd</a>, <a title="net.liftweb.http.LiftCometActor" id="345820">who</a>: <a href="#14092" title="net.liftweb.http.LiftCometActor">LiftCometActor</a>, <a title="Long" id="345821">when</a>: <span title="Long">Long</span>, <a title="Boolean" id="345822">displayAll</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#14100" title="net.liftweb.http.CometMessage">CometMessage</a>
case <span class="keyword">class</span> <a title="class PerformSetupComet2 extends net.liftweb.http.CometMessage with ScalaObject with Product with Serializable" id="348317">PerformSetupComet2</a><a href="#348317" title="ScalaObject" class="delimiter">(</a><a title="net.liftweb.common.Box[net.liftweb.http.Req]" id="328071">initialReq</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.http.Req]">Box</a><span class="delimiter">[</span>Req<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#14100" title="net.liftweb.http.CometMessage">CometMessage</a>
case <span class="keyword">object</span> <a href="#347557" title="object net.liftweb.http.ShutdownIfPastLifespan" id="347562">ShutdownIfPastLifespan</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#14100" title="net.liftweb.http.CometMessage">CometMessage</a>
case <span class="keyword">class</span> <a title="class AskQuestion extends net.liftweb.http.CometMessage with ScalaObject with Product with Serializable" id="348313">AskQuestion</a><a href="#348313" title="ScalaObject" class="delimiter">(</a><a title="Any" id="346753">what</a>: <span title="Any">Any</span>, <a title="net.liftweb.http.LiftCometActor" id="346754">who</a>: <a href="#14092" title="net.liftweb.http.LiftCometActor">LiftCometActor</a>, <a title="List[(net.liftweb.http.ListenerId, net.liftweb.http.AnswerRender =&gt; Unit)]" id="346755">listeners</a>: <span title="List[(net.liftweb.http.ListenerId, net.liftweb.http.AnswerRender =&gt; Unit)]">List</span><span class="delimiter">[</span><span class="delimiter">(</span>ListenerId, AnswerRender =&gt; Unit<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#14100" title="net.liftweb.http.CometMessage">CometMessage</a>
case <span class="keyword">class</span> <a title="class AnswerQuestion extends net.liftweb.http.CometMessage with ScalaObject with Product with Serializable" id="348309">AnswerQuestion</a><a href="#348309" title="ScalaObject" class="delimiter">(</a><a title="Any" id="346772">what</a>: <span title="Any">Any</span>, <a title="List[(net.liftweb.http.ListenerId, net.liftweb.http.AnswerRender =&gt; Unit)]" id="346773">listeners</a>: <span title="List[(net.liftweb.http.ListenerId, net.liftweb.http.AnswerRender =&gt; Unit)]">List</span><span class="delimiter">[</span><span class="delimiter">(</span>ListenerId, AnswerRender =&gt; Unit<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#14100" title="net.liftweb.http.CometMessage">CometMessage</a>
case <span class="keyword">class</span> <a title="class Listen extends net.liftweb.http.CometMessage with ScalaObject with Product with Serializable" id="348305">Listen</a><a href="#348305" title="ScalaObject" class="delimiter">(</a><a title="Long" id="348298">when</a>: <span title="Long">Long</span>, <a title="net.liftweb.http.ListenerId" id="348299">uniqueId</a>: <a href="#348274" title="net.liftweb.http.ListenerId">ListenerId</a>, <a title="net.liftweb.http.AnswerRender =&gt; Unit" id="348300">action</a>: AnswerRender =&gt; Unit<span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#14100" title="net.liftweb.http.CometMessage">CometMessage</a>
case <span class="keyword">class</span> <a title="class Unlisten extends net.liftweb.http.CometMessage with ScalaObject with Product with Serializable" id="348294">Unlisten</a><a href="#348294" title="ScalaObject" class="delimiter">(</a><a title="net.liftweb.http.ListenerId" id="348291">uniqueId</a>: <a href="#348274" title="net.liftweb.http.ListenerId">ListenerId</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#14100" title="net.liftweb.http.CometMessage">CometMessage</a>
case <span class="keyword">class</span> <a title="class ActionMessageSet extends net.liftweb.http.CometMessage with ScalaObject with Product with Serializable" id="348287">ActionMessageSet</a><a href="#348287" title="ScalaObject" class="delimiter">(</a><a title="List[() =&gt; Any]" id="348282">msg</a>: <span title="List[() =&gt; Any]">List</span><span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Any<span class="delimiter">]</span>, <a title="net.liftweb.http.Req" id="348283">req</a>: <a href="Req.scala.html#14573" title="net.liftweb.http.Req">Req</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#14100" title="net.liftweb.http.CometMessage">CometMessage</a>
case <span class="keyword">class</span> <a title="class ReRender extends net.liftweb.http.CometMessage with ScalaObject with Product with Serializable" id="348278">ReRender</a><a href="#348278" title="ScalaObject" class="delimiter">(</a><a title="Boolean" id="346592">doAll</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#14100" title="net.liftweb.http.CometMessage">CometMessage</a>
case <span class="keyword">class</span> <a title="class ListenerId extends java.lang.Object with ScalaObject with Product with Serializable" id="348274">ListenerId</a><a href="#348274" title="ScalaObject" class="delimiter">(</a><a title="Long" id="348271">id</a>: <span title="Long">Long</span><span class="delimiter">)</span>
case <span class="keyword">class</span> <a title="class Error extends net.liftweb.http.CometMessage with ScalaObject with Product with Serializable" id="346304">Error</a><a href="#346304" title="ScalaObject" class="delimiter">(</a><a title="net.liftweb.common.Box[String]" id="347939">id</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[String]">Box</a><span class="delimiter">[</span>String<span class="delimiter">]</span>, <a title="scala.xml.NodeSeq" id="347940">msg</a>: <span title="scala.xml.NodeSeq">NodeSeq</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#14100" title="net.liftweb.http.CometMessage">CometMessage</a>
case <span class="keyword">class</span> <a title="class Warning extends net.liftweb.http.CometMessage with ScalaObject with Product with Serializable" id="346364">Warning</a><a href="#346364" title="ScalaObject" class="delimiter">(</a><a title="net.liftweb.common.Box[String]" id="347996">id</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[String]">Box</a><span class="delimiter">[</span>String<span class="delimiter">]</span>, <a title="scala.xml.NodeSeq" id="347997">msg</a>: <span title="scala.xml.NodeSeq">NodeSeq</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#14100" title="net.liftweb.http.CometMessage">CometMessage</a>
case <span class="keyword">class</span> <a title="class Notice extends net.liftweb.http.CometMessage with ScalaObject with Product with Serializable" id="346417">Notice</a><a href="#346417" title="ScalaObject" class="delimiter">(</a><a title="net.liftweb.common.Box[String]" id="348053">id</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[String]">Box</a><span class="delimiter">[</span>String<span class="delimiter">]</span>, <a title="scala.xml.NodeSeq" id="348054">msg</a>: <span title="scala.xml.NodeSeq">NodeSeq</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#14100" title="net.liftweb.http.CometMessage">CometMessage</a>
case <span class="keyword">object</span> <a href="#347928" title="object net.liftweb.http.ClearNotices" id="347933">ClearNotices</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#14100" title="net.liftweb.http.CometMessage">CometMessage</a>

<span class="keyword">object</span> <a title="object net.liftweb.http.Error" id="347990">Error</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(node: scala.xml.NodeSeq)net.liftweb.http.Error" id="346300">apply</a><span class="delimiter">(</span><a title="scala.xml.NodeSeq" id="347935">node</a>: <span title="scala.xml.NodeSeq">NodeSeq</span><span class="delimiter">)</span>: <a href="#346304" title="net.liftweb.http.Error">Error</a> = <a href="#346304" title="(id: net.liftweb.common.Box[String], msg: scala.xml.NodeSeq)net.liftweb.http.Error">Error</a><span class="delimiter">(</span><a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>, <a href="#347935" title="scala.xml.NodeSeq">node</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(node: String)net.liftweb.http.Error" id="346301">apply</a><span class="delimiter">(</span><a title="String" id="347948">node</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#346304" title="net.liftweb.http.Error">Error</a> = <a href="#346304" title="(id: net.liftweb.common.Box[String], msg: scala.xml.NodeSeq)net.liftweb.http.Error">Error</a><span class="delimiter">(</span><a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>, <span title="(_data: String)scala.xml.Text">Text</span><span class="delimiter">(</span><a href="#347948" title="String">node</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(id: String, node: String)net.liftweb.http.Error" id="346302">apply</a><span class="delimiter">(</span><a title="String" id="347945">id</a>: <span title="String">String</span>, <a title="String" id="347946">node</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#346304" title="net.liftweb.http.Error">Error</a> = <a href="#346304" title="(id: net.liftweb.common.Box[String], msg: scala.xml.NodeSeq)net.liftweb.http.Error">Error</a><span class="delimiter">(</span><a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: String)net.liftweb.common.Full[String]">Full</a><span class="delimiter">(</span><a href="#347945" title="String">id</a><span class="delimiter">)</span>, <span title="(_data: String)scala.xml.Text">Text</span><span class="delimiter">(</span><a href="#347946" title="String">node</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(id: String, node: scala.xml.NodeSeq)net.liftweb.http.Error" id="346303">apply</a><span class="delimiter">(</span><a title="String" id="347942">id</a>: <span title="String">String</span>, <a title="scala.xml.NodeSeq" id="347943">node</a>: <span title="scala.xml.NodeSeq">NodeSeq</span><span class="delimiter">)</span>: <a href="#346304" title="net.liftweb.http.Error">Error</a> = <a href="#346304" title="(id: net.liftweb.common.Box[String], msg: scala.xml.NodeSeq)net.liftweb.http.Error">Error</a><span class="delimiter">(</span><a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: String)net.liftweb.common.Full[String]">Full</a><span class="delimiter">(</span><a href="#347942" title="String">id</a><span class="delimiter">)</span>, <a href="#347943" title="scala.xml.NodeSeq">node</a><span class="delimiter">)</span>
<span class="delimiter">}</span>
<span class="keyword">object</span> <a title="object net.liftweb.http.Warning" id="348047">Warning</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(node: scala.xml.NodeSeq)net.liftweb.http.Warning" id="346360">apply</a><span class="delimiter">(</span><a title="scala.xml.NodeSeq" id="347992">node</a>: <span title="scala.xml.NodeSeq">NodeSeq</span><span class="delimiter">)</span>: <a href="#346364" title="net.liftweb.http.Warning">Warning</a> = <a href="#346364" title="(id: net.liftweb.common.Box[String], msg: scala.xml.NodeSeq)net.liftweb.http.Warning">Warning</a><span class="delimiter">(</span><a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>, <a href="#347992" title="scala.xml.NodeSeq">node</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(node: String)net.liftweb.http.Warning" id="346361">apply</a><span class="delimiter">(</span><a title="String" id="348005">node</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#346364" title="net.liftweb.http.Warning">Warning</a> = <a href="#346364" title="(id: net.liftweb.common.Box[String], msg: scala.xml.NodeSeq)net.liftweb.http.Warning">Warning</a><span class="delimiter">(</span><a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>, <span title="(_data: String)scala.xml.Text">Text</span><span class="delimiter">(</span><a href="#348005" title="String">node</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(id: String, node: String)net.liftweb.http.Warning" id="346362">apply</a><span class="delimiter">(</span><a title="String" id="348002">id</a>: <span title="String">String</span>, <a title="String" id="348003">node</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#346364" title="net.liftweb.http.Warning">Warning</a> = <a href="#346364" title="(id: net.liftweb.common.Box[String], msg: scala.xml.NodeSeq)net.liftweb.http.Warning">Warning</a><span class="delimiter">(</span><a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: String)net.liftweb.common.Full[String]">Full</a><span class="delimiter">(</span><a href="#348002" title="String">id</a><span class="delimiter">)</span>, <span title="(_data: String)scala.xml.Text">Text</span><span class="delimiter">(</span><a href="#348003" title="String">node</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(id: String, node: scala.xml.NodeSeq)net.liftweb.http.Warning" id="346363">apply</a><span class="delimiter">(</span><a title="String" id="347999">id</a>: <span title="String">String</span>, <a title="scala.xml.NodeSeq" id="348000">node</a>: <span title="scala.xml.NodeSeq">NodeSeq</span><span class="delimiter">)</span>: <a href="#346364" title="net.liftweb.http.Warning">Warning</a> = <a href="#346364" title="(id: net.liftweb.common.Box[String], msg: scala.xml.NodeSeq)net.liftweb.http.Warning">Warning</a><span class="delimiter">(</span><a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: String)net.liftweb.common.Full[String]">Full</a><span class="delimiter">(</span><a href="#347999" title="String">id</a><span class="delimiter">)</span>, <a href="#348000" title="scala.xml.NodeSeq">node</a><span class="delimiter">)</span>
<span class="delimiter">}</span>
<span class="keyword">object</span> <a title="object net.liftweb.http.Notice" id="348104">Notice</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(node: scala.xml.NodeSeq)net.liftweb.http.Notice" id="346413">apply</a><span class="delimiter">(</span><a title="scala.xml.NodeSeq" id="348049">node</a>: <span title="scala.xml.NodeSeq">NodeSeq</span><span class="delimiter">)</span>: <a href="#346417" title="net.liftweb.http.Notice">Notice</a> = <a href="#346417" title="(id: net.liftweb.common.Box[String], msg: scala.xml.NodeSeq)net.liftweb.http.Notice">Notice</a><span class="delimiter">(</span><a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>, <a href="#348049" title="scala.xml.NodeSeq">node</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(node: String)net.liftweb.http.Notice" id="346414">apply</a><span class="delimiter">(</span><a title="String" id="348062">node</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#346417" title="net.liftweb.http.Notice">Notice</a> = <a href="#346417" title="(id: net.liftweb.common.Box[String], msg: scala.xml.NodeSeq)net.liftweb.http.Notice">Notice</a><span class="delimiter">(</span><a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>, <span title="(_data: String)scala.xml.Text">Text</span><span class="delimiter">(</span><a href="#348062" title="String">node</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(id: String, node: String)net.liftweb.http.Notice" id="346415">apply</a><span class="delimiter">(</span><a title="String" id="348059">id</a>: <span title="String">String</span>, <a title="String" id="348060">node</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#346417" title="net.liftweb.http.Notice">Notice</a> = <a href="#346417" title="(id: net.liftweb.common.Box[String], msg: scala.xml.NodeSeq)net.liftweb.http.Notice">Notice</a><span class="delimiter">(</span><a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: String)net.liftweb.common.Full[String]">Full</a><span class="delimiter">(</span><a href="#348059" title="String">id</a><span class="delimiter">)</span>, <span title="(_data: String)scala.xml.Text">Text</span><span class="delimiter">(</span><a href="#348060" title="String">node</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(id: String, node: scala.xml.NodeSeq)net.liftweb.http.Notice" id="346416">apply</a><span class="delimiter">(</span><a title="String" id="348056">id</a>: <span title="String">String</span>, <a title="scala.xml.NodeSeq" id="348057">node</a>: <span title="scala.xml.NodeSeq">NodeSeq</span><span class="delimiter">)</span>: <a href="#346417" title="net.liftweb.http.Notice">Notice</a> = <a href="#346417" title="(id: net.liftweb.common.Box[String], msg: scala.xml.NodeSeq)net.liftweb.http.Notice">Notice</a><span class="delimiter">(</span><a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: String)net.liftweb.common.Full[String]">Full</a><span class="delimiter">(</span><a href="#348056" title="String">id</a><span class="delimiter">)</span>, <a href="#348057" title="scala.xml.NodeSeq">node</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * The RenderOut case class contains the rendering for the CometActor.
 * Because of the implicit conversions, RenderOut can come from 
 * &lt;br/&gt;
 * @param xhtml is the &quot;normal&quot; render body
 * @param fixedXhtml is the &quot;fixed&quot; part of the body.  This is ignored unless reRender(true)
 * @param script is the script to be executed on render.  This is where you want to put your script
 * @param destroyScript is executed when the comet widget is redrawn ( e.g., if you register drag or mouse-over or some events, you unregister them here so the page doesn't leak resources.)
 * @param ignoreHtmlOnJs -- if the reason for sending the render is a Comet update, ignore the xhtml part and just run the JS commands.  This is useful in IE when you need to redraw the stuff inside &lt;table&gt;&lt;tr&gt;&lt;td&gt;... just doing innerHtml on &lt;tr&gt; is broken in IE
 */</span>
@serializable
case <span class="keyword">class</span> <a title="class RenderOut extends java.lang.Object with ScalaObject with Product with Serializable" id="348267">RenderOut</a><a href="#348267" title="ScalaObject" class="delimiter">(</a><a title="net.liftweb.common.Box[scala.xml.NodeSeq]" id="344470">xhtml</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[scala.xml.NodeSeq]">Box</a><span class="delimiter">[</span>NodeSeq<span class="delimiter">]</span>, <a title="net.liftweb.common.Box[scala.xml.NodeSeq]" id="344471">fixedXhtml</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[scala.xml.NodeSeq]">Box</a><span class="delimiter">[</span>NodeSeq<span class="delimiter">]</span>, <a title="net.liftweb.common.Box[net.liftweb.http.js.JsCmd]" id="344472">script</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.http.js.JsCmd]">Box</a><span class="delimiter">[</span>JsCmd<span class="delimiter">]</span>, <a title="net.liftweb.common.Box[net.liftweb.http.js.JsCmd]" id="344473">destroyScript</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.http.js.JsCmd]">Box</a><span class="delimiter">[</span>JsCmd<span class="delimiter">]</span>, <a title="Boolean" id="344474">ignoreHtmlOnJs</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(xhtml: scala.xml.NodeSeq)net.liftweb.http.RenderOut" id="328606" class="keyword">this</a><span class="delimiter">(</span><a title="scala.xml.NodeSeq" id="328618">xhtml</a>: <span title="scala.xml.NodeSeq">NodeSeq</span><span class="delimiter">)</span> = <a href="#348267" title="RenderOut.this.type" class="keyword">this</a> <span class="delimiter">(</span><a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: scala.xml.NodeSeq)net.liftweb.common.Full[scala.xml.NodeSeq]">Full</a><span class="delimiter">(</span><a href="#328618" title="scala.xml.NodeSeq">xhtml</a><span class="delimiter">)</span>, <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>, <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>, <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(xhtml: scala.xml.NodeSeq, js: net.liftweb.http.js.JsCmd)net.liftweb.http.RenderOut" id="328607" class="keyword">this</a><span class="delimiter">(</span><a title="scala.xml.NodeSeq" id="328616">xhtml</a>: <span title="scala.xml.NodeSeq">NodeSeq</span>, <a title="net.liftweb.http.js.JsCmd" id="328617">js</a>: <a href="js/JsCommands.scala.html#14913" title="net.liftweb.http.js.JsCmd">JsCmd</a><span class="delimiter">)</span> = <a href="#348267" title="RenderOut.this.type" class="keyword">this</a> <span class="delimiter">(</span><a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: scala.xml.NodeSeq)net.liftweb.common.Full[scala.xml.NodeSeq]">Full</a><span class="delimiter">(</span><a href="#328616" title="scala.xml.NodeSeq">xhtml</a><span class="delimiter">)</span>, <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>, <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: net.liftweb.http.js.JsCmd)net.liftweb.common.Full[net.liftweb.http.js.JsCmd]">Full</a><span class="delimiter">(</span><a href="#328617" title="net.liftweb.http.js.JsCmd">js</a><span class="delimiter">)</span>, <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(xhtml: scala.xml.NodeSeq, js: net.liftweb.http.js.JsCmd, destroy: net.liftweb.http.js.JsCmd)net.liftweb.http.RenderOut" id="328608" class="keyword">this</a><span class="delimiter">(</span><a title="scala.xml.NodeSeq" id="328613">xhtml</a>: <span title="scala.xml.NodeSeq">NodeSeq</span>, <a title="net.liftweb.http.js.JsCmd" id="328614">js</a>: <a href="js/JsCommands.scala.html#14913" title="net.liftweb.http.js.JsCmd">JsCmd</a>, <a title="net.liftweb.http.js.JsCmd" id="328615">destroy</a>: <a href="js/JsCommands.scala.html#14913" title="net.liftweb.http.js.JsCmd">JsCmd</a><span class="delimiter">)</span> = <a href="#348267" title="RenderOut.this.type" class="keyword">this</a> <span class="delimiter">(</span><a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: scala.xml.NodeSeq)net.liftweb.common.Full[scala.xml.NodeSeq]">Full</a><span class="delimiter">(</span><a href="#328613" title="scala.xml.NodeSeq">xhtml</a><span class="delimiter">)</span>, <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>, <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: net.liftweb.http.js.JsCmd)net.liftweb.common.Full[net.liftweb.http.js.JsCmd]">Full</a><span class="delimiter">(</span><a href="#328614" title="net.liftweb.http.js.JsCmd">js</a><span class="delimiter">)</span>, <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: net.liftweb.http.js.JsCmd)net.liftweb.common.Full[net.liftweb.http.js.JsCmd]">Full</a><span class="delimiter">(</span><a href="#328615" title="net.liftweb.http.js.JsCmd">destroy</a><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(cmd: net.liftweb.http.js.JsCmd)net.liftweb.http.RenderOut" id="328609">++</a><span class="delimiter">(</span><a title="net.liftweb.http.js.JsCmd" id="344463">cmd</a>: <a href="js/JsCommands.scala.html#14913" title="net.liftweb.http.js.JsCmd">JsCmd</a><span class="delimiter">)</span> =
    <a href="#348267" title="(xhtml: net.liftweb.common.Box[scala.xml.NodeSeq], fixedXhtml: net.liftweb.common.Box[scala.xml.NodeSeq], script: net.liftweb.common.Box[net.liftweb.http.js.JsCmd], destroyScript: net.liftweb.common.Box[net.liftweb.http.js.JsCmd], ignoreHtmlOnJs: Boolean)net.liftweb.http.RenderOut">RenderOut</a><span class="delimiter">(</span><a href="#344470" title="=&gt; net.liftweb.common.Box[scala.xml.NodeSeq]">xhtml</a>, <a href="#344471" title="=&gt; net.liftweb.common.Box[scala.xml.NodeSeq]">fixedXhtml</a>, <a href="#344472" title="=&gt; net.liftweb.common.Box[net.liftweb.http.js.JsCmd]">script</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: net.liftweb.http.js.JsCmd =&gt; net.liftweb.http.js.JsCmd)net.liftweb.common.Box[net.liftweb.http.js.JsCmd]">map</a><span class="delimiter">(</span><a href="#344490" title="net.liftweb.http.js.JsCmd">_</a> <a href="js/JsCommands.scala.html#148952" title="(other: net.liftweb.http.js.JsCmd)net.liftweb.http.js.JsCmd">&amp;</a> <a href="#344463" title="net.liftweb.http.js.JsCmd">cmd</a><span class="delimiter">)</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#27043" title="(alternative: =&gt; net.liftweb.common.Box[net.liftweb.http.js.JsCmd])net.liftweb.common.Box[net.liftweb.http.js.JsCmd]">or</a> <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: net.liftweb.http.js.JsCmd)net.liftweb.common.Full[net.liftweb.http.js.JsCmd]">Full</a><span class="delimiter">(</span><a href="#344463" title="net.liftweb.http.js.JsCmd">cmd</a><span class="delimiter">)</span>,
      <a href="#344473" title="=&gt; net.liftweb.common.Box[net.liftweb.http.js.JsCmd]">destroyScript</a>, <a href="#344474" title="=&gt; Boolean">ignoreHtmlOnJs</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

@serializable
<span class="keyword">private</span><span class="delimiter">[</span>http<span class="delimiter">]</span> <span class="keyword">object</span> <a title="object net.liftweb.http.Never" id="348260">Never</a>


        </pre>
    </body>
</html>