<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>webkit/net/liftweb/http/provider/servlet/HTTPServletSession.scala</title>
        <script type="text/javascript" src="../../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*
 * Copyright 2009-2011 WorldWide Conferencing, LLC
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */</span>

<span class="keyword">package</span> net.liftweb
<span class="keyword">package</span> http
<span class="keyword">package</span> provider
<span class="keyword">package</span> servlet

<span class="keyword">import</span> javax.servlet.http._
<span class="keyword">import</span> net.liftweb.common._
<span class="keyword">import</span> net.liftweb.util._

<span class="keyword">class</span> <a title="class HTTPServletSession extends java.lang.Object with net.liftweb.http.provider.HTTPSession with ScalaObject" id="15134">HTTPServletSession</a><a href="#15134" title="ScalaObject" class="delimiter">(</a><a title="javax.servlet.http.HttpSession" id="460267">session</a>: <span title="javax.servlet.http.HttpSession">HttpSession</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../HTTPSession.scala.html#15091" title="net.liftweb.http.provider.HTTPSession">HTTPSession</a> <span class="delimiter">{</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="java.lang.String" id="460255">LiftMagicID</a> = <span title="java.lang.String(&quot;$lift_magic_session_thingy$&quot;)" class="string">&quot;$lift_magic_session_thingy$&quot;</span>

  <span class="keyword">def</span> <a title="=&gt; String" id="460257">sessionId</a>: <span title="String">String</span> = <a href="#460267" title="javax.servlet.http.HttpSession">session</a> <span title="()java.lang.String">getId</span>

  <span class="keyword">def</span> <a title="(liftSession: net.liftweb.http.LiftSession)Unit" id="460258">link</a><span class="delimiter">(</span><a title="net.liftweb.http.LiftSession" id="461913">liftSession</a>: <a href="../../LiftSession.scala.html#14496" title="net.liftweb.http.LiftSession">LiftSession</a><span class="delimiter">)</span> = <a href="#460267" title="javax.servlet.http.HttpSession">session</a>.<span title="(x$1: java.lang.String, x$2: Any)Unit">setAttribute</span><span class="delimiter">(</span><a href="#460255" title="=&gt; java.lang.String">LiftMagicID</a>, <a href="#462100" title="(uniqueId: String)net.liftweb.http.provider.servlet.SessionToServletBridge">SessionToServletBridge</a><span class="delimiter">(</span><a href="#461913" title="net.liftweb.http.LiftSession">liftSession</a>.<a href="../../LiftSession.scala.html#230144" title="=&gt; String">uniqueId</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(liftSession: net.liftweb.http.LiftSession)Unit" id="460259">unlink</a><span class="delimiter">(</span><a title="net.liftweb.http.LiftSession" id="461941">liftSession</a>: <a href="../../LiftSession.scala.html#14496" title="net.liftweb.http.LiftSession">LiftSession</a><span class="delimiter">)</span> = <a href="#460267" title="javax.servlet.http.HttpSession">session</a>.<span title="(x$1: java.lang.String)Unit">removeAttribute</span><span class="delimiter">(</span><a href="#460255" title="=&gt; java.lang.String">LiftMagicID</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="=&gt; Long" id="460260">maxInactiveInterval</a>: <span title="Long">Long</span> = <a href="#460267" title="javax.servlet.http.HttpSession">session</a> <span title="=&gt; Long">getMaxInactiveInterval</span>

  <span class="keyword">def</span> <a title="(interval: Long)Unit" id="460261">setMaxInactiveInterval</a><span class="delimiter">(</span><a title="Long" id="461946">interval</a>: <span title="Long">Long</span><span class="delimiter">)</span> = <a href="#460267" title="javax.servlet.http.HttpSession">session</a> <span title="(x$1: Int)Unit">setMaxInactiveInterval</span> <span class="delimiter">(</span><a href="#461946" title="Long">interval</a>.<span title="=&gt; Int">toInt</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="=&gt; Long" id="460262">lastAccessedTime</a>: <span title="Long">Long</span> = <a href="#460267" title="javax.servlet.http.HttpSession">session</a> <span title="()Long">getLastAccessedTime</span>

  <span class="keyword">def</span> <a title="(name: String, value: Any)Unit" id="460263">setAttribute</a><span class="delimiter">(</span><a title="String" id="461951">name</a>: <span title="String">String</span>, <a title="Any" id="461952">value</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#460267" title="javax.servlet.http.HttpSession">session</a> <span title="(x$1: java.lang.String, x$2: Any)Unit">setAttribute</span> <span class="delimiter">(</span><a href="#461951" title="String">name</a>, <a href="#461952" title="Any">value</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(name: String)Any" id="460264">attribute</a><span class="delimiter">(</span><a title="String" id="461955">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Any">Any</span> = <a href="#460267" title="javax.servlet.http.HttpSession">session</a> <span title="(x$1: java.lang.String)java.lang.Object">getAttribute</span> <a href="#461955" title="String">name</a>

  <span class="keyword">def</span> <a title="(name: String)Unit" id="460265">removeAttribute</a><span class="delimiter">(</span><a title="String" id="461957">name</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#460267" title="javax.servlet.http.HttpSession">session</a> <span title="(x$1: java.lang.String)Unit">removeAttribute</span> <a href="#461957" title="String">name</a>

  <span class="keyword">def</span> <a title="=&gt; Unit" id="460266">terminate</a> = <a href="#460267" title="javax.servlet.http.HttpSession">session</a> <span title="()Unit">invalidate</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Represents the &quot;bridge&quot; between HttpSession and LiftSession
 */</span>
@serializable
case <span class="keyword">class</span> <a title="class SessionToServletBridge extends java.lang.Object with javax.servlet.http.HttpSessionBindingListener with javax.servlet.http.HttpSessionActivationListener with ScalaObject with Product with Serializable" id="462100">SessionToServletBridge</a><a href="#462100" title="ScalaObject" class="delimiter">(</a><a title="String" id="461937">uniqueId</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> <span title="javax.servlet.http.HttpSessionBindingListener">HttpSessionBindingListener</span> <span class="keyword">with</span> <span title="javax.servlet.http.HttpSessionActivationListener">HttpSessionActivationListener</span> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(se: javax.servlet.http.HttpSessionEvent)Unit" id="461931">sessionDidActivate</a><span class="delimiter">(</span><a title="javax.servlet.http.HttpSessionEvent" id="461966">se</a>: <span title="javax.servlet.http.HttpSessionEvent">HttpSessionEvent</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="../../LiftSession.scala.html#14484" title="object net.liftweb.http.SessionMaster">SessionMaster</a>.<a href="../../LiftSession.scala.html#357501" title="(id: String, otherId: net.liftweb.common.Box[String])net.liftweb.common.Box[net.liftweb.http.LiftSession]">getSession</a><span class="delimiter">(</span><a href="#461937" title="=&gt; String">uniqueId</a>, <a href="../../../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a><span class="delimiter">)</span>.<a href="../../../../../../common/net/liftweb/common/Box.scala.html#27031" title="(f: net.liftweb.http.LiftSession =&gt; Unit)Unit">foreach</a><span class="delimiter">(</span><a title="net.liftweb.http.LiftSession" id="461980">ls</a> =&gt;
            <a href="../../LiftSession.scala.html#14470" title="object net.liftweb.http.LiftSession">LiftSession</a>.<a href="../../LiftSession.scala.html#326767" title="=&gt; List[net.liftweb.http.LiftSession =&gt; Unit]">onSessionActivate</a>.<span title="(f: net.liftweb.http.LiftSession =&gt; Unit =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#462002" title="(v1: net.liftweb.http.LiftSession)Unit">_</a><span class="delimiter">(</span><a href="#461980" title="net.liftweb.http.LiftSession">ls</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(se: javax.servlet.http.HttpSessionEvent)Unit" id="461932">sessionWillPassivate</a><span class="delimiter">(</span><a title="javax.servlet.http.HttpSessionEvent" id="462006">se</a>: <span title="javax.servlet.http.HttpSessionEvent">HttpSessionEvent</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="../../LiftSession.scala.html#14484" title="object net.liftweb.http.SessionMaster">SessionMaster</a>.<a href="../../LiftSession.scala.html#357501" title="(id: String, otherId: net.liftweb.common.Box[String])net.liftweb.common.Box[net.liftweb.http.LiftSession]">getSession</a><span class="delimiter">(</span><a href="#461937" title="=&gt; String">uniqueId</a>, <a href="../../../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a><span class="delimiter">)</span>.<a href="../../../../../../common/net/liftweb/common/Box.scala.html#27031" title="(f: net.liftweb.http.LiftSession =&gt; Unit)Unit">foreach</a><span class="delimiter">(</span><a title="net.liftweb.http.LiftSession" id="462016">ls</a> =&gt;
            <a href="../../LiftSession.scala.html#14470" title="object net.liftweb.http.LiftSession">LiftSession</a>.<a href="../../LiftSession.scala.html#326770" title="=&gt; List[net.liftweb.http.LiftSession =&gt; Unit]">onSessionPassivate</a>.<span title="(f: net.liftweb.http.LiftSession =&gt; Unit =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#462038" title="(v1: net.liftweb.http.LiftSession)Unit">_</a><span class="delimiter">(</span><a href="#462016" title="net.liftweb.http.LiftSession">ls</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(event: javax.servlet.http.HttpSessionBindingEvent)Unit" id="461933">valueBound</a><span class="delimiter">(</span><a title="javax.servlet.http.HttpSessionBindingEvent" id="462042">event</a>: <span title="javax.servlet.http.HttpSessionBindingEvent">HttpSessionBindingEvent</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">{</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * When the session is unbound the the HTTP session, stop us
   */</span>
  <span class="keyword">def</span> <a title="(event: javax.servlet.http.HttpSessionBindingEvent)Unit" id="461934">valueUnbound</a><span class="delimiter">(</span><a title="javax.servlet.http.HttpSessionBindingEvent" id="462054">event</a>: <span title="javax.servlet.http.HttpSessionBindingEvent">HttpSessionBindingEvent</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="../../LiftSession.scala.html#14484" title="object net.liftweb.http.SessionMaster">SessionMaster</a>.<a href="../../LiftSession.scala.html#357519" title="(in: Any)Unit">sendMsg</a><span class="delimiter">(</span><a href="../../LiftSession.scala.html#388443" title="(sessionId: String)net.liftweb.http.RemoveSession">RemoveSession</a><span class="delimiter">(</span><a href="#461937" title="=&gt; String">uniqueId</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>


        </pre>
    </body>
</html>