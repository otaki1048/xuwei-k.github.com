<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>webkit/net/liftweb/http/S.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*
 * Copyright 2006-2011 WorldWide Conferencing, LLC
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */</span>

<span class="keyword">package</span> net.liftweb
<span class="keyword">package</span> http

<span class="keyword">import</span> java.util.<span class="delimiter">{</span>Locale, TimeZone, ResourceBundle<span class="delimiter">}</span>

<span class="keyword">import</span> collection.mutable.<span class="delimiter">{</span>HashMap, ListBuffer<span class="delimiter">}</span>
<span class="keyword">import</span> xml._

<span class="keyword">import</span> common._
<span class="keyword">import</span> actor.LAFuture
<span class="keyword">import</span> util._
<span class="keyword">import</span> <a href="../../../../util/net/liftweb/util/Helpers.scala.html#13346" title="object net.liftweb.util.Helpers">Helpers</a>._
<span class="keyword">import</span> js._

<span class="keyword">import</span> builtin.snippet._
<span class="keyword">import</span> provider._
<span class="keyword">import</span> http.rest.RestContinuation

<span class="keyword">class</span> <a title="class SJBridge extends java.lang.Object with ScalaObject" id="14640">SJBridge</a> <a href="#14640" title="ScalaObject" class="delimiter">{</a>
  <span class="keyword">def</span> <a title="=&gt; net.liftweb.http.S.type" id="413558">s</a> = <a href="#14641" title="object net.liftweb.http.S">S</a>
<span class="delimiter">}</span>

<span class="comment">/**
 * An object representing the current state of the HTTP request and response.
 * It uses the DynamicVariable construct such that each thread has its own
 * local session info without passing a huge state construct around. The S object
 * is initialized by LiftSession on request startup.
 *
 * @see LiftSession
 * @see LiftFilter
 */</span>
<span class="keyword">object</span> <a title="object net.liftweb.http.S" id="14641">S</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#14643" title="net.liftweb.http.S">S</a> <span class="delimiter">{</span>
  <span class="comment">/**
   * RewriteHolder holds a partial function that re-writes an incoming request. It is
   * used for per-session rewrites, as opposed to global rewrites, which are handled
   * by the LiftRules.rewrite RulesSeq. This case class exists so that RewritePFs may
   * be manipulated by name. See S.addSessionRewriter for example usage.
   *
   * @see # sessionRewriter
   * @see # addSessionRewriter
   * @see # clearSessionRewriter
   * @see # removeSessionRewriter
   * @see LiftRules # rewrite
   */</span>
  case <span class="keyword">class</span> <a title="class RewriteHolder extends java.lang.Object with ScalaObject with Product with Serializable" id="414208">RewriteHolder</a><a href="#414208" title="ScalaObject" class="delimiter">(</a><a title="String" id="414203">name</a>: <span title="String">String</span>, <a title="net.liftweb.http.LiftRules.RewritePF" id="414204">rewrite</a>: LiftRules.<span title="net.liftweb.http.LiftRules.RewritePF">RewritePF</span><span class="delimiter">)</span>

  <span class="comment">/**
   * DispatchHolder holds a partial function that maps a Req to a LiftResponse. It is
   * used for per-session dispatch, as opposed to global dispatch, which are handled
   * by the LiftRules.dispatch RulesSeq. This case class exists so that DispatchPFs may
   * be manipulated by name. See S.addHighLevelSessionDispatcher for example usage.
   *
   * @see LiftResponse
   * @see LiftRules # dispatch
   * @see # highLevelSessionDispatchList
   * @see # addHighLevelSessionDispatcher
   * @see # removeHighLevelSessionDispatcher
   * @see # clearHighLevelSessionDispatcher
   */</span>
  case <span class="keyword">class</span> <a title="class DispatchHolder extends java.lang.Object with ScalaObject with Product with Serializable" id="414199">DispatchHolder</a><a href="#414199" title="ScalaObject" class="delimiter">(</a><a title="String" id="414194">name</a>: <span title="String">String</span>, <a title="net.liftweb.http.LiftRules.DispatchPF" id="414195">dispatch</a>: LiftRules.<span title="net.liftweb.http.LiftRules.DispatchPF">DispatchPF</span><span class="delimiter">)</span>

  <span class="comment">/**
   * The CookieHolder class holds information about cookies to be sent during
   * the session, as well as utility methods for adding and deleting cookies. It
   * is used internally.
   *
   * @see # _responseCookies
   * @see # _init
   * @see # addCookie
   * @see # deleteCookie
   * @see # receivedCookies
   * @see # responseCookies
   * @see # findCookie
   */</span>
  case <span class="keyword">class</span> <a title="class CookieHolder extends java.lang.Object with ScalaObject with Product with Serializable" id="414190">CookieHolder</a><a href="#414190" title="ScalaObject" class="delimiter">(</a><a title="List[net.liftweb.http.provider.HTTPCookie]" id="413721">inCookies</a>: <span title="List[net.liftweb.http.provider.HTTPCookie]">List</span><span class="delimiter">[</span>HTTPCookie<span class="delimiter">]</span>, <a title="List[net.liftweb.http.provider.HTTPCookie]" id="413722">outCookies</a>: <span title="List[net.liftweb.http.provider.HTTPCookie]">List</span><span class="delimiter">[</span>HTTPCookie<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(in: net.liftweb.http.provider.HTTPCookie)net.liftweb.http.S.CookieHolder" id="413705">add</a><span class="delimiter">(</span><a title="net.liftweb.http.provider.HTTPCookie" id="413714">in</a>: <a href="provider/HTTPCookie.scala.html#15059" title="net.liftweb.http.provider.HTTPCookie">HTTPCookie</a><span class="delimiter">)</span> = <a href="#414190" title="(inCookies: List[net.liftweb.http.provider.HTTPCookie], outCookies: List[net.liftweb.http.provider.HTTPCookie])net.liftweb.http.S.CookieHolder">CookieHolder</a><span class="delimiter">(</span><a href="#413721" title="=&gt; List[net.liftweb.http.provider.HTTPCookie]">inCookies</a>, <a href="#413714" title="net.liftweb.http.provider.HTTPCookie">in</a> <a href="#413728" title="(x: net.liftweb.http.provider.HTTPCookie)List[net.liftweb.http.provider.HTTPCookie]">::</a> <a href="#413722" title="=&gt; List[net.liftweb.http.provider.HTTPCookie]">outCookies</a>.<span title="(p: net.liftweb.http.provider.HTTPCookie =&gt; Boolean)List[net.liftweb.http.provider.HTTPCookie]">filter</span><span class="delimiter">(</span><a href="#413732" title="net.liftweb.http.provider.HTTPCookie">_</a>.<a href="provider/HTTPCookie.scala.html#188767" title="=&gt; String">name</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#413714" title="net.liftweb.http.provider.HTTPCookie">in</a>.<a href="provider/HTTPCookie.scala.html#188767" title="=&gt; String">name</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(name: String)net.liftweb.http.S.CookieHolder" id="413706">delete</a><span class="delimiter">(</span><a title="String" id="413742">name</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#413705" title="(in: net.liftweb.http.provider.HTTPCookie)net.liftweb.http.S.CookieHolder">add</a><span class="delimiter">(</span><a href="provider/HTTPCookie.scala.html#188757" title="(name: String, value: String)net.liftweb.http.provider.HTTPCookie">HTTPCookie</a><span class="delimiter">(</span><a href="#413742" title="String">name</a>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>.<a href="provider/HTTPCookie.scala.html#188789" title="(newMaxAge: Int)net.liftweb.http.provider.HTTPCookie">setMaxAge</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(old: net.liftweb.http.provider.HTTPCookie)net.liftweb.http.S.CookieHolder" id="413707">delete</a><span class="delimiter">(</span><a title="net.liftweb.http.provider.HTTPCookie" id="413751">old</a>: <a href="provider/HTTPCookie.scala.html#15059" title="net.liftweb.http.provider.HTTPCookie">HTTPCookie</a><span class="delimiter">)</span> =
      <a href="#413705" title="(in: net.liftweb.http.provider.HTTPCookie)net.liftweb.http.S.CookieHolder">add</a><span class="delimiter">(</span><a href="#413751" title="net.liftweb.http.provider.HTTPCookie">old</a>.<a href="provider/HTTPCookie.scala.html#188789" title="(newMaxAge: Int)net.liftweb.http.provider.HTTPCookie">setMaxAge</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>.<a href="provider/HTTPCookie.scala.html#188786" title="(newValue: String)net.liftweb.http.provider.HTTPCookie">setValue</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">final</span> case <span class="keyword">class</span> <a title="class PFPromoter[A, B] extends java.lang.Object with ScalaObject with Product with Serializable" id="344416">PFPromoter</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="344419">A</a>, <a title="&gt;: Nothing &lt;: Any" id="344420">B</a><span class="delimiter">]</span><a href="#344416" title="ScalaObject" class="delimiter">(</a><a title="() =&gt; PartialFunction[A,B]" id="413867">pff</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; PartialFunction<span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span>

  <span class="keyword">object</span> <a title="object net.liftweb.http.S.PFPromoter" id="413871">PFPromoter</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[A, B](pf: PartialFunction[A,B])net.liftweb.http.S.PFPromoter[A,B]" id="344406">fromPF</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="344409">A</a>, <a title="&gt;: Nothing &lt;: Any" id="344410">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="PartialFunction[A,B]" id="344430">pf</a>: <span title="PartialFunction[A,B]">PartialFunction</span><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#344416" title="net.liftweb.http.S.PFPromoter[A,B]">PFPromoter</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <span title="net.liftweb.http.S.PFPromoter[A,B]" class="keyword">new</span> <a href="#344416" title="net.liftweb.http.S.PFPromoter[A,B]">PFPromoter</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#344430" title="PartialFunction[A,B]">pf</a><span class="delimiter">)</span>

    <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[A, B](pff: () =&gt; PartialFunction[A,B])net.liftweb.http.S.PFPromoter[A,B]" id="344411">fromFunc</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="344414">A</a>, <a title="&gt;: Nothing &lt;: Any" id="344415">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="() =&gt; PartialFunction[A,B]" id="344427">pff</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; PartialFunction<span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#344416" title="net.liftweb.http.S.PFPromoter[A,B]">PFPromoter</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <span title="net.liftweb.http.S.PFPromoter[A,B]" class="keyword">new</span> <a href="#344416" title="net.liftweb.http.S.PFPromoter[A,B]">PFPromoter</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">(</span><a href="#344427" title="() =&gt; PartialFunction[A,B]">pff</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span><span class="delimiter">[</span>http<span class="delimiter">]</span> <span class="keyword">class</span> <a title="class ProxyFuncHolder extends java.lang.Object with net.liftweb.http.S.AFuncHolder with ScalaObject" id="49589">ProxyFuncHolder</a><a href="#49589" title="ScalaObject" class="delimiter">(</a><a title="net.liftweb.http.S.AFuncHolder" id="398229">proxyTo</a>: <a href="#49602" title="net.liftweb.http.S.AFuncHolder">AFuncHolder</a>, <a title="net.liftweb.common.Box[String]" id="398230">_owner</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[String]">Box</a><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#49602" title="net.liftweb.http.S.AFuncHolder">AFuncHolder</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(proxyTo: net.liftweb.http.S.AFuncHolder)net.liftweb.http.S.ProxyFuncHolder" id="398191" class="keyword">this</a><span class="delimiter">(</span><a title="net.liftweb.http.S.AFuncHolder" id="398227">proxyTo</a>: <a href="#49602" title="net.liftweb.http.S.AFuncHolder">AFuncHolder</a><span class="delimiter">)</span> = <a href="#49589" title="ProxyFuncHolder.this.type" class="keyword">this</a> <span class="delimiter">(</span><a href="#398227" title="net.liftweb.http.S.AFuncHolder">proxyTo</a>, <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; net.liftweb.common.Box[String]" id="398192">owner</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[String]">Box</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="#398230" title="net.liftweb.common.Box[String]">_owner</a> <a href="../../../../common/net/liftweb/common/Box.scala.html#27043" title="(alternative: =&gt; net.liftweb.common.Box[String])net.liftweb.common.Box[String]">or</a> <a href="#398229" title="net.liftweb.http.S.AFuncHolder">proxyTo</a>.<a href="#159454" title="=&gt; net.liftweb.common.Box[String]">owner</a>

    <span class="keyword">def</span> <a title="(in: List[String])Any" id="398193">apply</a><span class="delimiter">(</span><a title="List[String]" id="398205">in</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Any">Any</span> = <a href="#398229" title="net.liftweb.http.S.AFuncHolder">proxyTo</a>.<a href="#159455" title="(in: List[String])Any">apply</a><span class="delimiter">(</span><a href="#398205" title="List[String]">in</a><span class="delimiter">)</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(in: net.liftweb.http.FileParamHolder)Any" id="398194">apply</a><span class="delimiter">(</span><a title="net.liftweb.http.FileParamHolder" id="398209">in</a>: <a href="Req.scala.html#14548" title="net.liftweb.http.FileParamHolder">FileParamHolder</a><span class="delimiter">)</span>: <span title="Any">Any</span> = <a href="#398229" title="net.liftweb.http.S.AFuncHolder">proxyTo</a>.<a href="#159456" title="(in: net.liftweb.http.FileParamHolder)Any">apply</a><span class="delimiter">(</span><a href="#398209" title="net.liftweb.http.FileParamHolder">in</a><span class="delimiter">)</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="398195">supportsFileParams_?</a> : <span title="Boolean">Boolean</span> = <a href="#398229" title="net.liftweb.http.S.AFuncHolder">proxyTo</a>.<a href="#159457" title="=&gt; Boolean">supportsFileParams_?</a>

    <span class="keyword">override</span> <span class="keyword">private</span><span class="delimiter">[</span>http<span class="delimiter">]</span> <span class="keyword">def</span> <a title="=&gt; Long" id="398196">lastSeen</a>: <span title="Long">Long</span> = <a href="#398229" title="net.liftweb.http.S.AFuncHolder">proxyTo</a>.<a href="#159460" title="=&gt; Long">lastSeen</a>

    <span class="keyword">override</span> <span class="keyword">private</span><span class="delimiter">[</span>http<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(when: Long)Unit" id="398197">lastSeen_=</a><span class="delimiter">(</span><a title="Long" id="413908">when</a>: <span title="Long">Long</span><span class="delimiter">)</span> = <a href="#398229" title="net.liftweb.http.S.AFuncHolder">proxyTo</a>.<a href="#159461" title="(when: Long)Unit">lastSeen</a> = <a href="#413908" title="Long">when</a>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="398198">sessionLife</a> = <a href="#398229" title="net.liftweb.http.S.AFuncHolder">proxyTo</a>.<a href="#159462" title="=&gt; Boolean">sessionLife</a>
  <span class="delimiter">}</span>

  <span class="comment">/**
   *  Impersonates a function that will be called when uploading files
   */</span>
  @serializable
  <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">class</span> <a title="class BinFuncHolder extends java.lang.Object with net.liftweb.http.S.AFuncHolder with ScalaObject" id="49590">BinFuncHolder</a><a href="#49590" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="net.liftweb.http.FileParamHolder =&gt; Any" id="413927">func</a>: FileParamHolder =&gt; Any, <span class="keyword">val</span> <a title="net.liftweb.common.Box[String]" id="413928">owner</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[String]">Box</a><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#49602" title="net.liftweb.http.S.AFuncHolder">AFuncHolder</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(in: List[String])Unit" id="413921">apply</a><span class="delimiter">(</span><a title="List[String]" id="413929">in</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span><a href="../../../../common/net/liftweb/common/Logging.scala.html#19845" title="=&gt; net.liftweb.common.Logger">logger</a>.<a href="../../../../common/net/liftweb/common/Logging.scala.html#31948" title="(msg: =&gt; AnyRef)Unit">info</a><span class="delimiter">(</span><span title="java.lang.String(&quot;You attempted to call a \'File Upload\' function with a normal parameter.  Did you forget to \'enctype\' to \'multipart/form-data\'?&quot;)" class="string">&quot;You attempted to call a 'File Upload' function with a normal parameter.  Did you forget to 'enctype' to 'multipart/form-data'?&quot;</span><span class="delimiter">)</span><span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(in: net.liftweb.http.FileParamHolder)Any" id="413922">apply</a><span class="delimiter">(</span><a title="net.liftweb.http.FileParamHolder" id="413935">in</a>: <a href="Req.scala.html#14548" title="net.liftweb.http.FileParamHolder">FileParamHolder</a><span class="delimiter">)</span> = <a href="#413927" title="(v1: net.liftweb.http.FileParamHolder)Any">func</a><span class="delimiter">(</span><a href="#413935" title="net.liftweb.http.FileParamHolder">in</a><span class="delimiter">)</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="413923">supportsFileParams_?</a> : <span title="Boolean">Boolean</span> = <span title="Boolean(true)" class="keyword">true</span>
  <span class="delimiter">}</span>

  <span class="keyword">object</span> <a title="object net.liftweb.http.S.BinFuncHolder" id="413954">BinFuncHolder</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(func: net.liftweb.http.FileParamHolder =&gt; Any)net.liftweb.http.S.AFuncHolder" id="413946">apply</a><span class="delimiter">(</span><a title="net.liftweb.http.FileParamHolder =&gt; Any" id="413949">func</a>: FileParamHolder =&gt; Any<span class="delimiter">)</span>: <a href="#49602" title="net.liftweb.http.S.AFuncHolder">AFuncHolder</a> = <span title="net.liftweb.http.S.BinFuncHolder" class="keyword">new</span> <a href="#49590" title="net.liftweb.http.S.BinFuncHolder">BinFuncHolder</a><span class="delimiter">(</span><a href="#413949" title="net.liftweb.http.FileParamHolder =&gt; Any">func</a>, <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(func: net.liftweb.http.FileParamHolder =&gt; Any, owner: net.liftweb.common.Box[String])net.liftweb.http.S.AFuncHolder" id="413947">apply</a><span class="delimiter">(</span><a title="net.liftweb.http.FileParamHolder =&gt; Any" id="413951">func</a>: FileParamHolder =&gt; Any, <a title="net.liftweb.common.Box[String]" id="413952">owner</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[String]">Box</a><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#49602" title="net.liftweb.http.S.AFuncHolder">AFuncHolder</a> = <span title="net.liftweb.http.S.BinFuncHolder" class="keyword">new</span> <a href="#49590" title="net.liftweb.http.S.BinFuncHolder">BinFuncHolder</a><span class="delimiter">(</span><a href="#413951" title="net.liftweb.http.FileParamHolder =&gt; Any">func</a>, <a href="#413952" title="net.liftweb.common.Box[String]">owner</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">object</span> <a title="object net.liftweb.http.S.SFuncHolder" id="413973">SFuncHolder</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(func: String =&gt; Any)net.liftweb.http.S.AFuncHolder" id="206365">apply</a><span class="delimiter">(</span><a title="String =&gt; Any" id="206372">func</a>: String =&gt; Any<span class="delimiter">)</span>: <a href="#49602" title="net.liftweb.http.S.AFuncHolder">AFuncHolder</a> = <span title="net.liftweb.http.S.SFuncHolder" class="keyword">new</span> <a href="#49595" title="net.liftweb.http.S.SFuncHolder">SFuncHolder</a><span class="delimiter">(</span><a href="#206372" title="String =&gt; Any">func</a>, <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(func: String =&gt; Any, owner: net.liftweb.common.Box[String])net.liftweb.http.S.AFuncHolder" id="206366">apply</a><span class="delimiter">(</span><a title="String =&gt; Any" id="206369">func</a>: String =&gt; Any, <a title="net.liftweb.common.Box[String]" id="206370">owner</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[String]">Box</a><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#49602" title="net.liftweb.http.S.AFuncHolder">AFuncHolder</a> = <span title="net.liftweb.http.S.SFuncHolder" class="keyword">new</span> <a href="#49595" title="net.liftweb.http.S.SFuncHolder">SFuncHolder</a><span class="delimiter">(</span><a href="#206369" title="String =&gt; Any">func</a>, <a href="#206370" title="net.liftweb.common.Box[String]">owner</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Impersonates a function that is executed on HTTP requests from client. The function
   * takes a String as the only parameter and returns an Any.
   */</span>
  @serializable
  <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">class</span> <a title="class SFuncHolder extends java.lang.Object with net.liftweb.http.S.AFuncHolder with ScalaObject" id="49595">SFuncHolder</a><a href="#49595" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="String =&gt; Any" id="413965">func</a>: String =&gt; Any, <span class="keyword">val</span> <a title="net.liftweb.common.Box[String]" id="413966">owner</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[String]">Box</a><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#49602" title="net.liftweb.http.S.AFuncHolder">AFuncHolder</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(func: String =&gt; Any)net.liftweb.http.S.SFuncHolder" id="413962" class="keyword">this</a><span class="delimiter">(</span><a title="String =&gt; Any" id="413967">func</a>: String =&gt; Any<span class="delimiter">)</span> = <a href="#49595" title="SFuncHolder.this.type" class="keyword">this</a> <span class="delimiter">(</span><a href="#413967" title="String =&gt; Any">func</a>, <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(in: List[String])Any" id="413963">apply</a><span class="delimiter">(</span><a title="List[String]" id="413987">in</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Any">Any</span> = <a href="#413987" title="List[String]">in</a>.<span title="=&gt; Option[String]">headOption</span>.<span title="=&gt; List[String]">toList</span>.<span title="(f: String =&gt; Any)(implicit bf: scala.collection.generic.CanBuildFrom[List[String],Any,Any])Any">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Any,List[Any]]" class="delimiter">(</span><a href="#413965" title="(v1: String)Any">func</a><span class="delimiter">(</span><a href="#414010" title="String">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">object</span> <a title="object net.liftweb.http.S.LFuncHolder" id="414050">LFuncHolder</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(func: List[String] =&gt; Any)net.liftweb.http.S.AFuncHolder" id="229677">apply</a><span class="delimiter">(</span><a title="List[String] =&gt; Any" id="229684">func</a>: List<span class="delimiter">[</span>String<span class="delimiter">]</span> =&gt; Any<span class="delimiter">)</span>: <a href="#49602" title="net.liftweb.http.S.AFuncHolder">AFuncHolder</a> = <span title="net.liftweb.http.S.LFuncHolder" class="keyword">new</span> <a href="#49598" title="net.liftweb.http.S.LFuncHolder">LFuncHolder</a><span class="delimiter">(</span><a href="#229684" title="List[String] =&gt; Any">func</a>, <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(func: List[String] =&gt; Any, owner: net.liftweb.common.Box[String])net.liftweb.http.S.AFuncHolder" id="229678">apply</a><span class="delimiter">(</span><a title="List[String] =&gt; Any" id="229681">func</a>: List<span class="delimiter">[</span>String<span class="delimiter">]</span> =&gt; Any, <a title="net.liftweb.common.Box[String]" id="229682">owner</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[String]">Box</a><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#49602" title="net.liftweb.http.S.AFuncHolder">AFuncHolder</a> = <span title="net.liftweb.http.S.LFuncHolder" class="keyword">new</span> <a href="#49598" title="net.liftweb.http.S.LFuncHolder">LFuncHolder</a><span class="delimiter">(</span><a href="#229681" title="List[String] =&gt; Any">func</a>, <a href="#229682" title="net.liftweb.common.Box[String]">owner</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Impersonates a function that is executed on HTTP requests from client. The function
   * takes a List[String] as the only parameter and returns an Any.
   */</span>
  @serializable
  <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">class</span> <a title="class LFuncHolder extends java.lang.Object with net.liftweb.http.S.AFuncHolder with ScalaObject" id="49598">LFuncHolder</a><a href="#49598" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="List[String] =&gt; Any" id="414047">func</a>: List<span class="delimiter">[</span>String<span class="delimiter">]</span> =&gt; Any, <span class="keyword">val</span> <a title="net.liftweb.common.Box[String]" id="414048">owner</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[String]">Box</a><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#49602" title="net.liftweb.http.S.AFuncHolder">AFuncHolder</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(in: List[String])Any" id="414046">apply</a><span class="delimiter">(</span><a title="List[String]" id="414054">in</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Any">Any</span> = <a href="#414047" title="(v1: List[String])Any">func</a><span class="delimiter">(</span><a href="#414054" title="List[String]">in</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">object</span> <a title="object net.liftweb.http.S.NFuncHolder" id="414070">NFuncHolder</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(func: () =&gt; Any)net.liftweb.http.S.AFuncHolder" id="396952">apply</a><span class="delimiter">(</span><a title="() =&gt; Any" id="396959">func</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Any<span class="delimiter">)</span>: <a href="#49602" title="net.liftweb.http.S.AFuncHolder">AFuncHolder</a> = <span title="net.liftweb.http.S.NFuncHolder" class="keyword">new</span> <a href="#49601" title="net.liftweb.http.S.NFuncHolder">NFuncHolder</a><span class="delimiter">(</span><a href="#396959" title="() =&gt; Any">func</a>, <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(func: () =&gt; Any, owner: net.liftweb.common.Box[String])net.liftweb.http.S.AFuncHolder" id="396953">apply</a><span class="delimiter">(</span><a title="() =&gt; Any" id="396956">func</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Any, <a title="net.liftweb.common.Box[String]" id="396957">owner</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[String]">Box</a><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#49602" title="net.liftweb.http.S.AFuncHolder">AFuncHolder</a> = <span title="net.liftweb.http.S.NFuncHolder" class="keyword">new</span> <a href="#49601" title="net.liftweb.http.S.NFuncHolder">NFuncHolder</a><span class="delimiter">(</span><a href="#396956" title="() =&gt; Any">func</a>, <a href="#396957" title="net.liftweb.common.Box[String]">owner</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Impersonates a function that is executed on HTTP requests from client. The function
   * takes zero arguments and returns an Any.
   */</span>
  @serializable
  <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">class</span> <a title="class NFuncHolder extends java.lang.Object with net.liftweb.http.S.AFuncHolder with ScalaObject" id="49601">NFuncHolder</a><a href="#49601" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="() =&gt; Any" id="414067">func</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Any, <span class="keyword">val</span> <a title="net.liftweb.common.Box[String]" id="414068">owner</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[String]">Box</a><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#49602" title="net.liftweb.http.S.AFuncHolder">AFuncHolder</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(in: List[String])Any" id="414066">apply</a><span class="delimiter">(</span><a title="List[String]" id="414074">in</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Any">Any</span> = <a href="#414074" title="List[String]">in</a>.<span title="=&gt; Option[String]">headOption</span>.<span title="=&gt; List[String]">toList</span>.<span title="(f: String =&gt; Any)(implicit bf: scala.collection.generic.CanBuildFrom[List[String],Any,Any])Any">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Any,List[Any]]" class="delimiter">(</span><a title="String" id="414097">s</a> =&gt; <a href="#414067" title="()Any">func</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Abstrats a function that is executed on HTTP requests from client.
   */</span>
  @serializable
  <span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait AFuncHolder extends java.lang.Object with List[String] =&gt; Any with ScalaObject" id="49602">AFuncHolder</a> <span title="ScalaObject" class="keyword">extends</span> <span title="List[String] =&gt; Any">Function1</span><span class="delimiter">[</span>List<span class="delimiter">[</span>String<span class="delimiter">]</span>, Any<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; net.liftweb.common.Box[String]" id="159454">owner</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[String]">Box</a><span class="delimiter">[</span>String<span class="delimiter">]</span>

    <span class="keyword">def</span> <a title="(in: List[String])Any" id="159455">apply</a><span class="delimiter">(</span><a title="List[String]" id="390619">in</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Any">Any</span>

    <span class="keyword">def</span> <a title="(in: net.liftweb.http.FileParamHolder)Any" id="159456">apply</a><span class="delimiter">(</span><a title="net.liftweb.http.FileParamHolder" id="390626">in</a>: <a href="Req.scala.html#14548" title="net.liftweb.http.FileParamHolder">FileParamHolder</a><span class="delimiter">)</span>: <span title="Any">Any</span> = <span class="delimiter">{</span>
      <a href="#49540" title="(n: String)Unit">error</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Attempt to apply file upload to a non-file upload handler&quot;)" class="string">&quot;Attempt to apply file upload to a non-file upload handler&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; Boolean" id="159457">supportsFileParams_?</a> : <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>

    <span class="keyword">def</span> <a title="(newOwner: String)net.liftweb.http.S.AFuncHolder" id="159458">duplicate</a><span class="delimiter">(</span><a title="String" id="394977">newOwner</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#49602" title="net.liftweb.http.S.AFuncHolder">AFuncHolder</a> = <span title="net.liftweb.http.S.ProxyFuncHolder" class="keyword">new</span> <a href="#49589" title="net.liftweb.http.S.ProxyFuncHolder">ProxyFuncHolder</a><span class="delimiter">(</span><a href="#49602" title="net.liftweb.http.S.AFuncHolder" class="keyword">this</a>, <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: String)net.liftweb.common.Full[String]">Full</a><span class="delimiter">(</span><a href="#394977" title="String">newOwner</a><span class="delimiter">)</span><span class="delimiter">)</span>

    @volatile <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">var</span> <a title="Long" id="159459">_lastSeen</a>: <span title="Long">Long</span> = <a href="../../../../util/net/liftweb/util/TimeHelpers.scala.html#48788" title="=&gt; Long">millis</a>

    <span class="keyword">private</span><span class="delimiter">[</span>http<span class="delimiter">]</span> <span class="keyword">def</span> <a title="=&gt; Long" id="159460">lastSeen</a> = <a href="#159459" title="Long">_lastSeen</a>

    <span class="keyword">private</span><span class="delimiter">[</span>http<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(when: Long)Unit" id="159461">lastSeen_=</a><span class="delimiter">(</span><a title="Long" id="396167">when</a>: <span title="Long">Long</span><span class="delimiter">)</span> = <a href="#159459" title="Long">_lastSeen</a> = <a href="#396167" title="Long">when</a>

    <span class="keyword">def</span> <a title="=&gt; Boolean" id="159462">sessionLife</a>: <span title="Boolean">Boolean</span> = <a href="#159463" title="Boolean">_sessionLife</a>

    <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">val</span> <a title="Boolean" id="159463">_sessionLife</a>: <span title="Boolean">Boolean</span> = <a href="#49435" title="=&gt; Boolean">functionLifespan_?</a>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * The companion object that generates AFuncHolders from other functions
   */</span>
  <span class="keyword">object</span> <a title="object net.liftweb.http.S.AFuncHolder" id="414186">AFuncHolder</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit net.liftweb.http.S.AFuncHolder.strToAnyAF : (f: String =&gt; Any)net.liftweb.http.S.AFuncHolder" id="159468">strToAnyAF</a><span class="delimiter">(</span><a title="String =&gt; Any" id="159480">f</a>: String =&gt; Any<span class="delimiter">)</span>: <a href="#49602" title="net.liftweb.http.S.AFuncHolder">AFuncHolder</a> =
      <a href="#206365" title="(func: String =&gt; Any)net.liftweb.http.S.AFuncHolder">SFuncHolder</a><span class="delimiter">(</span><a href="#159480" title="String =&gt; Any">f</a><span class="delimiter">)</span>

    <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit net.liftweb.http.S.AFuncHolder.unitToAF : (f: () =&gt; Any)net.liftweb.http.S.AFuncHolder" id="159469">unitToAF</a><span class="delimiter">(</span><a title="() =&gt; Any" id="159478">f</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Any<span class="delimiter">)</span>: <a href="#49602" title="net.liftweb.http.S.AFuncHolder">AFuncHolder</a> = <a href="#396952" title="(func: () =&gt; Any)net.liftweb.http.S.AFuncHolder">NFuncHolder</a><span class="delimiter">(</span><a href="#159478" title="() =&gt; Any">f</a><span class="delimiter">)</span>

    <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit net.liftweb.http.S.AFuncHolder.listStrToAF : (f: List[String] =&gt; Any)net.liftweb.http.S.AFuncHolder" id="159470">listStrToAF</a><span class="delimiter">(</span><a title="List[String] =&gt; Any" id="159476">f</a>: List<span class="delimiter">[</span>String<span class="delimiter">]</span> =&gt; Any<span class="delimiter">)</span>: <a href="#49602" title="net.liftweb.http.S.AFuncHolder">AFuncHolder</a> =
      <a href="#229677" title="(func: List[String] =&gt; Any)net.liftweb.http.S.AFuncHolder">LFuncHolder</a><span class="delimiter">(</span><a href="#159476" title="List[String] =&gt; Any">f</a><span class="delimiter">)</span>

    <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit net.liftweb.http.S.AFuncHolder.boolToAF : (f: Boolean =&gt; Any)net.liftweb.http.S.AFuncHolder" id="159471">boolToAF</a><span class="delimiter">(</span><a title="Boolean =&gt; Any" id="159474">f</a>: Boolean =&gt; Any<span class="delimiter">)</span>: <a href="#49602" title="net.liftweb.http.S.AFuncHolder">AFuncHolder</a> =
      <a href="#229677" title="(func: List[String] =&gt; Any)net.liftweb.http.S.AFuncHolder">LFuncHolder</a><span class="delimiter">(</span><a title="List[String]" id="414165">lst</a> =&gt; <a href="#159474" title="(v1: Boolean)Any">f</a><span class="delimiter">(</span><a href="#414165" title="List[String]">lst</a>.<span title="(z: Boolean)(f: (Boolean, String) =&gt; Boolean)Boolean">foldLeft</span><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span><span class="delimiter">(</span>
        <span class="delimiter">(</span><a title="Boolean" id="414184">v</a>, <a title="String" id="414185">str</a><span class="delimiter">)</span> =&gt; <a href="#414184" title="Boolean">v</a> <span title="(x: Boolean)Boolean">||</span> <a href="../../../../util/net/liftweb/util/Helpers.scala.html#13346" title="object net.liftweb.util.Helpers">Helpers</a>.<a href="../../../../util/net/liftweb/util/BasicTypesHelpers.scala.html#49092" title="(in: Any)Boolean">toBoolean</a><span class="delimiter">(</span><a href="#414185" title="String">str</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

<span class="comment">/**
 * An object representing the current state of the HTTP request and response.
 * It uses the DynamicVariable construct such that each thread has its own
 * local session info without passing a huge state construct around. The S object
 * is initialized by LiftSession on request startup.
 *
 * @see LiftSession
 * @see LiftFilter
 */</span>
<span class="keyword">trait</span> <a title="trait S extends java.lang.Object with net.liftweb.util.HasParams with net.liftweb.common.Loggable with ScalaObject" id="14643">S</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../../../../util/net/liftweb/util/JsonCmd.scala.html#13405" title="net.liftweb.util.HasParams">HasParams</a> <span class="keyword">with</span> <a href="../../../../common/net/liftweb/common/Logging.scala.html#10717" title="net.liftweb.common.Loggable">Loggable</a> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="#14641" title="object net.liftweb.http.S">S</a>._

  <span class="comment">/*
   * The current session state is contained in the following val/vars:
   */</span>

  <span class="comment">/**
   * Holds the current Req (request) on a per-thread basis.
   * @see Req
   */</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="net.liftweb.util.ThreadGlobal[net.liftweb.http.Req]" id="49266">_request</a> = <span title="net.liftweb.util.ThreadGlobal[net.liftweb.http.Req]" class="keyword">new</span> <a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#13699" title="net.liftweb.util.ThreadGlobal[net.liftweb.http.Req]">ThreadGlobal</a><span class="delimiter">[</span>Req<span class="delimiter">]</span>

  <span class="comment">/**
   * Holds the current functions mappings for this session.
   *
   * @see # functionMap
   * @see # addFunctionMap
   * @see # clearFunctionMap
   */</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="net.liftweb.util.ThreadGlobal[Map[String,net.liftweb.http.S.AFuncHolder]]" id="49268">__functionMap</a> = <span title="net.liftweb.util.ThreadGlobal[Map[String,net.liftweb.http.S.AFuncHolder]]" class="keyword">new</span> <a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#13699" title="net.liftweb.util.ThreadGlobal[Map[String,net.liftweb.http.S.AFuncHolder]]">ThreadGlobal</a><span class="delimiter">[</span>Map<span class="delimiter">[</span>String, AFuncHolder<span class="delimiter">]</span><span class="delimiter">]</span>

  <span class="comment">/**
   * This is simply a flag so that we know whether or not the state for the S object
   * has been initialized for our current scope.
   *
   * @see # inStatefulScope_ ?
   * @see # initIfUninitted
   */</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="net.liftweb.util.ThreadGlobal[Boolean]" id="49270">inS</a> = <span class="delimiter">(</span><span title="net.liftweb.util.ThreadGlobal[Boolean]" class="keyword">new</span> <a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#13699" title="net.liftweb.util.ThreadGlobal[Boolean]">ThreadGlobal</a><span class="delimiter">[</span>Boolean<span class="delimiter">]</span><span class="delimiter">)</span>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51272" title="(v: Boolean)net.liftweb.util.ThreadGlobal[Boolean]">set</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>

  <span class="comment">/**
   * The _snippetMap holds mappings from snippet names to snippet functions. These mappings
   * are valid only in the current request. This val
   * is typically modified using the mapSnippet method.
   *
   * @see # mapSnippet
   * @see # locateMappedSnippet
   */</span>
  <span class="keyword">private</span><span class="delimiter">[</span>http<span class="delimiter">]</span> <span class="keyword">object</span> <a title="object S.this._snippetMap" id="49272">_snippetMap</a> <span title="ScalaObject" class="keyword">extends</span> <a href="Vars.scala.html#14774" title="net.liftweb.http.RequestVar[Map[String,scala.xml.NodeSeq =&gt; scala.xml.NodeSeq]]">RequestVar</a><span class="delimiter">[</span>Map<span class="delimiter">[</span>String, NodeSeq =&gt; NodeSeq<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span title="(elems: (String, Nothing)*)scala.collection.immutable.Map[String,Nothing]">Map</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Holds the attributes that are set on the current snippet tag. Attributes are available
   * to snippet functions via the S.attr and S.attrs methods. The attributes are held in a
   * tuple, representing (most recent attributes, full attribute stack).
   *
   * @see # attrs
   * @see # attr
   */</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="net.liftweb.util.ThreadGlobal[(scala.xml.MetaData, List[(Either[String,(String, String)], String)])]" id="49274">_attrs</a> = <span title="net.liftweb.util.ThreadGlobal[(scala.xml.MetaData, List[(Either[String,(String, String)], String)])]" class="keyword">new</span> <a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#13699" title="net.liftweb.util.ThreadGlobal[(scala.xml.MetaData, List[(Either[String,(String, String)], String)])]">ThreadGlobal</a><span class="delimiter">[</span><span class="delimiter">(</span>MetaData,List<span class="delimiter">[</span><span class="delimiter">(</span>Either<span class="delimiter">[</span>String, <span class="delimiter">(</span>String, String<span class="delimiter">)</span><span class="delimiter">]</span>, String<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span>

  <span class="comment">/**
   * Holds the per-request LiftSession instance.
   *
   * @see LiftSession
   * @see # session
   */</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="net.liftweb.util.ThreadGlobal[net.liftweb.http.LiftSession]" id="49276">_sessionInfo</a> = <span title="net.liftweb.util.ThreadGlobal[net.liftweb.http.LiftSession]" class="keyword">new</span> <a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#13699" title="net.liftweb.util.ThreadGlobal[net.liftweb.http.LiftSession]">ThreadGlobal</a><span class="delimiter">[</span>LiftSession<span class="delimiter">]</span>

  <span class="comment">/**
   * Holds a list of ResourceBundles for this request.
   *
   * @see # resourceBundles
   * @see LiftRules # resourceNames
   * @see LiftRules # resourceBundleFactories
   */</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="net.liftweb.util.ThreadGlobal[List[java.util.ResourceBundle]]" id="49278">_resBundle</a> = <span title="net.liftweb.util.ThreadGlobal[List[java.util.ResourceBundle]]" class="keyword">new</span> <a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#13699" title="net.liftweb.util.ThreadGlobal[List[java.util.ResourceBundle]]">ThreadGlobal</a><span class="delimiter">[</span>List<span class="delimiter">[</span>ResourceBundle<span class="delimiter">]</span><span class="delimiter">]</span>
  <span class="keyword">private</span><span class="delimiter">[</span>http<span class="delimiter">]</span> <span class="keyword">object</span> <a title="object S.this._statefulSnip" id="49280">_statefulSnip</a> <span title="ScalaObject" class="keyword">extends</span> <a href="Vars.scala.html#14774" title="net.liftweb.http.RequestVar[Map[String,net.liftweb.http.DispatchSnippet]]">RequestVar</a><span class="delimiter">[</span>Map<span class="delimiter">[</span>String, DispatchSnippet<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span title="(elems: (String, Nothing)*)scala.collection.immutable.Map[String,Nothing]">Map</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="net.liftweb.util.ThreadGlobal[net.liftweb.util.ResponseInfoHolder]" id="49282">_responseHeaders</a> = <span title="net.liftweb.util.ThreadGlobal[net.liftweb.util.ResponseInfoHolder]" class="keyword">new</span> <a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#13699" title="net.liftweb.util.ThreadGlobal[net.liftweb.util.ResponseInfoHolder]">ThreadGlobal</a><span class="delimiter">[</span>ResponseInfoHolder<span class="delimiter">]</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="net.liftweb.util.ThreadGlobal[net.liftweb.http.S.CookieHolder]" id="49284">_responseCookies</a> = <span title="net.liftweb.util.ThreadGlobal[net.liftweb.http.S.CookieHolder]" class="keyword">new</span> <a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#13699" title="net.liftweb.util.ThreadGlobal[net.liftweb.http.S.CookieHolder]">ThreadGlobal</a><span class="delimiter">[</span>CookieHolder<span class="delimiter">]</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="net.liftweb.util.ThreadGlobal[Boolean]" id="49286">_lifeTime</a> = <span title="net.liftweb.util.ThreadGlobal[Boolean]" class="keyword">new</span> <a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#13699" title="net.liftweb.util.ThreadGlobal[Boolean]">ThreadGlobal</a><span class="delimiter">[</span>Boolean<span class="delimiter">]</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="net.liftweb.util.ThreadGlobal[Boolean]" id="49288">autoCleanUp</a> = <span title="net.liftweb.util.ThreadGlobal[Boolean]" class="keyword">new</span> <a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#13699" title="net.liftweb.util.ThreadGlobal[Boolean]">ThreadGlobal</a><span class="delimiter">[</span>Boolean<span class="delimiter">]</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="net.liftweb.util.ThreadGlobal[Boolean]" id="49290">_oneShot</a> = <span title="net.liftweb.util.ThreadGlobal[Boolean]" class="keyword">new</span> <a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#13699" title="net.liftweb.util.ThreadGlobal[Boolean]">ThreadGlobal</a><span class="delimiter">[</span>Boolean<span class="delimiter">]</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="net.liftweb.util.ThreadGlobal[Boolean]" id="49292">_disableTestFuncNames</a> = <span title="net.liftweb.util.ThreadGlobal[Boolean]" class="keyword">new</span> <a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#13699" title="net.liftweb.util.ThreadGlobal[Boolean]">ThreadGlobal</a><span class="delimiter">[</span>Boolean<span class="delimiter">]</span>

  <span class="keyword">private</span> <span class="keyword">object</span> <a title="object S.this.postFuncs" id="49294">postFuncs</a> <span title="ScalaObject" class="keyword">extends</span> <a href="Vars.scala.html#14776" title="net.liftweb.http.TransientRequestVar[scala.collection.mutable.ListBuffer[() =&gt; Unit]]">TransientRequestVar</a><span class="delimiter">(</span><span title="scala.collection.mutable.ListBuffer[() =&gt; Unit]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[() =&gt; Unit]">ListBuffer</span><span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Unit<span class="delimiter">]</span><span class="delimiter">)</span>

  <span class="comment">/**
   * During an Ajax call made on a Comet component, make the Req's
   * params available
   */</span>
  <span class="keyword">private</span> <span class="keyword">object</span> <a title="object S.this.paramsForComet" id="49296">paramsForComet</a> <span title="ScalaObject" class="keyword">extends</span> <a href="Vars.scala.html#14776" title="net.liftweb.http.TransientRequestVar[Map[String,List[String]]]">TransientRequestVar</a><span class="delimiter">[</span>Map<span class="delimiter">[</span>String, List<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span title="(elems: (String, Nothing)*)scala.collection.immutable.Map[String,Nothing]">Map</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * We can now collect JavaScript to append to the outgoing request,
   * no matter the format of the outgoing request
   */</span>
  <span class="keyword">private</span> <span class="keyword">object</span> <a title="object S.this._jsToAppend" id="49298">_jsToAppend</a> <span title="ScalaObject" class="keyword">extends</span> <a href="Vars.scala.html#14776" title="net.liftweb.http.TransientRequestVar[scala.collection.mutable.ListBuffer[net.liftweb.http.js.JsCmd]]">TransientRequestVar</a><span class="delimiter">(</span><span title="scala.collection.mutable.ListBuffer[net.liftweb.http.js.JsCmd]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[net.liftweb.http.js.JsCmd]">ListBuffer</span><span class="delimiter">[</span>JsCmd<span class="delimiter">]</span><span class="delimiter">)</span>

  <span class="comment">/**
   * We can now collect Elems to put in the head tag
   */</span>
  <span class="keyword">private</span> <span class="keyword">object</span> <a title="object S.this._headTags" id="49300">_headTags</a> <span title="ScalaObject" class="keyword">extends</span> <a href="Vars.scala.html#14776" title="net.liftweb.http.TransientRequestVar[scala.collection.mutable.ListBuffer[scala.xml.Elem]]">TransientRequestVar</a><span class="delimiter">(</span><span title="scala.collection.mutable.ListBuffer[scala.xml.Elem]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[scala.xml.Elem]">ListBuffer</span><span class="delimiter">[</span>Elem<span class="delimiter">]</span><span class="delimiter">)</span>

  <span class="comment">/**
   * We can now collect Elems to put at the end of the body
   */</span>
  <span class="keyword">private</span> <span class="keyword">object</span> <a title="object S.this._tailTags" id="49302">_tailTags</a> <span title="ScalaObject" class="keyword">extends</span> <a href="Vars.scala.html#14776" title="net.liftweb.http.TransientRequestVar[scala.collection.mutable.ListBuffer[scala.xml.Elem]]">TransientRequestVar</a><span class="delimiter">(</span><span title="scala.collection.mutable.ListBuffer[scala.xml.Elem]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[scala.xml.Elem]">ListBuffer</span><span class="delimiter">[</span>Elem<span class="delimiter">]</span><span class="delimiter">)</span>
  
  <span class="keyword">private</span> <span class="keyword">object</span> <a title="object S.this.p_queryLog" id="49304">p_queryLog</a> <span title="ScalaObject" class="keyword">extends</span> <a href="Vars.scala.html#14776" title="net.liftweb.http.TransientRequestVar[scala.collection.mutable.ListBuffer[(String, Long)]]">TransientRequestVar</a><span class="delimiter">(</span><span title="scala.collection.mutable.ListBuffer[(String, Long)]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[(String, Long)]">ListBuffer</span><span class="delimiter">[</span><span class="delimiter">(</span>String, Long<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">object</span> <a title="object S.this.p_notice" id="49306">p_notice</a> <span title="ScalaObject" class="keyword">extends</span> <a href="Vars.scala.html#14776" title="net.liftweb.http.TransientRequestVar[scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]]">TransientRequestVar</a><span class="delimiter">(</span><span title="scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">ListBuffer</span><span class="delimiter">[</span><span class="delimiter">(</span>NoticeType.Value, NodeSeq, Box<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span>

  <span class="comment">/**
   * This method returns true if the S object has been initialized for our current scope. If
   * the S object has not been initialized then functionality on S will not work.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="49308">inStatefulScope_?</a> : <span title="Boolean">Boolean</span> = <a href="#49270" title="=&gt; net.liftweb.util.ThreadGlobal[Boolean]">inS</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51270" title="=&gt; Boolean">value</a>

  <span class="comment">/**
   * Get a Req representing our current HTTP request.
   *
   * @return A Full(Req) if one has been initialized on the calling thread, Empty otherwise.
   *
   * @see Req
   */</span>
  <span class="keyword">def</span> <a title="=&gt; net.liftweb.common.Box[net.liftweb.http.Req]" id="49309">request</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.http.Req]">Box</a><span class="delimiter">[</span>Req<span class="delimiter">]</span> = <span class="delimiter">(</span><a href="../../../../common/net/liftweb/common/Box.scala.html#10572" title="object net.liftweb.common.Box">Box</a> <a href="../../../../common/net/liftweb/common/Box.scala.html#28636" title="(in: net.liftweb.http.Req)net.liftweb.common.Box[net.liftweb.http.Req]">!!</a> <a href="#49266" title="=&gt; net.liftweb.util.ThreadGlobal[net.liftweb.http.Req]">_request</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51270" title="=&gt; net.liftweb.http.Req">value</a><span class="delimiter">)</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#27043" title="(alternative: =&gt; net.liftweb.common.Box[net.liftweb.http.Req])net.liftweb.common.Box[net.liftweb.http.Req]">or</a> <a href="Req.scala.html#14555" title="object net.liftweb.http.CurrentReq">CurrentReq</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51271" title="=&gt; net.liftweb.common.Box[net.liftweb.http.Req]">box</a>

  <span class="keyword">private</span><span class="delimiter">[</span>http<span class="delimiter">]</span> <span class="keyword">object</span> <a title="object S.this.CurrentLocation" id="49310">CurrentLocation</a> <span title="ScalaObject" class="keyword">extends</span> <a href="Vars.scala.html#14774" title="net.liftweb.http.RequestVar[net.liftweb.common.Box[net.liftweb.sitemap.Loc[_]]]">RequestVar</a><span class="delimiter">[</span>Box<span class="delimiter">[</span>sitemap.Loc<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#49309" title="=&gt; net.liftweb.common.Box[net.liftweb.http.Req]">request</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27023" title="(f: net.liftweb.http.Req =&gt; net.liftweb.common.Box[net.liftweb.sitemap.Loc[_]])net.liftweb.common.Box[net.liftweb.sitemap.Loc[_]]">flatMap</a><span class="delimiter">(</span><a href="#414322" title="net.liftweb.http.Req">_</a>.<a href="Req.scala.html#149208" title="=&gt; net.liftweb.common.Box[net.liftweb.sitemap.Loc[_]]">location</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="=&gt; net.liftweb.common.Box[net.liftweb.sitemap.Loc[_]]" id="49312">location</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.sitemap.Loc[_]]">Box</a><span class="delimiter">[</span>sitemap.Loc<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#49310" title="object S.this.CurrentLocation">CurrentLocation</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75375" title="=&gt; net.liftweb.common.Box[net.liftweb.sitemap.Loc[_]]">is</a>

  <span class="comment">/**
   * @return a List of any Cookies that have been set for this Response. If you want
   * a specific cookie, use findCookie.
   *
   * @see net.liftweb.http.provider.HTTPCookie
   * @see # findCookie ( String )
   * @see # addCookie ( Cookie )
   * @see # deleteCookie ( Cookie )
   * @see # deleteCookie ( String )
   */</span>
  <span class="keyword">def</span> <a title="=&gt; List[net.liftweb.http.provider.HTTPCookie]" id="49313">receivedCookies</a>: <span title="List[net.liftweb.http.provider.HTTPCookie]">List</span><span class="delimiter">[</span>HTTPCookie<span class="delimiter">]</span> =
    <span class="keyword">for</span> <span class="delimiter">(</span><a title="net.liftweb.http.S.CookieHolder" id="414365">rc</a> &lt;- <a href="../../../../common/net/liftweb/common/Box.scala.html#10572" title="object net.liftweb.common.Box">Box</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#28633" title="(in: net.liftweb.http.S.CookieHolder)net.liftweb.common.Box[net.liftweb.http.S.CookieHolder]">legacyNullTest</a><span class="delimiter">(</span><a href="#49284" title="=&gt; net.liftweb.util.ThreadGlobal[net.liftweb.http.S.CookieHolder]">_responseCookies</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51270" title="=&gt; net.liftweb.http.S.CookieHolder">value</a><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27051" title="(f: net.liftweb.http.S.CookieHolder =&gt; scala.collection.GenTraversableOnce[net.liftweb.http.provider.HTTPCookie])(implicit bf: scala.collection.generic.CanBuildFrom[List[net.liftweb.http.S.CookieHolder],net.liftweb.http.provider.HTTPCookie,List[net.liftweb.http.provider.HTTPCookie]])List[net.liftweb.http.provider.HTTPCookie]">toList</a>; <a title="net.liftweb.http.provider.HTTPCookie" id="414382">c</a> &lt;- <a href="#414365" title="net.liftweb.http.S.CookieHolder">rc</a>.<a href="#413721" title="(f: net.liftweb.http.provider.HTTPCookie =&gt; net.liftweb.http.provider.HTTPCookie)(implicit bf: scala.collection.generic.CanBuildFrom[List[net.liftweb.http.provider.HTTPCookie],net.liftweb.http.provider.HTTPCookie,List[net.liftweb.http.provider.HTTPCookie]])List[net.liftweb.http.provider.HTTPCookie]">inCookies</a><span class="delimiter">)</span>
    <span class="keyword">yield</span> <a href="#414382" title="net.liftweb.http.provider.HTTPCookie">c</a>.<a href="provider/HTTPCookie.scala.html#188784" title="()net.liftweb.http.provider.HTTPCookie">clone</a><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="net.liftweb.http.provider.HTTPCookie" class="delimiter">[</span><a href="provider/HTTPCookie.scala.html#15059" title="net.liftweb.http.provider.HTTPCookie">HTTPCookie</a><span class="delimiter">]</span>

  <span class="comment">/**
   * Finds a cookie with the given name that was sent in the request.
   *
   * @param name - the name of the cookie to find
   *
   * @return Full ( cookie ) if the cookie exists, Empty otherwise
   *
   * @see net.liftweb.http.provider.HTTPCookie
   * @see # receivedCookies
   * @see # addCookie ( Cookie )
   * @see # deleteCookie ( Cookie )
   * @see # deleteCookie ( String )
   */</span>
  <span class="keyword">def</span> <a title="(name: String)net.liftweb.common.Box[net.liftweb.http.provider.HTTPCookie]" id="49314">findCookie</a><span class="delimiter">(</span><a title="String" id="188852">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.http.provider.HTTPCookie]">Box</a><span class="delimiter">[</span>HTTPCookie<span class="delimiter">]</span> =
    <a href="../../../../common/net/liftweb/common/Box.scala.html#10572" title="object net.liftweb.common.Box">Box</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#28633" title="(in: net.liftweb.http.S.CookieHolder)net.liftweb.common.Box[net.liftweb.http.S.CookieHolder]">legacyNullTest</a><span class="delimiter">(</span><a href="#49284" title="=&gt; net.liftweb.util.ThreadGlobal[net.liftweb.http.S.CookieHolder]">_responseCookies</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51270" title="=&gt; net.liftweb.http.S.CookieHolder">value</a><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27023" title="(f: net.liftweb.http.S.CookieHolder =&gt; net.liftweb.common.Box[net.liftweb.http.provider.HTTPCookie])net.liftweb.common.Box[net.liftweb.http.provider.HTTPCookie]">flatMap</a><span class="delimiter">(</span>
      <a title="net.liftweb.http.S.CookieHolder" id="414447">rc</a> =&gt; <a href="../../../../common/net/liftweb/common/Box.scala.html#28608" title="(in: List[net.liftweb.http.provider.HTTPCookie])net.liftweb.common.Box[net.liftweb.http.provider.HTTPCookie] with Serializable">Box</a><span class="delimiter">(</span><a href="#414447" title="net.liftweb.http.S.CookieHolder">rc</a>.<a href="#413721" title="=&gt; List[net.liftweb.http.provider.HTTPCookie]">inCookies</a>.<span title="(p: net.liftweb.http.provider.HTTPCookie =&gt; Boolean)List[net.liftweb.http.provider.HTTPCookie]">filter</span><span class="delimiter">(</span><a href="#414497" title="net.liftweb.http.provider.HTTPCookie">_</a>.<a href="provider/HTTPCookie.scala.html#188767" title="=&gt; String">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#188852" title="String">name</a><span class="delimiter">)</span><span class="delimiter">)</span>.
              <a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: net.liftweb.http.provider.HTTPCookie =&gt; net.liftweb.http.provider.HTTPCookie)net.liftweb.common.Box[net.liftweb.http.provider.HTTPCookie]">map</a><span class="delimiter">(</span><a href="#414628" title="net.liftweb.http.provider.HTTPCookie">_</a>.<a href="provider/HTTPCookie.scala.html#188784" title="()net.liftweb.http.provider.HTTPCookie">clone</a><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="net.liftweb.http.provider.HTTPCookie" class="delimiter">[</span><a href="provider/HTTPCookie.scala.html#15059" title="net.liftweb.http.provider.HTTPCookie">HTTPCookie</a><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Get the cookie value for the given cookie
   */</span>
  <span class="keyword">def</span> <a title="(name: String)net.liftweb.common.Box[String]" id="49315">cookieValue</a><span class="delimiter">(</span><a title="String" id="414631">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[String]">Box</a><span class="delimiter">[</span>String<span class="delimiter">]</span> =
  <span class="keyword">for</span> <span class="delimiter">{</span>
    <a title="net.liftweb.http.provider.HTTPCookie" id="414637">cookie</a> &lt;- <a href="#49314" title="(name: String)net.liftweb.common.Box[net.liftweb.http.provider.HTTPCookie]">findCookie</a><a href="../../../../common/net/liftweb/common/Box.scala.html#27023" title="(f: net.liftweb.http.provider.HTTPCookie =&gt; net.liftweb.common.Box[String])net.liftweb.common.Box[String]" class="delimiter">(</a><a href="#414631" title="String">name</a><span class="delimiter">)</span>
    <a title="String" id="414642">value</a> &lt;- <a href="#414637" title="net.liftweb.http.provider.HTTPCookie">cookie</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: String =&gt; String)net.liftweb.common.Box[String]">value</a>
  <span class="delimiter">}</span> <span class="keyword">yield</span> <a href="#414642" title="String">value</a>

  <span class="keyword">def</span> <a title="=&gt; net.liftweb.common.Box[net.liftweb.http.LiftCometActor]" id="49316">currentCometActor</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.http.LiftCometActor]">Box</a><span class="delimiter">[</span>LiftCometActor<span class="delimiter">]</span> = <a href="CometActor.scala.html#14078" title="object net.liftweb.http.CurrentCometActor">CurrentCometActor</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51271" title="=&gt; net.liftweb.common.Box[net.liftweb.http.LiftCometActor]">box</a>

  <span class="comment">/**
   * @return a List of any Cookies that have been added to the response to be sent
   * back to the user. If you want the cookies that were sent with the request, see
   * receivedCookies.
   *
   * @see net.liftweb.http.provider.HTTPCookie
   * @see # receivedCookies
   */</span>
  <span class="keyword">def</span> <a title="=&gt; List[net.liftweb.http.provider.HTTPCookie]" id="49317">responseCookies</a>: <span title="List[net.liftweb.http.provider.HTTPCookie]">List</span><span class="delimiter">[</span>HTTPCookie<span class="delimiter">]</span> = <a href="../../../../common/net/liftweb/common/Box.scala.html#10572" title="object net.liftweb.common.Box">Box</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#28633" title="(in: net.liftweb.http.S.CookieHolder)net.liftweb.common.Box[net.liftweb.http.S.CookieHolder]">legacyNullTest</a><span class="delimiter">(</span><a href="#49284" title="=&gt; net.liftweb.util.ThreadGlobal[net.liftweb.http.S.CookieHolder]">_responseCookies</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51270" title="=&gt; net.liftweb.http.S.CookieHolder">value</a><span class="delimiter">)</span>.
          <a href="../../../../common/net/liftweb/common/Box.scala.html#27051" title="=&gt; List[net.liftweb.http.S.CookieHolder]">toList</a>.<span title="(f: net.liftweb.http.S.CookieHolder =&gt; scala.collection.GenTraversableOnce[net.liftweb.http.provider.HTTPCookie])(implicit bf: scala.collection.generic.CanBuildFrom[List[net.liftweb.http.S.CookieHolder],net.liftweb.http.provider.HTTPCookie,List[net.liftweb.http.provider.HTTPCookie]])List[net.liftweb.http.provider.HTTPCookie]">flatMap</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,net.liftweb.http.provider.HTTPCookie,List[net.liftweb.http.provider.HTTPCookie]]" class="delimiter">(</span><a href="#414667" title="net.liftweb.http.S.CookieHolder">_</a>.<a href="#413722" title="=&gt; List[net.liftweb.http.provider.HTTPCookie]">outCookies</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Adds a Cookie to the List[Cookies] that will be sent with the Response.
   *
   * If you wish to delete a Cookie as part of the Response, use the deleteCookie
   * method.
   *
   * An example of adding and removing a Cookie is:
   *
   * &lt;pre name=&quot;code&quot; class=&quot;scala&quot; &gt;
   * import net.liftweb.http.provider.HTTPCookie
   *
   * class MySnippet  {
   *   final val cookieName = &quot;Fred&quot;
   *
   *   def cookieDemo (xhtml : NodeSeq) : NodeSeq =  {
   *     var cookieVal = S.findCookie(cookieName).map(_.getvalue) openOr &quot;&quot;
   *
   *     def setCookie()  {
   *       val cookie = HTTPCookie(cookieName, cookieVal).setMaxAge(3600) // 3600 seconds, or one hour
   *       S.addCookie(cookie)
   * }
   *
   *     bind(&quot;cookie&quot;, xhtml,
   *          &quot;value&quot; -&gt; SHtml.text(cookieVal, cookieVal = _),
   *          &quot;add&quot; -&gt; SHtml.submit(&quot;Add&quot;, setCookie)
   *          &quot;remove&quot; -&gt; SHtml.link(S.uri, () =&gt; S.deleteCookie(cookieName), &quot;Delete Cookie&quot;)
   *     )
   * }
   * }
   * &lt;/pre&gt;
   *
   * @see net.liftweb.http.provider.HTTPCookie
   * @see # deleteCookie ( Cookie )
   * @see # deleteCookie ( String )
   * @see # responseCookies
   */</span>
  <span class="keyword">def</span> <a title="(cookie: net.liftweb.http.provider.HTTPCookie)Unit" id="49318">addCookie</a><span class="delimiter">(</span><a title="net.liftweb.http.provider.HTTPCookie" id="188850">cookie</a>: <a href="provider/HTTPCookie.scala.html#15059" title="net.liftweb.http.provider.HTTPCookie">HTTPCookie</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="../../../../common/net/liftweb/common/Box.scala.html#10572" title="object net.liftweb.common.Box">Box</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#28633" title="(in: net.liftweb.http.S.CookieHolder)net.liftweb.common.Box[net.liftweb.http.S.CookieHolder]">legacyNullTest</a><span class="delimiter">(</span><a href="#49284" title="=&gt; net.liftweb.util.ThreadGlobal[net.liftweb.http.S.CookieHolder]">_responseCookies</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51270" title="=&gt; net.liftweb.http.S.CookieHolder">value</a><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27031" title="(f: net.liftweb.http.S.CookieHolder =&gt; net.liftweb.util.ThreadGlobal[net.liftweb.http.S.CookieHolder])Unit">foreach</a><span class="delimiter">(</span><a title="net.liftweb.http.S.CookieHolder" id="414702">rc</a> =&gt;
            <a href="#49284" title="=&gt; net.liftweb.util.ThreadGlobal[net.liftweb.http.S.CookieHolder]">_responseCookies</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51272" title="(v: net.liftweb.http.S.CookieHolder)net.liftweb.util.ThreadGlobal[net.liftweb.http.S.CookieHolder]">set</a><span class="delimiter">(</span><a href="#414702" title="net.liftweb.http.S.CookieHolder">rc</a>.<a href="#413705" title="(in: net.liftweb.http.provider.HTTPCookie)net.liftweb.http.S.CookieHolder">add</a><span class="delimiter">(</span><a href="#188850" title="net.liftweb.http.provider.HTTPCookie">cookie</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Deletes the cookie from the user's browser.
   *
   * @param cookie the Cookie to delete
   *
   * @see net.liftweb.http.provider.HTTPCookie
   * @see # addCookie ( Cookie )
   * @see # deleteCookie ( String )
   */</span>
  <span class="keyword">def</span> <a title="(cookie: net.liftweb.http.provider.HTTPCookie)Unit" id="49319">deleteCookie</a><span class="delimiter">(</span><a title="net.liftweb.http.provider.HTTPCookie" id="188863">cookie</a>: <a href="provider/HTTPCookie.scala.html#15059" title="net.liftweb.http.provider.HTTPCookie">HTTPCookie</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="../../../../common/net/liftweb/common/Box.scala.html#10572" title="object net.liftweb.common.Box">Box</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#28633" title="(in: net.liftweb.http.S.CookieHolder)net.liftweb.common.Box[net.liftweb.http.S.CookieHolder]">legacyNullTest</a><span class="delimiter">(</span><a href="#49284" title="=&gt; net.liftweb.util.ThreadGlobal[net.liftweb.http.S.CookieHolder]">_responseCookies</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51270" title="=&gt; net.liftweb.http.S.CookieHolder">value</a><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27031" title="(f: net.liftweb.http.S.CookieHolder =&gt; net.liftweb.util.ThreadGlobal[net.liftweb.http.S.CookieHolder])Unit">foreach</a><span class="delimiter">(</span><a title="net.liftweb.http.S.CookieHolder" id="414711">rc</a> =&gt;
            <a href="#49284" title="=&gt; net.liftweb.util.ThreadGlobal[net.liftweb.http.S.CookieHolder]">_responseCookies</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51272" title="(v: net.liftweb.http.S.CookieHolder)net.liftweb.util.ThreadGlobal[net.liftweb.http.S.CookieHolder]">set</a><span class="delimiter">(</span><a href="#414711" title="net.liftweb.http.S.CookieHolder">rc</a>.<a href="#413707" title="(old: net.liftweb.http.provider.HTTPCookie)net.liftweb.http.S.CookieHolder">delete</a><span class="delimiter">(</span><a href="#188863" title="net.liftweb.http.provider.HTTPCookie">cookie</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Deletes the cookie from the user's browser.
   *
   * @param name the name of the cookie to delete
   *
   * @see net.liftweb.http.provider.HTTPCookie
   * @see # addCookie ( Cookie )
   * @see # deleteCookie ( Cookie )
   */</span>
  <span class="keyword">def</span> <a title="(name: String)Unit" id="49320">deleteCookie</a><span class="delimiter">(</span><a title="String" id="188861">name</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="../../../../common/net/liftweb/common/Box.scala.html#10572" title="object net.liftweb.common.Box">Box</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#28633" title="(in: net.liftweb.http.S.CookieHolder)net.liftweb.common.Box[net.liftweb.http.S.CookieHolder]">legacyNullTest</a><span class="delimiter">(</span><a href="#49284" title="=&gt; net.liftweb.util.ThreadGlobal[net.liftweb.http.S.CookieHolder]">_responseCookies</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51270" title="=&gt; net.liftweb.http.S.CookieHolder">value</a><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27031" title="(f: net.liftweb.http.S.CookieHolder =&gt; net.liftweb.util.ThreadGlobal[net.liftweb.http.S.CookieHolder])Unit">foreach</a><span class="delimiter">(</span><a title="net.liftweb.http.S.CookieHolder" id="414723">rc</a> =&gt;
            <a href="#49284" title="=&gt; net.liftweb.util.ThreadGlobal[net.liftweb.http.S.CookieHolder]">_responseCookies</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51272" title="(v: net.liftweb.http.S.CookieHolder)net.liftweb.util.ThreadGlobal[net.liftweb.http.S.CookieHolder]">set</a><span class="delimiter">(</span><a href="#414723" title="net.liftweb.http.S.CookieHolder">rc</a>.<a href="#413706" title="(name: String)net.liftweb.http.S.CookieHolder">delete</a><span class="delimiter">(</span><a href="#188861" title="String">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">)</span>
  <span class="delimiter">}</span>


  <span class="comment">/**
   * Find a template based on the snippet attribute &quot;template&quot;
   */</span>
  <span class="comment">// TODO: Is this used anywhere? - DCB</span>
  <span class="keyword">def</span> <a title="=&gt; net.liftweb.common.Box[scala.xml.NodeSeq]" id="49321">templateFromTemplateAttr</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[scala.xml.NodeSeq]">Box</a><span class="delimiter">[</span>NodeSeq<span class="delimiter">]</span> =
    <span class="keyword">for</span> <span class="delimiter">(</span><a title="S.this.attr.Info" id="414792">templateName</a> &lt;- <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#196136" title="(key: String)net.liftweb.common.Box[S.this.attr.Info]">attr</a><span class="delimiter">(</span><span title="java.lang.String(&quot;template&quot;)" class="string">&quot;template&quot;</span><span class="delimiter">)</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: S.this.attr.Info =&gt; (S.this.attr.Info, List[String]))net.liftweb.common.Box[(S.this.attr.Info, List[String])]">?~</a> <span title="java.lang.String(&quot;Template Attribute missing&quot;)" class="string">&quot;Template Attribute missing&quot;</span>;
         <span class="keyword">val</span> <a title="List[String]" id="414793">tmplList</a> = <a href="../../../../util/net/liftweb/util/StringHelpers.scala.html#48858" title="implicit net.liftweb.util.StringHelpers.stringToSuper : (in: String)net.liftweb.util.SuperString">templateName</a>.<a href="../../../../util/net/liftweb/util/StringHelpers.scala.html#58433" title="(sep: String)List[String]">roboSplit</a><span class="delimiter">(</span><span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span>;
         <a title="scala.xml.NodeSeq" id="414804">template</a> &lt;- <a href="Templates.scala.html#342662" title="(places: List[String])net.liftweb.common.Box[scala.xml.NodeSeq]">Templates</a><span class="delimiter">(</span><a href="#414793" title="List[String]">tmplList</a><span class="delimiter">)</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: scala.xml.NodeSeq =&gt; scala.xml.NodeSeq)net.liftweb.common.Box[scala.xml.NodeSeq]">?~</a>
                 <span title="java.lang.String(&quot;couldn\'t find template&quot;)" class="string">&quot;couldn't find template&quot;</span><span class="delimiter">)</span> <span class="keyword">yield</span> <a href="#414804" title="scala.xml.NodeSeq">template</a>


  <span class="comment">/**
   * Returns the Locale for this request based on the LiftRules.localeCalculator
   * method.
   *
   * @see LiftRules.localeCalculator ( HTTPRequest )
   * @see java.util.Locale
   */</span>
  <span class="keyword">def</span> <a title="=&gt; java.util.Locale" id="49322">locale</a>: <span title="java.util.Locale">Locale</span> = <a href="LiftRules.scala.html#158817" title="implicit net.liftweb.http.LiftRulesMocker.toLiftRules : (in: net.liftweb.http.LiftRulesMocker)net.liftweb.http.LiftRules">LiftRules</a>.<a href="LiftRules.scala.html#159000" title="(v1: net.liftweb.common.Box[net.liftweb.http.provider.HTTPRequest])java.util.Locale">localeCalculator</a><span class="delimiter">(</span><a href="#49472" title="=&gt; net.liftweb.common.Box[net.liftweb.http.provider.HTTPRequest]">containerRequest</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Return the current timezone based on the LiftRules.timeZoneCalculator
   * method.
   *
   * @see LiftRules.timeZoneCalculator ( HTTPRequest )
   * @see java.util.TimeZone
   */</span>
  <span class="keyword">def</span> <a title="=&gt; java.util.TimeZone" id="49323">timeZone</a>: <span title="java.util.TimeZone">TimeZone</span> =
    <a href="LiftRules.scala.html#158817" title="implicit net.liftweb.http.LiftRulesMocker.toLiftRules : (in: net.liftweb.http.LiftRulesMocker)net.liftweb.http.LiftRules">LiftRules</a>.<a href="LiftRules.scala.html#158975" title="(v1: net.liftweb.common.Box[net.liftweb.http.provider.HTTPRequest])java.util.TimeZone">timeZoneCalculator</a><span class="delimiter">(</span><a href="#49472" title="=&gt; net.liftweb.common.Box[net.liftweb.http.provider.HTTPRequest]">containerRequest</a><span class="delimiter">)</span>

  <span class="comment">/**
   * @return &lt;code&gt;true&lt;/code&gt; if this response should be rendered in
   * IE6/IE7 compatibility mode.
   *
   * @see LiftSession.ieMode
   * @see LiftRules.calcIEMode
   * @see Req.isIE6
   * @see Req.isIE7
   * @see Req.isIE8
   * @see Req.isIE
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="49324">ieMode</a>: <span title="Boolean">Boolean</span> = <a href="#49382" title="=&gt; net.liftweb.common.Box[net.liftweb.http.LiftSession]">session</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: net.liftweb.http.LiftSession =&gt; Boolean)net.liftweb.common.Box[Boolean]">map</a><span class="delimiter">(</span><a href="#414825" title="net.liftweb.http.LiftSession">_</a>.<a href="LiftSession.scala.html#230219" title="object x$9.ieMode">ieMode</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75375" title="=&gt; Boolean">is</a><span class="delimiter">)</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; Boolean)Boolean">openOr</a> <span title="Boolean(false)" class="keyword">false</span> <span class="comment">// LiftRules.calcIEMode()</span>

  <span class="comment">/**
   * Get the current instance of HtmlProperties
   */</span>
  <span class="keyword">def</span> <a title="=&gt; net.liftweb.http.HtmlProperties" id="49325">htmlProperties</a>: <a href="HtmlProperties.scala.html#14178" title="net.liftweb.http.HtmlProperties">HtmlProperties</a> = <span class="delimiter">{</span>
    <a href="#49382" title="=&gt; net.liftweb.common.Box[net.liftweb.http.LiftSession]">session</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: net.liftweb.http.LiftSession =&gt; net.liftweb.http.HtmlProperties)net.liftweb.common.Box[net.liftweb.http.HtmlProperties]">map</a><span class="delimiter">(</span><a href="#414835" title="net.liftweb.http.LiftSession">_</a>.<a href="LiftSession.scala.html#230151" title="=&gt; net.liftweb.http.TransientRequestVar[net.liftweb.http.HtmlProperties]">requestHtmlProperties</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75375" title="=&gt; net.liftweb.http.HtmlProperties">is</a><span class="delimiter">)</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; net.liftweb.http.HtmlProperties)net.liftweb.http.HtmlProperties">openOr</a> 
    <a href="LiftRules.scala.html#158817" title="implicit net.liftweb.http.LiftRulesMocker.toLiftRules : (in: net.liftweb.http.LiftRulesMocker)net.liftweb.http.LiftRules">LiftRules</a>.<a href="LiftRules.scala.html#159028" title="=&gt; net.liftweb.http.LiftRules#FactoryMaker[net.liftweb.http.Req =&gt; net.liftweb.http.HtmlProperties]">htmlProperties</a>.<a href="Factory.scala.html#159330" title="(v1: net.liftweb.http.Req)net.liftweb.http.HtmlProperties">vend</a><span class="delimiter">(</span>
      <a href="#14641" title="object net.liftweb.http.S">S</a>.<a href="#49309" title="=&gt; net.liftweb.common.Box[net.liftweb.http.Req]">request</a> <a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; net.liftweb.http.Req)net.liftweb.http.Req">openOr</a> <a href="Req.scala.html#14562" title="object net.liftweb.http.Req">Req</a>.<a href="Req.scala.html#185916" title="=&gt; net.liftweb.http.Req">nil</a>
    <span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Return a List of the LiftRules.DispatchPF functions that are set for this
   * session. See addHighLevelSessionDispatcher for an example of how these are
   * used.
   *
   * @see LiftRules.DispatchPF
   * @see # addHighLevelSessionDispatcher ( String, LiftRules.DispatchPF )
   * @see # removeHighLevelSessionDispatcher ( String )
   * @see # clearHighLevelSessionDispatcher
   */</span>
  <span class="keyword">def</span> <a title="=&gt; List[net.liftweb.http.LiftRules.DispatchPF]" id="49326">highLevelSessionDispatcher</a>: <span title="List[net.liftweb.http.LiftRules.DispatchPF]">List</span><span class="delimiter">[</span>LiftRules.DispatchPF<span class="delimiter">]</span> = <a href="#49327" title="=&gt; List[net.liftweb.http.S.DispatchHolder]">highLevelSessionDispatchList</a>.<span title="(f: net.liftweb.http.S.DispatchHolder =&gt; net.liftweb.http.LiftRules.DispatchPF)(implicit bf: scala.collection.generic.CanBuildFrom[List[net.liftweb.http.S.DispatchHolder],net.liftweb.http.LiftRules.DispatchPF,List[net.liftweb.http.LiftRules.DispatchPF]])List[net.liftweb.http.LiftRules.DispatchPF]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,net.liftweb.http.LiftRules.DispatchPF,List[net.liftweb.http.LiftRules.DispatchPF]]" class="delimiter">(</span><a href="#414870" title="net.liftweb.http.S.DispatchHolder">_</a>.<a href="#414195" title="=&gt; net.liftweb.http.LiftRules.DispatchPF">dispatch</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Return the list of DispatchHolders set for this session.
   *
   * @see DispatchHolder
   */</span>
  <span class="keyword">def</span> <a title="=&gt; List[net.liftweb.http.S.DispatchHolder]" id="49327">highLevelSessionDispatchList</a>: <span title="List[net.liftweb.http.S.DispatchHolder]">List</span><span class="delimiter">[</span>DispatchHolder<span class="delimiter">]</span> =
    <a href="#49382" title="=&gt; net.liftweb.common.Box[net.liftweb.http.LiftSession]">session</a> <a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: net.liftweb.http.LiftSession =&gt; List[net.liftweb.http.S.DispatchHolder])net.liftweb.common.Box[List[net.liftweb.http.S.DispatchHolder]]">map</a> <span class="delimiter">(</span><a href="#414901" title="net.liftweb.http.LiftSession">_</a>.<a href="LiftSession.scala.html#230195" title="=&gt; scala.collection.mutable.HashMap[String,net.liftweb.http.LiftRules.DispatchPF]">highLevelSessionDispatcher</a>.<span title="=&gt; List[(String, net.liftweb.http.LiftRules.DispatchPF)]">toList</span>.<span title="(f: (String, net.liftweb.http.LiftRules.DispatchPF) =&gt; net.liftweb.http.S.DispatchHolder)(implicit bf: scala.collection.generic.CanBuildFrom[List[(String, net.liftweb.http.LiftRules.DispatchPF)],net.liftweb.http.S.DispatchHolder,List[net.liftweb.http.S.DispatchHolder]])List[net.liftweb.http.S.DispatchHolder]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,net.liftweb.http.S.DispatchHolder,List[net.liftweb.http.S.DispatchHolder]]" class="delimiter">(</span><a title="(String, net.liftweb.http.LiftRules.DispatchPF)" id="414930">t</a> =&gt; <a href="#414199" title="(name: String, dispatch: net.liftweb.http.LiftRules.DispatchPF)net.liftweb.http.S.DispatchHolder">DispatchHolder</a><span class="delimiter">(</span><a href="#414930" title="(String, net.liftweb.http.LiftRules.DispatchPF)">t</a>.<span title="=&gt; String">_1</span>, <a href="#414930" title="(String, net.liftweb.http.LiftRules.DispatchPF)">t</a>.<span title="=&gt; net.liftweb.http.LiftRules.DispatchPF">_2</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; List[net.liftweb.http.S.DispatchHolder])List[net.liftweb.http.S.DispatchHolder]">openOr</a> <span title="object Nil">Nil</span>

  <span class="comment">/**
   * Adds a dispatch function for the current session, as opposed to a global
   * dispatch through LiftRules.dispatch. An example would be if we wanted a user
   * to be able to download a document only when logged in. First, we define
   * a dispatch function to handle the download, specific to a given user:
   *
   * &lt;pre name=&quot;code&quot; class=&quot;scala&quot; &gt;
   * def getDocument(userId : Long)() : Box[LiftResponse] =  { ... }
   * &lt;/pre&gt;
   *
   * Then, in the login/logout handling snippets, we could install and remove
   * the custom dispatch as appropriate:
   *
   * &lt;pre name=&quot;code&quot; class=&quot;scala&quot; &gt;
   *   def login(xhtml : NodeSeq) : NodeSeq =  {
   *     def doAuth ()  {
   *       ...
   *       if (user.loggedIn_?)  {
   *         S.addHighLevelSessionDispatcher(&quot;docDownload&quot;,  {
   *           case Req(List(&quot;download&quot;, &quot;docs&quot;), _, _) =&gt; getDocument(user.id)
   * } )
   * }
   * }
   *
   *   def logout(xhtml : NodeSeq) : NodeSeq =  {
   *     def doLogout ()  {
   *       ...
   *       S.removeHighLevelSessionDispatcher(&quot;docDownload&quot;)
   *       // or, if more than one dispatch has been installed, this is simpler
   *       S.clearHighLevelSessionDispatcher
   * }
   * }
   * &lt;/pre&gt;
   *
   * It's important to note that per-session dispatch takes precedence over
   * LiftRules.dispatch, so you can override things set there.
   *
   * @param name A name for the dispatch. This can be used to remove it later by name.
   * @param disp The dispatch partial function
   *
   * @see LiftRules.DispatchPF
   * @see LiftRules.dispatch
   * @see # removeHighLevelSessionDispatcher
   * @see # clearHighLevelSessionDispatcher
   */</span>
  <span class="keyword">def</span> <a title="(name: String, disp: net.liftweb.http.LiftRules.DispatchPF)net.liftweb.common.Box[scala.collection.mutable.HashMap[String,net.liftweb.http.LiftRules.DispatchPF]]" id="49328">addHighLevelSessionDispatcher</a><span class="delimiter">(</span><a title="String" id="414977">name</a>: <span title="String">String</span>, <a title="net.liftweb.http.LiftRules.DispatchPF" id="414978">disp</a>: LiftRules.<span title="net.liftweb.http.LiftRules.DispatchPF">DispatchPF</span><span class="delimiter">)</span> =
    <a href="#49382" title="=&gt; net.liftweb.common.Box[net.liftweb.http.LiftSession]">session</a> <a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: net.liftweb.http.LiftSession =&gt; scala.collection.mutable.HashMap[String,net.liftweb.http.LiftRules.DispatchPF])net.liftweb.common.Box[scala.collection.mutable.HashMap[String,net.liftweb.http.LiftRules.DispatchPF]]">map</a> <span class="delimiter">(</span><a href="#414984" title="net.liftweb.http.LiftSession">_</a>.<a href="LiftSession.scala.html#230195" title="=&gt; scala.collection.mutable.HashMap[String,net.liftweb.http.LiftRules.DispatchPF]">highLevelSessionDispatcher</a> <span title="(kv: (java.lang.String, PartialFunction[net.liftweb.http.Req,() =&gt; net.liftweb.common.Box[net.liftweb.http.LiftResponse]]))scala.collection.mutable.HashMap[String,net.liftweb.http.LiftRules.DispatchPF]">+=</span> <span class="delimiter">(</span><a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc">name</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58395" title="(in: net.liftweb.http.LiftRules.DispatchPF)(String, net.liftweb.http.LiftRules.DispatchPF)">-&gt;</a> <a href="#414978" title="net.liftweb.http.LiftRules.DispatchPF">disp</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Removes a custom dispatch function for the current session. See
   * addHighLevelSessionDispatcher for an example of usage.
   *
   * @param name The name of the custom dispatch to be removed.
   *
   * @see LiftRules.DispatchPF
   * @see LiftRules.dispatch
   * @see # addHighLevelSessionDispatcher
   * @see # clearHighLevelSessionDispatcher
   */</span>
  <span class="keyword">def</span> <a title="(name: String)net.liftweb.common.Box[scala.collection.mutable.HashMap[String,net.liftweb.http.LiftRules.DispatchPF]]" id="49329">removeHighLevelSessionDispatcher</a><span class="delimiter">(</span><a title="String" id="415052">name</a>: <span title="String">String</span><span class="delimiter">)</span> =
    <a href="#49382" title="=&gt; net.liftweb.common.Box[net.liftweb.http.LiftSession]">session</a> <a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: net.liftweb.http.LiftSession =&gt; scala.collection.mutable.HashMap[String,net.liftweb.http.LiftRules.DispatchPF])net.liftweb.common.Box[scala.collection.mutable.HashMap[String,net.liftweb.http.LiftRules.DispatchPF]]">map</a> <span class="delimiter">(</span><a href="#415058" title="net.liftweb.http.LiftSession">_</a>.<a href="LiftSession.scala.html#230195" title="=&gt; scala.collection.mutable.HashMap[String,net.liftweb.http.LiftRules.DispatchPF]">highLevelSessionDispatcher</a> <span title="(key: java.lang.String)scala.collection.mutable.HashMap[String,net.liftweb.http.LiftRules.DispatchPF]">-=</span> <a href="#415052" title="String">name</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Clears all custom dispatch functions from the current session. See
   * addHighLevelSessionDispatcher for an example of usage.
   *
   * @see LiftRules.DispatchPF
   * @see LiftRules.dispatch
   * @see # addHighLevelSessionDispatcher
   * @see # clearHighLevelSessionDispatcher
   */</span>
  <span class="keyword">def</span> <a title="=&gt; net.liftweb.common.Box[Unit]" id="49330">clearHighLevelSessionDispatcher</a> = <a href="#49382" title="=&gt; net.liftweb.common.Box[net.liftweb.http.LiftSession]">session</a> <a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: net.liftweb.http.LiftSession =&gt; Unit)net.liftweb.common.Box[Unit]">map</a> <span class="delimiter">(</span><a href="#415087" title="net.liftweb.http.LiftSession">_</a>.<a href="LiftSession.scala.html#230195" title="=&gt; scala.collection.mutable.HashMap[String,net.liftweb.http.LiftRules.DispatchPF]">highLevelSessionDispatcher</a>.<span title="()Unit">clear</span><span class="delimiter">)</span>


  <span class="comment">/**
   * Return the list of RewriteHolders set for this session. See addSessionRewriter
   * for an example of how to use per-session rewrites.
   *
   * @see RewriteHolder
   * @see LiftRules # rewrite
   */</span>
  <span class="keyword">def</span> <a title="=&gt; List[net.liftweb.http.S.RewriteHolder]" id="49331">sessionRewriter</a>: <span title="List[net.liftweb.http.S.RewriteHolder]">List</span><span class="delimiter">[</span>RewriteHolder<span class="delimiter">]</span> =
    <a href="#49382" title="=&gt; net.liftweb.common.Box[net.liftweb.http.LiftSession]">session</a> <a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: net.liftweb.http.LiftSession =&gt; List[net.liftweb.http.S.RewriteHolder])net.liftweb.common.Box[List[net.liftweb.http.S.RewriteHolder]]">map</a> <span class="delimiter">(</span><a href="#415095" title="net.liftweb.http.LiftSession">_</a>.<a href="LiftSession.scala.html#230198" title="=&gt; scala.collection.mutable.HashMap[String,net.liftweb.http.LiftRules.RewritePF]">sessionRewriter</a>.<span title="=&gt; List[(String, net.liftweb.http.LiftRules.RewritePF)]">toList</span>.<span title="(f: (String, net.liftweb.http.LiftRules.RewritePF) =&gt; net.liftweb.http.S.RewriteHolder)(implicit bf: scala.collection.generic.CanBuildFrom[List[(String, net.liftweb.http.LiftRules.RewritePF)],net.liftweb.http.S.RewriteHolder,List[net.liftweb.http.S.RewriteHolder]])List[net.liftweb.http.S.RewriteHolder]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,net.liftweb.http.S.RewriteHolder,List[net.liftweb.http.S.RewriteHolder]]" class="delimiter">(</span><a title="(String, net.liftweb.http.LiftRules.RewritePF)" id="415124">t</a> =&gt; <a href="#414208" title="(name: String, rewrite: net.liftweb.http.LiftRules.RewritePF)net.liftweb.http.S.RewriteHolder">RewriteHolder</a><span class="delimiter">(</span><a href="#415124" title="(String, net.liftweb.http.LiftRules.RewritePF)">t</a>.<span title="=&gt; String">_1</span>, <a href="#415124" title="(String, net.liftweb.http.LiftRules.RewritePF)">t</a>.<span title="=&gt; net.liftweb.http.LiftRules.RewritePF">_2</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; List[net.liftweb.http.S.RewriteHolder])List[net.liftweb.http.S.RewriteHolder]">openOr</a> <span title="object Nil">Nil</span>

  <span class="comment">/**
   * Adds a per-session rewrite function. This can be used if you only want a particular rewrite
   * to be valid within a given session. Per-session rewrites take priority over rewrites set in
   * LiftRules.rewrite, so you can use this mechanism to override global functionality. For example,
   * you could set up a global rule to make requests for the &quot;account profile&quot; page go back to the home
   * page by default:
   *
   * &lt;pre name=&quot;code&quot; class=&quot;scala&quot; &gt;
   * package bootstrap.liftweb
   * ... imports ...
   * class Boot  {
   *   def boot  {
   *     LiftRules.rewrite.append  {
   *       case RewriteRequest(ParsePath(List(&quot;profile&quot;)), _, _, _) =&gt;
   *         RewriteResponse(List(&quot;index&quot;))
   * }
   * }
   * }
   * &lt;/pre&gt;
   *
   * Then, in your login snippet, you could set up a per-session rewrite to the correct template:
   *
   * &lt;pre name=&quot;code&quot; class=&quot;scala&quot; &gt;
   * def loginSnippet (xhtml : NodeSeq) : NodeSeq =  {
   *   ...
   *   def doLogin ()  {
   *     ...
   *     S.addSessionRewriter(&quot;profile&quot;,  {
   *       case RewriteRequest(ParsePath(List(&quot;profile&quot;)), _, _, _) =&gt;
   *         RewriteResponse(List(&quot;viewProfile&quot;), Map(&quot;user&quot; -&gt; user.id))
   * }
   *     ...
   * }
   *   ...
   * }
   * &lt;/pre&gt;
   *
   * And in your logout snippet you can remove the rewrite:
   *
   * &lt;pre name=&quot;code&quot; class=&quot;scala&quot; &gt;
   *   def doLogout ()  {
   *     S.removeSessionRewriter(&quot;profile&quot;)
   *     // or
   *     S.clearSessionRewriter
   * }
   * &lt;/pre&gt;
   *
   *
   * @param name A name for the rewrite function so that it can be replaced or deleted later.
   * @rw The rewrite partial function
   *
   * @see LiftRules.rewrite
   * @see # sessionRewriter
   * @see # removeSessionRewriter
   * @see # clearSessionRewriter
   */</span>
  <span class="keyword">def</span> <a title="(name: String, rw: net.liftweb.http.LiftRules.RewritePF)net.liftweb.common.Box[scala.collection.mutable.HashMap[String,net.liftweb.http.LiftRules.RewritePF]]" id="49332">addSessionRewriter</a><span class="delimiter">(</span><a title="String" id="415171">name</a>: <span title="String">String</span>, <a title="net.liftweb.http.LiftRules.RewritePF" id="415172">rw</a>: LiftRules.<span title="net.liftweb.http.LiftRules.RewritePF">RewritePF</span><span class="delimiter">)</span> =
    <a href="#49382" title="=&gt; net.liftweb.common.Box[net.liftweb.http.LiftSession]">session</a> <a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: net.liftweb.http.LiftSession =&gt; scala.collection.mutable.HashMap[String,net.liftweb.http.LiftRules.RewritePF])net.liftweb.common.Box[scala.collection.mutable.HashMap[String,net.liftweb.http.LiftRules.RewritePF]]">map</a> <span class="delimiter">(</span><a href="#415178" title="net.liftweb.http.LiftSession">_</a>.<a href="LiftSession.scala.html#230198" title="=&gt; scala.collection.mutable.HashMap[String,net.liftweb.http.LiftRules.RewritePF]">sessionRewriter</a> <span title="(kv: (java.lang.String, PartialFunction[net.liftweb.http.RewriteRequest,net.liftweb.http.RewriteResponse]))scala.collection.mutable.HashMap[String,net.liftweb.http.LiftRules.RewritePF]">+=</span> <span class="delimiter">(</span><a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc">name</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58395" title="(in: net.liftweb.http.LiftRules.RewritePF)(String, net.liftweb.http.LiftRules.RewritePF)">-&gt;</a> <a href="#415172" title="net.liftweb.http.LiftRules.RewritePF">rw</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Removes the given per-session rewriter. See addSessionRewriter for an
   * example of usage.
   *
   * @see LiftRules.rewrite
   * @see # addSessionRewriter
   * @see # clearSessionRewriter
   */</span>
  <span class="keyword">def</span> <a title="(name: String)net.liftweb.common.Box[scala.collection.mutable.HashMap[String,net.liftweb.http.LiftRules.RewritePF]]" id="49333">removeSessionRewriter</a><span class="delimiter">(</span><a title="String" id="415242">name</a>: <span title="String">String</span><span class="delimiter">)</span> =
    <a href="#49382" title="=&gt; net.liftweb.common.Box[net.liftweb.http.LiftSession]">session</a> <a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: net.liftweb.http.LiftSession =&gt; scala.collection.mutable.HashMap[String,net.liftweb.http.LiftRules.RewritePF])net.liftweb.common.Box[scala.collection.mutable.HashMap[String,net.liftweb.http.LiftRules.RewritePF]]">map</a> <span class="delimiter">(</span><a href="#415248" title="net.liftweb.http.LiftSession">_</a>.<a href="LiftSession.scala.html#230198" title="=&gt; scala.collection.mutable.HashMap[String,net.liftweb.http.LiftRules.RewritePF]">sessionRewriter</a> <span title="(key: java.lang.String)scala.collection.mutable.HashMap[String,net.liftweb.http.LiftRules.RewritePF]">-=</span> <a href="#415242" title="String">name</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Put the given Elem in the head tag.  The Elems
   * will be de-dupped so no problems adding the
   * same style tag multiple times
   */</span>
  <span class="keyword">def</span> <a title="(elem: scala.xml.Elem)Unit" id="49334">putInHead</a><span class="delimiter">(</span><a title="scala.xml.Elem" id="415271">elem</a>: <span title="scala.xml.Elem">Elem</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#49300" title="object S.this._headTags">_headTags</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75375" title="=&gt; scala.collection.mutable.ListBuffer[scala.xml.Elem]">is</a> <span title="(x: scala.xml.Elem)scala.collection.mutable.ListBuffer[scala.xml.Elem]">+=</span> <a href="#415271" title="scala.xml.Elem">elem</a>

  <span class="comment">/**
   * Get the accumulated Elems for head
   *
   * @see putInHead
   */</span>
  <span class="keyword">def</span> <a title="()List[scala.xml.Elem]" id="49335">forHead</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="List[scala.xml.Elem]">List</span><span class="delimiter">[</span>Elem<span class="delimiter">]</span> = <a href="#49300" title="object S.this._headTags">_headTags</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75375" title="=&gt; scala.collection.mutable.ListBuffer[scala.xml.Elem]">is</a>.<span title="=&gt; List[scala.xml.Elem]">toList</span>

  <span class="comment">/**
   * Put the given Elem at the end of the body tag.
   */</span>
  <span class="keyword">def</span> <a title="(elem: scala.xml.Elem)Unit" id="49336">putAtEndOfBody</a><span class="delimiter">(</span><a title="scala.xml.Elem" id="415292">elem</a>: <span title="scala.xml.Elem">Elem</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#49302" title="object S.this._tailTags">_tailTags</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75375" title="=&gt; scala.collection.mutable.ListBuffer[scala.xml.Elem]">is</a> <span title="(x: scala.xml.Elem)scala.collection.mutable.ListBuffer[scala.xml.Elem]">+=</span> <a href="#415292" title="scala.xml.Elem">elem</a>

  <span class="comment">/**
   * Get the accumulated Elems for the end of the body
   *
   * @see putAtEndOfBody
   */</span>
  <span class="keyword">def</span> <a title="()List[scala.xml.Elem]" id="49337">atEndOfBody</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="List[scala.xml.Elem]">List</span><span class="delimiter">[</span>Elem<span class="delimiter">]</span> = <a href="#49302" title="object S.this._tailTags">_tailTags</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75375" title="=&gt; scala.collection.mutable.ListBuffer[scala.xml.Elem]">is</a>.<span title="=&gt; List[scala.xml.Elem]">toList</span>

  <span class="comment">/**
   * Sometimes it's helpful to accumute JavaScript as part of servicing
   * a request.  For example, you may want to accumulate the JavaScript
   * as part of an Ajax response or a Comet Rendering or
   * as part of a regular HTML rendering.  Call S.appendJs(jsCmd).
   * The accumulation of Js will be emitted as part of the response.
   */</span>
  <span class="keyword">def</span> <a title="(js: net.liftweb.http.js.JsCmd)Unit" id="49338">appendJs</a><span class="delimiter">(</span><a title="net.liftweb.http.js.JsCmd" id="415313">js</a>: <a href="js/JsCommands.scala.html#14913" title="net.liftweb.http.js.JsCmd">JsCmd</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#49298" title="object S.this._jsToAppend">_jsToAppend</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75375" title="=&gt; scala.collection.mutable.ListBuffer[net.liftweb.http.js.JsCmd]">is</a> <span title="(x: net.liftweb.http.js.JsCmd)scala.collection.mutable.ListBuffer[net.liftweb.http.js.JsCmd]">+=</span> <a href="#415313" title="net.liftweb.http.js.JsCmd">js</a>

  <span class="comment">/**
   * Sometimes it's helpful to accumute JavaScript as part of servicing
   * a request.  For example, you may want to accumulate the JavaScript
   * as part of an Ajax response or a Comet Rendering or
   * as part of a regular HTML rendering.  Call S.appendJs(jsCmd).
   * The accumulation of Js will be emitted as part of the response.
   */</span>
  <span class="keyword">def</span> <a title="(js: Seq[net.liftweb.http.js.JsCmd])Unit" id="49339">appendJs</a><span class="delimiter">(</span><a title="Seq[net.liftweb.http.js.JsCmd]" id="415337">js</a>: <span title="Seq[net.liftweb.http.js.JsCmd]">Seq</span><span class="delimiter">[</span>JsCmd<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#49298" title="object S.this._jsToAppend">_jsToAppend</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75375" title="=&gt; scala.collection.mutable.ListBuffer[net.liftweb.http.js.JsCmd]">is</a> <span title="(xs: scala.collection.TraversableOnce[net.liftweb.http.js.JsCmd])scala.collection.mutable.ListBuffer[net.liftweb.http.js.JsCmd]">++=</span> <a href="#415337" title="Seq[net.liftweb.http.js.JsCmd]">js</a>

  <span class="comment">/**
   * Get the accumulated JavaScript
   *
   * @see appendJs
   */</span>
  <span class="keyword">def</span> <a title="()List[net.liftweb.http.js.JsCmd]" id="49340">jsToAppend</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="List[net.liftweb.http.js.JsCmd]">List</span><span class="delimiter">[</span>JsCmd<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">import</span> js.<a href="js/JsCommands.scala.html#14916" title="object net.liftweb.http.js.JsCmds">JsCmds</a>._
    <span class="delimiter">(</span><span class="keyword">for</span> <span class="delimiter">{</span>
      <a title="net.liftweb.http.LiftSession" id="415357">sess</a> &lt;- <a href="#14641" title="object net.liftweb.http.S">S</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: net.liftweb.http.LiftSession =&gt; List[net.liftweb.http.js.JsCmd])net.liftweb.common.Box[List[net.liftweb.http.js.JsCmd]]">session</a>
    <span class="delimiter">}</span> <span class="keyword">yield</span> <a href="#415357" title="net.liftweb.http.LiftSession">sess</a>.<a href="LiftSession.scala.html#230241" title="(pageIds: Seq[String])List[net.liftweb.http.js.JsCmd]">postPageJavaScript</a><span class="delimiter">(</span><a href="LiftSession.scala.html#14488" title="object net.liftweb.http.RenderVersion">RenderVersion</a>.<a href="LiftSession.scala.html#345564" title="=&gt; String">get</a> <a href="#415362" title="(x: String)List[String]">::</a> 
                                    <a href="#14641" title="object net.liftweb.http.S">S</a>.<a href="#49316" title="=&gt; net.liftweb.common.Box[net.liftweb.http.LiftCometActor]">currentCometActor</a>.
                                    <a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: net.liftweb.http.LiftCometActor =&gt; String)net.liftweb.common.Box[String]">map</a><span class="delimiter">(</span><a href="#415367" title="net.liftweb.http.LiftCometActor">_</a>.<a href="CometActor.scala.html#325343" title="=&gt; String">uniqueId</a><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27051" title="=&gt; List[String]">toList</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="List[net.liftweb.http.js.JsCmd]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="List[net.liftweb.http.js.JsCmd]">Full</span><span class="delimiter">(</span><a title="List[net.liftweb.http.js.JsCmd]" id="415376">xs</a><span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#415376" title="List[net.liftweb.http.js.JsCmd]">xs</a>.<span title="=&gt; Boolean">isEmpty</span> =&gt; <span title="(xs: net.liftweb.http.js.JsCmd*)List[net.liftweb.http.js.JsCmd]">List</span><span class="delimiter">(</span><a href="js/JsCommands.scala.html#341508" title="(what: net.liftweb.http.js.JsCmd)net.liftweb.http.js.JsCmd">OnLoad</a><span class="delimiter">(</span><a href="#49298" title="object S.this._jsToAppend">_jsToAppend</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75375" title="=&gt; scala.collection.mutable.ListBuffer[net.liftweb.http.js.JsCmd]">is</a>.<span title="=&gt; List[net.liftweb.http.js.JsCmd]">toList</span> <a href="js/JsCommands.scala.html#146426" title="implicit net.liftweb.http.js.JsCmds.seqJsToJs : (in: Seq[net.liftweb.http.js.JsCmd])net.liftweb.http.js.JsCmd">:::</a> <a href="#415376" title="List[net.liftweb.http.js.JsCmd]">xs</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="List[net.liftweb.http.js.JsCmd]">_</span> =&gt; <a href="#49298" title="object S.this._jsToAppend">_jsToAppend</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75375" title="=&gt; scala.collection.mutable.ListBuffer[net.liftweb.http.js.JsCmd]">is</a>.<span title="=&gt; List[net.liftweb.http.js.JsCmd]">toList</span> <span title="List[net.liftweb.http.js.JsCmd]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">Nil</span> =&gt; <span title="object Nil">Nil</span>
        <span class="keyword">case</span> <a title="List[net.liftweb.http.js.JsCmd]" id="415395">xs</a> =&gt; <span title="(xs: net.liftweb.http.js.JsCmd*)List[net.liftweb.http.js.JsCmd]">List</span><span class="delimiter">(</span><a href="js/JsCommands.scala.html#341508" title="(what: net.liftweb.http.js.JsCmd)net.liftweb.http.js.JsCmd">OnLoad</a><span class="delimiter">(</span><a href="js/JsCommands.scala.html#146426" title="implicit net.liftweb.http.js.JsCmds.seqJsToJs : (in: Seq[net.liftweb.http.js.JsCmd])net.liftweb.http.js.JsCmd">xs</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Clears the per-session rewrite table. See addSessionRewriter for an
   * example of usage.
   *
   * @see LiftRules.rewrite
   * @see # addSessionRewriter
   * @see # removeSessionRewriter
   */</span>
  <span class="keyword">def</span> <a title="=&gt; net.liftweb.common.Box[Unit]" id="49341">clearSessionRewriter</a> = <a href="#49382" title="=&gt; net.liftweb.common.Box[net.liftweb.http.LiftSession]">session</a> <a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: net.liftweb.http.LiftSession =&gt; Unit)net.liftweb.common.Box[Unit]">map</a> <span class="delimiter">(</span><a href="#415410" title="net.liftweb.http.LiftSession">_</a>.<a href="LiftSession.scala.html#230198" title="=&gt; scala.collection.mutable.HashMap[String,net.liftweb.http.LiftRules.RewritePF]">sessionRewriter</a>.<span title="()Unit">clear</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Test the current request to see if it's a POST. This is a thin wrapper
   * over Req.post_?
   *
   * @return &lt;code&gt;true&lt;/code&gt; if the request is a POST request, &lt;code&gt;false&lt;/code&gt;
   * otherwise.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="49342">post_?</a> = <a href="#49309" title="=&gt; net.liftweb.common.Box[net.liftweb.http.Req]">request</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: net.liftweb.http.Req =&gt; Boolean)net.liftweb.common.Box[Boolean]">map</a><span class="delimiter">(</span><a href="#149126" title="net.liftweb.http.Req">_</a>.<a href="Req.scala.html#149220" title="=&gt; Boolean">post_?</a><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; Boolean)Boolean">openOr</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Localize the incoming string based on a resource bundle for the current locale. The
   * localized string is converted to an XML element if necessary via the &lt;code&gt;LiftRules.localizeStringToXml&lt;/code&gt;
   * function (the default behavior is to wrap it in a Text element). If the lookup fails for a given resource
   * bundle (e.g. a null is returned), then the &lt;code&gt;LiftRules.localizationLookupFailureNotice&lt;/code&gt;
   * function is called with the input string and locale.
   *
   * @param str the string or ID to localize
   *
   * @return A Full box containing the localized XML or Empty if there's no way to do localization
   *
   * @see # locale
   * @see # resourceBundles
   * @see LiftRules.localizeStringToXml
   * @see LiftRules.localizationLookupFailureNotice
   * @see # loc ( String, NodeSeq )
   */</span>
  <span class="keyword">def</span> <a title="(str: String)net.liftweb.common.Box[scala.xml.NodeSeq]" id="49343">loc</a><span class="delimiter">(</span><a title="String" id="328844">str</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[scala.xml.NodeSeq]">Box</a><span class="delimiter">[</span>NodeSeq<span class="delimiter">]</span> =
    <a href="#49346" title="=&gt; List[java.util.ResourceBundle]">resourceBundles</a>.<span title="(f: java.util.ResourceBundle =&gt; scala.collection.GenTraversableOnce[scala.xml.NodeSeq])(implicit bf: scala.collection.generic.CanBuildFrom[List[java.util.ResourceBundle],scala.xml.NodeSeq,List[scala.xml.NodeSeq]])List[scala.xml.NodeSeq]">flatMap</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,scala.xml.NodeSeq,List[scala.xml.NodeSeq]]" class="delimiter">(</span><a title="java.util.ResourceBundle" id="415442">r</a> =&gt; <a href="../../../../util/net/liftweb/util/ControlHelpers.scala.html#48608" title="(f: =&gt; net.liftweb.common.Box[scala.xml.NodeSeq] with Serializable)net.liftweb.common.Box[net.liftweb.common.Box[scala.xml.NodeSeq] with Serializable]">tryo</a><span class="delimiter">(</span><a href="#415442" title="java.util.ResourceBundle">r</a>.<span title="(x$1: java.lang.String)java.lang.Object">getObject</span><span class="delimiter">(</span><a href="#328844" title="String">str</a><span class="delimiter">)</span> <span title="&lt;none&gt; extends net.liftweb.common.Box[scala.xml.NodeSeq] with Serializable" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="net.liftweb.common.Empty.type" class="keyword">null</span> =&gt; <a href="LiftRules.scala.html#158817" title="implicit net.liftweb.http.LiftRulesMocker.toLiftRules : (in: net.liftweb.http.LiftRulesMocker)net.liftweb.http.LiftRules">LiftRules</a>.<a href="LiftRules.scala.html#158920" title="=&gt; net.liftweb.common.Box[(String, java.util.Locale) =&gt; Unit]">localizationLookupFailureNotice</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27031" title="(f: (String, java.util.Locale) =&gt; Unit =&gt; Unit)Unit">foreach</a><span class="delimiter">(</span><a href="#415475" title="(v1: String, v2: java.util.Locale)Unit">_</a><span class="delimiter">(</span><a href="#328844" title="String">str</a>, <a href="#49322" title="=&gt; java.util.Locale">locale</a><span class="delimiter">)</span><span class="delimiter">)</span>; <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>
      <span class="keyword">case</span> <a title="net.liftweb.common.Full[scala.xml.NodeSeq]" id="415479">s</a>: <span title="String">String</span> =&gt; <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: scala.xml.NodeSeq)net.liftweb.common.Full[scala.xml.NodeSeq]">Full</a><span class="delimiter">(</span><a href="LiftRules.scala.html#158817" title="implicit net.liftweb.http.LiftRulesMocker.toLiftRules : (in: net.liftweb.http.LiftRulesMocker)net.liftweb.http.LiftRules">LiftRules</a>.<a href="LiftRules.scala.html#158936" title="(v1: String)scala.xml.NodeSeq">localizeStringToXml</a><span class="delimiter">(</span><a href="#415479" title="String">s</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="net.liftweb.common.Full[scala.xml.Group]" id="415488">g</a>: <span title="scala.xml.Group">Group</span> =&gt; <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: scala.xml.Group)net.liftweb.common.Full[scala.xml.Group]">Full</a><span class="delimiter">(</span><a href="#415488" title="scala.xml.Group">g</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="net.liftweb.common.Full[scala.xml.Elem]" id="415492">e</a>: <span title="scala.xml.Elem">Elem</span> =&gt; <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: scala.xml.Elem)net.liftweb.common.Full[scala.xml.Elem]">Full</a><span class="delimiter">(</span><a href="#415492" title="scala.xml.Elem">e</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="net.liftweb.common.Full[scala.xml.Node]" id="415496">n</a>: <span title="scala.xml.Node">Node</span> =&gt; <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: scala.xml.Node)net.liftweb.common.Full[scala.xml.Node]">Full</a><span class="delimiter">(</span><a href="#415496" title="scala.xml.Node">n</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="net.liftweb.common.Full[scala.xml.NodeSeq]" id="415500">ns</a>: <span title="scala.xml.NodeSeq">NodeSeq</span> =&gt; <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: scala.xml.NodeSeq)net.liftweb.common.Full[scala.xml.NodeSeq]">Full</a><span class="delimiter">(</span><a href="#415500" title="scala.xml.NodeSeq">ns</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="net.liftweb.common.Full[scala.xml.Text]" id="415504">x</a> =&gt; <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: scala.xml.Text)net.liftweb.common.Full[scala.xml.Text]">Full</a><span class="delimiter">(</span><span title="(_data: String)scala.xml.Text">Text</span><span class="delimiter">(</span><a href="#415504" title="java.lang.Object">x</a>.<span title="()java.lang.String">toString</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27023" title="(f: net.liftweb.common.Box[scala.xml.NodeSeq] with Serializable =&gt; net.liftweb.common.Box[scala.xml.NodeSeq])net.liftweb.common.Box[scala.xml.NodeSeq]">flatMap</a><a href="../../../../common/net/liftweb/common/Box.scala.html#28624" title="(in: net.liftweb.common.Box[scala.xml.NodeSeq])Iterable[scala.xml.NodeSeq]" class="delimiter">(</a><a title="&lt;none&gt; extends net.liftweb.common.Box[scala.xml.NodeSeq] with Serializable" id="415590">s</a> =&gt; <a href="#415590" title="&lt;none&gt; extends net.liftweb.common.Box[scala.xml.NodeSeq] with Serializable">s</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(p: scala.xml.NodeSeq =&gt; Boolean)Option[scala.xml.NodeSeq]">find</span><a href="../../../../common/net/liftweb/common/Box.scala.html#28627" title="(in: Option[scala.xml.NodeSeq])net.liftweb.common.Box[scala.xml.NodeSeq]" class="delimiter">(</a><a title="scala.xml.NodeSeq" id="415664">e</a> =&gt; <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Localize the incoming string based on a resource bundle for the current locale,
   * with a default value to to return if localization fails.
   *
   * @param str the string or ID to localize
   * @param dflt the default string to return if localization fails
   *
   * @return the localized XHTML or default value
   *
   * @see # loc ( String )
   */</span>
  <span class="keyword">def</span> <a title="(str: String, dflt: scala.xml.NodeSeq)scala.xml.NodeSeq" id="49344">loc</a><span class="delimiter">(</span><a title="String" id="328841">str</a>: <span title="String">String</span>, <a title="scala.xml.NodeSeq" id="328842">dflt</a>: <span title="scala.xml.NodeSeq">NodeSeq</span><span class="delimiter">)</span>: <span title="scala.xml.NodeSeq">NodeSeq</span> = <a href="#49343" title="(str: String)net.liftweb.common.Box[scala.xml.NodeSeq]">loc</a><span class="delimiter">(</span><a href="#328841" title="String">str</a><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; scala.xml.NodeSeq)scala.xml.NodeSeq">openOr</a><span class="delimiter">(</span><a href="#328842" title="scala.xml.NodeSeq">dflt</a><span class="delimiter">)</span>

  
  <span class="comment">/**
   * Localize the incoming string based on a resource bundle for the current locale. The
   * localized string is converted to an XML element if necessary via the &lt;code&gt;LiftRules.localizeStringToXml&lt;/code&gt;
   * function (the default behavior is to wrap it in a Text element). If the lookup fails for a given resource
   * bundle (e.g. a null is returned), then the &lt;code&gt;LiftRules.localizationLookupFailureNotice&lt;/code&gt;
   * function is called with the input string and locale.  The
   * function is applied to the result/
   *
   * @param str the string or ID to localize
   * @param xform the function that transforms the NodeSeq
   *
   * @return A Full box containing the localized XML or Empty if there's no way to do localization
   *
   * @see # locale
   * @see # resourceBundles
   * @see LiftRules.localizeStringToXml
   * @see LiftRules.localizationLookupFailureNotice
   * @see # loc ( String, NodeSeq )
   */</span>
  <span class="keyword">def</span> <a title="(str: String, xform: scala.xml.NodeSeq =&gt; scala.xml.NodeSeq)net.liftweb.common.Box[scala.xml.NodeSeq]" id="49345">loc</a><span class="delimiter">(</span><a title="String" id="328838">str</a>: <span title="String">String</span>, <a title="scala.xml.NodeSeq =&gt; scala.xml.NodeSeq" id="328839">xform</a>: NodeSeq =&gt; NodeSeq<span class="delimiter">)</span>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[scala.xml.NodeSeq]">Box</a><span class="delimiter">[</span>NodeSeq<span class="delimiter">]</span> =
    <a href="#14641" title="object net.liftweb.http.S">S</a>.<a href="#49343" title="(str: String)net.liftweb.common.Box[scala.xml.NodeSeq]">loc</a><span class="delimiter">(</span><a href="#328838" title="String">str</a><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: scala.xml.NodeSeq =&gt; scala.xml.NodeSeq)net.liftweb.common.Box[scala.xml.NodeSeq]">map</a><span class="delimiter">(</span><a href="#328839" title="scala.xml.NodeSeq =&gt; scala.xml.NodeSeq">xform</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Get a List of the resource bundles for the current locale. The resource bundles are defined by
   * the LiftRules.resourceNames and LiftRules.resourceBundleFactories variables.
   *
   * @see LiftRules.resourceNames
   * @see LiftRules.resourceBundleFactories
   */</span>
  <span class="keyword">def</span> <a title="=&gt; List[java.util.ResourceBundle]" id="49346">resourceBundles</a>: <span title="List[java.util.ResourceBundle]">List</span><span class="delimiter">[</span>ResourceBundle<span class="delimiter">]</span> = <a href="#49347" title="(loc: java.util.Locale)List[java.util.ResourceBundle]">resourceBundles</a><span class="delimiter">(</span><a href="#49322" title="=&gt; java.util.Locale">locale</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(loc: java.util.Locale)List[java.util.ResourceBundle]" id="49347">resourceBundles</a><span class="delimiter">(</span><a title="java.util.Locale" id="415417">loc</a>: <span title="java.util.Locale">Locale</span><span class="delimiter">)</span>: <span title="List[java.util.ResourceBundle]">List</span><span class="delimiter">[</span>ResourceBundle<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#49278" title="=&gt; net.liftweb.util.ThreadGlobal[List[java.util.ResourceBundle]]">_resBundle</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51271" title="=&gt; net.liftweb.common.Box[List[java.util.ResourceBundle]]">box</a> <span title="List[java.util.ResourceBundle]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="List[java.util.ResourceBundle]">Full</span><span class="delimiter">(</span><span title="object Nil">Nil</span><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
        <a href="#49278" title="=&gt; net.liftweb.util.ThreadGlobal[List[java.util.ResourceBundle]]">_resBundle</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51272" title="(v: List[java.util.ResourceBundle])net.liftweb.util.ThreadGlobal[List[java.util.ResourceBundle]]">set</a><span class="delimiter">(</span>
          <a href="LiftRules.scala.html#158817" title="implicit net.liftweb.http.LiftRulesMocker.toLiftRules : (in: net.liftweb.http.LiftRulesMocker)net.liftweb.http.LiftRules">LiftRules</a>.<a href="LiftRules.scala.html#159006" title="=&gt; net.liftweb.http.LiftRules#FactoryMaker[() =&gt; List[java.util.ResourceBundle]]">resourceForCurrentLoc</a>.<a href="Factory.scala.html#159330" title="()List[java.util.ResourceBundle]">vend</a><span class="delimiter">(</span><span class="delimiter">)</span> <a href="#415693" title="(prefix: List[java.util.ResourceBundle])List[java.util.ResourceBundle]">:::</a>
          <a href="LiftRules.scala.html#158817" title="implicit net.liftweb.http.LiftRulesMocker.toLiftRules : (in: net.liftweb.http.LiftRulesMocker)net.liftweb.http.LiftRules">LiftRules</a>.<a href="LiftRules.scala.html#158939" title="=&gt; List[String]">resourceNames</a>.<span title="(f: String =&gt; scala.collection.GenTraversableOnce[java.util.ResourceBundle])(implicit bf: scala.collection.generic.CanBuildFrom[List[String],java.util.ResourceBundle,List[java.util.ResourceBundle]])List[java.util.ResourceBundle]">flatMap</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,java.util.ResourceBundle,List[java.util.ResourceBundle]]" class="delimiter">(</span><a title="String" id="415726">name</a> =&gt; <a href="../../../../util/net/liftweb/util/ControlHelpers.scala.html#48608" title="(f: =&gt; List[java.util.ResourceBundle])net.liftweb.common.Box[List[java.util.ResourceBundle]]">tryo</a><span class="delimiter">{</span>
              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../../util/net/liftweb/util/Props.scala.html#13579" title="object net.liftweb.util.Props">Props</a>.<a href="../../../../util/net/liftweb/util/Props.scala.html#151319" title="=&gt; Boolean">devMode</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="../../../../util/net/liftweb/util/ControlHelpers.scala.html#48608" title="(f: =&gt; java.lang.Object)net.liftweb.common.Box[java.lang.Object]">tryo</a><span class="delimiter">{</span>
                  <span class="keyword">val</span> <a title="java.lang.Class[_]" id="415775">clz</a> = <a href="#14643" title="S.this.type" class="keyword">this</a>.<span title="()java.lang.Class[_]">getClass</span>.<span title="()java.lang.ClassLoader">getClassLoader</span>.<span title="(x$1: java.lang.String)java.lang.Class[_]">loadClass</span><span class="delimiter">(</span><span title="java.lang.String(&quot;java.util.ResourceBundle&quot;)" class="string">&quot;java.util.ResourceBundle&quot;</span><span class="delimiter">)</span>
                  <span class="keyword">val</span> <a title="java.lang.reflect.Method" id="415776">meth</a> = <a href="#415775" title="java.lang.Class[_]">clz</a>.<span title="(xs: Array[java.lang.reflect.Method])scala.collection.mutable.ArrayOps[java.lang.reflect.Method]">getDeclaredMethods</span>.
                  <span title="(p: java.lang.reflect.Method =&gt; Boolean)Array[java.lang.reflect.Method]">filter</span><span title="(xs: Array[java.lang.reflect.Method])scala.collection.mutable.ArrayOps[java.lang.reflect.Method]" class="delimiter">{</span><a title="java.lang.reflect.Method" id="415958">m</a> =&gt; <a href="#415958" title="java.lang.reflect.Method">m</a>.<span title="()java.lang.String">getName</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;clearCache&quot;)" class="string">&quot;clearCache&quot;</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#415958" title="java.lang.reflect.Method">m</a>.<span title="()Array[java.lang.Class[_]]">getParameterTypes</span>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">}</span>.
                  <span title="=&gt; List[java.lang.reflect.Method]">toList</span>.<span title="=&gt; java.lang.reflect.Method">head</span>
                  <a href="#415776" title="java.lang.reflect.Method">meth</a>.<span title="(x$1: Any, x$2: &lt;repeated...&gt;[java.lang.Object])java.lang.Object">invoke</span><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>
          <span title="(xs: java.util.ResourceBundle*)List[java.util.ResourceBundle]">List</span><span class="delimiter">(</span><span title="object java.util.ResourceBundle">ResourceBundle</span>.<span title="(x$1: java.lang.String, x$2: java.util.Locale)java.util.ResourceBundle">getBundle</span><span class="delimiter">(</span><a href="#415726" title="String">name</a>, <a href="#415417" title="java.util.Locale">loc</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; List[java.util.ResourceBundle])List[java.util.ResourceBundle]">openOr</a><span class="delimiter">(</span>
          <a href="../../../../util/net/liftweb/util/NamedPartialFunction.scala.html#13548" title="object net.liftweb.util.NamedPF">NamedPF</a>.<a href="../../../../util/net/liftweb/util/NamedPartialFunction.scala.html#185585" title="(value: (String, java.util.Locale), lst: Seq[PartialFunction[(String, java.util.Locale),java.util.ResourceBundle]])net.liftweb.common.Box[java.util.ResourceBundle]">applyBox</a><span class="delimiter">(</span><span title="(_1: String, _2: java.util.Locale)(String, java.util.Locale)" class="delimiter">(</span><a href="#415726" title="String">name</a>, <a href="#415417" title="java.util.Locale">loc</a><span class="delimiter">)</span>, <a href="LiftRules.scala.html#158817" title="implicit net.liftweb.http.LiftRulesMocker.toLiftRules : (in: net.liftweb.http.LiftRulesMocker)net.liftweb.http.LiftRules">LiftRules</a>.<a href="LiftRules.scala.html#159004" title="=&gt; net.liftweb.http.LiftRules#RulesSeq[PartialFunction[(java.lang.String, java.util.Locale),java.util.ResourceBundle]]">resourceBundleFactories</a>.<a href="LiftRules.scala.html#185552" title="=&gt; List[PartialFunction[(java.lang.String, java.util.Locale),java.util.ResourceBundle]]">toList</a><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: java.util.ResourceBundle =&gt; List[java.util.ResourceBundle])net.liftweb.common.Box[List[java.util.ResourceBundle]]">map</a><span class="delimiter">(</span><span title="(xs: java.util.ResourceBundle*)List[java.util.ResourceBundle]">List</span><span class="delimiter">(</span><a href="#416232" title="java.util.ResourceBundle">_</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; List[java.util.ResourceBundle])List[java.util.ResourceBundle]">openOr</a> <span title="object Nil">Nil</span>
          <span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#49278" title="=&gt; net.liftweb.util.ThreadGlobal[List[java.util.ResourceBundle]]">_resBundle</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51270" title="=&gt; List[java.util.ResourceBundle]">value</a>
      <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="List[java.util.ResourceBundle]">Full</span><span class="delimiter">(</span><a title="List[java.util.ResourceBundle]" id="416280">bundles</a><span class="delimiter">)</span> =&gt; <a href="#416280" title="List[java.util.ResourceBundle]">bundles</a>
      <span class="keyword">case</span> <span title="Nothing">_</span> =&gt; <span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String)java.lang.IllegalStateException" class="keyword">new</span> <span title="java.lang.IllegalStateException">IllegalStateException</span><span class="delimiter">(</span><span class="string">&quot;Attempted to use resource bundles outside of an initialized S scope. &quot;</span> +
                                                <span class="string">&quot;S only usable when initialized, such as during request processing. &quot;</span> <span title="java.lang.String(&quot;Attempted to use resource bundles outside of an initialized S scope. S only usable when initialized, such as during request processing. Did you call S.? from Boot?&quot;)">+</span>
                                                <span class="string">&quot;Did you call S.? from Boot?&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">object</span> <a title="object S.this._liftCoreResBundle" id="49348">_liftCoreResBundle</a> <span title="ScalaObject" class="keyword">extends</span>
  <a href="Vars.scala.html#14774" title="net.liftweb.http.RequestVar[net.liftweb.common.Box[java.util.ResourceBundle]]">RequestVar</a><span class="delimiter">[</span>Box<span class="delimiter">[</span>ResourceBundle<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="../../../../util/net/liftweb/util/ControlHelpers.scala.html#48608" title="(f: =&gt; java.util.ResourceBundle)net.liftweb.common.Box[java.util.ResourceBundle]">tryo</a><span class="delimiter">(</span><span title="object java.util.ResourceBundle">ResourceBundle</span>.<span title="(x$1: java.lang.String, x$2: java.util.Locale)java.util.ResourceBundle">getBundle</span><span class="delimiter">(</span><a href="LiftRules.scala.html#158817" title="implicit net.liftweb.http.LiftRulesMocker.toLiftRules : (in: net.liftweb.http.LiftRulesMocker)net.liftweb.http.LiftRules">LiftRules</a>.<a href="LiftRules.scala.html#158945" title="=&gt; java.lang.String">liftCoreResourceName</a>, <a href="#49322" title="=&gt; java.util.Locale">locale</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Get the lift core resource bundle for the current locale as defined by the
   * LiftRules.liftCoreResourceName varibale.
   *
   * @see LiftRules.liftCoreResourceName
   */</span>
  <span class="keyword">def</span> <a title="=&gt; net.liftweb.common.Box[java.util.ResourceBundle]" id="49350">liftCoreResourceBundle</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[java.util.ResourceBundle]">Box</a><span class="delimiter">[</span>ResourceBundle<span class="delimiter">]</span> = <a href="#49348" title="object S.this._liftCoreResBundle">_liftCoreResBundle</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75375" title="=&gt; net.liftweb.common.Box[java.util.ResourceBundle]">is</a>

  <span class="comment">/**
   * Get a localized string or return the original string.
   *
   * @param str the string to localize
   *
   * @return the localized version of the string
   *
   * @see # resourceBundles
   */</span>
  <span class="keyword">def</span> <a title="(str: String)String" id="49351">?</a><span class="delimiter">(</span><a title="String" id="162642">str</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#49356" title="(str: String, resBundle: List[java.util.ResourceBundle])String">?!</a><span class="delimiter">(</span><a href="#162642" title="String">str</a>, <a href="#49346" title="=&gt; List[java.util.ResourceBundle]">resourceBundles</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Get a localized string or return the original string.
   *
   * @param str the string to localize
   *
   * @param locale specific locale that should be used to localize this string
   *
   * @return the localized version of the string
   *
   * @see # resourceBundles
   */</span>
  <span class="keyword">def</span> <a title="(str: String, locale: java.util.Locale)String" id="49352">?</a><span class="delimiter">(</span><a title="String" id="162639">str</a>: <span title="String">String</span>, <a title="java.util.Locale" id="162640">locale</a>: <span title="java.util.Locale">Locale</span><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#49356" title="(str: String, resBundle: List[java.util.ResourceBundle])String">?!</a><span class="delimiter">(</span><a href="#162639" title="String">str</a>, <a href="#49347" title="(loc: java.util.Locale)List[java.util.ResourceBundle]">resourceBundles</a><span class="delimiter">(</span><a href="#162640" title="java.util.Locale">locale</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="comment">/**
   * Attempt to localize and then format the given string. This uses the String.format method
   * to format the localized string.
   *
   * @param str the string to localize
   * @param params the var-arg parameters applied for string formatting
   *
   * @return the localized and formatted version of the string
   *
   * @see String.format
   * @see # resourceBundles
   */</span>
  <span class="keyword">def</span> <a title="(str: String, params: Any*)String" id="49353">?</a><span class="delimiter">(</span><a title="String" id="162636">str</a>: <span title="String">String</span>, <a title="Any*" id="162637">params</a>: <span title="Any*">Any</span>*<span class="delimiter">)</span>: <span title="String">String</span> =
    <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#162637" title="Any*">params</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
      <a href="#49351" title="(str: String)String">?</a><span class="delimiter">(</span><a href="#162636" title="String">str</a><span class="delimiter">)</span>
    <span class="keyword">else</span>
      <span title="object java.lang.String">String</span>.<span title="(x$1: java.util.Locale, x$2: java.lang.String, x$3: &lt;repeated...&gt;[java.lang.Object])java.lang.String">format</span><span class="delimiter">(</span><a href="#49322" title="=&gt; java.util.Locale">locale</a>, <a href="#49351" title="(str: String)String">?</a><span class="delimiter">(</span><a href="#162636" title="String">str</a><span class="delimiter">)</span>, <a href="#162637" title="Any*">params</a>.<span title="(f: Any =&gt; scala.collection.GenTraversableOnce[AnyRef])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[Any],AnyRef,Seq[AnyRef]])Seq[AnyRef]">flatMap</span> <a href="#416373" title="List[AnyRef]" class="delimiter">{</a><span class="keyword">case</span> <a title="List[AnyRef]" id="416374">s</a>: <span title="AnyRef">AnyRef</span> =&gt; <span title="(xs: AnyRef*)List[AnyRef]">List</span><span class="delimiter">(</span><a href="#416374" title="AnyRef">s</a><span class="delimiter">)</span> <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">_</span> =&gt; <span title="object Nil">Nil</span><span class="delimiter">}</span>.<span title="(implicit evidence$1: ClassManifest[AnyRef])Array[AnyRef]">toArray</span>: _*<span class="delimiter">)</span>

  <span class="comment">/**
   * Get a core lift localized string or return the original string
   *
   * @param str the string to localize
   *
   * @return the localized version of the string
   */</span>
  <span class="keyword">def</span> <a title="(str: String)String" id="49354">??</a><span class="delimiter">(</span><a title="String" id="148577">str</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#49356" title="(str: String, resBundle: List[java.util.ResourceBundle])String">?!</a><span class="delimiter">(</span><a href="#148577" title="String">str</a>, <a href="#49350" title="=&gt; net.liftweb.common.Box[java.util.ResourceBundle]">liftCoreResourceBundle</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27051" title="=&gt; List[java.util.ResourceBundle]">toList</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Get a core lift localized and formatted string or return the original string.
   *
   * @param str the string to localize
   * @param params the var-arg parameters applied for string formatting
   *
   * @return the localized version of the string
   */</span>
  <span class="keyword">def</span> <a title="(str: String, params: AnyRef*)String" id="49355">??</a><span class="delimiter">(</span><a title="String" id="148574">str</a>: <span title="String">String</span>, <a title="AnyRef*" id="148575">params</a>: <span title="AnyRef*">AnyRef</span>*<span class="delimiter">)</span>: <span title="String">String</span> = <span title="object java.lang.String">String</span>.<span title="(x$1: java.util.Locale, x$2: java.lang.String, x$3: &lt;repeated...&gt;[java.lang.Object])java.lang.String">format</span><span class="delimiter">(</span><a href="#49322" title="=&gt; java.util.Locale">locale</a>, <a href="#49354" title="(str: String)String">??</a><span class="delimiter">(</span><a href="#148574" title="String">str</a><span class="delimiter">)</span>, <a href="#148575" title="AnyRef*">params</a>: _*<span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(str: String, resBundle: List[java.util.ResourceBundle])String" id="49356">?!</a><span class="delimiter">(</span><a title="String" id="416323">str</a>: <span title="String">String</span>, <a title="List[java.util.ResourceBundle]" id="416324">resBundle</a>: <span title="List[java.util.ResourceBundle]">List</span><span class="delimiter">[</span>ResourceBundle<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#416324" title="List[java.util.ResourceBundle]">resBundle</a>.<span title="(f: java.util.ResourceBundle =&gt; scala.collection.GenTraversableOnce[String])(implicit bf: scala.collection.generic.CanBuildFrom[List[java.util.ResourceBundle],String,List[String]])List[String]">flatMap</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,String,List[String]]" class="delimiter">(</span><a title="java.util.ResourceBundle" id="416439">r</a> =&gt; <a href="../../../../util/net/liftweb/util/ControlHelpers.scala.html#48608" title="(f: =&gt; net.liftweb.common.Box[String] with Serializable)net.liftweb.common.Box[net.liftweb.common.Box[String] with Serializable]">tryo</a><span class="delimiter">(</span><a href="#416439" title="java.util.ResourceBundle">r</a>.<span title="(x$1: java.lang.String)java.lang.Object">getObject</span><span class="delimiter">(</span><a href="#416323" title="String">str</a><span class="delimiter">)</span> <span title="&lt;none&gt; extends net.liftweb.common.Box[String] with Serializable" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a title="net.liftweb.common.Full[String]" id="416464">s</a>: <span title="String">String</span> =&gt; <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: String)net.liftweb.common.Full[String]">Full</a><span class="delimiter">(</span><a href="#416464" title="String">s</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="net.liftweb.common.Full[String]" id="416468">n</a>: <span title="scala.xml.Node">Node</span> =&gt; <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: String)net.liftweb.common.Full[String]">Full</a><span class="delimiter">(</span><a href="#416468" title="scala.xml.Node">n</a>.<span title="=&gt; String">text</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="net.liftweb.common.Full[String]" id="416472">ns</a>: <span title="scala.xml.NodeSeq">NodeSeq</span> =&gt; <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: String)net.liftweb.common.Full[String]">Full</a><span class="delimiter">(</span><a href="#416472" title="scala.xml.NodeSeq">ns</a>.<span title="=&gt; String">text</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="net.liftweb.common.Empty.type">_</span> =&gt; <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>
  <span class="delimiter">}</span><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27023" title="(f: net.liftweb.common.Box[String] with Serializable =&gt; net.liftweb.common.Box[String])net.liftweb.common.Box[String]">flatMap</a><a href="../../../../common/net/liftweb/common/Box.scala.html#28624" title="(in: net.liftweb.common.Box[String])Iterable[String]" class="delimiter">(</a><a title="&lt;none&gt; extends net.liftweb.common.Box[String] with Serializable" id="416594">s</a> =&gt; <a href="#416594" title="&lt;none&gt; extends net.liftweb.common.Box[String] with Serializable">s</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(p: String =&gt; Boolean)Option[String]">find</span><span class="delimiter">(</span><a title="String" id="416668">s</a> =&gt; <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span> <span title="(default: =&gt; String)String">getOrElse</span> <span class="delimiter">{</span>
    <a href="LiftRules.scala.html#158817" title="implicit net.liftweb.http.LiftRulesMocker.toLiftRules : (in: net.liftweb.http.LiftRulesMocker)net.liftweb.http.LiftRules">LiftRules</a>.<a href="LiftRules.scala.html#158920" title="=&gt; net.liftweb.common.Box[(String, java.util.Locale) =&gt; Unit]">localizationLookupFailureNotice</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27031" title="(f: (String, java.util.Locale) =&gt; Unit =&gt; Unit)Unit">foreach</a><span class="delimiter">(</span><a href="#416677" title="(v1: String, v2: java.util.Locale)Unit">_</a><span class="delimiter">(</span><a href="#416323" title="String">str</a>, <a href="#49322" title="=&gt; java.util.Locale">locale</a><span class="delimiter">)</span><span class="delimiter">)</span>;
    <a href="#416323" title="String">str</a>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Test the current request to see if it's a GET. This is a thin wrapper on Req.get_?
   *
   * @return &lt;code&gt;true&lt;/code&gt; if the request is a GET, &lt;code&gt;false&lt;/code&gt; otherwise.
   *
   * @see Req.get_ ?
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="49357">get_?</a> = <a href="#49309" title="=&gt; net.liftweb.common.Box[net.liftweb.http.Req]">request</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: net.liftweb.http.Req =&gt; Boolean)net.liftweb.common.Box[Boolean]">map</a><span class="delimiter">(</span><a href="#416689" title="net.liftweb.http.Req">_</a>.<a href="Req.scala.html#149221" title="=&gt; Boolean">get_?</a><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; Boolean)Boolean">openOr</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Returns the logical page_id of the current request. All RequestVars for a current page share this id.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="49358">renderVersion</a> = <a href="LiftSession.scala.html#14488" title="object net.liftweb.http.RenderVersion">RenderVersion</a>.<a href="LiftSession.scala.html#345564" title="=&gt; String">get</a>

  <span class="comment">/**
   * The URI of the current request (not re-written). The URI is the portion of the request
   * URL after the context path. For example, with a context path of &quot;myApp&quot;,
   * Lift would return the following URIs for the given requests:
   *
   * &lt;table&gt;
   * &lt;tr align=left&gt;
   *   &lt;th&gt;HTTP request&lt;/th&gt;&lt;th&gt;URI&lt;/th&gt;
   * &lt;/tr&gt;
   * &lt;tr&gt;
   *   &lt;td&gt;http://foo.com/myApp/foo/bar.html&lt;td&gt;&lt;td&gt;/foo/bar.html&lt;/td&gt;
   * &lt;/tr&gt;
   * &lt;tr&gt;
   *   &lt;td&gt;http://foo.com/myApp/test/&lt;td&gt;&lt;td&gt;/test/&lt;/td&gt;
   * &lt;/tr&gt;
   * &lt;tr&gt;
   *   &lt;td&gt;http://foo.com/myApp/item.html?id=42&lt;td&gt;&lt;td&gt;/item.html&lt;/td&gt;
   * &lt;/tr&gt;
   * &lt;/table&gt;
   *
   * If you want the full URI, including the context path, you should retrieve it
   * from the underlying HTTPRequest. You could do something like:
   *
   * &lt;pre name=&quot;code&quot; class=&quot;scala&quot; &gt;
   *   val fullURI = S.request.map(_.request.getRequestURI) openOr (&quot;Undefined&quot;)
   * &lt;/pre&gt;
   *
   * The URI may be used to provide a link back to the same page as the current request:
   *
   * &lt;pre name=&quot;code&quot; class=&quot;scala&quot; &gt;
   *   bind(...,
   *        &quot;selflink&quot; -&gt; SHtml.link(S.uri,  { () =&gt; ... }, Text(&quot;Self link&quot;)),
   *        ...)
   * &lt;/pre&gt;
   *
   * @see Req.uri
   * @see net.liftweb.http.provider.HTTPRequest.uri
   */</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="49359">uri</a>: <span title="String">String</span> = <a href="#49309" title="=&gt; net.liftweb.common.Box[net.liftweb.http.Req]">request</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: net.liftweb.http.Req =&gt; String)net.liftweb.common.Box[String]">map</a><span class="delimiter">(</span><a href="#416702" title="net.liftweb.http.Req">_</a>.<a href="Req.scala.html#149224" title="=&gt; String">uri</a><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; String)String">openOr</a><span class="delimiter">(</span><span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span>

<span class="comment">/**
* Returns the query string for the current request
*/</span>
<span class="keyword">def</span> <a title="=&gt; net.liftweb.common.Box[String]" id="49360">queryString</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[String]">Box</a><span class="delimiter">[</span>String<span class="delimiter">]</span> =
<span class="keyword">for</span> <span class="delimiter">{</span>
  <a title="net.liftweb.http.Req" id="416715">req</a> &lt;- <a href="../../../../common/net/liftweb/common/Box.scala.html#27023" title="(f: net.liftweb.http.Req =&gt; net.liftweb.common.Box[String])net.liftweb.common.Box[String]">request</a>
  <a title="String" id="416720">queryString</a> &lt;- <a href="#416715" title="net.liftweb.http.Req">req</a>.<a href="Req.scala.html#149145" title="=&gt; net.liftweb.http.provider.HTTPRequest">request</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: String =&gt; String)net.liftweb.common.Box[String]">queryString</a>
<span class="delimiter">}</span> <span class="keyword">yield</span> <a href="#416720" title="String">queryString</a>


<span class="keyword">def</span> <a title="=&gt; net.liftweb.common.Box[String]" id="49361">uriAndQueryString</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[String]">Box</a><span class="delimiter">[</span>String<span class="delimiter">]</span> =
<span class="keyword">for</span> <span class="delimiter">{</span>
  <a title="net.liftweb.http.Req" id="416727">req</a> &lt;- <a href="#14643" title="S.this.type" class="keyword">this</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: net.liftweb.http.Req =&gt; java.lang.String)net.liftweb.common.Box[java.lang.String]">request</a>
<span class="delimiter">}</span> <span class="keyword">yield</span> <a href="#416727" title="net.liftweb.http.Req">req</a>.<a href="Req.scala.html#149224" title="=&gt; String">uri</a> <span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">(</span><a href="#49360" title="=&gt; net.liftweb.common.Box[String]">queryString</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: String =&gt; java.lang.String)net.liftweb.common.Box[java.lang.String]">map</a><span class="delimiter">(</span><a title="String" id="416732">s</a> =&gt; <span title="java.lang.String(&quot;?&quot;)" class="string">&quot;?&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#416732" title="String">s</a><span class="delimiter">)</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; java.lang.String)java.lang.String">openOr</a> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">object</span> <a title="object S.this._skipXmlHeader" id="49362">_skipXmlHeader</a> <span title="ScalaObject" class="keyword">extends</span> <a href="Vars.scala.html#14776" title="net.liftweb.http.TransientRequestVar[Boolean]">TransientRequestVar</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>

  <span class="comment">/**
   * If true, then the xml header at the beginning of
   * the returned XHTML page will not be inserted.
   *
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="49364">skipXmlHeader</a>: <span title="Boolean">Boolean</span> = <a href="#49362" title="object S.this._skipXmlHeader">_skipXmlHeader</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75375" title="=&gt; Boolean">is</a>

  <span class="comment">/**
   * Set the skipXmlHeader flag
   */</span>
  <span class="keyword">def</span> <a title="(in: Boolean)Unit" id="49365">skipXmlHeader_=</a><span class="delimiter">(</span><a title="Boolean" id="416750">in</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#49362" title="object S.this._skipXmlHeader">_skipXmlHeader</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75378" title="(what: Boolean)Boolean">set</a><span title="Unit" class="delimiter">(</span><a href="#416750" title="Boolean">in</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Redirects the browser to a given URL. Note that the underlying mechanism for redirects is to
   * throw a ResponseShortcutException, so if you're doing the redirect within a try/catch block,
   * you need to make sure to either ignore the redirect exception or rethrow it. Two possible
   * approaches would be:
   *
   * &lt;pre name=&quot;code&quot; class=&quot;scala&quot; &gt;
   *   ...
   *   try  {
   *     // your code here
   *     S.redirectTo(...)
   * } catch  {
   *     case e: Exception if !e.isInstanceOf[LiftFlowOfControlException] =&gt; ...
   * }
   * &lt;/pre&gt;
   *
   * or
   *
   * &lt;pre name=&quot;code&quot; class=&quot;scala&quot; &gt;
   *   ...
   *   try  {
   *     // your code here
   *     S.redirectTo(...)
   * } catch  {
   *     case rse: LiftFlowOfControlException =&gt; throw rse
   *     case e: Exception =&gt; ...
   * }
   * &lt;/pre&gt;
   *
   * @param where The new URL to redirect to.
   *
   * @see ResponseShortcutException
   * @see # redirectTo ( String, ( ) =&gt; Unit)
   */</span>
  <span class="keyword">def</span> <a title="(where: String)Nothing" id="49366">redirectTo</a><span class="delimiter">(</span><a title="String" id="149502">where</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Nothing">Nothing</span> = <span title="Nothing" class="keyword">throw</span> <a href="ResponseShortcutException.scala.html#14624" title="object net.liftweb.http.ResponseShortcutException">ResponseShortcutException</a>.<a href="ResponseShortcutException.scala.html#381090" title="(to: String)net.liftweb.http.ResponseShortcutException">redirect</a><span class="delimiter">(</span><a href="#149502" title="String">where</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Redirects the browser to a given URL and registers a function that will be executed when the browser
   * accesses the new URL. Otherwise the function is exactly the same as S.redirectTo(String), which has
   * example documentation. Note that if the URL that you redirect to must be part of your web application
   * or the function won't be executed. This is because the function is only registered locally.
   *
   * @param where The new URL to redirect to.
   * @param func The function to be executed when the redirect is accessed.
   *
   * @see # redirectTo ( String )
   */</span>
  <span class="keyword">def</span> <a title="(where: String, func: () =&gt; Unit)Nothing" id="49367">redirectTo</a><span class="delimiter">(</span><a title="String" id="149499">where</a>: <span title="String">String</span>, <a title="() =&gt; Unit" id="149500">func</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Unit<span class="delimiter">)</span>: <span title="Nothing">Nothing</span> =
    <span title="Nothing" class="keyword">throw</span> <a href="ResponseShortcutException.scala.html#14624" title="object net.liftweb.http.ResponseShortcutException">ResponseShortcutException</a>.<a href="ResponseShortcutException.scala.html#381091" title="(to: String, func: () =&gt; Unit)net.liftweb.http.ResponseShortcutException">redirect</a><span class="delimiter">(</span><a href="#149499" title="String">where</a>, <a href="#149500" title="() =&gt; Unit">func</a><span class="delimiter">)</span>


  <span class="comment">/**
   * Redirects the browser to a given URL. Note that the underlying mechanism for redirects is to
   * throw a ResponseShortcutException, so if you're doing the redirect within a try/catch block,
   * you need to make sure to either ignore the redirect exception or rethrow it. Two possible
   * approaches would be:
   *
   * &lt;pre name=&quot;code&quot; class=&quot;scala&quot; &gt;
   *   ...
   *   try  {
   *     // your code here
   *     S.seeOther(...)
   * } catch  {
   *     case e: Exception if !e.instanceOf[LiftFlowOfControlException] =&gt; ...
   * }
   * &lt;/pre&gt;
   *
   * or
   *
   * &lt;pre name=&quot;code&quot; class=&quot;scala&quot; &gt;
   *   ...
   *   try  {
   *     // your code here
   *     S.seeOther(...)
   * } catch  {
   *     case rse: LiftFlowOfControlException =&gt; throw rse
   *     case e: Exception =&gt; ...
   * }
   * &lt;/pre&gt;
   *
   * @param where The new URL to redirect to.
   *
   * @see ResponseShortcutException
   * @see # seeOther ( String, ( ) =&gt; Unit)
   */</span>
  <span class="keyword">def</span> <a title="[T](where: String)T" id="49368">seeOther</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="49370">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="String" id="374918">where</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#49370" title="T">T</a> = <span title="Nothing" class="keyword">throw</span> <a href="ResponseShortcutException.scala.html#14624" title="object net.liftweb.http.ResponseShortcutException">ResponseShortcutException</a>.<a href="ResponseShortcutException.scala.html#381092" title="(to: String)net.liftweb.http.ResponseShortcutException">seeOther</a><span class="delimiter">(</span><a href="#374918" title="String">where</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Redirects the browser to a given URL and registers a function that will be executed when the browser
   * accesses the new URL. Otherwise the function is exactly the same as S.seeOther(String), which has
   * example documentation. Note that if the URL that you redirect to must be part of your web application
   * or the function won't be executed. This is because the function is only registered locally.
   *
   * @param where The new URL to redirect to.
   * @param func The function to be executed when the redirect is accessed.
   *
   * @see # seeOther ( String )
   */</span>
  <span class="keyword">def</span> <a title="[T](where: String, func: () =&gt; Unit)T" id="49371">seeOther</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="49373">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="String" id="374914">where</a>: <span title="String">String</span>, <a title="() =&gt; Unit" id="374915">func</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Unit<span class="delimiter">)</span>: <a href="#49373" title="T">T</a> =
    <span title="Nothing" class="keyword">throw</span> <a href="ResponseShortcutException.scala.html#14624" title="object net.liftweb.http.ResponseShortcutException">ResponseShortcutException</a>.<a href="ResponseShortcutException.scala.html#381093" title="(to: String, func: () =&gt; Unit)net.liftweb.http.ResponseShortcutException">seeOther</a><span class="delimiter">(</span><a href="#374914" title="String">where</a>, <a href="#374915" title="() =&gt; Unit">func</a><span class="delimiter">)</span>

  <span class="keyword">private</span><span class="delimiter">[</span>http<span class="delimiter">]</span> <span class="keyword">object</span> <a title="object S.this.oldNotices" id="49374">oldNotices</a> <span title="ScalaObject" class="keyword">extends</span>
  <a href="Vars.scala.html#14776" title="net.liftweb.http.TransientRequestVar[Seq[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]]">TransientRequestVar</a><span class="delimiter">[</span>Seq<span class="delimiter">[</span><span class="delimiter">(</span>NoticeType.Value, NodeSeq, Box<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span title="object Nil">Nil</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Initialize the current request session. Generally this is handled by Lift during request
   * processing, but this method is available in case you want to use S outside the scope
   * of a request (standard HTTP or Comet).
   *
   * @param request The Req instance for this request
   * @param session the LiftSession for this request
   * @param f Function to execute within the scope of the request and session
   */</span>
  <span class="keyword">def</span> <a title="[B](request: net.liftweb.http.Req, session: net.liftweb.http.LiftSession)(f: =&gt; B)B" id="49376">init</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="49378">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="net.liftweb.http.Req" id="379629">request</a>: <a href="Req.scala.html#14573" title="net.liftweb.http.Req">Req</a>, <a title="net.liftweb.http.LiftSession" id="379630">session</a>: <a href="LiftSession.scala.html#14496" title="net.liftweb.http.LiftSession">LiftSession</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; B" id="379631">f</a>: =&gt; B<span class="delimiter">)</span>: <a href="#49378" title="B">B</a> = <span class="delimiter">{</span>
    <span title="B" class="keyword">if</span> <span class="delimiter">(</span><a href="#49270" title="=&gt; net.liftweb.util.ThreadGlobal[Boolean]">inS</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51270" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="#379631" title="=&gt; B">f</a>
    <span class="keyword">else</span> <span class="delimiter">{</span>
      <span title="B" class="keyword">if</span> <span class="delimiter">(</span><a href="#379629" title="net.liftweb.http.Req">request</a>.<a href="Req.scala.html#149160" title="=&gt; Boolean">stateless_?</a><span class="delimiter">)</span> 
        <a href="#379630" title="net.liftweb.http.LiftSession">session</a>.<a href="LiftSession.scala.html#230329" title="(f: =&gt; B)B">doAsStateless</a><span class="delimiter">(</span><a href="#49427" title="(request: net.liftweb.http.Req, session: net.liftweb.http.LiftSession)(f: () =&gt; B)B">_init</a><span class="delimiter">(</span><a href="#379629" title="net.liftweb.http.Req">request</a>, <a href="#379630" title="net.liftweb.http.LiftSession">session</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#379631" title="=&gt; B">f</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#49427" title="(request: net.liftweb.http.Req, session: net.liftweb.http.LiftSession)(f: () =&gt; B)B">_init</a><span class="delimiter">(</span><a href="#379629" title="net.liftweb.http.Req">request</a>, <a href="#379630" title="net.liftweb.http.LiftSession">session</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#379631" title="=&gt; B">f</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  
  <span class="keyword">def</span> <a title="[B](request: net.liftweb.http.Req)(f: =&gt; B)B" id="49379">statelessInit</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="49381">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="net.liftweb.http.Req" id="380382">request</a>: <a href="Req.scala.html#14573" title="net.liftweb.http.Req">Req</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; B" id="380383">f</a>: =&gt; B<span class="delimiter">)</span>: <a href="#49381" title="B">B</a> = <span class="delimiter">{</span>
    <a href="#49382" title="=&gt; net.liftweb.common.Box[net.liftweb.http.LiftSession]">session</a> <span title="B" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Nothing">Full</span><span class="delimiter">(</span><a title="net.liftweb.http.LiftSession" id="416787">s</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#416787" title="net.liftweb.http.LiftSession">s</a>.<a href="LiftSession.scala.html#230327" title="=&gt; Boolean">stateful_?</a> =&gt; <span class="delimiter">{</span>
        <span title="Nothing" class="keyword">throw</span> <span title="net.liftweb.http.StateInStatelessException" class="keyword">new</span> <a href="Templates.scala.html#14737" title="net.liftweb.http.StateInStatelessException">StateInStatelessException</a><span class="delimiter">(</span>
          <span class="string">&quot;Attempt to initialize a stateless session within the context &quot;</span><span title="java.lang.String(&quot;Attempt to initialize a stateless session within the context of a stateful session&quot;)">+</span>
          <span class="string">&quot;of a stateful session&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      
      <span class="keyword">case</span> <span title="B">Full</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; <a href="#380383" title="=&gt; B">f</a>

      <span class="keyword">case</span> <span title="B">_</span> =&gt; <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="LiftRules extends net.liftweb.http.LiftSession with net.liftweb.http.StatelessSession" id="416789">fakeSess</a> = <a href="LiftRules.scala.html#158817" title="implicit net.liftweb.http.LiftRulesMocker.toLiftRules : (in: net.liftweb.http.LiftRulesMocker)net.liftweb.http.LiftRules">LiftRules</a>.<a href="LiftRules.scala.html#158890" title="=&gt; net.liftweb.http.LiftRules#FactoryMaker[net.liftweb.http.Req =&gt; net.liftweb.http.LiftSession with net.liftweb.http.StatelessSession]">statelessSession</a>.<a href="Factory.scala.html#159330" title="=&gt; net.liftweb.http.Req =&gt; net.liftweb.http.LiftSession with net.liftweb.http.StatelessSession">vend</a>.<span title="(v1: net.liftweb.http.Req)net.liftweb.http.LiftSession with net.liftweb.http.StatelessSession">apply</span><span class="delimiter">(</span><a href="#380382" title="net.liftweb.http.Req">request</a><span class="delimiter">)</span>
        <span class="keyword">try</span> <span class="delimiter">{</span>
          <a href="#49427" title="(request: net.liftweb.http.Req, session: net.liftweb.http.LiftSession)(f: () =&gt; B)B">_init</a><span class="delimiter">(</span><a href="#380382" title="net.liftweb.http.Req">request</a>, 
                <a href="#416789" title="LiftRules extends net.liftweb.http.LiftSession with net.liftweb.http.StatelessSession">fakeSess</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#380383" title="=&gt; B">f</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">finally</span> <span title="Unit" class="delimiter">{</span>
          <span class="comment">// ActorPing.schedule(() =&gt; fakeSess.doShutDown(), 0 seconds)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * The current LiftSession.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; net.liftweb.common.Box[net.liftweb.http.LiftSession]" id="49382">session</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.http.LiftSession]">Box</a><span class="delimiter">[</span>LiftSession<span class="delimiter">]</span> = <a href="../../../../common/net/liftweb/common/Box.scala.html#10572" title="object net.liftweb.common.Box">Box</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#28633" title="(in: net.liftweb.http.LiftSession)net.liftweb.common.Box[net.liftweb.http.LiftSession]">legacyNullTest</a><span class="delimiter">(</span><a href="#49276" title="=&gt; net.liftweb.util.ThreadGlobal[net.liftweb.http.LiftSession]">_sessionInfo</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51270" title="=&gt; net.liftweb.http.LiftSession">value</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Log a query for the given request.  The query log can be tested to see
   * if queries for the particular page rendering took too long. The query log
   * starts empty for each new request. net.liftweb.mapper.DB.queryCollector is a
   * method that can be used as a log function for the net.liftweb.mapper.DB.addLogFunc
   * method to enable logging of Mapper queries. You would set it up in your bootstrap like:
   *
   * &lt;pre name=&quot;code&quot; class=&quot;scala&quot; &gt;
   * import net.liftweb.mapper.DB
   * import net.liftweb.http.S
   * class Boot  {
   *   def boot  {
   *     ...
   *     DB.addLogFunc(DB.queryCollector)
   *     ...
   * }
   * }
   * &lt;/pre&gt;
   *
   * Note that the query log is simply stored as a List and is not sent to any output
   * by default. To retrieve the List of query log items, use S.queryLog. You can also
   * provide your own analysis function that will process the query log via S.addAnalyzer.
   *
   * @see # queryLog
   * @see # addAnalyzer
   * @see net.liftweb.mapper.DB.addLogFunc
   */</span>
  <span class="keyword">def</span> <a title="(query: String, time: Long)scala.collection.mutable.ListBuffer[(String, Long)]" id="49383">logQuery</a><span class="delimiter">(</span><a title="String" id="153472">query</a>: <span title="String">String</span>, <a title="Long" id="153473">time</a>: <span title="Long">Long</span><span class="delimiter">)</span> = <a href="#49304" title="object S.this.p_queryLog">p_queryLog</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75375" title="=&gt; scala.collection.mutable.ListBuffer[(String, Long)]">is</a> <span title="(x: (java.lang.String, Long))scala.collection.mutable.ListBuffer[(String, Long)]">+=</span> <span class="delimiter">(</span><span title="(_1: String, _2: Long)(String, Long)" class="delimiter">(</span><a href="#153472" title="String">query</a>, <a href="#153473" title="Long">time</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Given a snippet class name, return the cached or predefined stateful snippet for
   * that class
   */</span>
  <span class="keyword">def</span> <a title="(cls: String)net.liftweb.common.Box[net.liftweb.http.DispatchSnippet]" id="49384">snippetForClass</a><span class="delimiter">(</span><a title="String" id="398003">cls</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.http.DispatchSnippet]">Box</a><span class="delimiter">[</span>DispatchSnippet<span class="delimiter">]</span> =
    <a href="#49280" title="object S.this._statefulSnip">_statefulSnip</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75375" title="=&gt; Map[String,net.liftweb.http.DispatchSnippet]">is</a>.<span title="(key: String)Option[net.liftweb.http.DispatchSnippet]">get</span><a href="../../../../common/net/liftweb/common/Box.scala.html#28627" title="(in: Option[net.liftweb.http.DispatchSnippet])net.liftweb.common.Box[net.liftweb.http.DispatchSnippet]" class="delimiter">(</a><a href="#398003" title="String">cls</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Register a stateful snippet for a given class name.  Only registers if the name
   * is not already set.
   */</span>
  <span class="keyword">def</span> <a title="(cls: String, inst: net.liftweb.http.DispatchSnippet)Unit" id="49385">addSnippetForClass</a><span class="delimiter">(</span><a title="String" id="416817">cls</a>: <span title="String">String</span>, <a title="net.liftweb.http.DispatchSnippet" id="416818">inst</a>: <a href="StatefulSnippet.scala.html#14717" title="net.liftweb.http.DispatchSnippet">DispatchSnippet</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#49280" title="object S.this._statefulSnip">_statefulSnip</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75375" title="=&gt; Map[String,net.liftweb.http.DispatchSnippet]">is</a>.<span title="(key: String)Boolean">contains</span><span class="delimiter">(</span><a href="#416817" title="String">cls</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#416818" title="net.liftweb.http.DispatchSnippet">inst</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Unit" id="416821">si</a>: <a href="StatefulSnippet.scala.html#14713" title="net.liftweb.http.StatefulSnippet">StatefulSnippet</a> =&gt; <a href="#416821" title="net.liftweb.http.StatefulSnippet">si</a>.<a href="StatefulSnippet.scala.html#193186" title="(name: String)Unit">addName</a><span class="delimiter">(</span><a href="#416817" title="String">cls</a><span class="delimiter">)</span>  <span class="comment">// addresses</span>
        <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
      <span class="delimiter">}</span>
      <a href="#49280" title="object S.this._statefulSnip">_statefulSnip</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75378" title="(what: Map[String,net.liftweb.http.DispatchSnippet])Map[String,net.liftweb.http.DispatchSnippet]">set</a><span title="Unit" class="delimiter">(</span><a href="#49280" title="object S.this._statefulSnip">_statefulSnip</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75375" title="=&gt; Map[String,net.liftweb.http.DispatchSnippet]">is</a>.<span title="(key: String, value: net.liftweb.http.DispatchSnippet)scala.collection.immutable.Map[String,net.liftweb.http.DispatchSnippet]">updated</span><span class="delimiter">(</span><a href="#416817" title="String">cls</a>, <a href="#416818" title="net.liftweb.http.DispatchSnippet">inst</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Register a stateful snippet for a given class name.  The addSnippetForClass
   * method is preferred
   */</span>
  <span class="keyword">def</span> <a title="(cls: String, inst: net.liftweb.http.DispatchSnippet)Unit" id="49386">overrideSnippetForClass</a><span class="delimiter">(</span><a title="String" id="378078">cls</a>: <span title="String">String</span>, <a title="net.liftweb.http.DispatchSnippet" id="378079">inst</a>: <a href="StatefulSnippet.scala.html#14717" title="net.liftweb.http.DispatchSnippet">DispatchSnippet</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <a href="#378079" title="net.liftweb.http.DispatchSnippet">inst</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Unit" id="416856">si</a>: <a href="StatefulSnippet.scala.html#14713" title="net.liftweb.http.StatefulSnippet">StatefulSnippet</a> =&gt; <a href="#416856" title="net.liftweb.http.StatefulSnippet">si</a>.<a href="StatefulSnippet.scala.html#193186" title="(name: String)Unit">addName</a><span class="delimiter">(</span><a href="#378078" title="String">cls</a><span class="delimiter">)</span>  <span class="comment">// addresses</span>
        <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
      <span class="delimiter">}</span>
    <a href="#49280" title="object S.this._statefulSnip">_statefulSnip</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75378" title="(what: Map[String,net.liftweb.http.DispatchSnippet])Map[String,net.liftweb.http.DispatchSnippet]">set</a><span title="Unit" class="delimiter">(</span><a href="#49280" title="object S.this._statefulSnip">_statefulSnip</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75375" title="=&gt; Map[String,net.liftweb.http.DispatchSnippet]">is</a>.<span title="(key: String, value: net.liftweb.http.DispatchSnippet)scala.collection.immutable.Map[String,net.liftweb.http.DispatchSnippet]">updated</span><span class="delimiter">(</span><a href="#378078" title="String">cls</a>, <a href="#378079" title="net.liftweb.http.DispatchSnippet">inst</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span><span class="delimiter">[</span>http<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(cls: String)Unit" id="49387">unsetSnippetForClass</a><span class="delimiter">(</span><a title="String" id="416889">cls</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="#49280" title="object S.this._statefulSnip">_statefulSnip</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75378" title="(what: Map[String,net.liftweb.http.DispatchSnippet])Map[String,net.liftweb.http.DispatchSnippet]">set</a><span title="Unit" class="delimiter">(</span><a href="#49280" title="object S.this._statefulSnip">_statefulSnip</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75375" title="=&gt; Map[String,net.liftweb.http.DispatchSnippet]">is</a> <span title="(key: String)scala.collection.immutable.Map[String,net.liftweb.http.DispatchSnippet]">-</span> <a href="#416889" title="String">cls</a><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">var</span> <a title="List[(net.liftweb.common.Box[net.liftweb.http.Req], Long, List[(String, Long)]) =&gt; Any]" id="49389">_queryAnalyzer</a>: <span title="List[(net.liftweb.common.Box[net.liftweb.http.Req], Long, List[(String, Long)]) =&gt; Any]">List</span><span class="delimiter">[</span><span class="delimiter">(</span>Box<span class="delimiter">[</span>Req<span class="delimiter">]</span>, Long,
          List<span class="delimiter">[</span><span class="delimiter">(</span>String, Long<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span> =&gt; Any<span class="delimiter">]</span> = <span title="object Nil">Nil</span>

  <span class="comment">/**
   * Add a query analyzer (passed queries for analysis or logging). The analyzer
   * methods are executed with the request, total time to process the request, and
   * the List of query log entries once the current request completes.
   *
   * @see # logQuery
   * @see # queryLog
   */</span>
  <span class="keyword">def</span> <a title="(f: (net.liftweb.common.Box[net.liftweb.http.Req], Long, List[(String, Long)]) =&gt; Any)Unit" id="49391">addAnalyzer</a><span class="delimiter">(</span><a title="(net.liftweb.common.Box[net.liftweb.http.Req], Long, List[(String, Long)]) =&gt; Any" id="416904">f</a>: <span class="delimiter">(</span>Box<span class="delimiter">[</span>Req<span class="delimiter">]</span>, Long,
          List<span class="delimiter">[</span><span class="delimiter">(</span>String, Long<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span> =&gt; Any<span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="#49389" title="(x$1: List[(net.liftweb.common.Box[net.liftweb.http.Req], Long, List[(String, Long)]) =&gt; Any])Unit">_queryAnalyzer</a> = <a href="#49389" title="=&gt; List[(net.liftweb.common.Box[net.liftweb.http.Req], Long, List[(String, Long)]) =&gt; Any]">_queryAnalyzer</a> <a href="#416906" title="(prefix: List[(net.liftweb.common.Box[net.liftweb.http.Req], Long, List[(String, Long)]) =&gt; Any])List[(net.liftweb.common.Box[net.liftweb.http.Req], Long, List[(String, Long)]) =&gt; Any]">:::</a> <span title="(xs: (net.liftweb.common.Box[net.liftweb.http.Req], Long, List[(String, Long)]) =&gt; Any*)List[(net.liftweb.common.Box[net.liftweb.http.Req], Long, List[(String, Long)]) =&gt; Any]">List</span><span class="delimiter">(</span><a href="#416904" title="(net.liftweb.common.Box[net.liftweb.http.Req], Long, List[(String, Long)]) =&gt; Any">f</a><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">var</span> <a title="List[net.liftweb.util.LoanWrapper]" id="49393">aroundRequest</a>: <span title="List[net.liftweb.util.LoanWrapper]">List</span><span class="delimiter">[</span>LoanWrapper<span class="delimiter">]</span> = <span title="object Nil">Nil</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="[B](ar: List[net.liftweb.util.LoanWrapper])(f: =&gt; B)B" id="49395">doAround</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="49397">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="List[net.liftweb.util.LoanWrapper]" id="416932">ar</a>: <span title="List[net.liftweb.util.LoanWrapper]">List</span><span class="delimiter">[</span>LoanWrapper<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; B" id="416933">f</a>: =&gt; B<span class="delimiter">)</span>: <a href="#49397" title="B">B</a> =
    <a href="#416932" title="List[net.liftweb.util.LoanWrapper]">ar</a> <span title="B" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="B">Nil</span> =&gt; <a href="#416933" title="=&gt; B">f</a>
      <span class="keyword">case</span> <a title="B" id="416942">x</a> :: <a title="List[net.liftweb.util.LoanWrapper]" id="416943">xs</a> =&gt; <a href="../../../../common/net/liftweb/common/LoanWrapper.scala.html#32624" title="(f: =&gt; B)B">x</a><span class="delimiter">(</span><a href="#49395" title="(ar: List[net.liftweb.util.LoanWrapper])(f: =&gt; B)B">doAround</a><span class="delimiter">(</span><a href="#416943" title="List[net.liftweb.util.LoanWrapper]">xs</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#416933" title="=&gt; B">f</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="comment">/**
   * You can wrap the handling of an HTTP request with your own wrapper.  The wrapper can
   * execute code before and after the request is processed (but still have S scope).
   * This allows for query analysis, etc. See S.addAround(LoanWrapper) for an example.
   * This version of the method takes a list of LoanWrappers that are applied in order.
   * This method is *NOT* intended to change the generated HTTP request or
   * to respond to requests early.  LoanWrappers are there to set up
   * and take down state *ONLY*.  The LoanWrapper may be called outside
   * the scope of an HTTP request (e.g., as part of an Actor invocation).
   *
   * @see # addAround ( LoanWrapper )
   * @see LoanWrapper
   */</span>
  <span class="keyword">def</span> <a title="(lw: List[net.liftweb.util.LoanWrapper])Unit" id="49398">addAround</a><span class="delimiter">(</span><a title="List[net.liftweb.util.LoanWrapper]" id="416967">lw</a>: <span title="List[net.liftweb.util.LoanWrapper]">List</span><span class="delimiter">[</span>LoanWrapper<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#49393" title="(x$1: List[net.liftweb.util.LoanWrapper])Unit">aroundRequest</a> = <a href="#416967" title="List[net.liftweb.util.LoanWrapper]">lw</a> <a href="#416969" title="(prefix: List[net.liftweb.util.LoanWrapper])List[net.liftweb.util.LoanWrapper]">:::</a> <a href="#49393" title="=&gt; List[net.liftweb.util.LoanWrapper]">aroundRequest</a>

  <span class="comment">/**
   * You can wrap the handling of an HTTP request with your own wrapper.  The wrapper can
   * execute code before and after the request is processed (but still have S scope).
   * This allows for query analysis, etc. Wrappers are chained, much like servlet filters,
   * so you can layer processing on the request. As an example, let's look at a wrapper that opens
   * a resource and makes it available via a RequestVar, then closes the resource when finished:
   *
   * &lt;pre name=&quot;code&quot; class=&quot;scala&quot; &gt;
   * import net.liftweb.http.{ ResourceVar,S }
   * import net.liftweb.util.LoanWrapper
   *
   * // Where &quot;ResourceType&quot; is defined by you
   * object myResource extends ResourceVar[ResourceType](...)
   *
   * class Boot  {
   *   def boot  {
   *     ...
   *     S.addAround(
   *       new LoanWrapper  {
   *         def apply[T](f: =&gt; T) : T =  {
   *           myResource(... code to open and return a resource instance ...)
   *           f() // This call propagates the request further down the &quot;chain&quot; for template processing, etc.
   *           myResource.is.close() // Release the resource
   * }
   * }
   *     )
   *     ...
   * }
   * }
   * &lt;/pre&gt;
   * This method is *NOT* intended to change the generated HTTP request or
   * to respond to requests early.  LoanWrappers are there to set up
   * and take down state *ONLY*.  The LoanWrapper may be called outside
   * the scope of an HTTP request (e.g., as part of an Actor invocation).
   *
   * @see # addAround ( LoanWrapper )
   * @see LoanWrapper
   */</span>
  <span class="keyword">def</span> <a title="(lw: net.liftweb.util.LoanWrapper)Unit" id="49399">addAround</a><span class="delimiter">(</span><a title="net.liftweb.util.LoanWrapper" id="416977">lw</a>: <a href="../../../../util/net/liftweb/util/LoanWrapper.scala.html#13462" title="net.liftweb.util.LoanWrapper">LoanWrapper</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#49393" title="(x$1: List[net.liftweb.util.LoanWrapper])Unit">aroundRequest</a> = <a href="#416977" title="net.liftweb.util.LoanWrapper">lw</a> <a href="#416979" title="(x: net.liftweb.util.LoanWrapper)List[net.liftweb.util.LoanWrapper]">::</a> <a href="#49393" title="=&gt; List[net.liftweb.util.LoanWrapper]">aroundRequest</a>

  <span class="comment">/**
   * Get a list of the logged queries. These log entries are added via the logQuery method, which
   * has a more detailed explanation of usage.
   *
   * @see # logQuery ( String, Long )
   * @see # addAnalyzer
   */</span>
  <span class="keyword">def</span> <a title="=&gt; List[(String, Long)]" id="49400">queryLog</a>: <span title="List[(String, Long)]">List</span><span class="delimiter">[</span><span class="delimiter">(</span>String, Long<span class="delimiter">)</span><span class="delimiter">]</span> = <a href="#49304" title="object S.this.p_queryLog">p_queryLog</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75375" title="=&gt; scala.collection.mutable.ListBuffer[(String, Long)]">is</a>.<span title="=&gt; List[(String, Long)]">toList</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="[B](f: () =&gt; B)B" id="49401">wrapQuery</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="49403">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="() =&gt; B" id="416988">f</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; B<span class="delimiter">)</span>: <a href="#49403" title="B">B</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Long" id="416991">begin</a> = <a href="../../../../util/net/liftweb/util/TimeHelpers.scala.html#48788" title="=&gt; Long">millis</a>
    <span class="keyword">try</span> <span class="delimiter">{</span>
      <a href="#416988" title="()B">f</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Long" id="416992">time</a> = <a href="../../../../util/net/liftweb/util/TimeHelpers.scala.html#48788" title="=&gt; Long">millis</a> <span title="(x: Long)Long">-</span> <a href="#416991" title="Long">begin</a>
      <a href="#49389" title="=&gt; List[(net.liftweb.common.Box[net.liftweb.http.Req], Long, List[(String, Long)]) =&gt; Any]">_queryAnalyzer</a>.<span title="(f: (net.liftweb.common.Box[net.liftweb.http.Req], Long, List[(String, Long)]) =&gt; Any =&gt; Any)Unit">foreach</span><span class="delimiter">(</span><a href="#417022" title="(v1: net.liftweb.common.Box[net.liftweb.http.Req], v2: Long, v3: List[(String, Long)])Any">_</a><span class="delimiter">(</span><a href="#49309" title="=&gt; net.liftweb.common.Box[net.liftweb.http.Req]">request</a>, <a href="#416992" title="Long">time</a>, <a href="#49400" title="=&gt; List[(String, Long)]">queryLog</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Sets a HTTP response header attribute. For example, you could set a &quot;Warn&quot; header in
   * your response:
   *
   * &lt;pre name=&quot;code&quot; class=&quot;scala&quot; &gt;
   *   ...
   *   S.setHeader(&quot;Warn&quot;, &quot;The cheese is old and moldy&quot;)
   *   ...
   * &lt;/pre&gt;
   *
   * @see # getHeaders
   */</span>
  <span class="keyword">def</span> <a title="(name: String, value: String)Unit" id="49404">setHeader</a><span class="delimiter">(</span><a title="String" id="417027">name</a>: <span title="String">String</span>, <a title="String" id="417028">value</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="../../../../common/net/liftweb/common/Box.scala.html#10572" title="object net.liftweb.common.Box">Box</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#28633" title="(in: net.liftweb.util.ResponseInfoHolder)net.liftweb.common.Box[net.liftweb.util.ResponseInfoHolder]">legacyNullTest</a><span class="delimiter">(</span><a href="#49282" title="=&gt; net.liftweb.util.ThreadGlobal[net.liftweb.util.ResponseInfoHolder]">_responseHeaders</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51270" title="=&gt; net.liftweb.util.ResponseInfoHolder">value</a><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27031" title="(f: net.liftweb.util.ResponseInfoHolder =&gt; Unit)Unit">foreach</a><span class="delimiter">(</span>
      <a title="net.liftweb.util.ResponseInfoHolder" id="417037">rh</a> =&gt;
              <a href="#417037" title="net.liftweb.util.ResponseInfoHolder">rh</a>.<a href="../../../../util/net/liftweb/util/JsonCmd.scala.html#302146" title="(x$1: Map[String,String])Unit">headers</a> = <a href="#417037" title="net.liftweb.util.ResponseInfoHolder">rh</a>.<a href="../../../../util/net/liftweb/util/JsonCmd.scala.html#302145" title="=&gt; Map[String,String]">headers</a> <span title="(kv: (String, String))scala.collection.immutable.Map[String,String]">+</span> <span class="delimiter">(</span><a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc">name</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58380" title="(in: String)net.liftweb.util.Helpers.TheStrBindParam">-&gt;</a> <a href="#417028" title="String">value</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns the currently set HTTP response headers as a List[(String, String)]. To retrieve
   * a specific response header, use S.getHeader. If you want to get request headers (those
   * sent by the client), use Req.getHeaders or S.getRequestHeader.
   *
   * @see # setHeader ( String, String )
   * @see # getHeader ( String )
   * @see # getRequestHeader ( String )
   */</span>
  <span class="keyword">def</span> <a title="(in: List[(String, String)])List[(String, String)]" id="49405">getHeaders</a><span class="delimiter">(</span><a title="List[(String, String)]" id="351710">in</a>: <span title="List[(String, String)]">List</span><span class="delimiter">[</span><span class="delimiter">(</span>String, String<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[(String, String)]">List</span><span class="delimiter">[</span><span class="delimiter">(</span>String, String<span class="delimiter">)</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="../../../../common/net/liftweb/common/Box.scala.html#10572" title="object net.liftweb.common.Box">Box</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#28633" title="(in: net.liftweb.util.ResponseInfoHolder)net.liftweb.common.Box[net.liftweb.util.ResponseInfoHolder]">legacyNullTest</a><span class="delimiter">(</span><a href="#49282" title="=&gt; net.liftweb.util.ThreadGlobal[net.liftweb.util.ResponseInfoHolder]">_responseHeaders</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51270" title="=&gt; net.liftweb.util.ResponseInfoHolder">value</a><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: net.liftweb.util.ResponseInfoHolder =&gt; List[(String, String)])net.liftweb.common.Box[List[(String, String)]]">map</a><span class="delimiter">(</span>
      <a title="net.liftweb.util.ResponseInfoHolder" id="417151">rh</a> =&gt;
              <a href="#417151" title="net.liftweb.util.ResponseInfoHolder">rh</a>.<a href="../../../../util/net/liftweb/util/JsonCmd.scala.html#302145" title="=&gt; Map[String,String]">headers</a>.<span title="=&gt; Iterator[(String, String)]">iterator</span>.<span title="=&gt; List[(String, String)]">toList</span> <a href="#417152" title="(prefix: List[(String, String)])List[(String, String)]">:::</a>
                      <a href="#351710" title="List[(String, String)]">in</a>.<span title="(p: (String, String) =&gt; Boolean)List[(String, String)]">filter</span> <a href="#417158" title="Boolean" class="delimiter">{</a><span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span><a title="String" id="417161">n</a>, <a title="String" id="417162">v</a><span class="delimiter">)</span> =&gt; <span title="=&gt; Boolean">!</span><a href="#417151" title="net.liftweb.util.ResponseInfoHolder">rh</a>.<a href="../../../../util/net/liftweb/util/JsonCmd.scala.html#302145" title="=&gt; Map[String,String]">headers</a>.<span title="(key: String)Boolean">contains</span><span class="delimiter">(</span><a href="#417161" title="String">n</a><span class="delimiter">)</span><span class="delimiter">}</span>
      <span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; List[(String, String)])List[(String, String)]">openOr</a><span class="delimiter">(</span><span title="object Nil">Nil</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns the current set value of the given HTTP response header as a Box. If
   * you want a request header, use Req.getHeader or S.getRequestHeader.
   *
   * @param name The name of the HTTP header to retrieve
   * @return A Full(value) or Empty if the header isn't set
   *
   * @see # setHeader ( String, String )
   * @see # getHeaders ( List[ ( String, String ) ] )
   * @see # getRequestHeader ( String )
   */</span>
  <span class="keyword">def</span> <a title="(name: String)net.liftweb.common.Box[String]" id="49406">getHeader</a><span class="delimiter">(</span><a title="String" id="417177">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[String]">Box</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="../../../../common/net/liftweb/common/Box.scala.html#10572" title="object net.liftweb.common.Box">Box</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#28633" title="(in: net.liftweb.util.ResponseInfoHolder)net.liftweb.common.Box[net.liftweb.util.ResponseInfoHolder]">legacyNullTest</a><span class="delimiter">(</span><a href="#49282" title="=&gt; net.liftweb.util.ThreadGlobal[net.liftweb.util.ResponseInfoHolder]">_responseHeaders</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51270" title="=&gt; net.liftweb.util.ResponseInfoHolder">value</a><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: net.liftweb.util.ResponseInfoHolder =&gt; net.liftweb.common.Box[String] with Serializable)net.liftweb.common.Box[net.liftweb.common.Box[String] with Serializable]">map</a><span class="delimiter">(</span>
      <a title="net.liftweb.util.ResponseInfoHolder" id="417185">rh</a> =&gt; <a href="../../../../common/net/liftweb/common/Box.scala.html#28602" title="(in: Option[String])net.liftweb.common.Box[String] with Serializable">Box</a><span class="delimiter">(</span><a href="#417185" title="net.liftweb.util.ResponseInfoHolder">rh</a>.<a href="../../../../util/net/liftweb/util/JsonCmd.scala.html#302145" title="=&gt; Map[String,String]">headers</a>.<span title="(key: String)Option[String]">get</span><span class="delimiter">(</span><a href="#417177" title="String">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; net.liftweb.common.Box[String] with Serializable)net.liftweb.common.Box[String] with Serializable">openOr</a><span class="delimiter">(</span><a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns the current value of the given HTTP request header as a Box. This is
   * really just a thin wrapper on Req.header(String). For response headers, see
   * S.getHeaders, S.setHeader, or S.getHeader.
   *
   * @param name The name of the HTTP header to retrieve
   * @return A Full(value) or Empty if the header isn't set
   *
   * @see Req # header ( String )
   * @see # getHeader ( String )
   * @see # setHeader ( String, String )
   * @see # getHeaders ( List[ ( String, String ) ] )
   */</span>
  <span class="keyword">def</span> <a title="(name: String)net.liftweb.common.Box[String]" id="49407">getRequestHeader</a><span class="delimiter">(</span><a title="String" id="417311">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[String]">Box</a><span class="delimiter">[</span>String<span class="delimiter">]</span> =
    <span class="keyword">for</span> <span class="delimiter">(</span><a title="net.liftweb.http.Req" id="417316">req</a> &lt;- <a href="../../../../common/net/liftweb/common/Box.scala.html#27023" title="(f: net.liftweb.http.Req =&gt; net.liftweb.common.Box[String])net.liftweb.common.Box[String]">request</a>;
         <a title="String" id="417321">hdr</a> &lt;- <a href="#417316" title="net.liftweb.http.Req">req</a>.<a href="Req.scala.html#149178" title="(name: String)net.liftweb.common.Box[String]">header</a><a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: String =&gt; String)net.liftweb.common.Box[String]" class="delimiter">(</a><a href="#417311" title="String">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">yield</span> <a href="#417321" title="String">hdr</a>

  <span class="comment">/**
   * Sets the document type for the response. If this is not set, the DocType for Lift responses
   * defaults to XHTML 1.0 Transitional.
   *
   * @see getDocType
   * @see ResponseInfo.docType
   * @see DocType
   */</span>
  <span class="keyword">def</span> <a title="(what: net.liftweb.common.Box[String])Unit" id="49408">setDocType</a><span class="delimiter">(</span><a title="net.liftweb.common.Box[String]" id="327640">what</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[String]">Box</a><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="../../../../common/net/liftweb/common/Box.scala.html#10572" title="object net.liftweb.common.Box">Box</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#28633" title="(in: net.liftweb.util.ResponseInfoHolder)net.liftweb.common.Box[net.liftweb.util.ResponseInfoHolder]">legacyNullTest</a><span class="delimiter">(</span><a href="#49282" title="=&gt; net.liftweb.util.ThreadGlobal[net.liftweb.util.ResponseInfoHolder]">_responseHeaders</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51270" title="=&gt; net.liftweb.util.ResponseInfoHolder">value</a><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27031" title="(f: net.liftweb.util.ResponseInfoHolder =&gt; Unit)Unit">foreach</a><span class="delimiter">(</span>
      <a title="net.liftweb.util.ResponseInfoHolder" id="417330">rh</a> =&gt;
              <a href="#417330" title="net.liftweb.util.ResponseInfoHolder">rh</a>.<a href="../../../../util/net/liftweb/util/JsonCmd.scala.html#302155" title="(in: net.liftweb.common.Box[String])Unit">docType</a> = <a href="#327640" title="net.liftweb.common.Box[String]">what</a>
      <span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns the document type that was set for the response. The default is XHTML 1.0
   * Transitional.
   *
   * @see setDocType
   * @see DocType
   */</span>
  <span class="keyword">def</span> <a title="=&gt; (Boolean, net.liftweb.common.Box[String])" id="49409">getDocType</a>: <span title="(Boolean, net.liftweb.common.Box[String])" class="delimiter">(</span>Boolean, Box<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="../../../../common/net/liftweb/common/Box.scala.html#10572" title="object net.liftweb.common.Box">Box</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#28633" title="(in: net.liftweb.util.ResponseInfoHolder)net.liftweb.common.Box[net.liftweb.util.ResponseInfoHolder]">legacyNullTest</a><span class="delimiter">(</span><a href="#49282" title="=&gt; net.liftweb.util.ThreadGlobal[net.liftweb.util.ResponseInfoHolder]">_responseHeaders</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51270" title="=&gt; net.liftweb.util.ResponseInfoHolder">value</a><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: net.liftweb.util.ResponseInfoHolder =&gt; (Boolean, net.liftweb.common.Box[String]))net.liftweb.common.Box[(Boolean, net.liftweb.common.Box[String])]">map</a><span class="delimiter">(</span>
    <a title="net.liftweb.util.ResponseInfoHolder" id="417339">rh</a> =&gt; <span title="(_1: Boolean, _2: net.liftweb.common.Box[String])(Boolean, net.liftweb.common.Box[String])" class="delimiter">(</span><a href="#417339" title="net.liftweb.util.ResponseInfoHolder">rh</a>.<a href="../../../../util/net/liftweb/util/JsonCmd.scala.html#302156" title="=&gt; Boolean">overrodeDocType</a>, <a href="#417339" title="net.liftweb.util.ResponseInfoHolder">rh</a>.<a href="../../../../util/net/liftweb/util/JsonCmd.scala.html#302154" title="=&gt; net.liftweb.common.Box[String]">docType</a><span class="delimiter">)</span>
    <span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; (Boolean, net.liftweb.common.Box[String]))(Boolean, net.liftweb.common.Box[String])">openOr</a><span class="delimiter">(</span><span title="(_1: Boolean, _2: net.liftweb.common.Empty.type)(Boolean, net.liftweb.common.Empty.type)" class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a><span class="delimiter">)</span><span class="delimiter">)</span>


  <span class="keyword">private</span> <span class="keyword">object</span> <a title="object S.this._skipDocType" id="49410">_skipDocType</a> <span title="ScalaObject" class="keyword">extends</span> <a href="Vars.scala.html#14776" title="net.liftweb.http.TransientRequestVar[Boolean]">TransientRequestVar</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>

  <span class="comment">/**
   * When this is true, Lift will not emit a DocType definition at the start of the response
   * content. If you're sending XHTML and this is set to true, you need to include the DocType
   * in your template.
   *
   * @see # skipDocType_ =(Boolean)
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="49412">skipDocType</a>: <span title="Boolean">Boolean</span> = <a href="#49410" title="object S.this._skipDocType">_skipDocType</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75375" title="=&gt; Boolean">is</a>

  <span class="comment">/**
   * Sets Lift's DocType behavior. If this is set to true, Lift will not emit a DocType definition
   * at the start of the response content. If you're sending XHTML and this is set to true, you need
   * to include the DocType in your template.
   *
   * @param skip Set to &lt;code&gt;true&lt;/code&gt; to prevent Lift from emitting a DocType in its response
   *
   * @see # skipDocType
   */</span>
  <span class="keyword">def</span> <a title="(skip: Boolean)Unit" id="49413">skipDocType_=</a><span class="delimiter">(</span><a title="Boolean" id="341898">skip</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> <span class="delimiter">{</span><a href="#49410" title="object S.this._skipDocType">_skipDocType</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75378" title="(what: Boolean)Boolean">set</a><span title="Unit" class="delimiter">(</span><a href="#341898" title="Boolean">skip</a><span class="delimiter">)</span><span class="delimiter">}</span>

  <span class="comment">/**
   * Adds a cleanup function that will be executed at the end of the request pocessing.
   * Exceptions thrown from these functions will be swallowed, so make sure to handle any
   * expected exceptions within your function.
   *
   * @param f The function to execute at the end of the request.
   */</span>
  <span class="keyword">def</span> <a title="(f: () =&gt; Unit)Unit" id="49414">addCleanupFunc</a><span class="delimiter">(</span><a title="() =&gt; Unit" id="417370">f</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Unit<span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#49294" title="object S.this.postFuncs">postFuncs</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75375" title="=&gt; scala.collection.mutable.ListBuffer[() =&gt; Unit]">is</a> <span title="(x: () =&gt; Unit)scala.collection.mutable.ListBuffer[() =&gt; Unit]">+=</span> <a href="#417370" title="() =&gt; Unit">f</a>

  <span class="comment">/**
   * Are we currently in the scope of a stateful request
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="49415">statefulRequest_?</a> : <span title="Boolean">Boolean</span> = <a href="#49382" title="=&gt; net.liftweb.common.Box[net.liftweb.http.LiftSession]">session</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Boolean">Full</span><span class="delimiter">(</span><a title="net.liftweb.http.LiftSession" id="417397">s</a><span class="delimiter">)</span> =&gt; <a href="#417397" title="net.liftweb.http.LiftSession">s</a>.<a href="LiftSession.scala.html#230327" title="=&gt; Boolean">stateful_?</a>
    <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="[B](f: () =&gt; B)B" id="49416">_nest2InnerInit</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="49418">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="() =&gt; B" id="417398">f</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; B<span class="delimiter">)</span>: <a href="#49418" title="B">B</a> = <span class="delimiter">{</span>
    <a href="#49268" title="=&gt; net.liftweb.util.ThreadGlobal[Map[String,net.liftweb.http.S.AFuncHolder]]">__functionMap</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51274" title="(x: Map[String,net.liftweb.http.S.AFuncHolder])(f: =&gt; B)B">doWith</a><span class="delimiter">(</span><span title="(elems: (String, Nothing)*)scala.collection.immutable.Map[String,Nothing]">Map</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#49395" title="(ar: List[net.liftweb.util.LoanWrapper])(f: =&gt; B)B">doAround</a><span class="delimiter">(</span><a href="#49393" title="=&gt; List[net.liftweb.util.LoanWrapper]">aroundRequest</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">try</span> <span class="delimiter">{</span>
          <a href="#49401" title="(f: () =&gt; B)B">wrapQuery</a> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="net.liftweb.common.Box[net.liftweb.http.Req]" id="417426">req</a> = <a href="#14643" title="S.this.type" class="keyword">this</a>.<a href="#49309" title="=&gt; net.liftweb.common.Box[net.liftweb.http.Req]">request</a>
            <a href="#49382" title="=&gt; net.liftweb.common.Box[net.liftweb.http.LiftSession]">session</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Unit">Full</span><span class="delimiter">(</span><a title="net.liftweb.http.LiftSession" id="417428">s</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#417428" title="net.liftweb.http.LiftSession">s</a>.<a href="LiftSession.scala.html#230327" title="=&gt; Boolean">stateful_?</a> =&gt;
                <a href="LiftRules.scala.html#158817" title="implicit net.liftweb.http.LiftRulesMocker.toLiftRules : (in: net.liftweb.http.LiftRulesMocker)net.liftweb.http.LiftRules">LiftRules</a>.<a href="LiftRules.scala.html#159105" title="=&gt; net.liftweb.http.LiftRules#RulesSeq[net.liftweb.common.Box[net.liftweb.http.Req] =&gt; Unit]">earlyInStateful</a>.<a href="LiftRules.scala.html#185552" title="=&gt; List[net.liftweb.common.Box[net.liftweb.http.Req] =&gt; Unit]">toList</a>.<span title="(f: net.liftweb.common.Box[net.liftweb.http.Req] =&gt; Unit =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#417460" title="(v1: net.liftweb.common.Box[net.liftweb.http.Req])Unit">_</a><span class="delimiter">(</span><a href="#417426" title="net.liftweb.common.Box[net.liftweb.http.Req]">req</a><span class="delimiter">)</span><span class="delimiter">)</span>
              
              <span class="keyword">case</span> <span title="Unit">Full</span><span class="delimiter">(</span><a title="net.liftweb.http.LiftSession" id="417464">s</a><span class="delimiter">)</span> =&gt; 
                <a href="LiftRules.scala.html#158817" title="implicit net.liftweb.http.LiftRulesMocker.toLiftRules : (in: net.liftweb.http.LiftRulesMocker)net.liftweb.http.LiftRules">LiftRules</a>.<a href="LiftRules.scala.html#159107" title="=&gt; net.liftweb.http.LiftRules#RulesSeq[net.liftweb.common.Box[net.liftweb.http.Req] =&gt; Unit]">earlyInStateless</a>.<a href="LiftRules.scala.html#185552" title="=&gt; List[net.liftweb.common.Box[net.liftweb.http.Req] =&gt; Unit]">toList</a>.<span title="(f: net.liftweb.common.Box[net.liftweb.http.Req] =&gt; Unit =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#417492" title="(v1: net.liftweb.common.Box[net.liftweb.http.Req])Unit">_</a><span class="delimiter">(</span><a href="#417426" title="net.liftweb.common.Box[net.liftweb.http.Req]">req</a><span class="delimiter">)</span><span class="delimiter">)</span>

              <span class="keyword">case</span> <span title="Unit">_</span> =&gt; 
            <span class="delimiter">}</span>
            <a href="#417398" title="() =&gt; B">f</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
          <a href="#49294" title="object S.this.postFuncs">postFuncs</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75375" title="=&gt; scala.collection.mutable.ListBuffer[() =&gt; Unit]">is</a>.<span title="(f: () =&gt; Unit =&gt; net.liftweb.common.Box[Unit])Unit">foreach</span><span class="delimiter">(</span><a title="() =&gt; Unit" id="417517">f</a> =&gt; <a href="../../../../util/net/liftweb/util/ControlHelpers.scala.html#48608" title="(f: =&gt; Unit)net.liftweb.common.Box[Unit]">tryo</a><span class="delimiter">(</span><a href="#417517" title="()Unit">f</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(old: net.liftweb.http.Req)net.liftweb.http.Req" id="49419">doStatefulRewrite</a><span class="delimiter">(</span><a title="net.liftweb.http.Req" id="417562">old</a>: <a href="Req.scala.html#14573" title="net.liftweb.http.Req">Req</a><span class="delimiter">)</span>: <a href="Req.scala.html#14573" title="net.liftweb.http.Req">Req</a> = <span class="delimiter">{</span>
    <span class="comment">// Don't even try to rewrite Req.nil</span>
    <span title="net.liftweb.http.Req" class="keyword">if</span> <span class="delimiter">(</span><a href="#49415" title="=&gt; Boolean">statefulRequest_?</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
        <span title="=&gt; Boolean">!</span><a href="#417562" title="net.liftweb.http.Req">old</a>.<a href="Req.scala.html#149137" title="=&gt; net.liftweb.http.ParsePath">path</a>.<a href="Req.scala.html#216847" title="=&gt; List[String]">partPath</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
        <span class="delimiter">(</span><a href="#417562" title="net.liftweb.http.Req">old</a>.<a href="Req.scala.html#149145" title="=&gt; net.liftweb.http.provider.HTTPRequest">request</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="Req.scala.html#185912" title="(original: net.liftweb.http.Req, rewrite: List[net.liftweb.http.LiftRules.RewritePF], statelessTest: List[net.liftweb.http.LiftRules.StatelessTestPF], otherStatelessTest: List[net.liftweb.http.LiftRules.StatelessReqTestPF])net.liftweb.http.Req">Req</a><span class="delimiter">(</span><a href="#417562" title="net.liftweb.http.Req">old</a>, <a href="#14641" title="object net.liftweb.http.S">S</a>.<a href="#49331" title="=&gt; List[net.liftweb.http.S.RewriteHolder]">sessionRewriter</a>.<span title="(f: net.liftweb.http.S.RewriteHolder =&gt; net.liftweb.http.LiftRules.RewritePF)(implicit bf: scala.collection.generic.CanBuildFrom[List[net.liftweb.http.S.RewriteHolder],net.liftweb.http.LiftRules.RewritePF,List[net.liftweb.http.LiftRules.RewritePF]])List[net.liftweb.http.LiftRules.RewritePF]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,net.liftweb.http.LiftRules.RewritePF,List[net.liftweb.http.LiftRules.RewritePF]]" class="delimiter">(</span><a href="#417596" title="net.liftweb.http.S.RewriteHolder">_</a>.<a href="#414204" title="=&gt; net.liftweb.http.LiftRules.RewritePF">rewrite</a><span class="delimiter">)</span> <a href="#417572" title="(prefix: List[PartialFunction[net.liftweb.http.RewriteRequest,net.liftweb.http.RewriteResponse]])List[PartialFunction[net.liftweb.http.RewriteRequest,net.liftweb.http.RewriteResponse]]">:::</a> 
          <a href="LiftRules.scala.html#158817" title="implicit net.liftweb.http.LiftRulesMocker.toLiftRules : (in: net.liftweb.http.LiftRulesMocker)net.liftweb.http.LiftRules">LiftRules</a>.<a href="LiftRules.scala.html#159101" title="=&gt; net.liftweb.http.LiftRules#RulesSeq[PartialFunction[net.liftweb.http.RewriteRequest,net.liftweb.http.RewriteResponse]]">statefulRewrite</a>.<a href="LiftRules.scala.html#185552" title="=&gt; List[PartialFunction[net.liftweb.http.RewriteRequest,net.liftweb.http.RewriteResponse]]">toList</a>, <a href="LiftRules.scala.html#158817" title="implicit net.liftweb.http.LiftRulesMocker.toLiftRules : (in: net.liftweb.http.LiftRulesMocker)net.liftweb.http.LiftRules">LiftRules</a>.<a href="LiftRules.scala.html#158886" title="=&gt; net.liftweb.http.LiftRules#RulesSeq[PartialFunction[List[java.lang.String],Boolean]]">statelessTest</a>.<a href="LiftRules.scala.html#185552" title="=&gt; List[PartialFunction[List[java.lang.String],Boolean]]">toList</a>,
      <a href="LiftRules.scala.html#158817" title="implicit net.liftweb.http.LiftRulesMocker.toLiftRules : (in: net.liftweb.http.LiftRulesMocker)net.liftweb.http.LiftRules">LiftRules</a>.<a href="LiftRules.scala.html#158888" title="=&gt; net.liftweb.http.LiftRules#RulesSeq[PartialFunction[net.liftweb.http.StatelessReqTest,Boolean]]">statelessReqTest</a>.<a href="LiftRules.scala.html#185552" title="=&gt; List[PartialFunction[net.liftweb.http.StatelessReqTest,Boolean]]">toList</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#417562" title="net.liftweb.http.Req">old</a>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="[B](request: net.liftweb.http.Req, f: () =&gt; B)B" id="49420">_innerInit</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="49422">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="net.liftweb.http.Req" id="417647">request</a>: <a href="Req.scala.html#14573" title="net.liftweb.http.Req">Req</a>, <a title="() =&gt; B" id="417648">f</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; B<span class="delimiter">)</span>: <a href="#49422" title="B">B</a> = <span class="delimiter">{</span>
    <a href="#49286" title="=&gt; net.liftweb.util.ThreadGlobal[Boolean]">_lifeTime</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51274" title="(x: Boolean)(f: =&gt; B)B">doWith</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#49274" title="=&gt; net.liftweb.util.ThreadGlobal[(scala.xml.MetaData, List[(Either[String,(String, String)], String)])]">_attrs</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51274" title="(x: (scala.xml.MetaData, List[(Either[String,(String, String)], String)]))(f: =&gt; B)B">doWith</a><span class="delimiter">(</span><span title="(_1: scala.xml.Null.type, _2: scala.collection.immutable.Nil.type)(scala.xml.Null.type, scala.collection.immutable.Nil.type)" class="delimiter">(</span><span title="object scala.xml.Null">Null</span>,<span title="object Nil">Nil</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#49278" title="=&gt; net.liftweb.util.ThreadGlobal[List[java.util.ResourceBundle]]">_resBundle</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51274" title="(x: List[java.util.ResourceBundle])(f: =&gt; B)B">doWith</a><span class="delimiter">(</span><span title="object Nil">Nil</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#49270" title="=&gt; net.liftweb.util.ThreadGlobal[Boolean]">inS</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51274" title="(x: Boolean)(f: =&gt; B)B">doWith</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#49423" title="(req: net.liftweb.http.Req)(f: =&gt; B)B">withReq</a><span class="delimiter">(</span><a href="#49419" title="(old: net.liftweb.http.Req)net.liftweb.http.Req">doStatefulRewrite</a><span class="delimiter">(</span><a href="#417647" title="net.liftweb.http.Req">request</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#49416" title="(f: () =&gt; B)B">_nest2InnerInit</a><span class="delimiter">(</span><a href="#417648" title="() =&gt; B">f</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span><span class="delimiter">[</span>http<span class="delimiter">]</span> <span class="keyword">def</span> <a title="[T](req: net.liftweb.http.Req)(f: =&gt; T)T" id="49423">withReq</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="49425">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="net.liftweb.http.Req" id="411553">req</a>: <a href="Req.scala.html#14573" title="net.liftweb.http.Req">Req</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; T" id="411554">f</a>: =&gt; T<span class="delimiter">)</span>: <a href="#49425" title="T">T</a> = <span class="delimiter">{</span>
    <a href="Req.scala.html#14555" title="object net.liftweb.http.CurrentReq">CurrentReq</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51274" title="(x: net.liftweb.http.Req)(f: =&gt; T)T">doWith</a><span class="delimiter">(</span><a href="#411553" title="net.liftweb.http.Req">req</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#49266" title="=&gt; net.liftweb.util.ThreadGlobal[net.liftweb.http.Req]">_request</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51274" title="(x: net.liftweb.http.Req)(f: =&gt; T)T">doWith</a><span class="delimiter">(</span><a href="#411553" title="net.liftweb.http.Req">req</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#411554" title="=&gt; T">f</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * @return a List[Cookie] even if the underlying request's Cookies are null.
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(request: net.liftweb.common.Box[net.liftweb.http.provider.HTTPRequest])List[net.liftweb.http.provider.HTTPCookie]" id="49426">getCookies</a><span class="delimiter">(</span><a title="net.liftweb.common.Box[net.liftweb.http.provider.HTTPRequest]" id="417720">request</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.http.provider.HTTPRequest]">Box</a><span class="delimiter">[</span>HTTPRequest<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[net.liftweb.http.provider.HTTPCookie]">List</span><span class="delimiter">[</span>HTTPCookie<span class="delimiter">]</span> =
    <span class="keyword">for</span> <span class="delimiter">(</span><a title="net.liftweb.http.provider.HTTPRequest" id="417745">r</a> &lt;- <span class="delimiter">(</span><a href="#417720" title="net.liftweb.common.Box[net.liftweb.http.provider.HTTPRequest]">request</a><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27051" title="(f: net.liftweb.http.provider.HTTPRequest =&gt; scala.collection.GenTraversableOnce[net.liftweb.http.provider.HTTPCookie])(implicit bf: scala.collection.generic.CanBuildFrom[List[net.liftweb.http.provider.HTTPRequest],net.liftweb.http.provider.HTTPCookie,List[net.liftweb.http.provider.HTTPCookie]])List[net.liftweb.http.provider.HTTPCookie]">toList</a>;
         <a title="List[net.liftweb.http.provider.HTTPCookie]" id="417772">ca</a> &lt;- <a href="../../../../common/net/liftweb/common/Box.scala.html#10572" title="object net.liftweb.common.Box">Box</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#28633" title="(in: List[net.liftweb.http.provider.HTTPCookie])net.liftweb.common.Box[List[net.liftweb.http.provider.HTTPCookie]]">legacyNullTest</a><span class="delimiter">(</span><a href="#417745" title="net.liftweb.http.provider.HTTPRequest">r</a>.<a href="provider/HTTPRequest.scala.html#216861" title="=&gt; List[net.liftweb.http.provider.HTTPCookie]">cookies</a><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27051" title="(f: List[net.liftweb.http.provider.HTTPCookie] =&gt; scala.collection.GenTraversableOnce[net.liftweb.http.provider.HTTPCookie])(implicit bf: scala.collection.generic.CanBuildFrom[List[List[net.liftweb.http.provider.HTTPCookie]],net.liftweb.http.provider.HTTPCookie,List[net.liftweb.http.provider.HTTPCookie]])List[net.liftweb.http.provider.HTTPCookie]">toList</a>;
         <a title="net.liftweb.http.provider.HTTPCookie" id="417789">c</a> &lt;- <a href="#417772" title="(f: net.liftweb.http.provider.HTTPCookie =&gt; net.liftweb.http.provider.HTTPCookie)(implicit bf: scala.collection.generic.CanBuildFrom[List[net.liftweb.http.provider.HTTPCookie],net.liftweb.http.provider.HTTPCookie,List[net.liftweb.http.provider.HTTPCookie]])List[net.liftweb.http.provider.HTTPCookie]">ca</a><span class="delimiter">)</span> <span class="keyword">yield</span> <a href="#417789" title="net.liftweb.http.provider.HTTPCookie">c</a>


  <span class="keyword">private</span> <span class="keyword">def</span> <a title="[B](request: net.liftweb.http.Req, session: net.liftweb.http.LiftSession)(f: () =&gt; B)B" id="49427">_init</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="49429">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="net.liftweb.http.Req" id="416766">request</a>: <a href="Req.scala.html#14573" title="net.liftweb.http.Req">Req</a>, <a title="net.liftweb.http.LiftSession" id="416767">session</a>: <a href="LiftSession.scala.html#14496" title="net.liftweb.http.LiftSession">LiftSession</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="() =&gt; B" id="416768">f</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; B<span class="delimiter">)</span>: <a href="#49429" title="B">B</a> =
    <a href="#14643" title="S.this.type" class="keyword">this</a>.<a href="#49266" title="=&gt; net.liftweb.util.ThreadGlobal[net.liftweb.http.Req]">_request</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51274" title="(x: net.liftweb.http.Req)(f: =&gt; B)B">doWith</a><span class="delimiter">(</span><a href="#416766" title="net.liftweb.http.Req">request</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#49276" title="=&gt; net.liftweb.util.ThreadGlobal[net.liftweb.http.LiftSession]">_sessionInfo</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51274" title="(x: net.liftweb.http.LiftSession)(f: =&gt; B)B">doWith</a><span class="delimiter">(</span><a href="#416767" title="net.liftweb.http.LiftSession">session</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#49282" title="=&gt; net.liftweb.util.ThreadGlobal[net.liftweb.util.ResponseInfoHolder]">_responseHeaders</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51274" title="(x: net.liftweb.util.ResponseInfoHolder)(f: =&gt; B)B">doWith</a><span class="delimiter">(</span><span title="net.liftweb.util.ResponseInfoHolder" class="keyword">new</span> <a href="../../../../util/net/liftweb/util/JsonCmd.scala.html#13412" title="net.liftweb.util.ResponseInfoHolder">ResponseInfoHolder</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="Vars.scala.html#398173" title="(session: net.liftweb.common.Box[net.liftweb.http.LiftSession], f: =&gt; B)B">TransientRequestVarHandler</a><span class="delimiter">(</span><a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: net.liftweb.http.LiftSession)net.liftweb.common.Full[net.liftweb.http.LiftSession]">Full</a><span class="delimiter">(</span><a href="#416767" title="net.liftweb.http.LiftSession">session</a><span class="delimiter">)</span>,
            <a href="Vars.scala.html#398173" title="(session: net.liftweb.common.Box[net.liftweb.http.LiftSession], f: =&gt; B)B">RequestVarHandler</a><span class="delimiter">(</span><a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: net.liftweb.http.LiftSession)net.liftweb.common.Full[net.liftweb.http.LiftSession]">Full</a><span class="delimiter">(</span><a href="#416767" title="net.liftweb.http.LiftSession">session</a><span class="delimiter">)</span>,
              <a href="#49284" title="=&gt; net.liftweb.util.ThreadGlobal[net.liftweb.http.S.CookieHolder]">_responseCookies</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51274" title="(x: net.liftweb.http.S.CookieHolder)(f: =&gt; B)B">doWith</a><span class="delimiter">(</span><a href="#414190" title="(inCookies: List[net.liftweb.http.provider.HTTPCookie], outCookies: List[net.liftweb.http.provider.HTTPCookie])net.liftweb.http.S.CookieHolder">CookieHolder</a><span class="delimiter">(</span><a href="#49426" title="(request: net.liftweb.common.Box[net.liftweb.http.provider.HTTPRequest])List[net.liftweb.http.provider.HTTPCookie]">getCookies</a><span class="delimiter">(</span><a href="#49472" title="=&gt; net.liftweb.common.Box[net.liftweb.http.provider.HTTPRequest]">containerRequest</a><span class="delimiter">)</span>, <span title="object Nil">Nil</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../../util/net/liftweb/util/Props.scala.html#13579" title="object net.liftweb.util.Props">Props</a>.<a href="../../../../util/net/liftweb/util/Props.scala.html#151319" title="=&gt; Boolean">devMode</a><span class="delimiter">)</span> <a href="LiftRules.scala.html#158817" title="implicit net.liftweb.http.LiftRulesMocker.toLiftRules : (in: net.liftweb.http.LiftRulesMocker)net.liftweb.http.LiftRules">LiftRules</a>.<a href="LiftRules.scala.html#159027" title="=&gt; net.liftweb.common.Box[net.liftweb.sitemap.SiteMap]">siteMap</a> <span class="comment">// materialize the sitemap very early</span>
                <a href="#49420" title="(request: net.liftweb.http.Req, f: () =&gt; B)B">_innerInit</a><span class="delimiter">(</span><a href="#416766" title="net.liftweb.http.Req">request</a>, <a href="#416768" title="() =&gt; B">f</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">)</span>
          <span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <span class="comment">/**
   * This method is a convenience accessor for LiftRules.loggedInTest. You can define your own
   * function to check to see if a user is logged in there and this will call it.
   *
   * @see LiftRules.loggedInTest
   *
   * @return the value from executing LiftRules.loggedInTest, or &lt;code&gt;false&lt;/code&gt; if a test function
   * is not defined.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="49430">loggedIn_?</a> : <span title="Boolean">Boolean</span> = <a href="LiftRules.scala.html#158817" title="implicit net.liftweb.http.LiftRulesMocker.toLiftRules : (in: net.liftweb.http.LiftRulesMocker)net.liftweb.http.LiftRules">LiftRules</a>.<a href="LiftRules.scala.html#159189" title="=&gt; net.liftweb.common.Box[() =&gt; Boolean]">loggedInTest</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: () =&gt; Boolean =&gt; Boolean)net.liftweb.common.Box[Boolean]">map</a><span class="delimiter">(</span><a href="#417946" title="() =&gt; Boolean">_</a>.<span title="()Boolean">apply</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; Boolean)Boolean">openOr</a> <span title="Boolean(false)" class="keyword">false</span>

  <span class="comment">/**
   * Returns the 'Referer' HTTP header attribute.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; net.liftweb.common.Box[String]" id="49431">referer</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[String]">Box</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="#49472" title="=&gt; net.liftweb.common.Box[net.liftweb.http.provider.HTTPRequest]">containerRequest</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27023" title="(f: net.liftweb.http.provider.HTTPRequest =&gt; net.liftweb.common.Box[String])net.liftweb.common.Box[String]">flatMap</a><span class="delimiter">(</span><a href="#417957" title="net.liftweb.http.provider.HTTPRequest">_</a>.<a href="provider/HTTPRequest.scala.html#216864" title="(name: String)net.liftweb.common.Box[String]">header</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Referer&quot;)" class="string">&quot;Referer&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>


  <span class="comment">/**
   * Functions that are mapped to HTML elements are, by default,
   * garbage collected if they are not seen in the browser in the last 10 minutes (defined in LiftRules.unusedFunctionsLifeTime).
   * In some cases (e.g., JSON handlers), you may want to extend the
   * lifespan of the functions to the lifespan of the session.
   *
   * @param span If &lt;code&gt;true&lt;/code&gt;, extend the mapped function lifetime to the life of the session
   * @param f A function to execute in the context of specified span
   *
   * @see LiftRules.unusedFunctionsLifeTime
   */</span>
  <span class="keyword">def</span> <a title="[T](span: Boolean)(f: =&gt; T)T" id="49432">functionLifespan</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="49434">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Boolean" id="345577">span</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; T" id="345578">f</a>: =&gt; T<span class="delimiter">)</span>: <a href="#49434" title="T">T</a> =
    <a href="#49286" title="=&gt; net.liftweb.util.ThreadGlobal[Boolean]">_lifeTime</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51274" title="(x: Boolean)(f: =&gt; T)T">doWith</a><span class="delimiter">(</span><a href="#345577" title="Boolean">span</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#345578" title="=&gt; T">f</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Returns whether functions are currently extended to the lifetime of the session.
   *
   * @return &lt;code&gt;true&lt;/code&gt; if mapped functions will currently last the life of the session.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="49435">functionLifespan_?</a> : <span title="Boolean">Boolean</span> = <a href="#49286" title="=&gt; net.liftweb.util.ThreadGlobal[Boolean]">_lifeTime</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51271" title="=&gt; net.liftweb.common.Box[Boolean]">box</a> <a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; Boolean)Boolean">openOr</a> <span title="Boolean(false)" class="keyword">false</span>

  <span class="comment">/**
   * Get a list of current attributes. Each attribute item is a pair of (key,value). The key
   * is an Either that depends on whether the attribute is prefixed or not. If the attribute
   * is prefixed, the key is a Right((prefix, name)). If the attribute is unprefixed then the
   * key is a Left(name). For example, the following table shows how various tag attributes
   * would be represented:
   *
   * &lt;table&gt;
   *   &lt;tr&gt;
   *     &lt;th&gt;Snippet Tag&lt;/th&gt;
   *     &lt;th&gt;Parsed attrs&lt;/th&gt;
   *   &lt;/tr&gt;
   *   &lt;tr&gt;
   *     &lt;td&gt;&amp;lt;lift:MySnippet testname=&quot;test&quot; /&amp;gt;&lt;/td&gt;
   *     &lt;td&gt;List((Left(&quot;testname&quot;), &quot;test&quot;))&lt;/td&gt;
   *   &lt;/tr&gt;
   *   &lt;tr&gt;
   *     &lt;td&gt;&amp;lt;lift:MySnippet anchor:name=&quot;test&quot; /&amp;gt;&lt;/td&gt;
   *     &lt;td&gt;List((Right((&quot;anchor&quot;, &quot;name&quot;)), &quot;test&quot;))&lt;/td&gt;
   *   &lt;/tr&gt;
   * &lt;/table&gt;
   *
   * &lt;p&gt;The prefixedAttrsToMap method provides a convenient way to retrieve only attributes with
   * a given prefix. The prefixedAttrsToMetaData method can be used to add attributes onto an XML
   * node&lt;/p&gt;
   *
   * @see # prefixedAttrsToMap ( String )
   * @see # prefixedAttrsToMap ( String, Map )
   * @see # prefixedAttrsToMetaData ( String )
   * @see # prefixedAttrsToMetaData ( String, Map )
   */</span>
  <span class="keyword">def</span> <a title="=&gt; List[(Either[String,(String, String)], String)]" id="49436">attrs</a>: <span title="List[(Either[String,(String, String)], String)]">List</span><span class="delimiter">[</span><span class="delimiter">(</span>Either<span class="delimiter">[</span>String, <span class="delimiter">(</span>String, String<span class="delimiter">)</span><span class="delimiter">]</span>, String<span class="delimiter">)</span><span class="delimiter">]</span> = <a href="#14641" title="object net.liftweb.http.S">S</a>.<a href="#49274" title="=&gt; net.liftweb.util.ThreadGlobal[(scala.xml.MetaData, List[(Either[String,(String, String)], String)])]">_attrs</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51270" title="=&gt; (scala.xml.MetaData, List[(Either[String,(String, String)], String)])">value</a> <span title="List[(Either[String,(String, String)], String)]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type" class="keyword">null</span> =&gt; <span title="object Nil">Nil</span>
    <span class="keyword">case</span> <span title="List[(Either[String,(String, String)], String)]" class="delimiter">(</span><a title="scala.xml.MetaData" id="417973">current</a>,<a title="List[(Either[String,(String, String)], String)]" id="417974">full</a><span class="delimiter">)</span> =&gt; <a href="#417974" title="List[(Either[String,(String, String)], String)]">full</a>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns the S attributes that are prefixed by 'prefix' parameter as a Map[String, String]
   * that will be 'merged' with the 'start' Map
   *
   * @param prefix the prefix to be matched
   * @param start the initial Map
   *
   * @return Map[String, String]
   *
   * @see # prefixedAttrsToMap ( String )
   * @see # prefixedAttrsToMetaData ( String )
   * @see # prefixedAttrsToMetaData ( String, Map )
   *
   */</span>
  <span class="keyword">def</span> <a title="(prefix: String, start: Map[String,String])Map[String,String]" id="49437">prefixedAttrsToMap</a><span class="delimiter">(</span><a title="String" id="329800">prefix</a>: <span title="String">String</span>, <a title="Map[String,String]" id="329801">start</a>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span> =
    <a href="#49436" title="=&gt; List[(Either[String,(String, String)], String)]">attrs</a>.<span title="=&gt; List[(Either[String,(String, String)], String)]">reverse</span>.<span title="(f: (Either[String,(String, String)], String) =&gt; scala.collection.GenTraversableOnce[(String, String)])(implicit bf: scala.collection.generic.CanBuildFrom[List[(Either[String,(String, String)], String)],(String, String),List[(String, String)]])List[(String, String)]">flatMap</span> <a href="#417999" title="List[(String, String)]" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="List[(String, String)]" class="delimiter">(</span>Right<span class="delimiter">(</span><span class="delimiter">(</span><a title="String" id="418005">pre</a>, <a title="String" id="418006">name</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a title="String" id="418007">value</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#418005" title="String">pre</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#329800" title="String">prefix</a> =&gt; <span title="(xs: (String, String)*)List[(String, String)]">List</span><span class="delimiter">(</span><span title="(_1: String, _2: String)(String, String)" class="delimiter">(</span><a href="#418006" title="String">name</a>, <a href="#418007" title="String">value</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="List[net.liftweb.util.Helpers.TheStrBindParam]" class="delimiter">(</span>Left<span class="delimiter">(</span><a title="String" id="418028">name</a><span class="delimiter">)</span>, <a title="String" id="418029">value</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#418028" title="String">name</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><a href="#329800" title="String">prefix</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span class="delimiter">)</span> =&gt; <span title="(xs: net.liftweb.util.Helpers.TheStrBindParam*)List[net.liftweb.util.Helpers.TheStrBindParam]">List</span><span class="delimiter">(</span><a href="#418028" title="String">name</a>.<span title="(x$1: Int)java.lang.String">substring</span><a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="delimiter">(</a><a href="#329800" title="String">prefix</a>.<span title="()Int">length</span> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58380" title="(in: String)net.liftweb.util.Helpers.TheStrBindParam">-&gt;</a> <a href="#418029" title="String">value</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">_</span> =&gt; <span title="object Nil">Nil</span>
    <span class="delimiter">}</span>.<span title="(z: Map[String,String])(f: ((String, String), Map[String,String]) =&gt; Map[String,String])Map[String,String]">foldRight</span><span class="delimiter">(</span><a href="#329801" title="Map[String,String]">start</a><span class="delimiter">)</span> <a href="#418137" title="Map[String,String]" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="scala.collection.immutable.Map[String,String]" class="delimiter">(</span><span class="delimiter">(</span><a title="String" id="418149">name</a>, <a title="String" id="418150">value</a><span class="delimiter">)</span>, <a title="Map[String,String]" id="418151">at</a><span class="delimiter">)</span> =&gt; <a href="#418151" title="Map[String,String]">at</a> <span title="(kv: (String, String))scala.collection.immutable.Map[String,String]">+</span> <span class="delimiter">(</span><a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc">name</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58380" title="(in: String)net.liftweb.util.Helpers.TheStrBindParam">-&gt;</a> <a href="#418150" title="String">value</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns the S attributes that are prefixed by 'prefix' parameter as a Map[String, String]
   *
   * @param prefix the prefix to be matched
   *
   * @return Map[String, String]
   *
   * @see # prefixedAttrsToMap ( String, Map )
   * @see # prefixedAttrsToMetaData ( String )
   * @see # prefixedAttrsToMetaData ( String, Map )
   *
   */</span>
  <span class="keyword">def</span> <a title="(prefix: String)Map[String,String]" id="49438">prefixedAttrsToMap</a><span class="delimiter">(</span><a title="String" id="329798">prefix</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span> =
    <a href="#49437" title="(prefix: String, start: Map[String,String])Map[String,String]">prefixedAttrsToMap</a><span class="delimiter">(</span><a href="#329798" title="String">prefix</a>: <span title="String">String</span>, <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="scala.collection.immutable.Map[String,Nothing]">empty</span><span class="delimiter">)</span>

  <span class="comment">/**
   * &lt;p&gt;Returns the S attributes that are prefixed by 'prefix' parameter as a MetaData.
   * The start Map will be 'merged' with the Map resulted after prefix matching and
   * the result Map will be converted to a MetaData. The MetaData can be used to add attributes
   * back onto XML elements via Scala's '%' method. For example, if we wanted to add
   * attributes prefixed with &quot;anchor&quot; to any &amp;lt;a&amp;gt; elements we create, we could
   * do something like:&lt;/p&gt;
   *
   * &lt;pre name=&quot;code&quot; class=&quot;scala&quot; &gt;
   *   val myLink = (&lt;a href= {...} &gt;...&lt;/a&gt;) % S.prefixedAttrsToMetaData(&quot;anchor&quot;, Map(&quot;id&quot; -&gt; &quot;myAnchor&quot;))
   * &lt;/pre&gt;
   *
   * @param prefix the prefix to be matched
   * @param start the initial Map
   *
   * @return MetaData representing the combination of current attributes plus the start Map of attributes
   *
   * @see # prefixedAttrsToMap ( String )
   * @see # prefixedAttrsToMap ( String, Map )
   * @see # prefixedAttrsToMetaData ( String )
   *
   */</span>
  <span class="keyword">def</span> <a title="(prefix: String, start: Map[String,String])scala.xml.MetaData" id="49439">prefixedAttrsToMetaData</a><span class="delimiter">(</span><a title="String" id="329888">prefix</a>: <span title="String">String</span>, <a title="Map[String,String]" id="329889">start</a>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="scala.xml.MetaData">MetaData</span> =
    <a href="#49441" title="(in: Map[String,String])scala.xml.MetaData">mapToAttrs</a><span class="delimiter">(</span><a href="#49437" title="(prefix: String, start: Map[String,String])Map[String,String]">prefixedAttrsToMap</a><span class="delimiter">(</span><a href="#329888" title="String">prefix</a>, <a href="#329889" title="Map[String,String]">start</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Similar with prefixedAttrsToMetaData(prefix: String, start: Map[String, String])
   * but there is no 'start' Map
   */</span>
  <span class="keyword">def</span> <a title="(prefix: String)scala.xml.MetaData" id="49440">prefixedAttrsToMetaData</a><span class="delimiter">(</span><a title="String" id="329886">prefix</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="scala.xml.MetaData">MetaData</span> = <a href="#49439" title="(prefix: String, start: Map[String,String])scala.xml.MetaData">prefixedAttrsToMetaData</a><span class="delimiter">(</span><a href="#329886" title="String">prefix</a>, <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="scala.collection.immutable.Map[String,Nothing]">empty</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Converts a Map[String, String] into a MetaData instance. This can be used to
   * add attributes to an XML element based on a map of attribute-&gt;value pairs. See
   * prefixedAttrsToMetaData(String,Map) for an example.
   *
   * @param in The map of attributes
   *
   * @return MetaData representing the Map of attributes as unprefixed attributes.
   *
   * @see # prefixedAttrsToMetaData ( String, Map )
   *
   */</span>
  <span class="keyword">def</span> <a title="(in: Map[String,String])scala.xml.MetaData" id="49441">mapToAttrs</a><span class="delimiter">(</span><a title="Map[String,String]" id="329803">in</a>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="scala.xml.MetaData">MetaData</span> =
    <a href="#329803" title="Map[String,String]">in</a>.<span title="[B](z: B)(op: (B, (String, String)) =&gt; B)B">foldLeft</span><span title="(z: scala.xml.MetaData)(op: (scala.xml.MetaData, (String, String)) =&gt; scala.xml.MetaData)scala.xml.MetaData" class="delimiter">[</span><span title="scala.xml.MetaData">MetaData</span><span class="delimiter">]</span><span class="delimiter">(</span><span title="object scala.xml.Null">Null</span><span class="delimiter">)</span> <a href="#418273" title="scala.xml.MetaData" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="scala.xml.UnprefixedAttribute" class="delimiter">(</span><a title="scala.xml.MetaData" id="418283">md</a>, <span class="delimiter">(</span><a title="String" id="418286">name</a>, <a title="String" id="418287">value</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <span title="(key: String, value: String, next: scala.xml.MetaData)scala.xml.UnprefixedAttribute" class="keyword">new</span> <span title="scala.xml.UnprefixedAttribute">UnprefixedAttribute</span><span class="delimiter">(</span><a href="#418286" title="String">name</a>, <a href="#418287" title="String">value</a>, <a href="#418283" title="scala.xml.MetaData">md</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="comment">/**
   * Converts the S.attrs to a Map[String, String]. The key of the map depends on whether
   * the attribute is prefixed or not. Prefixed attributes have keys of the form
   * &quot;prefix:name&quot;, while unprefixed attributes have keys of the form &quot;name&quot;. If you only want
   * attributes for a specific prefix, use prefixedAttrsToMap.
   *
   * @see # prefixedAttrsToMap ( String )
   * @see # prefixedAttrsToMap ( String, Map )
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Map[String,String]" id="49442">attrsFlattenToMap</a>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span> = <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="scala.collection.immutable.Map[String,Nothing]">empty</span> <span title="(xs: scala.collection.GenTraversableOnce[(String, String)])scala.collection.immutable.Map[String,String]">++</span> <a href="#49436" title="=&gt; List[(Either[String,(String, String)], String)]">attrs</a>.<span title="(f: (Either[String,(String, String)], String) =&gt; scala.collection.GenTraversableOnce[(String, String)])(implicit bf: scala.collection.generic.CanBuildFrom[List[(Either[String,(String, String)], String)],(String, String),scala.collection.GenTraversableOnce[(String, String)]])scala.collection.GenTraversableOnce[(String, String)]">flatMap</span> <a href="#418359" title="List[(String, String)]" class="delimiter">{</a>
    <span class="keyword">case</span> <span title="List[(String, String)]" class="delimiter">(</span>Left<span class="delimiter">(</span><a title="String" id="418363">key</a><span class="delimiter">)</span>, <a title="String" id="418364">value</a><span class="delimiter">)</span> =&gt; <span title="(xs: (String, String)*)List[(String, String)]">List</span><span class="delimiter">(</span><span title="(_1: String, _2: String)(String, String)" class="delimiter">(</span><a href="#418363" title="String">key</a>, <a href="#418364" title="String">value</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="List[(java.lang.String, String)]" class="delimiter">(</span>Right<span class="delimiter">(</span><span class="delimiter">(</span><a title="String" id="418383">prefix</a>, <a title="String" id="418384">key</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a title="String" id="418385">value</a><span class="delimiter">)</span> =&gt; <span title="(xs: (java.lang.String, String)*)List[(java.lang.String, String)]">List</span><span class="delimiter">(</span><span title="(_1: java.lang.String, _2: String)(java.lang.String, String)" class="delimiter">(</span><a href="#418383" title="String">prefix</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#418384" title="String">key</a>, <a href="#418385" title="String">value</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">_</span> =&gt; <span title="object Nil">Nil</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Converts S.attrs attributes to a MetaData object that can be used to add
   * attributes to one or more XML elements. Similar to prefixedAttrsToMetaData, except
   * that it handles both prefixed and unprefixed attributes. This version of the method will
   * use all of the currently set attributes from S.attrs. If you want to filter it, use the
   * attrsToMetaData(String =&gt; Boolean) version, which allows you to specify a predicate
   * function for filtering. For example, if you want all of the current attributes to be
   * added to a div tag, you could do:
   *
   * &lt;pre name=&quot;code&quot; class=&quot;scala&quot; &gt;
   * val myDiv = (&lt;div&gt; {...} &lt;/div&gt;) % S.attrsToMetaData
   * &lt;/pre&gt;
   *
   * @return a MetaData instance representing all attributes in S.attrs
   *
   * @see # attrsToMetaData ( String = &gt; Boolean )
   */</span>
  <span class="keyword">def</span> <a title="=&gt; scala.xml.MetaData" id="49443">attrsToMetaData</a>: <span title="scala.xml.MetaData">MetaData</span> = <a href="#49444" title="(predicate: String =&gt; Boolean)scala.xml.MetaData">attrsToMetaData</a><span class="delimiter">(</span><a title="String" id="418441">ignore</a> =&gt; <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Similar to S.attrsToMetaData, but lets you specify a predicate function that filters the
   * generated MetaData. For example, if you only wanted the &quot;id&quot; attribute, you could do:
   *
   * &lt;pre name=&quot;code&quot; class=&quot;scala&quot; &gt;
   * val myDiv = (&lt;div&gt; {...} &lt;/div&gt;) % S.attrsToMetaData(_.equalsIgnoreCase(&quot;id&quot;))
   * &lt;/pre&gt;
   *
   * @param predicate The predicate function which is executed for each attribute name. If the function
   * returns &lt;code&gt;true&lt;/code&gt;, then the attribute is included in the MetaData.
   *
   * @see # attrsToMetaData
   *
   */</span>
  <span class="keyword">def</span> <a title="(predicate: String =&gt; Boolean)scala.xml.MetaData" id="49444">attrsToMetaData</a><span class="delimiter">(</span><a title="String =&gt; Boolean" id="418436">predicate</a>: String =&gt; Boolean<span class="delimiter">)</span>: <span title="scala.xml.MetaData">MetaData</span> = <span class="delimiter">{</span>
    <a href="#49436" title="=&gt; List[(Either[String,(String, String)], String)]">attrs</a>.<span title="[B](z: B)(f: (B, (Either[String,(String, String)], String)) =&gt; B)B">foldLeft</span><span title="(z: scala.xml.MetaData)(f: (scala.xml.MetaData, (Either[String,(String, String)], String)) =&gt; scala.xml.MetaData)scala.xml.MetaData" class="delimiter">[</span><span title="scala.xml.MetaData">MetaData</span><span class="delimiter">]</span><span class="delimiter">(</span><span title="object scala.xml.Null">Null</span><span class="delimiter">)</span> <a href="#418456" title="scala.xml.MetaData" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="scala.xml.UnprefixedAttribute" class="delimiter">(</span><a title="scala.xml.MetaData" id="418466">md</a>, <span class="delimiter">(</span>Left<span class="delimiter">(</span><a title="String" id="418470">name</a><span class="delimiter">)</span>, <a title="String" id="418471">value</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#418436" title="(v1: String)Boolean">predicate</a><span class="delimiter">(</span><a href="#418470" title="String">name</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <span title="(key: String, value: String, next: scala.xml.MetaData)scala.xml.UnprefixedAttribute" class="keyword">new</span> <span title="scala.xml.UnprefixedAttribute">UnprefixedAttribute</span><span class="delimiter">(</span><a href="#418470" title="String">name</a>, <a href="#418471" title="String">value</a>, <a href="#418466" title="scala.xml.MetaData">md</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="scala.xml.PrefixedAttribute" class="delimiter">(</span><a title="scala.xml.MetaData" id="418479">md</a>, <span class="delimiter">(</span>Right<span class="delimiter">(</span><span class="delimiter">(</span><a title="String" id="418485">prefix</a>, <a title="String" id="418486">name</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a title="String" id="418487">value</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#418436" title="(v1: String)Boolean">predicate</a><span class="delimiter">(</span><a href="#418486" title="String">name</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <span title="(pre: String, key: String, value: String, next: scala.xml.MetaData)scala.xml.PrefixedAttribute" class="keyword">new</span> <span title="scala.xml.PrefixedAttribute">PrefixedAttribute</span><span class="delimiter">(</span><a href="#418485" title="String">prefix</a>, <a href="#418486" title="String">name</a>, <a href="#418487" title="String">value</a>, <a href="#418479" title="scala.xml.MetaData">md</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="scala.xml.Null.type">_</span> =&gt; <span title="object scala.xml.Null">Null</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Converts S.attrs attributes to a MetaData object that can be used to add
   * attributes to one or more XML elements. Similar to prefixedAttrsToMetaData, except
   * that it handles both prefixed and unprefixed attributes. This version of the method will
   * use all of the currently set attributes from S.attrs. If you want to filter it, use the
   * currentAttrsToMetaData(String =&gt; Boolean) version, which allows you to specify a predicate
   * function for filtering. For example, if you want all of the current attributes to be
   * added to a div tag, you could do:
   *
   * &lt;pre name=&quot;code&quot; class=&quot;scala&quot; &gt;
   * val myDiv = (&lt;div&gt; {...} &lt;/div&gt;) % S.attrsToMetaData
   * &lt;/pre&gt;
   *
   * @return a MetaData instance representing all attributes in S.attrs
   *
   * @see # attrsToMetaData ( String = &gt; Boolean )
   */</span>
  <span class="keyword">def</span> <a title="=&gt; scala.xml.MetaData" id="49445">currentAttrsToMetaData</a>: <span title="scala.xml.MetaData">MetaData</span> = <a href="#49446" title="(predicate: String =&gt; Boolean)scala.xml.MetaData">currentAttrsToMetaData</a><span class="delimiter">(</span><a title="String" id="418499">ignore</a> =&gt; <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Similar to S.attrsToMetaData, but lets you specify a predicate function that filters the
   * generated MetaData. For example, if you only wanted the &quot;id&quot; attribute, you could do:
   *
   * &lt;pre name=&quot;code&quot; class=&quot;scala&quot; &gt;
   * val myDiv = (&lt;div&gt; {...} &lt;/div&gt;) % S.attrsToMetaData(_.equalsIgnoreCase(&quot;id&quot;))
   * &lt;/pre&gt;
   *
   * @param predicate The predicate function which is executed for each attribute name. If the function
   * returns &lt;code&gt;true&lt;/code&gt;, then the attribute is included in the MetaData.
   *
   * @see # attrsToMetaData
   *
   */</span>
  <span class="keyword">def</span> <a title="(predicate: String =&gt; Boolean)scala.xml.MetaData" id="49446">currentAttrsToMetaData</a><span class="delimiter">(</span><a title="String =&gt; Boolean" id="325153">predicate</a>: String =&gt; Boolean<span class="delimiter">)</span>: <span title="scala.xml.MetaData">MetaData</span> = <span class="delimiter">{</span>
    <a href="#49458" title="=&gt; scala.xml.MetaData">currentAttrs</a>.<span title="(f: scala.xml.MetaData =&gt; Boolean)scala.xml.MetaData">filter</span><span class="delimiter">(</span><a title="scala.xml.MetaData" id="418506">a</a> =&gt; <a href="#325153" title="(v1: String)Boolean">predicate</a><span class="delimiter">(</span><a href="#418506" title="scala.xml.MetaData">a</a>.<span title="=&gt; String">key</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Find and process a template. This can be used to load a template from within some other Lift processing,
   * such as a snippet or view. If you just want to retrieve the XML contents of a template, use
   * Templates.apply.
   *
   * @param path The path for the template that you want to process
   * @param snips any snippet mapping specific to this template run
   * @return a Full Box containing the processed template, or a Failure if the template could not be found.
   *
   * @see TempalateFinder # apply
   */</span>
  <span class="keyword">def</span> <a title="(path: List[String], snips: (String, scala.xml.NodeSeq =&gt; scala.xml.NodeSeq)*)net.liftweb.common.Box[scala.xml.NodeSeq]" id="49447">runTemplate</a><span class="delimiter">(</span><a title="List[String]" id="418508">path</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span>, <a title="(String, scala.xml.NodeSeq =&gt; scala.xml.NodeSeq)*" id="418509">snips</a>: <span title="(String, scala.xml.NodeSeq =&gt; scala.xml.NodeSeq)*" class="delimiter">(</span>String,  NodeSeq =&gt; NodeSeq<span class="delimiter">)</span>*<span class="delimiter">)</span>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[scala.xml.NodeSeq]">Box</a><span class="delimiter">[</span>NodeSeq<span class="delimiter">]</span> =
    <a href="#49490" title="(snips: (String, scala.xml.NodeSeq =&gt; scala.xml.NodeSeq)*)(f: =&gt; net.liftweb.common.Box[scala.xml.NodeSeq])net.liftweb.common.Box[scala.xml.NodeSeq]">mapSnippetsWith</a><span class="delimiter">(</span><a href="#418509" title="(String, scala.xml.NodeSeq =&gt; scala.xml.NodeSeq)*">snips</a> :_*<span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">for</span><span class="delimiter">{</span>
        <a title="scala.xml.NodeSeq" id="418529">t</a> &lt;- <a href="Templates.scala.html#342662" title="(places: List[String])net.liftweb.common.Box[scala.xml.NodeSeq]">Templates</a><span class="delimiter">(</span><a href="#418508" title="List[String]">path</a><span class="delimiter">)</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#27023" title="(f: scala.xml.NodeSeq =&gt; net.liftweb.common.Box[scala.xml.NodeSeq])net.liftweb.common.Box[scala.xml.NodeSeq]">?~</a> <span class="delimiter">(</span><span title="java.lang.String(&quot;Couldn\'t find template &quot;)" class="string">&quot;Couldn't find template &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#418508" title="List[String]">path</a><span class="delimiter">)</span>
        <a title="net.liftweb.http.LiftSession" id="418534">sess</a> &lt;- <a href="#49382" title="=&gt; net.liftweb.common.Box[net.liftweb.http.LiftSession]">session</a> <a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: net.liftweb.http.LiftSession =&gt; scala.xml.NodeSeq)net.liftweb.common.Box[scala.xml.NodeSeq]">?~</a> <span title="java.lang.String(&quot;No current session&quot;)" class="string">&quot;No current session&quot;</span>
      <span class="delimiter">}</span> <span class="keyword">yield</span> <a href="#418534" title="net.liftweb.http.LiftSession">sess</a>.<a href="LiftSession.scala.html#230307" title="(page: String, in: scala.xml.NodeSeq)scala.xml.NodeSeq">processSurroundAndInclude</a><span class="delimiter">(</span><a href="#418508" title="List[String]">path</a>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span>, <span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>, <a href="#418529" title="scala.xml.NodeSeq">t</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>


  <span class="comment">/**
   * Evaluate a template for snippets. This can be used to run a template
   * from within some other Lift processing,
   * such as a snippet or view.
   *
   * @param template the HTML template to run through the Snippet re-writing process
   * @param snips any snippet mapping specific to this template run
   * @return a Full Box containing the processed template, or a Failure if the template could not be found.
   */</span>
  <span class="keyword">def</span> <a title="(template: scala.xml.NodeSeq, snips: (String, scala.xml.NodeSeq =&gt; scala.xml.NodeSeq)*)net.liftweb.common.Box[scala.xml.NodeSeq]" id="49448">eval</a><span class="delimiter">(</span><a title="scala.xml.NodeSeq" id="418541">template</a>: <span title="scala.xml.NodeSeq">NodeSeq</span>, <a title="(String, scala.xml.NodeSeq =&gt; scala.xml.NodeSeq)*" id="418542">snips</a>: <span title="(String, scala.xml.NodeSeq =&gt; scala.xml.NodeSeq)*" class="delimiter">(</span>String,  NodeSeq =&gt; NodeSeq<span class="delimiter">)</span>*<span class="delimiter">)</span>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[scala.xml.NodeSeq]">Box</a><span class="delimiter">[</span>NodeSeq<span class="delimiter">]</span> =
    <a href="#49490" title="(snips: (String, scala.xml.NodeSeq =&gt; scala.xml.NodeSeq)*)(f: =&gt; net.liftweb.common.Box[scala.xml.NodeSeq])net.liftweb.common.Box[scala.xml.NodeSeq]">mapSnippetsWith</a><span class="delimiter">(</span><a href="#418542" title="(String, scala.xml.NodeSeq =&gt; scala.xml.NodeSeq)*">snips</a> :_*<span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">for</span><span class="delimiter">{</span>
        <a title="net.liftweb.http.LiftSession" id="418551">sess</a> &lt;- <a href="#49382" title="=&gt; net.liftweb.common.Box[net.liftweb.http.LiftSession]">session</a> <a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: net.liftweb.http.LiftSession =&gt; scala.xml.NodeSeq)net.liftweb.common.Box[scala.xml.NodeSeq]">?~</a> <span title="java.lang.String(&quot;No current session&quot;)" class="string">&quot;No current session&quot;</span>
      <span class="delimiter">}</span> <span class="keyword">yield</span> <a href="#418551" title="net.liftweb.http.LiftSession">sess</a>.<a href="LiftSession.scala.html#230307" title="(page: String, in: scala.xml.NodeSeq)scala.xml.NodeSeq">processSurroundAndInclude</a><span class="delimiter">(</span><span title="java.lang.String(&quot;HTML Constant&quot;)" class="string">&quot;HTML Constant&quot;</span>, <a href="#418541" title="scala.xml.NodeSeq">template</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="comment">/**
   * Used to get an attribute by its name. There are several means to getting
   * attributes:
   *
   * &lt;pre name=&quot;code&quot; class=&quot;scala&quot;&gt;
  // Get a Box for the attribute:
  val myAttr = S.attr(&quot;test&quot;) openOr &quot;Not found&quot;

  // Get an attribute or return a default value:
  val myAttr = S.attr(&quot;name&quot;, &quot;Fred&quot;)

  // Apply a transform function on the attribute value, or return an Empty:
  val pageSize = S.attr(&quot;count&quot;, _.toInt) openOr 20

  // There are also prefixed versions:
  val prefixedAttr = S.attr(&quot;prefix&quot;, &quot;name&quot;) openOr &quot;Not found&quot;
   * &lt;/pre&gt;
   *
   * Note that this uses the data held in S.attrs, which means that
   * it will find attributes through the entire snippet nesting stack.
   * For example, given the snippets:
   *
   * &lt;pre name=&quot;code&quot; class=&quot;xml&quot;&gt;
   * &amp;lt;lift:MyStuff.snippetA foo=&quot;bar&quot;&gt;
   *   &amp;lt;lift.MyStuff.snippetB&gt;...&amp;lt;/lift.MyStuff.snippetB&gt;
   * &amp;lt;/lift:MyStuff.snippetA&gt;
   * &lt;/pre&gt;
   *
   * Calling &lt;code&gt;S.attr(&quot;foo&quot;)&lt;/code&gt; from snippetB will return
   * &lt;code&gt;Full(&quot;bar&quot;)&lt;/code&gt;.
   */</span>
  <span class="keyword">object</span> <a title="object S.this.attr" id="49449">attr</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#13108" title="net.liftweb.util.AttrHelper[net.liftweb.common.Box]">AttrHelper</a><span class="delimiter">[</span>Box<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">type</span> <a title="String" id="196158">Info</a> = <span title="String">String</span>

    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(key: String)Option[net.liftweb.http.S.attr.Info]" id="196159">findAttr</a><span class="delimiter">(</span><a title="String" id="418556">key</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Option[net.liftweb.http.S.attr.Info]">Option</span><span class="delimiter">[</span>Info<span class="delimiter">]</span> =
      <a href="#49436" title="=&gt; List[(Either[String,(String, String)], String)]">attrs</a>.<span title="(p: (Either[String,(String, String)], String) =&gt; Boolean)Option[(Either[String,(String, String)], String)]">find</span> <a href="#418567" title="Boolean" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="Boolean(true)" class="delimiter">(</span>Left<span class="delimiter">(</span><a title="String" id="418571">v</a><span class="delimiter">)</span>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#418571" title="String">v</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#418556" title="String">key</a> =&gt; <span title="Boolean(true)" class="keyword">true</span>
        <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
      <span class="delimiter">}</span>.<span title="(f: (Either[String,(String, String)], String) =&gt; String)Option[String]">map</span><span class="delimiter">(</span><a href="#418580" title="(Either[String,(String, String)], String)">_</a>.<span title="=&gt; String">_2</span><span class="delimiter">)</span>

    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(prefix: String, key: String)Option[net.liftweb.http.S.attr.Info]" id="196160">findAttr</a><span class="delimiter">(</span><a title="String" id="418582">prefix</a>: <span title="String">String</span>, <a title="String" id="418583">key</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Option[net.liftweb.http.S.attr.Info]">Option</span><span class="delimiter">[</span>Info<span class="delimiter">]</span> =
      <a href="#49436" title="=&gt; List[(Either[String,(String, String)], String)]">attrs</a>.<span title="(p: (Either[String,(String, String)], String) =&gt; Boolean)Option[(Either[String,(String, String)], String)]">find</span> <a href="#418594" title="Boolean" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="Boolean(true)" class="delimiter">(</span>Right<span class="delimiter">(</span><span class="delimiter">(</span><a title="String" id="418600">p</a>, <a title="String" id="418601">n</a><span class="delimiter">)</span><span class="delimiter">)</span>, _<span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#418600" title="String">p</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#418582" title="String">prefix</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#418601" title="String">n</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#418583" title="String">key</a><span class="delimiter">)</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>
        <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
      <span class="delimiter">}</span>.<span title="(f: (Either[String,(String, String)], String) =&gt; String)Option[String]">map</span><span class="delimiter">(</span><a href="#418613" title="(Either[String,(String, String)], String)">_</a>.<span title="=&gt; String">_2</span><span class="delimiter">)</span>

    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="[T](in: Option[T])net.liftweb.common.Box[T]" id="196161">convert</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="196163">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Option[T]" id="418615">in</a>: <span title="Option[T]">Option</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[T]">Box</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="../../../../common/net/liftweb/common/Box.scala.html#28602" title="(in: Option[T])net.liftweb.common.Box[T] with Serializable">Box</a><span class="delimiter">(</span><a href="#418615" title="Option[T]">in</a><span class="delimiter">)</span>

    <span class="comment">/**
     * Returns the unprefixed attribute value as an Option[NodeSeq]
     * for easy addition to the attributes
     */</span>
    <span class="keyword">def</span> <a title="(key: String)Option[scala.xml.NodeSeq]" id="196164">~</a><span class="delimiter">(</span><a title="String" id="325126">key</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Option[scala.xml.NodeSeq]">Option</span><span class="delimiter">[</span>NodeSeq<span class="delimiter">]</span> = <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#196136" title="(key: String)net.liftweb.common.Box[net.liftweb.http.S.attr.Info]">apply</a><span class="delimiter">(</span><a href="#325126" title="String">key</a><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27052" title="=&gt; Option[net.liftweb.http.S.attr.Info]">toOption</a>.<span title="(f: net.liftweb.http.S.attr.Info =&gt; scala.xml.Text)Option[scala.xml.Text]">map</span><span class="delimiter">(</span><span title="object scala.xml.Text">Text</span><span class="delimiter">)</span>

    <span class="comment">/**
     * Returns the prefixed attribute value as an Option[NodeSeq]
     * for easy addition to the attributes
     */</span>
    <span class="keyword">def</span> <a title="(prefix: String, key: String)Option[scala.xml.NodeSeq]" id="196165">~</a><span class="delimiter">(</span><a title="String" id="325123">prefix</a>: <span title="String">String</span>, <a title="String" id="325124">key</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Option[scala.xml.NodeSeq]">Option</span><span class="delimiter">[</span>NodeSeq<span class="delimiter">]</span> = <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#196137" title="(prefix: String, key: String)net.liftweb.common.Box[net.liftweb.http.S.attr.Info]">apply</a><span class="delimiter">(</span><a href="#325123" title="String">prefix</a>, <a href="#325124" title="String">key</a><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27052" title="=&gt; Option[net.liftweb.http.S.attr.Info]">toOption</a>.<span title="(f: net.liftweb.http.S.attr.Info =&gt; scala.xml.Text)Option[scala.xml.Text]">map</span><span class="delimiter">(</span><span title="object scala.xml.Text">Text</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Temporarily adds the given attributes to the current set, then executes the given function.
   *
   * @param attr The attributes to set temporarily
   */</span>
  @deprecated<span class="delimiter">(</span><span class="string">&quot;Use the S.withAttrs method instead&quot;</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="[T](attr: scala.xml.MetaData)(f: =&gt; T)T" id="49451">setVars</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="49453">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.xml.MetaData" id="418755">attr</a>: <span title="scala.xml.MetaData">MetaData</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; T" id="418756">f</a>: =&gt; T<span class="delimiter">)</span>: <a href="#49453" title="T">T</a> = <a href="#49459" title="(attrs: scala.xml.MetaData)(f: =&gt; T)T">withAttrs</a><span class="delimiter">(</span><a href="#418755" title="scala.xml.MetaData">attr</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#418756" title="=&gt; T">f</a><span class="delimiter">)</span>

  <span class="comment">/**
   * A function that will eagerly evaluate a template.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; scala.xml.NodeSeq =&gt; scala.xml.NodeSeq" id="49454">eagerEval</a> : NodeSeq =&gt; NodeSeq = <a title="scala.xml.NodeSeq" id="418768">ns</a> =&gt; <span class="delimiter">{</span>
    <a href="#14641" title="object net.liftweb.http.S">S</a>.<a href="#49382" title="=&gt; net.liftweb.common.Box[net.liftweb.http.LiftSession]">session</a> <span title="scala.xml.NodeSeq" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="scala.xml.NodeSeq">Full</span><span class="delimiter">(</span><a title="net.liftweb.http.LiftSession" id="418770">session</a><span class="delimiter">)</span> =&gt; <a href="#418770" title="net.liftweb.http.LiftSession">session</a>.<a href="LiftSession.scala.html#230307" title="(page: String, in: scala.xml.NodeSeq)scala.xml.NodeSeq">processSurroundAndInclude</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Eager Eval&quot;)" class="string">&quot;Eager Eval&quot;</span>, <a href="#418768" title="scala.xml.NodeSeq">ns</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="scala.xml.NodeSeq">_</span> =&gt; <a href="#418768" title="scala.xml.NodeSeq">ns</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Initialize the current request session if it's not already initialized.
   * Generally this is handled by Lift during request processing, but this
   * method is available in case you want to use S outside the scope
   * of a request (standard HTTP or Comet).
   *
   * @param session the LiftSession for this request
   * @param f A function to execute within the scope of the session
   */</span>
  <span class="keyword">def</span> <a title="[B](session: net.liftweb.http.LiftSession)(f: =&gt; B)B" id="49455">initIfUninitted</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="49457">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="net.liftweb.http.LiftSession" id="345553">session</a>: <a href="LiftSession.scala.html#14496" title="net.liftweb.http.LiftSession">LiftSession</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; B" id="345554">f</a>: =&gt; B<span class="delimiter">)</span>: <a href="#49457" title="B">B</a> = <span class="delimiter">{</span>
    <span title="B" class="keyword">if</span> <span class="delimiter">(</span><a href="#49270" title="=&gt; net.liftweb.util.ThreadGlobal[Boolean]">inS</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51270" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="#345554" title="=&gt; B">f</a>
    <span class="keyword">else</span> <a href="#49376" title="(request: net.liftweb.http.Req, session: net.liftweb.http.LiftSession)(f: =&gt; B)B">init</a><span class="delimiter">(</span><a href="Req.scala.html#14562" title="object net.liftweb.http.Req">Req</a>.<a href="Req.scala.html#185916" title="=&gt; net.liftweb.http.Req">nil</a>, <a href="#345553" title="net.liftweb.http.LiftSession">session</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#345554" title="=&gt; B">f</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Retrieves the attributes from the most recently executed
   * snippet element.
   * 
   * For example, given the snippets:
   *
   * &lt;pre name=&quot;code&quot; class=&quot;xml&quot;&gt;
   * &amp;lt;lift:MyStuff.snippetA foo=&quot;bar&quot;&gt;
   *   &amp;lt;lift.MyStuff.snippetB&gt;...&amp;lt;/lift.MyStuff.snippetB&gt;
   * &amp;lt;/lift:MyStuff.snippetA&gt;
   * &lt;/pre&gt;
   *
   * S.currentAttrs will return &lt;code&gt;Nil&lt;/code&gt;.
   *
   * If you want a particular attribute, the S.currentAttr
   * helper object simplifies things considerably.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; scala.xml.MetaData" id="49458">currentAttrs</a>: <span title="scala.xml.MetaData">MetaData</span> = <a href="#49274" title="=&gt; net.liftweb.util.ThreadGlobal[(scala.xml.MetaData, List[(Either[String,(String, String)], String)])]">_attrs</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51270" title="=&gt; (scala.xml.MetaData, List[(Either[String,(String, String)], String)])">value</a> <span title="scala.xml.MetaData" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="scala.xml.Null.type" class="keyword">null</span> =&gt; <span title="object scala.xml.Null">Null</span>
    <span class="keyword">case</span> <span title="scala.xml.MetaData" class="delimiter">(</span><a title="scala.xml.MetaData" id="418779">current</a>, <a title="List[(Either[String,(String, String)], String)]" id="418780">full</a><span class="delimiter">)</span> =&gt; <a href="#418779" title="scala.xml.MetaData">current</a>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Temporarily adds the given attributes to the current set, then executes the given function.
   *
   * @param attrs The attributes to set temporarily
   */</span>
  <span class="keyword">def</span> <a title="[T](attrs: scala.xml.MetaData)(f: =&gt; T)T" id="49459">withAttrs</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="49461">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.xml.MetaData" id="400007">attrs</a>: <span title="scala.xml.MetaData">MetaData</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; T" id="400008">f</a>: =&gt; T<span class="delimiter">)</span>: <a href="#49461" title="T">T</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="List[(Either[String,(String, String)], String)]" id="418781">currentStack</a> = <a href="#49274" title="=&gt; net.liftweb.util.ThreadGlobal[(scala.xml.MetaData, List[(Either[String,(String, String)], String)])]">_attrs</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51270" title="=&gt; (scala.xml.MetaData, List[(Either[String,(String, String)], String)])">value</a>.<span title="=&gt; List[(Either[String,(String, String)], String)]">_2</span>
    <span class="keyword">val</span> <a title="List[(Product with Serializable with Either[String,(String, String)], String)]" id="418782">newFrame</a> = <a href="#400007" title="scala.xml.MetaData">attrs</a>.<span title="=&gt; List[scala.xml.MetaData]">toList</span>.<span title="(f: scala.xml.MetaData =&gt; (Product with Serializable with Either[String,(String, String)], String))(implicit bf: scala.collection.generic.CanBuildFrom[List[scala.xml.MetaData],(Product with Serializable with Either[String,(String, String)], String),List[(Product with Serializable with Either[String,(String, String)], String)]])List[(Product with Serializable with Either[String,(String, String)], String)]">map</span> <a href="#418805" title="(Product with Serializable with Either[String,(String, String)], String)" class="delimiter">{</a>
      <span class="keyword">case</span> <a title="(Right[Nothing,(String, String)], String)" id="418806">pa</a>: <span title="scala.xml.PrefixedAttribute">PrefixedAttribute</span> =&gt; <span title="(_1: Right[Nothing,(String, String)], _2: String)(Right[Nothing,(String, String)], String)" class="delimiter">(</span><span title="(b: (String, String))Right[Nothing,(String, String)]">Right</span><span title="(_1: String, _2: String)(String, String)" class="delimiter">(</span><a href="#418806" title="scala.xml.PrefixedAttribute">pa</a>.<span title="=&gt; String">pre</span>, <a href="#418806" title="scala.xml.PrefixedAttribute">pa</a>.<span title="=&gt; String">key</span><span class="delimiter">)</span>, <a href="#418806" title="scala.xml.PrefixedAttribute">pa</a>.<span title="implicit scala.xml.NodeSeq.seqToNodeSeq : (s: Seq[scala.xml.Node])scala.xml.NodeSeq">value</span>.<span title="=&gt; String">text</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="(Left[String,Nothing], String)" id="418829">m</a> =&gt; <span title="(_1: Left[String,Nothing], _2: String)(Left[String,Nothing], String)" class="delimiter">(</span><span title="(a: String)Left[String,Nothing]">Left</span><span class="delimiter">(</span><a href="#418829" title="scala.xml.MetaData">m</a>.<span title="=&gt; String">key</span><span class="delimiter">)</span>, <a href="#418829" title="scala.xml.MetaData">m</a>.<span title="implicit scala.xml.NodeSeq.seqToNodeSeq : (s: Seq[scala.xml.Node])scala.xml.NodeSeq">value</span>.<span title="=&gt; String">text</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <a href="#49274" title="=&gt; net.liftweb.util.ThreadGlobal[(scala.xml.MetaData, List[(Either[String,(String, String)], String)])]">_attrs</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51274" title="(x: (scala.xml.MetaData, List[(Either[String,(String, String)], String)]))(f: =&gt; T)T">doWith</a><span class="delimiter">(</span><span title="(_1: scala.xml.MetaData, _2: List[(Either[String,(String, String)], String)])(scala.xml.MetaData, List[(Either[String,(String, String)], String)])" class="delimiter">(</span><a href="#400007" title="scala.xml.MetaData">attrs</a>, <a href="#418782" title="List[(Product with Serializable with Either[String,(String, String)], String)]">newFrame</a> <a href="#418905" title="(prefix: List[(Either[String,(String, String)], String)])List[(Either[String,(String, String)], String)]">:::</a> <a href="#418781" title="List[(Either[String,(String, String)], String)]">currentStack</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#400008" title="=&gt; T">f</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Used to get an attribute by its name from the current
   * snippet element. There are several means to getting
   * attributes:
   *
   * &lt;pre name=&quot;code&quot; class=&quot;scala&quot;&gt;
  // Get a Box for the attribute:
  val myAttr = S.currentAttr(&quot;test&quot;) openOr &quot;Not found&quot;

  // Get an attribute or return a default value:
  val myAttr = S.currentAttr(&quot;name&quot;, &quot;Fred&quot;)

  // Apply a transform function on the attribute value, or return an Empty:
  val pageSize = S.currentAttr(&quot;count&quot;, _.toInt) openOr 20

  // There are also prefixed versions:
  val prefixedAttr = S.currentAttr(&quot;prefix&quot;, &quot;name&quot;) openOr &quot;Not found&quot;
   * &lt;/pre&gt;
   *
   * Note that this uses the data held in S.currentAttrs, which means that
   * it will only find attributes from the current snippet element.
   * For example, given the snippets:
   *
   * &lt;pre name=&quot;code&quot; class=&quot;xml&quot;&gt;
   * &amp;lt;lift:MyStuff.snippetA foo=&quot;bar&quot;&gt;
   *   &amp;lt;lift.MyStuff.snippetB&gt;...&amp;lt;/lift.MyStuff.snippetB&gt;
   * &amp;lt;/lift:MyStuff.snippetA&gt;
   * &lt;/pre&gt;
   *
   * Calling &lt;code&gt;S.currentAttr(&quot;foo&quot;)&lt;/code&gt; from snippetB will return
   * &lt;code&gt;Empty&lt;/code&gt;.
   */</span>
  <span class="keyword">object</span> <a title="object S.this.currentAttr" id="49462">currentAttr</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#13108" title="net.liftweb.util.AttrHelper[net.liftweb.common.Box]">AttrHelper</a><span class="delimiter">[</span>Box<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">type</span> <a title="String" id="326253">Info</a> = <span title="String">String</span>

    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(key: String)Option[net.liftweb.http.S.currentAttr.Info]" id="326254">findAttr</a><span class="delimiter">(</span><a title="String" id="418921">key</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Option[net.liftweb.http.S.currentAttr.Info]">Option</span><span class="delimiter">[</span>Info<span class="delimiter">]</span> =
      <a href="#49458" title="=&gt; scala.xml.MetaData">currentAttrs</a>.<span title="=&gt; List[scala.xml.MetaData]">toList</span>.<span title="(p: scala.xml.MetaData =&gt; Boolean)Option[scala.xml.MetaData]">find</span><span class="delimiter">{</span> <a href="#418933" title="scala.xml.MetaData">_</a>.<span title="=&gt; String">key</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#418921" title="String">key</a> <span class="delimiter">}</span>.<span title="(f: scala.xml.MetaData =&gt; String)Option[String]">map</span><span class="delimiter">(</span><a href="#418943" title="scala.xml.MetaData">_</a>.<span title="implicit scala.xml.NodeSeq.seqToNodeSeq : (s: Seq[scala.xml.Node])scala.xml.NodeSeq">value</span>.<span title="=&gt; String">text</span><span class="delimiter">)</span>

    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(prefix: String, key: String)Option[net.liftweb.http.S.currentAttr.Info]" id="326255">findAttr</a><span class="delimiter">(</span><a title="String" id="418949">prefix</a>: <span title="String">String</span>, <a title="String" id="418950">key</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Option[net.liftweb.http.S.currentAttr.Info]">Option</span><span class="delimiter">[</span>Info<span class="delimiter">]</span> =
      <a href="#49458" title="=&gt; scala.xml.MetaData">currentAttrs</a>.<span title="=&gt; List[scala.xml.MetaData]">toList</span>.<span title="(p: scala.xml.MetaData =&gt; Boolean)Option[scala.xml.MetaData]">find</span><span class="delimiter">{</span> <a href="#418962" title="scala.xml.MetaData">_</a>.<span title="=&gt; java.lang.String">prefixedKey</span> <span title="(x$1: AnyRef)Boolean">==</span> <span class="delimiter">(</span><a href="#418949" title="String">prefix</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#418950" title="String">key</a><span class="delimiter">)</span> <span class="delimiter">}</span>.<span title="(f: scala.xml.MetaData =&gt; String)Option[String]">map</span><span class="delimiter">(</span><a href="#418971" title="scala.xml.MetaData">_</a>.<span title="implicit scala.xml.NodeSeq.seqToNodeSeq : (s: Seq[scala.xml.Node])scala.xml.NodeSeq">value</span>.<span title="=&gt; String">text</span><span class="delimiter">)</span>

    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="[T](in: Option[T])net.liftweb.common.Box[T]" id="326256">convert</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="326258">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Option[T]" id="418977">in</a>: <span title="Option[T]">Option</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[T]">Box</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="../../../../common/net/liftweb/common/Box.scala.html#28602" title="(in: Option[T])net.liftweb.common.Box[T] with Serializable">Box</a><span class="delimiter">(</span><a href="#418977" title="Option[T]">in</a><span class="delimiter">)</span>

    <span class="comment">/**
     * Returns the unprefixed attribute value as an Option[NodeSeq]
     * for easy addition to the attributes
     */</span>
    <span class="keyword">def</span> <a title="(key: String)Option[scala.xml.NodeSeq]" id="326259">~</a><span class="delimiter">(</span><a title="String" id="419048">key</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Option[scala.xml.NodeSeq]">Option</span><span class="delimiter">[</span>NodeSeq<span class="delimiter">]</span> = <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#196136" title="(key: String)net.liftweb.common.Box[net.liftweb.http.S.currentAttr.Info]">apply</a><span class="delimiter">(</span><a href="#419048" title="String">key</a><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27052" title="=&gt; Option[net.liftweb.http.S.currentAttr.Info]">toOption</a>.<span title="(f: net.liftweb.http.S.currentAttr.Info =&gt; scala.xml.Text)Option[scala.xml.Text]">map</span><span class="delimiter">(</span><span title="object scala.xml.Text">Text</span><span class="delimiter">)</span>

    <span class="comment">/**
     * Returns the prefixed attribute value as an Option[NodeSeq]
     * for easy addition to the attributes
     */</span>
    <span class="keyword">def</span> <a title="(prefix: String, key: String)Option[scala.xml.NodeSeq]" id="326260">~</a><span class="delimiter">(</span><a title="String" id="419091">prefix</a>: <span title="String">String</span>, <a title="String" id="419092">key</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Option[scala.xml.NodeSeq]">Option</span><span class="delimiter">[</span>NodeSeq<span class="delimiter">]</span> = <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#196137" title="(prefix: String, key: String)net.liftweb.common.Box[net.liftweb.http.S.currentAttr.Info]">apply</a><span class="delimiter">(</span><a href="#419091" title="String">prefix</a>, <a href="#419092" title="String">key</a><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27052" title="=&gt; Option[net.liftweb.http.S.currentAttr.Info]">toOption</a>.<span title="(f: net.liftweb.http.S.currentAttr.Info =&gt; scala.xml.Text)Option[scala.xml.Text]">map</span><span class="delimiter">(</span><span title="object scala.xml.Text">Text</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns the LiftSession parameter denominated by 'what'.
   *
   * @see # getSessionAttribute
   * @see # set
   * @see # setSessionAttribute
   * @see # unset
   * @see # unsetSessionAttribute
   */</span>
  <span class="keyword">def</span> <a title="(what: String)net.liftweb.common.Box[String]" id="49464">get</a><span class="delimiter">(</span><a title="String" id="419122">what</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[String]">Box</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="#49382" title="=&gt; net.liftweb.common.Box[net.liftweb.http.LiftSession]">session</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27023" title="(f: net.liftweb.http.LiftSession =&gt; net.liftweb.common.Box[String])net.liftweb.common.Box[String]">flatMap</a><span class="delimiter">(</span><a href="#419128" title="net.liftweb.http.LiftSession">_</a>.<a href="LiftSession.scala.html#230262" title="[T](name: String)net.liftweb.common.Box[T]">get</a><span title="(name: String)net.liftweb.common.Box[String]" class="delimiter">[</span><span title="String">String</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#419122" title="String">what</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Returns the HttpSession parameter denominated by 'what'
   *
   * @see # get
   * @see # set
   * @see # setSessionAttribute
   * @see # unset
   * @see # unsetSessionAttribute
   *
   */</span>
  <span class="keyword">def</span> <a title="(what: String)net.liftweb.common.Box[String]" id="49465">getSessionAttribute</a><span class="delimiter">(</span><a title="String" id="419130">what</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[String]">Box</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="#49466" title="=&gt; net.liftweb.common.Box[net.liftweb.http.provider.HTTPSession]">containerSession</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27023" title="(f: net.liftweb.http.provider.HTTPSession =&gt; net.liftweb.common.Box[String])net.liftweb.common.Box[String]">flatMap</a><span class="delimiter">(</span><a href="#419138" title="net.liftweb.http.provider.HTTPSession">_</a>.<a href="provider/HTTPSession.scala.html#357310" title="(name: String)Any">attribute</a><span class="delimiter">(</span><a href="#419130" title="String">what</a><span class="delimiter">)</span> <span title="net.liftweb.common.Box[String]" class="keyword">match</span> <span class="delimiter">{</span><span class="keyword">case</span> <a title="net.liftweb.common.Full[String]" id="419140">s</a>: <span title="String">String</span> =&gt; <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: String)net.liftweb.common.Full[String]">Full</a><span class="delimiter">(</span><a href="#419140" title="String">s</a><span class="delimiter">)</span> <span class="keyword">case</span> <span title="net.liftweb.common.Empty.type">_</span> =&gt; <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a><span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Returns the HttpSession
   */</span>
  <span class="keyword">def</span> <a title="=&gt; net.liftweb.common.Box[net.liftweb.http.provider.HTTPSession]" id="49466">containerSession</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.http.provider.HTTPSession]">Box</a><span class="delimiter">[</span>HTTPSession<span class="delimiter">]</span> = <a href="#49382" title="=&gt; net.liftweb.common.Box[net.liftweb.http.LiftSession]">session</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27023" title="(f: net.liftweb.http.LiftSession =&gt; net.liftweb.common.Box[net.liftweb.http.provider.HTTPSession])net.liftweb.common.Box[net.liftweb.http.provider.HTTPSession]">flatMap</a><span class="delimiter">(</span><a href="#419149" title="net.liftweb.http.LiftSession">_</a>.<a href="LiftSession.scala.html#230146" title="=&gt; net.liftweb.common.Box[net.liftweb.http.provider.HTTPSession]">httpSession</a><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27043" title="(alternative: =&gt; net.liftweb.common.Box[net.liftweb.http.provider.HTTPSession])net.liftweb.common.Box[net.liftweb.http.provider.HTTPSession]">or</a><span class="delimiter">(</span><a href="#49472" title="=&gt; net.liftweb.common.Box[net.liftweb.http.provider.HTTPRequest]">containerRequest</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: net.liftweb.http.provider.HTTPRequest =&gt; net.liftweb.http.provider.HTTPSession)net.liftweb.common.Box[net.liftweb.http.provider.HTTPSession]">map</a><span class="delimiter">(</span><a href="#419159" title="net.liftweb.http.provider.HTTPRequest">_</a>.<a href="provider/HTTPRequest.scala.html#216876" title="=&gt; net.liftweb.http.provider.HTTPSession">session</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Returns the 'type' S attribute. This corresponds to the current Snippet's name. For example, the snippet:
   *
   * &lt;pre name=&quot;code&quot; class=&quot;xml&quot;&gt;
  &amp;lt;lift:Hello.world /&amp;gt;
   * &lt;/pre&gt;
   *
   * Will return &quot;Hello.world&quot;.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="49467">invokedAs</a>: <span title="String">String</span> = <span class="delimiter">(</span><a href="#49487" title="=&gt; net.liftweb.common.Box[String]">currentSnippet</a> <a href="../../../../common/net/liftweb/common/Box.scala.html#27043" title="(alternative: =&gt; net.liftweb.common.Box[String])net.liftweb.common.Box[String]">or</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#196136" title="(key: String)net.liftweb.common.Box[S.this.attr.Info]">attr</a><span class="delimiter">(</span><span title="java.lang.String(&quot;type&quot;)" class="string">&quot;type&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; String)String">openOr</a> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>

  <span class="comment">/**
   * Sets a HttpSession attribute
   *
   * @see # get
   * @see # getSessionAttribute
   * @see # set
   * @see # unset
   * @see # unsetSessionAttribute
   *
   */</span>
  <span class="keyword">def</span> <a title="(name: String, value: String)Unit" id="49468">setSessionAttribute</a><span class="delimiter">(</span><a title="String" id="419213">name</a>: <span title="String">String</span>, <a title="String" id="419214">value</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#49466" title="=&gt; net.liftweb.common.Box[net.liftweb.http.provider.HTTPSession]">containerSession</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27031" title="(f: net.liftweb.http.provider.HTTPSession =&gt; Unit)Unit">foreach</a><span class="delimiter">(</span><a href="#419221" title="net.liftweb.http.provider.HTTPSession">_</a>.<a href="provider/HTTPSession.scala.html#357309" title="(name: String, value: Any)Unit">setAttribute</a><span class="delimiter">(</span><a href="#419213" title="String">name</a>, <a href="#419214" title="String">value</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Sets a LiftSession attribute
   *
   * @see # get
   * @see # getSessionAttribute
   * @see # setSessionAttribute
   * @see # unset
   * @see # unsetSessionAttribute
   *
   */</span>
  <span class="keyword">def</span> <a title="(name: String, value: String)Unit" id="49469">set</a><span class="delimiter">(</span><a title="String" id="419225">name</a>: <span title="String">String</span>, <a title="String" id="419226">value</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#49382" title="=&gt; net.liftweb.common.Box[net.liftweb.http.LiftSession]">session</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27031" title="(f: net.liftweb.http.LiftSession =&gt; Unit)Unit">foreach</a><span class="delimiter">(</span><a href="#419233" title="net.liftweb.http.LiftSession">_</a>.<a href="LiftSession.scala.html#230259" title="(name: String, value: String)Unit">set</a><span class="delimiter">(</span><a href="#419225" title="String">name</a>, <a href="#419226" title="String">value</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Removes a HttpSession attribute
   *
   * @see # get
   * @see # getSessionAttribute
   * @see # set
   * @see # setSessionAttribute
   * @see # unset
   *
   */</span>
  <span class="keyword">def</span> <a title="(name: String)Unit" id="49470">unsetSessionAttribute</a><span class="delimiter">(</span><a title="String" id="419240">name</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#49466" title="=&gt; net.liftweb.common.Box[net.liftweb.http.provider.HTTPSession]">containerSession</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27031" title="(f: net.liftweb.http.provider.HTTPSession =&gt; Unit)Unit">foreach</a><span class="delimiter">(</span><a href="#419247" title="net.liftweb.http.provider.HTTPSession">_</a>.<a href="provider/HTTPSession.scala.html#357311" title="(name: String)Unit">removeAttribute</a><span class="delimiter">(</span><a href="#419240" title="String">name</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Removes a LiftSession attribute
   *
   * @see # get
   * @see # getSessionAttribute
   * @see # set
   * @see # setSessionAttribute
   * @see # unsetSessionAttribute
   *
   */</span>
  <span class="keyword">def</span> <a title="(name: String)Unit" id="49471">unset</a><span class="delimiter">(</span><a title="String" id="419250">name</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#49382" title="=&gt; net.liftweb.common.Box[net.liftweb.http.LiftSession]">session</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27031" title="(f: net.liftweb.http.LiftSession =&gt; Unit)Unit">foreach</a><span class="delimiter">(</span><a href="#419257" title="net.liftweb.http.LiftSession">_</a>.<a href="LiftSession.scala.html#230265" title="(name: String)Unit">unset</a><span class="delimiter">(</span><a href="#419250" title="String">name</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * The current container request
   */</span>
  <span class="keyword">def</span> <a title="=&gt; net.liftweb.common.Box[net.liftweb.http.provider.HTTPRequest]" id="49472">containerRequest</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.http.provider.HTTPRequest]">Box</a><span class="delimiter">[</span>HTTPRequest<span class="delimiter">]</span> =
    <a href="#49309" title="=&gt; net.liftweb.common.Box[net.liftweb.http.Req]">request</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27023" title="(f: net.liftweb.http.Req =&gt; net.liftweb.common.Box[net.liftweb.http.provider.HTTPRequest])net.liftweb.common.Box[net.liftweb.http.provider.HTTPRequest]">flatMap</a><span class="delimiter">(</span><a title="net.liftweb.http.Req" id="419263">r</a> =&gt; <a href="../../../../common/net/liftweb/common/Box.scala.html#10572" title="object net.liftweb.common.Box">Box</a> <a href="../../../../common/net/liftweb/common/Box.scala.html#28636" title="(in: net.liftweb.http.provider.HTTPRequest)net.liftweb.common.Box[net.liftweb.http.provider.HTTPRequest]">!!</a> <a href="#419263" title="net.liftweb.http.Req">r</a>.<a href="Req.scala.html#149145" title="=&gt; net.liftweb.http.provider.HTTPRequest">request</a><span class="delimiter">)</span>

  <span class="comment">/**
   * The hostname to which the request was sent. This is taken from the &quot;Host&quot; HTTP header, or if that
   * does not exist, the DNS name or IP address of the server.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="49473">hostName</a>: <span title="String">String</span> = <a href="#49309" title="=&gt; net.liftweb.common.Box[net.liftweb.http.Req]">request</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: net.liftweb.http.Req =&gt; String)net.liftweb.common.Box[String]">map</a><span class="delimiter">(</span><a href="#419272" title="net.liftweb.http.Req">_</a>.<a href="Req.scala.html#149202" title="=&gt; String">hostName</a><span class="delimiter">)</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; String)String">openOr</a> <a href="Req.scala.html#14562" title="object net.liftweb.http.Req">Req</a>.<a href="Req.scala.html#185909" title="=&gt; java.lang.String">localHostName</a>

  <span class="comment">/**
   * The host and path of the request up to and including the context path. This does
   * not include the template path or query string.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="49474">hostAndPath</a>: <span title="String">String</span> = <a href="#49309" title="=&gt; net.liftweb.common.Box[net.liftweb.http.Req]">request</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: net.liftweb.http.Req =&gt; String)net.liftweb.common.Box[String]">map</a><span class="delimiter">(</span><a href="#419280" title="net.liftweb.http.Req">_</a>.<a href="Req.scala.html#149204" title="=&gt; String">hostAndPath</a><span class="delimiter">)</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; String)String">openOr</a> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>

  <span class="comment">/**
   * Get a map of function name bindings that are used for form and other processing. Using these
   * bindings is considered advanced functionality.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Map[String,net.liftweb.http.S.AFuncHolder]" id="49475">functionMap</a>: <span title="Map[String,net.liftweb.http.S.AFuncHolder]">Map</span><span class="delimiter">[</span>String, AFuncHolder<span class="delimiter">]</span> = <a href="#49268" title="=&gt; net.liftweb.util.ThreadGlobal[Map[String,net.liftweb.http.S.AFuncHolder]]">__functionMap</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51271" title="=&gt; net.liftweb.common.Box[Map[String,net.liftweb.http.S.AFuncHolder]]">box</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; Map[String,net.liftweb.http.S.AFuncHolder])Map[String,net.liftweb.http.S.AFuncHolder]">openOr</a><span class="delimiter">(</span><span title="(elems: (String, Nothing)*)scala.collection.immutable.Map[String,Nothing]">Map</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="[T](f: =&gt; T)T" id="49476">testFunctionMap</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="49478">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; T" id="419294">f</a>: =&gt; T<span class="delimiter">)</span>: <a href="#49478" title="T">T</a> =
    <a href="#49382" title="=&gt; net.liftweb.common.Box[net.liftweb.http.LiftSession]">session</a> <span title="T" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="T">Full</span><span class="delimiter">(</span><a title="net.liftweb.http.LiftSession" id="419298">s</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#419298" title="net.liftweb.http.LiftSession">s</a>.<a href="LiftSession.scala.html#230327" title="=&gt; Boolean">stateful_?</a> =&gt; <a href="#419294" title="=&gt; T">f</a>
      <span class="keyword">case</span> <span title="Nothing">_</span> =&gt; <span title="Nothing" class="keyword">throw</span> <span title="net.liftweb.http.StateInStatelessException" class="keyword">new</span> <a href="Templates.scala.html#14737" title="net.liftweb.http.StateInStatelessException">StateInStatelessException</a><span class="delimiter">(</span>
        <span title="java.lang.String(&quot;Accessing function map information outside of a stateful session&quot;)" class="string">&quot;Accessing function map information outside of a stateful session&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="comment">/**
   * Clears the function map.  potentially very destuctive... use at your own risk!
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Unit" id="49479">clearFunctionMap</a> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#49268" title="=&gt; net.liftweb.util.ThreadGlobal[Map[String,net.liftweb.http.S.AFuncHolder]]">__functionMap</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51271" title="=&gt; net.liftweb.common.Box[Map[String,net.liftweb.http.S.AFuncHolder]]">box</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: Map[String,net.liftweb.http.S.AFuncHolder] =&gt; Int)net.liftweb.common.Box[Int]">map</a><span class="delimiter">(</span><a href="#419303" title="Map[String,net.liftweb.http.S.AFuncHolder]">_</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; Int)Int">openOr</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="comment">// Issue #1037</span>
      <a href="#49476" title="(f: =&gt; Unit)Unit">testFunctionMap</a> <span class="delimiter">{</span>
        <a href="#49268" title="=&gt; net.liftweb.util.ThreadGlobal[Map[String,net.liftweb.http.S.AFuncHolder]]">__functionMap</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51271" title="=&gt; net.liftweb.common.Box[Map[String,net.liftweb.http.S.AFuncHolder]]">box</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27031" title="(f: Map[String,net.liftweb.http.S.AFuncHolder] =&gt; net.liftweb.util.ThreadGlobal[Map[String,net.liftweb.http.S.AFuncHolder]])Unit">foreach</a><span class="delimiter">(</span><a title="Map[String,net.liftweb.http.S.AFuncHolder]" id="419320">ignore</a> =&gt; <a href="#49268" title="=&gt; net.liftweb.util.ThreadGlobal[Map[String,net.liftweb.http.S.AFuncHolder]]">__functionMap</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51272" title="(v: Map[String,net.liftweb.http.S.AFuncHolder])net.liftweb.util.ThreadGlobal[Map[String,net.liftweb.http.S.AFuncHolder]]">set</a><span class="delimiter">(</span><span title="(elems: (String, Nothing)*)scala.collection.immutable.Map[String,Nothing]">Map</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * The current context path for the deployment.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="49480">contextPath</a>: <span title="String">String</span> = <span class="delimiter">(</span><a href="#49309" title="=&gt; net.liftweb.common.Box[net.liftweb.http.Req]">request</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: net.liftweb.http.Req =&gt; String)net.liftweb.common.Box[String]">map</a><span class="delimiter">(</span><a href="#419332" title="net.liftweb.http.Req">_</a>.<a href="Req.scala.html#149139" title="=&gt; String">contextPath</a><span class="delimiter">)</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#27043" title="(alternative: =&gt; net.liftweb.common.Box[String])net.liftweb.common.Box[String]">or</a> <a href="#49382" title="=&gt; net.liftweb.common.Box[net.liftweb.http.LiftSession]">session</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: net.liftweb.http.LiftSession =&gt; String)net.liftweb.common.Box[String]">map</a><span class="delimiter">(</span><a href="#419340" title="net.liftweb.http.LiftSession">_</a>.<a href="LiftSession.scala.html#230247" title="=&gt; String">contextPath</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; String)String">openOr</a> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>

  <span class="comment">/**
   * Finds a snippet function by name.
   *
   * @see LiftRules.snippets
   */</span>
  <span class="keyword">def</span> <a title="(name: String)net.liftweb.common.Box[scala.xml.NodeSeq =&gt; scala.xml.NodeSeq]" id="49481">locateSnippet</a><span class="delimiter">(</span><a title="String" id="398748">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[scala.xml.NodeSeq =&gt; scala.xml.NodeSeq]">Box</a><span class="delimiter">[</span>NodeSeq =&gt; NodeSeq<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="List[String]" id="419348">snippet</a> = <span title="List[String]" class="keyword">if</span> <span class="delimiter">(</span><a href="#398748" title="String">name</a>.<span title="(x$1: java.lang.String)Int">indexOf</span><span class="delimiter">(</span><span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> -<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span> <a href="../../../../util/net/liftweb/util/StringHelpers.scala.html#48858" title="implicit net.liftweb.util.StringHelpers.stringToSuper : (in: String)net.liftweb.util.SuperString">name</a>.<a href="../../../../util/net/liftweb/util/StringHelpers.scala.html#58433" title="(sep: String)List[String]">roboSplit</a><span class="delimiter">(</span><span title="java.lang.String(&quot;\\.&quot;)" class="string">&quot;\\.&quot;</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="../../../../util/net/liftweb/util/StringHelpers.scala.html#48858" title="implicit net.liftweb.util.StringHelpers.stringToSuper : (in: String)net.liftweb.util.SuperString">name</a>.<a href="../../../../util/net/liftweb/util/StringHelpers.scala.html#58433" title="(sep: String)List[String]">roboSplit</a><span class="delimiter">(</span><span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span class="delimiter">)</span>
    <a href="../../../../util/net/liftweb/util/NamedPartialFunction.scala.html#13548" title="object net.liftweb.util.NamedPF">NamedPF</a>.<a href="../../../../util/net/liftweb/util/NamedPartialFunction.scala.html#185585" title="(value: List[String], lst: Seq[PartialFunction[List[String],scala.xml.NodeSeq =&gt; scala.xml.NodeSeq]])net.liftweb.common.Box[scala.xml.NodeSeq =&gt; scala.xml.NodeSeq]">applyBox</a><span class="delimiter">(</span><a href="#419348" title="List[String]">snippet</a>, <a href="LiftRules.scala.html#158817" title="implicit net.liftweb.http.LiftRulesMocker.toLiftRules : (in: net.liftweb.http.LiftRulesMocker)net.liftweb.http.LiftRules">LiftRules</a>.<a href="LiftRules.scala.html#159103" title="=&gt; net.liftweb.http.LiftRules#RulesSeq[PartialFunction[List[java.lang.String],scala.xml.NodeSeq =&gt; scala.xml.NodeSeq]]">snippets</a>.<a href="LiftRules.scala.html#185552" title="=&gt; List[PartialFunction[List[java.lang.String],scala.xml.NodeSeq =&gt; scala.xml.NodeSeq]]">toList</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">object</span> <a title="object S.this._currentSnippet" id="49482">_currentSnippet</a> <span title="ScalaObject" class="keyword">extends</span> <a href="Vars.scala.html#14774" title="net.liftweb.http.RequestVar[net.liftweb.common.Box[String]]">RequestVar</a><span class="delimiter">[</span>Box<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a><span class="delimiter">)</span>

  <span class="keyword">private</span><span class="delimiter">[</span>http<span class="delimiter">]</span> <span class="keyword">def</span> <a title="[T](name: String)(f: =&gt; T)T" id="49484">doSnippet</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="49486">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="String" id="397403">name</a>: <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; T" id="397404">f</a>: =&gt; T<span class="delimiter">)</span>: <a href="#49486" title="T">T</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="net.liftweb.common.Box[String]" id="419393">old</a> = <a href="#49482" title="object S.this._currentSnippet">_currentSnippet</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75375" title="=&gt; net.liftweb.common.Box[String]">is</a>
    <span class="keyword">try</span> <span class="delimiter">{</span>
      <a href="#49482" title="object S.this._currentSnippet">_currentSnippet</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75378" title="(what: net.liftweb.common.Box[String])net.liftweb.common.Box[String]">set</a><span class="delimiter">(</span><a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: String)net.liftweb.common.Full[String]">Full</a><span class="delimiter">(</span><a href="#397403" title="String">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#397404" title="=&gt; T">f</a>
    <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
      <a href="#49482" title="object S.this._currentSnippet">_currentSnippet</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75378" title="(what: net.liftweb.common.Box[String])net.liftweb.common.Box[String]">set</a><span title="Unit" class="delimiter">(</span><a href="#419393" title="net.liftweb.common.Box[String]">old</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; net.liftweb.common.Box[String]" id="49487">currentSnippet</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[String]">Box</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="#49482" title="object S.this._currentSnippet">_currentSnippet</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75375" title="=&gt; net.liftweb.common.Box[String]">is</a>

  <span class="keyword">def</span> <a title="(name: String)net.liftweb.common.Box[scala.xml.NodeSeq =&gt; scala.xml.NodeSeq]" id="49488">locateMappedSnippet</a><span class="delimiter">(</span><a title="String" id="398732">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[scala.xml.NodeSeq =&gt; scala.xml.NodeSeq]">Box</a><span class="delimiter">[</span>NodeSeq =&gt; NodeSeq<span class="delimiter">]</span> = <a href="#49272" title="object S.this._snippetMap">_snippetMap</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75375" title="=&gt; Map[String,scala.xml.NodeSeq =&gt; scala.xml.NodeSeq]">is</a>.<span title="(key: String)Option[scala.xml.NodeSeq =&gt; scala.xml.NodeSeq]">get</span><a href="../../../../common/net/liftweb/common/Box.scala.html#28627" title="(in: Option[scala.xml.NodeSeq =&gt; scala.xml.NodeSeq])net.liftweb.common.Box[scala.xml.NodeSeq =&gt; scala.xml.NodeSeq]" class="delimiter">(</a><a href="#398732" title="String">name</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Associates a name with a snippet function 'func'. This can be used to change a snippet
   * mapping on a per-request basis. For example, if we have a page that we want to change
   * behavior on based on query parameters, we could use mapSnippet to programmatically determine
   * which snippet function to use for a given snippet in the template. Our code would look like:
   *
   * &lt;pre name=&quot;code&quot; class=&quot;scala&quot; &gt;
  import scala.xml.{ NodeSeq,Text }
  class SnipMap  {
  def topSnippet (xhtml : NodeSeq) : NodeSeq =  {
  if (S.param(&quot;showAll&quot;).isDefined)  {
  S.mapSnippet(&quot;listing&quot;, listing)
  } else  {
  S.mapSnippet(&quot;listing&quot;,  { ignore =&gt; Text(&quot;&quot;) } )
  }

  ...
  }

  def listing(xhtml : NodeSeq) : NodeSeq =  {
  ...
  }
  &lt;/pre&gt;
   *
   * Then, your template would simply look like:
   *
   * &lt;pre name=&quot;code&quot; class=&quot;scala&quot; &gt;
  &amp;lt;lift:surround with=&quot;default&quot; at=&quot;content&quot;&amp;gt;
  ...
  &amp;lt;p&amp;gt;&amp;lt;lift:SnipMap.topSnippet /&amp;gt;&amp;lt;/p&amp;gt;
  &amp;lt;p&amp;gt;&amp;lt;lift:listing /&amp;gt;&amp;lt;/p&amp;gt;
  &amp;lt;/lift:surround&amp;gt;
   * &lt;/pre&gt;
   *
   * Snippets are processed in the order that they're defined in the
   * template, so if you want to use this approach make sure that
   * the snippet that defines the mapping comes before the snippet that
   * is being mapped. Also note that these mappings are per-request, and are
   * discarded after the current request is processed.
   *
   * @param name The name of the snippet that you want to map (the part after &quot;&amp;lt;lift:&quot;).
   * @param func The snippet function to map to.
   */</span>
  <span class="keyword">def</span> <a title="(name: String, func: scala.xml.NodeSeq =&gt; scala.xml.NodeSeq)Unit" id="49489">mapSnippet</a><span class="delimiter">(</span><a title="String" id="169764">name</a>: <span title="String">String</span>, <a title="scala.xml.NodeSeq =&gt; scala.xml.NodeSeq" id="169765">func</a>: NodeSeq =&gt; NodeSeq<span class="delimiter">)</span> <span class="delimiter">{</span><a href="#49272" title="object S.this._snippetMap">_snippetMap</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75378" title="(what: Map[String,scala.xml.NodeSeq =&gt; scala.xml.NodeSeq])Map[String,scala.xml.NodeSeq =&gt; scala.xml.NodeSeq]">set</a><span title="Unit" class="delimiter">(</span><a href="#49272" title="object S.this._snippetMap">_snippetMap</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75375" title="=&gt; Map[String,scala.xml.NodeSeq =&gt; scala.xml.NodeSeq]">is</a>.<span title="(key: String, value: scala.xml.NodeSeq =&gt; scala.xml.NodeSeq)scala.collection.immutable.Map[String,scala.xml.NodeSeq =&gt; scala.xml.NodeSeq]">updated</span><span class="delimiter">(</span><a href="#169764" title="String">name</a>, <a href="#169765" title="scala.xml.NodeSeq =&gt; scala.xml.NodeSeq">func</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">}</span>

  <span class="comment">/**
   * The are times when it's helpful to define snippets for a certain
   * call stack... snippets that are local purpose. Use doWithSnippets
   * to temporarily define snippet mappings for the life of f.
   */</span>
  <span class="keyword">def</span> <a title="[T](snips: (String, scala.xml.NodeSeq =&gt; scala.xml.NodeSeq)*)(f: =&gt; T)T" id="49490">mapSnippetsWith</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="49492">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(String, scala.xml.NodeSeq =&gt; scala.xml.NodeSeq)*" id="418511">snips</a>: <span title="(String, scala.xml.NodeSeq =&gt; scala.xml.NodeSeq)*" class="delimiter">(</span>String,  NodeSeq =&gt; NodeSeq<span class="delimiter">)</span>*<span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; T" id="418512">f</a>: =&gt; T<span class="delimiter">)</span>: <a href="#49492" title="T">T</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.immutable.Map[String,scala.xml.NodeSeq =&gt; scala.xml.NodeSeq]" id="419447">newMap</a> = <a href="#49272" title="object S.this._snippetMap">_snippetMap</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75375" title="=&gt; Map[String,scala.xml.NodeSeq =&gt; scala.xml.NodeSeq]">is</a> <span title="(xs: scala.collection.GenTraversableOnce[(String, scala.xml.NodeSeq =&gt; scala.xml.NodeSeq)])scala.collection.immutable.Map[String,scala.xml.NodeSeq =&gt; scala.xml.NodeSeq]">++</span> <a href="#418511" title="(String, scala.xml.NodeSeq =&gt; scala.xml.NodeSeq)*">snips</a>
    <a href="#49272" title="object S.this._snippetMap">_snippetMap</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75392" title="(newVal: Map[String,scala.xml.NodeSeq =&gt; scala.xml.NodeSeq])(f: =&gt; T)T">doWith</a><span class="delimiter">(</span><a href="#419447" title="scala.collection.immutable.Map[String,scala.xml.NodeSeq =&gt; scala.xml.NodeSeq]">newMap</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#418512" title="=&gt; T">f</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(name: String, value: net.liftweb.http.S.AFuncHolder)Unit" id="49493">updateFunctionMap</a><span class="delimiter">(</span><a title="String" id="419539">name</a>: <span title="String">String</span>, <a title="net.liftweb.http.S.AFuncHolder" id="419540">value</a>: <a href="#49602" title="net.liftweb.http.S.AFuncHolder">AFuncHolder</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#49268" title="=&gt; net.liftweb.util.ThreadGlobal[Map[String,net.liftweb.http.S.AFuncHolder]]">__functionMap</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51271" title="=&gt; net.liftweb.common.Box[Map[String,net.liftweb.http.S.AFuncHolder]]">box</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Unit">Full</span><span class="delimiter">(</span><a title="Map[String,net.liftweb.http.S.AFuncHolder]" id="419543">old</a><span class="delimiter">)</span> =&gt; <a href="#49268" title="=&gt; net.liftweb.util.ThreadGlobal[Map[String,net.liftweb.http.S.AFuncHolder]]">__functionMap</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51272" title="(v: Map[String,net.liftweb.http.S.AFuncHolder])net.liftweb.util.ThreadGlobal[Map[String,net.liftweb.http.S.AFuncHolder]]">set</a><span title="Unit" class="delimiter">(</span><a href="#419543" title="Map[String,net.liftweb.http.S.AFuncHolder]">old</a> <span title="(kv: (String, net.liftweb.http.S.AFuncHolder))scala.collection.immutable.Map[String,net.liftweb.http.S.AFuncHolder]">+</span> <span class="delimiter">(</span><span title="(_1: String, _2: net.liftweb.http.S.AFuncHolder)(String, net.liftweb.http.S.AFuncHolder)" class="delimiter">(</span><a href="#419539" title="String">name</a>, <a href="#419540" title="net.liftweb.http.S.AFuncHolder">value</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Associates a name with a function impersonated by AFuncHolder. These are basically functions
   * that are executed when a request contains the 'name' request parameter.
   */</span>
  <span class="keyword">def</span> <a title="(name: String, value: net.liftweb.http.S.AFuncHolder)Unit" id="49494">addFunctionMap</a><span class="delimiter">(</span><a title="String" id="419603">name</a>: <span title="String">String</span>, <a title="net.liftweb.http.S.AFuncHolder" id="419604">value</a>: <a href="#49602" title="net.liftweb.http.S.AFuncHolder">AFuncHolder</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="#49476" title="(f: =&gt; Unit)Unit">testFunctionMap</a> <span class="delimiter">{</span>
      <span title="(_1: net.liftweb.common.Box[Boolean], _2: net.liftweb.common.Box[Boolean])(net.liftweb.common.Box[Boolean], net.liftweb.common.Box[Boolean])" class="delimiter">(</span><a href="#49288" title="=&gt; net.liftweb.util.ThreadGlobal[Boolean]">autoCleanUp</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51271" title="=&gt; net.liftweb.common.Box[Boolean]">box</a>, <a href="#49290" title="=&gt; net.liftweb.util.ThreadGlobal[Boolean]">_oneShot</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51271" title="=&gt; net.liftweb.common.Box[Boolean]">box</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span>Full<span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>, _<span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
          <a href="#49493" title="(name: String, value: net.liftweb.http.S.AFuncHolder)Unit">updateFunctionMap</a><span class="delimiter">(</span><a href="#419603" title="String">name</a>,
            <a href="#419618" title="net.liftweb.http.S.ProxyFuncHolder{}" class="keyword">new</a> <a href="#14641" title="anonymous class $anon extends net.liftweb.http.S.ProxyFuncHolder" id="419618">S</a>.<a href="#49589" title="net.liftweb.http.S.ProxyFuncHolder">ProxyFuncHolder</a><span class="delimiter">(</span><a href="#419604" title="net.liftweb.http.S.AFuncHolder">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">var</span> <a title="Boolean" id="419624">shot</a> = <span title="Boolean(false)" class="keyword">false</span>

              <span class="keyword">override</span> <span class="keyword">def</span> <a title="(in: List[String])Any" id="419626">apply</a><span class="delimiter">(</span><a title="List[String]" id="419629">in</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Any">Any</span> = <span class="delimiter">{</span>
                <a href="#419618" title="(x$1: Any)Any">synchronized</a> <span class="delimiter">{</span>
                  <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#419624" title="=&gt; Boolean">shot</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                    <a href="#419624" title="(x$1: Boolean)Unit">shot</a> = <span title="Boolean(true)" class="keyword">true</span>
                    <a href="#14641" title="object net.liftweb.http.S">S</a>.<a href="#49382" title="=&gt; net.liftweb.common.Box[net.liftweb.http.LiftSession]">session</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: net.liftweb.http.LiftSession =&gt; scala.collection.mutable.HashMap[String,net.liftweb.http.S.AFuncHolder])net.liftweb.common.Box[scala.collection.mutable.HashMap[String,net.liftweb.http.S.AFuncHolder]]">map</a><span class="delimiter">(</span><a href="#419655" title="net.liftweb.http.LiftSession">_</a>.<a href="LiftSession.scala.html#230224" title="(name: String)scala.collection.mutable.HashMap[String,net.liftweb.http.S.AFuncHolder]">removeFunction</a><span class="delimiter">(</span><a href="#419603" title="String">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
                    <a href="#419604" title="net.liftweb.http.S.AFuncHolder">value</a>.<a href="#159455" title="(in: List[String])Any">apply</a><span class="delimiter">(</span><a href="#419629" title="List[String]">in</a><span class="delimiter">)</span>
                  <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                    js.<a href="js/JsCommands.scala.html#14916" title="object net.liftweb.http.js.JsCmds">JsCmds</a>.<a href="js/JsCommands.scala.html#146481" title="=&gt; net.liftweb.http.js.JsCmd">Noop</a>
                  <span class="delimiter">}</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>

              <span class="keyword">override</span> <span class="keyword">def</span> <a title="(in: net.liftweb.http.FileParamHolder)Any" id="419627">apply</a><span class="delimiter">(</span><a title="net.liftweb.http.FileParamHolder" id="419636">in</a>: <a href="Req.scala.html#14548" title="net.liftweb.http.FileParamHolder">FileParamHolder</a><span class="delimiter">)</span>: <span title="Any">Any</span> = <span class="delimiter">{</span>
                <a href="#419618" title="(x$1: Any)Any">synchronized</a> <span class="delimiter">{</span>
                  <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#419624" title="=&gt; Boolean">shot</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                    <a href="#419624" title="(x$1: Boolean)Unit">shot</a> = <span title="Boolean(true)" class="keyword">true</span>
                    <a href="#14641" title="object net.liftweb.http.S">S</a>.<a href="#49382" title="=&gt; net.liftweb.common.Box[net.liftweb.http.LiftSession]">session</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: net.liftweb.http.LiftSession =&gt; scala.collection.mutable.HashMap[String,net.liftweb.http.S.AFuncHolder])net.liftweb.common.Box[scala.collection.mutable.HashMap[String,net.liftweb.http.S.AFuncHolder]]">map</a><span class="delimiter">(</span><a href="#419671" title="net.liftweb.http.LiftSession">_</a>.<a href="LiftSession.scala.html#230224" title="(name: String)scala.collection.mutable.HashMap[String,net.liftweb.http.S.AFuncHolder]">removeFunction</a><span class="delimiter">(</span><a href="#419603" title="String">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
                    <a href="#419604" title="net.liftweb.http.S.AFuncHolder">value</a>.<a href="#159456" title="(in: net.liftweb.http.FileParamHolder)Any">apply</a><span class="delimiter">(</span><a href="#419636" title="net.liftweb.http.FileParamHolder">in</a><span class="delimiter">)</span>
                  <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                    js.<a href="js/JsCommands.scala.html#14916" title="object net.liftweb.http.js.JsCmds">JsCmds</a>.<a href="js/JsCommands.scala.html#146481" title="=&gt; net.liftweb.http.js.JsCmd">Noop</a>
                  <span class="delimiter">}</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span>_, Full<span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
          <a href="#49493" title="(name: String, value: net.liftweb.http.S.AFuncHolder)Unit">updateFunctionMap</a><span class="delimiter">(</span><a href="#419603" title="String">name</a>,
            <a href="#419685" title="net.liftweb.http.S.ProxyFuncHolder{}" class="keyword">new</a> <a href="#14641" title="anonymous class $anon extends net.liftweb.http.S.ProxyFuncHolder" id="419685">S</a>.<a href="#49589" title="net.liftweb.http.S.ProxyFuncHolder">ProxyFuncHolder</a><span class="delimiter">(</span><a href="#419604" title="net.liftweb.http.S.AFuncHolder">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">var</span> <a title="Boolean" id="419691">shot</a> = <span title="Boolean(false)" class="keyword">false</span>
              <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="net.liftweb.actor.LAFuture[Any]" id="419694">theFuture</a>: <a href="../../../../actor/net/liftweb/actor/LAFuture.scala.html#10526" title="net.liftweb.actor.LAFuture[Any]">LAFuture</a><span class="delimiter">[</span>Any<span class="delimiter">]</span> = <span class="delimiter">{</span>
                <a href="#14641" title="object net.liftweb.http.S">S</a>.<a href="#49382" title="=&gt; net.liftweb.common.Box[net.liftweb.http.LiftSession]">session</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: net.liftweb.http.LiftSession =&gt; scala.collection.mutable.HashMap[String,net.liftweb.http.S.AFuncHolder])net.liftweb.common.Box[scala.collection.mutable.HashMap[String,net.liftweb.http.S.AFuncHolder]]">map</a><span class="delimiter">(</span><a href="#419724" title="net.liftweb.http.LiftSession">_</a>.<a href="LiftSession.scala.html#230224" title="(name: String)scala.collection.mutable.HashMap[String,net.liftweb.http.S.AFuncHolder]">removeFunction</a><span class="delimiter">(</span><a href="#419603" title="String">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="keyword">val</span> <a title="net.liftweb.actor.LAFuture[Any]" id="419720">future</a>: <a href="../../../../actor/net/liftweb/actor/LAFuture.scala.html#10526" title="net.liftweb.actor.LAFuture[Any]">LAFuture</a><span class="delimiter">[</span>Any<span class="delimiter">]</span> = <span title="net.liftweb.actor.LAFuture[Any]" class="keyword">new</span> <a href="../../../../actor/net/liftweb/actor/LAFuture.scala.html#10526" title="net.liftweb.actor.LAFuture[Any]">LAFuture</a>

                <a href="#49493" title="(name: String, value: net.liftweb.http.S.AFuncHolder)Unit">updateFunctionMap</a><span class="delimiter">(</span><a href="#419603" title="String">name</a>, <a href="#419727" title="net.liftweb.http.S.ProxyFuncHolder" class="keyword">new</a> <a href="#14641" title="anonymous class $anon extends net.liftweb.http.S.ProxyFuncHolder" id="419727">S</a>.<a href="#49589" title="net.liftweb.http.S.ProxyFuncHolder">ProxyFuncHolder</a><span class="delimiter">(</span><a href="#419604" title="net.liftweb.http.S.AFuncHolder">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(in: List[String])Any" id="419732">apply</a><span class="delimiter">(</span><a title="List[String]" id="419735">in</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Any">Any</span> = <a href="#419720" title="net.liftweb.actor.LAFuture[Any]">future</a>.<a href="../../../../actor/net/liftweb/actor/LAFuture.scala.html#15447" title="(timeout: Long)net.liftweb.common.Box[Any]">get</a><span class="delimiter">(</span><span title="Long(5000L)" class="int">5000</span><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27015" title="=&gt; Any">open_!</a>

                  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(in: net.liftweb.http.FileParamHolder)Any" id="419733">apply</a><span class="delimiter">(</span><a title="net.liftweb.http.FileParamHolder" id="419742">in</a>: <a href="Req.scala.html#14548" title="net.liftweb.http.FileParamHolder">FileParamHolder</a><span class="delimiter">)</span>: <span title="Any">Any</span> = <a href="#419720" title="net.liftweb.actor.LAFuture[Any]">future</a>.<a href="../../../../actor/net/liftweb/actor/LAFuture.scala.html#15447" title="(timeout: Long)net.liftweb.common.Box[Any]">get</a><span class="delimiter">(</span><span title="Long(5000L)" class="int">5000</span><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27015" title="=&gt; Any">open_!</a>
                <span class="delimiter">}</span><span class="delimiter">)</span>

                <a href="#419720" title="net.liftweb.actor.LAFuture[Any]">future</a>
              <span class="delimiter">}</span>


              <span class="keyword">def</span> <a title="()Boolean" id="419695">fixShot</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#419685" title="(x$1: Boolean)Boolean">synchronized</a> <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="Boolean" id="419773">ret</a> = <a href="#419691" title="=&gt; Boolean">shot</a>
                <a href="#419691" title="(x$1: Boolean)Unit">shot</a> = <span title="Boolean(true)" class="keyword">true</span>
                <a href="#419773" title="Boolean">ret</a>
              <span class="delimiter">}</span>

              <span class="keyword">override</span> <span class="keyword">def</span> <a title="(in: List[String])Any" id="419696">apply</a><span class="delimiter">(</span><a title="List[String]" id="419699">in</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Any">Any</span> = <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="Boolean" id="419775">ns</a> = <a href="#419695" title="()Boolean">fixShot</a><span class="delimiter">(</span><span class="delimiter">)</span>
                <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#419775" title="Boolean">ns</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#419693" title="=&gt; net.liftweb.actor.LAFuture[Any]">theFuture</a>.<a href="../../../../actor/net/liftweb/actor/LAFuture.scala.html#15447" title="(timeout: Long)net.liftweb.common.Box[Any]">get</a><span class="delimiter">(</span><span title="Long(5000L)" class="int">5000</span><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27015" title="=&gt; Any">open_!</a>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                  <span class="keyword">val</span> <a title="net.liftweb.actor.LAFuture[Any]" id="419778">future</a> = <a href="#419693" title="=&gt; net.liftweb.actor.LAFuture[Any]">theFuture</a>
                  <span class="keyword">try</span> <span class="delimiter">{</span>
                    <span class="keyword">val</span> <a title="Any" id="419779">ret</a> = <a href="#419604" title="net.liftweb.http.S.AFuncHolder">value</a>.<a href="#159455" title="(in: List[String])Any">apply</a><span class="delimiter">(</span><a href="#419699" title="List[String]">in</a><span class="delimiter">)</span>
                    <a href="#419778" title="net.liftweb.actor.LAFuture[Any]">future</a>.<a href="../../../../actor/net/liftweb/actor/LAFuture.scala.html#15444" title="(value: Any)Unit">satisfy</a><span class="delimiter">(</span><a href="#419779" title="Any">ret</a><span class="delimiter">)</span>
                    <a href="#419779" title="Any">ret</a>
                  <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
                    <span class="keyword">case</span> <a title="Nothing" id="419786">e</a> =&gt; <a href="#419778" title="net.liftweb.actor.LAFuture[Any]">future</a>.<a href="../../../../actor/net/liftweb/actor/LAFuture.scala.html#15444" title="(value: Any)Unit">satisfy</a><span class="delimiter">(</span><a href="#419786" title="java.lang.Throwable">e</a><span class="delimiter">)</span>; <span title="Nothing" class="keyword">throw</span> <a href="#419786" title="java.lang.Throwable">e</a>
                  <span class="delimiter">}</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>

              <span class="keyword">override</span> <span class="keyword">def</span> <a title="(in: net.liftweb.http.FileParamHolder)Any" id="419697">apply</a><span class="delimiter">(</span><a title="net.liftweb.http.FileParamHolder" id="419706">in</a>: <a href="Req.scala.html#14548" title="net.liftweb.http.FileParamHolder">FileParamHolder</a><span class="delimiter">)</span>: <span title="Any">Any</span> = <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="Boolean" id="419790">ns</a> = <a href="#419695" title="()Boolean">fixShot</a><span class="delimiter">(</span><span class="delimiter">)</span>

                <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#419790" title="Boolean">ns</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#419693" title="=&gt; net.liftweb.actor.LAFuture[Any]">theFuture</a>.<a href="../../../../actor/net/liftweb/actor/LAFuture.scala.html#15447" title="(timeout: Long)net.liftweb.common.Box[Any]">get</a><span class="delimiter">(</span><span title="Long(5000L)" class="int">5000</span><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27015" title="=&gt; Any">open_!</a>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                  <span class="keyword">val</span> <a title="net.liftweb.actor.LAFuture[Any]" id="419793">future</a> = <a href="#419693" title="=&gt; net.liftweb.actor.LAFuture[Any]">theFuture</a>
                  <span class="keyword">try</span> <span class="delimiter">{</span>
                    <span class="keyword">val</span> <a title="Any" id="419794">ret</a> = <a href="#419604" title="net.liftweb.http.S.AFuncHolder">value</a>.<a href="#159456" title="(in: net.liftweb.http.FileParamHolder)Any">apply</a><span class="delimiter">(</span><a href="#419706" title="net.liftweb.http.FileParamHolder">in</a><span class="delimiter">)</span>
                    <a href="#419793" title="net.liftweb.actor.LAFuture[Any]">future</a>.<a href="../../../../actor/net/liftweb/actor/LAFuture.scala.html#15444" title="(value: Any)Unit">satisfy</a><span class="delimiter">(</span><a href="#419794" title="Any">ret</a><span class="delimiter">)</span>
                    <a href="#419794" title="Any">ret</a>
                  <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
                    <span class="keyword">case</span> <a title="Nothing" id="419801">e</a> =&gt; <a href="#419793" title="net.liftweb.actor.LAFuture[Any]">future</a>.<a href="../../../../actor/net/liftweb/actor/LAFuture.scala.html#15444" title="(value: Any)Unit">satisfy</a><span class="delimiter">(</span><a href="#419801" title="java.lang.Throwable">e</a><span class="delimiter">)</span>; <span title="Nothing" class="keyword">throw</span> <a href="#419801" title="java.lang.Throwable">e</a>
                  <span class="delimiter">}</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
          <a href="#49493" title="(name: String, value: net.liftweb.http.S.AFuncHolder)Unit">updateFunctionMap</a><span class="delimiter">(</span><a href="#419603" title="String">name</a>, <a href="#419604" title="net.liftweb.http.S.AFuncHolder">value</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(lst: List[String], func: String =&gt; Any)Unit" id="49495">booster</a><span class="delimiter">(</span><a title="List[String]" id="419806">lst</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span>, <a title="String =&gt; Any" id="419807">func</a>: String =&gt; Any<span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#419806" title="List[String]">lst</a>.<span title="(f: String =&gt; Any)Unit">foreach</span><span class="delimiter">(</span><a title="String" id="419828">v</a> =&gt; <a href="#419807" title="(v1: String)Any">func</a><span class="delimiter">(</span><a href="#419828" title="String">v</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Decorates an URL with jsessionid parameter in case cookies are disabled from the container. Also
   * it appends general purpose parameters defined by LiftRules.urlDecorate
   */</span>
  <span class="keyword">def</span> <a title="(url: String)String" id="49496">encodeURL</a><span class="delimiter">(</span><a title="String" id="351134">url</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="Req.scala.html#14583" title="object net.liftweb.http.URLRewriter">URLRewriter</a>.<a href="Req.scala.html#350484" title="=&gt; net.liftweb.common.Box[String =&gt; String]">rewriteFunc</a> <a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: String =&gt; String =&gt; String)net.liftweb.common.Box[String]">map</a> <span class="delimiter">(</span><a href="#351141" title="(v1: String)String">_</a><span class="delimiter">(</span><a href="#351134" title="String">url</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; String)String">openOr</a> <a href="#351134" title="String">url</a>
  <span class="delimiter">}</span>

  <span class="keyword">private</span><span class="delimiter">[</span>http<span class="delimiter">]</span> <span class="keyword">object</span> <a title="object S.this._formGroup" id="49497">_formGroup</a> <span title="ScalaObject" class="keyword">extends</span> <a href="Vars.scala.html#14776" title="net.liftweb.http.TransientRequestVar[net.liftweb.common.Box[Int]]">TransientRequestVar</a><span class="delimiter">[</span>Box<span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a><span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">object</span> <a title="object S.this.formItemNumber" id="49499">formItemNumber</a> <span title="ScalaObject" class="keyword">extends</span> <a href="Vars.scala.html#14776" title="net.liftweb.http.TransientRequestVar[Int]">TransientRequestVar</a><span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(in: java.lang.StackTraceElement)Boolean" id="49501">notLiftOrScala</a><span class="delimiter">(</span><a title="java.lang.StackTraceElement" id="419837">in</a>: <span title="java.lang.StackTraceElement">StackTraceElement</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
  <a href="#419837" title="java.lang.StackTraceElement">in</a>.<span title="()java.lang.String">getClassName</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a title="Boolean(false)" id="419839">s</a> <span class="keyword">if</span> <a href="#419839" title="java.lang.String">s</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;net.liftweb&quot;)" class="string">&quot;net.liftweb&quot;</span><span class="delimiter">)</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">case</span> <a title="Boolean(false)" id="419842">s</a> <span class="keyword">if</span> <a href="#419842" title="java.lang.String">s</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;scala&quot;)" class="string">&quot;scala&quot;</span><span class="delimiter">)</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">case</span> <span title="Boolean(true)">_</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; Boolean" id="49502">disableTestFuncNames_?</a> : <span title="Boolean">Boolean</span> = <a href="#49292" title="=&gt; net.liftweb.util.ThreadGlobal[Boolean]">_disableTestFuncNames</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51271" title="=&gt; net.liftweb.common.Box[Boolean]">box</a> <a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; Boolean)Boolean">openOr</a> <span title="Boolean(false)" class="keyword">false</span>

  <span class="keyword">def</span> <a title="[T](f: =&gt; T)T" id="49503">disableTestFuncNames</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="49505">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; T" id="419852">f</a>: =&gt; T<span class="delimiter">)</span>: <a href="#49505" title="T">T</a> =
    <a href="#49292" title="=&gt; net.liftweb.util.ThreadGlobal[Boolean]">_disableTestFuncNames</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51274" title="(x: Boolean)(f: =&gt; T)T">doWith</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#419852" title="=&gt; T">f</a>
    <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; String" id="49506">formFuncName</a>: <span title="String">String</span> = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../../util/net/liftweb/util/Props.scala.html#13579" title="object net.liftweb.util.Props">Props</a>.<a href="../../../../util/net/liftweb/util/Props.scala.html#151321" title="=&gt; Boolean">testMode</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#49502" title="=&gt; Boolean">disableTestFuncNames_?</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Long" id="419864">bump</a>: <span title="Long">Long</span> = <span class="delimiter">(</span><span class="delimiter">(</span><a href="#49497" title="object S.this._formGroup">_formGroup</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75375" title="=&gt; net.liftweb.common.Box[Int]">is</a> <a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; Int)Int">openOr</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="(x: Long)Long">+</span> <span title="Long(1000L)" class="long">1000L</span><span class="delimiter">)</span> <span title="(x: Long)Long">*</span> <span title="Long(100000L)" class="long">100000L</span>
    <span class="keyword">val</span> <a title="Int" id="419865">num</a>: <span title="Int">Int</span> = <a href="#49499" title="object S.this.formItemNumber">formItemNumber</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75375" title="=&gt; Int">is</a>
    <a href="#49499" title="object S.this.formItemNumber">formItemNumber</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75378" title="(what: Int)Int">set</a><span class="delimiter">(</span><a href="#419865" title="Int">num</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
    <span class="keyword">import</span> java.text._
    <span class="keyword">val</span> <a title="String" id="419867">prefix</a>: <span title="String">String</span> = <span title="(x$1: java.lang.String)java.text.DecimalFormat" class="keyword">new</span> <span title="java.text.DecimalFormat">DecimalFormat</span><span class="delimiter">(</span><span title="java.lang.String(&quot;00000000000000000&quot;)" class="string">&quot;00000000000000000&quot;</span><span class="delimiter">)</span>.<span title="(x$1: Long)java.lang.String">format</span><span class="delimiter">(</span><a href="#419864" title="Long">bump</a> <span title="(x: Int)Long">+</span> <a href="#419865" title="Int">num</a><span class="delimiter">)</span>
    <span class="comment">// take the first 2 non-Lift/non-Scala stack frames for use as hash issue 174</span>
    <span title="java.lang.String(&quot;f&quot;)" class="string">&quot;f&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#419867" title="String">prefix</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;_&quot;)" class="string">&quot;_&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="../../../../util/net/liftweb/util/Helpers.scala.html#13346" title="object net.liftweb.util.Helpers">Helpers</a>.<a href="../../../../util/net/liftweb/util/SecurityHelpers.scala.html#48928" title="(in: String)String">hashHex</a><span class="delimiter">(</span><span class="delimiter">(</span><span title="java.lang.Exception" class="keyword">new</span> <span title="java.lang.Exception">Exception</span><span class="delimiter">)</span>.<span title="(xs: Array[java.lang.StackTraceElement])scala.collection.mutable.ArrayOps[java.lang.StackTraceElement]">getStackTrace</span>.<span title="=&gt; List[java.lang.StackTraceElement]">toList</span>.<span title="(p: java.lang.StackTraceElement =&gt; Boolean)List[java.lang.StackTraceElement]">filter</span><span class="delimiter">(</span><a href="#49501" title="(in: java.lang.StackTraceElement)Boolean">notLiftOrScala</a><span class="delimiter">)</span>.<span title="(n: Int)List[java.lang.StackTraceElement]">take</span><span class="delimiter">(</span><span title="Int(2)" class="int">2</span><span class="delimiter">)</span>.<span title="(f: java.lang.StackTraceElement =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[List[java.lang.StackTraceElement],java.lang.String,List[java.lang.String]])List[java.lang.String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,java.lang.String,List[java.lang.String]]" class="delimiter">(</span><a href="#420029" title="java.lang.StackTraceElement">_</a>.<span title="()java.lang.String">toString</span><span class="delimiter">)</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
    <a href="#49497" title="object S.this._formGroup">_formGroup</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75375" title="=&gt; net.liftweb.common.Box[Int]">is</a> <span title="String" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="String">Full</span><span class="delimiter">(</span><a title="Int" id="420061">x</a><span class="delimiter">)</span> =&gt; <a href="../../../../util/net/liftweb/util/Helpers.scala.html#13346" title="object net.liftweb.util.Helpers">Helpers</a>.<a href="../../../../util/net/liftweb/util/HttpHelpers.scala.html#49068" title="(seed: Long)String">nextFuncName</a><span class="delimiter">(</span><a href="#420061" title="Int">x</a>.<span title="=&gt; Long">toLong</span> <span title="(x: Long)Long">*</span> <span title="Long(100000L)" class="long">100000L</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="String">_</span> =&gt; <a href="../../../../util/net/liftweb/util/Helpers.scala.html#13346" title="object net.liftweb.util.Helpers">Helpers</a>.<a href="../../../../util/net/liftweb/util/HttpHelpers.scala.html#49067" title="=&gt; String">nextFuncName</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[T](group: Int)(f: =&gt; T)T" id="49507">formGroup</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="49509">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Int" id="374877">group</a>: <span title="Int">Int</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; T" id="374878">f</a>: =&gt; T<span class="delimiter">)</span>: <a href="#49509" title="T">T</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="net.liftweb.common.Box[Int]" id="420070">x</a> = <a href="#49497" title="object S.this._formGroup">_formGroup</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75375" title="=&gt; net.liftweb.common.Box[Int]">is</a>
    <a href="#49497" title="object S.this._formGroup">_formGroup</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75378" title="(what: net.liftweb.common.Box[Int])net.liftweb.common.Box[Int]">set</a><span class="delimiter">(</span><a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: Int)net.liftweb.common.Full[Int]">Full</a><span class="delimiter">(</span><a href="#374877" title="Int">group</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">try</span> <span class="delimiter">{</span>
      <a href="#374878" title="=&gt; T">f</a>
    <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
      <a href="#49497" title="object S.this._formGroup">_formGroup</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75378" title="(what: net.liftweb.common.Box[Int])net.liftweb.common.Box[Int]">set</a><span title="Unit" class="delimiter">(</span><a href="#420070" title="net.liftweb.common.Box[Int]">x</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>


  <span class="keyword">import</span> json.<a href="../../../../json/net/liftweb/json/JsonAST.scala.html#11132" title="object net.liftweb.json.JsonAST">JsonAST</a>._
  <span class="comment">/**
   * Build a handler for incoming JSON commands based on the new Json Parser
   *
   * @param f - partial function against a returning a JsCmds
   *
   * @return ( JsonCall, JsCmd )
   */</span>
  <span class="keyword">def</span> <a title="(f: net.liftweb.http.S.PFPromoter[net.liftweb.json.JsonAST.JValue,net.liftweb.http.js.JsCmd])(net.liftweb.http.js.JsonCall, net.liftweb.http.js.JsCmd)" id="49511">createJsonFunc</a><span class="delimiter">(</span><a title="net.liftweb.http.S.PFPromoter[net.liftweb.json.JsonAST.JValue,net.liftweb.http.js.JsCmd]" id="344403">f</a>: <a href="#344416" title="net.liftweb.http.S.PFPromoter[net.liftweb.json.JsonAST.JValue,net.liftweb.http.js.JsCmd]">PFPromoter</a><span class="delimiter">[</span>JValue, JsCmd<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="(net.liftweb.http.js.JsonCall, net.liftweb.http.js.JsCmd)" class="delimiter">(</span>JsonCall, JsCmd<span class="delimiter">)</span> = <a href="#49513" title="(name: net.liftweb.common.Box[String], onError: net.liftweb.common.Box[net.liftweb.http.js.JsCmd], pfp: net.liftweb.http.S.PFPromoter[net.liftweb.json.JsonAST.JValue,net.liftweb.http.js.JsCmd])(net.liftweb.http.js.JsonCall, net.liftweb.http.js.JsCmd)">createJsonFunc</a><span class="delimiter">(</span><a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>, <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>, <a href="#344403" title="net.liftweb.http.S.PFPromoter[net.liftweb.json.JsonAST.JValue,net.liftweb.http.js.JsCmd]">f</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Build a handler for incoming JSON commands based on the new Json Parser
   *
   * @param onError -- the JavaScript to execute client-side if the request is not processed by the server
   * @param f - partial function against a returning a JsCmds
   *
   * @return ( JsonCall, JsCmd )
   */</span>
  <span class="keyword">def</span> <a title="(onError: net.liftweb.http.js.JsCmd, f: net.liftweb.http.S.PFPromoter[net.liftweb.json.JsonAST.JValue,net.liftweb.http.js.JsCmd])(net.liftweb.http.js.JsonCall, net.liftweb.http.js.JsCmd)" id="49512">createJsonFunc</a><span class="delimiter">(</span><a title="net.liftweb.http.js.JsCmd" id="344400">onError</a>: <a href="js/JsCommands.scala.html#14913" title="net.liftweb.http.js.JsCmd">JsCmd</a>, <a title="net.liftweb.http.S.PFPromoter[net.liftweb.json.JsonAST.JValue,net.liftweb.http.js.JsCmd]" id="344401">f</a>: <a href="#344416" title="net.liftweb.http.S.PFPromoter[net.liftweb.json.JsonAST.JValue,net.liftweb.http.js.JsCmd]">PFPromoter</a><span class="delimiter">[</span>JValue, JsCmd<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="(net.liftweb.http.js.JsonCall, net.liftweb.http.js.JsCmd)" class="delimiter">(</span>JsonCall, JsCmd<span class="delimiter">)</span> =
  <a href="#49513" title="(name: net.liftweb.common.Box[String], onError: net.liftweb.common.Box[net.liftweb.http.js.JsCmd], pfp: net.liftweb.http.S.PFPromoter[net.liftweb.json.JsonAST.JValue,net.liftweb.http.js.JsCmd])(net.liftweb.http.js.JsonCall, net.liftweb.http.js.JsCmd)">createJsonFunc</a><span class="delimiter">(</span><a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>, <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: net.liftweb.http.js.JsCmd)net.liftweb.common.Full[net.liftweb.http.js.JsCmd]">Full</a><span class="delimiter">(</span><a href="#344400" title="net.liftweb.http.js.JsCmd">onError</a><span class="delimiter">)</span>, <a href="#344401" title="net.liftweb.http.S.PFPromoter[net.liftweb.json.JsonAST.JValue,net.liftweb.http.js.JsCmd]">f</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Build a handler for incoming JSON commands based on the new Json Parser.  You
   * can use the helpful Extractor in net.liftweb.util.JsonCommand
   *
   * @param name -- the optional name of the command (placed in a comment for testing)
   * @param onError -- the JavaScript to execute client-side if the request is not processed by the server
   * @param f - partial function against a returning a JsCmds
   *
   * @return ( JsonCall, JsCmd )
   */</span>
  <span class="keyword">def</span> <a title="(name: net.liftweb.common.Box[String], onError: net.liftweb.common.Box[net.liftweb.http.js.JsCmd], pfp: net.liftweb.http.S.PFPromoter[net.liftweb.json.JsonAST.JValue,net.liftweb.http.js.JsCmd])(net.liftweb.http.js.JsonCall, net.liftweb.http.js.JsCmd)" id="49513">createJsonFunc</a><span class="delimiter">(</span><a title="net.liftweb.common.Box[String]" id="344387">name</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[String]">Box</a><span class="delimiter">[</span>String<span class="delimiter">]</span>, <a title="net.liftweb.common.Box[net.liftweb.http.js.JsCmd]" id="344388">onError</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.http.js.JsCmd]">Box</a><span class="delimiter">[</span>JsCmd<span class="delimiter">]</span>, <a title="net.liftweb.http.S.PFPromoter[net.liftweb.json.JsonAST.JValue,net.liftweb.http.js.JsCmd]" id="344389">pfp</a>: <a href="#344416" title="net.liftweb.http.S.PFPromoter[net.liftweb.json.JsonAST.JValue,net.liftweb.http.js.JsCmd]">PFPromoter</a><span class="delimiter">[</span>JValue, JsCmd<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="(net.liftweb.http.js.JsonCall, net.liftweb.http.js.JsCmd)" class="delimiter">(</span>JsonCall, JsCmd<span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="#49432" title="(span: Boolean)(f: =&gt; (net.liftweb.http.js.JsonCall, net.liftweb.http.js.JsCmds.Run))(net.liftweb.http.js.JsonCall, net.liftweb.http.js.JsCmds.Run)">functionLifespan</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="String" id="420095">key</a> = <a href="#49506" title="=&gt; String">formFuncName</a>

      <span class="keyword">import</span> json._

      <span class="keyword">def</span> <a title="(in: List[String])net.liftweb.http.js.JsCmd" id="420097">jsonCallback</a><span class="delimiter">(</span><a title="List[String]" id="420101">in</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="js/JsCommands.scala.html#14913" title="net.liftweb.http.js.JsCmd">JsCmd</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="PartialFunction[net.liftweb.json.JsonAST.JValue,net.liftweb.http.js.JsCmd]" id="420102">f</a> = <a href="#344389" title="net.liftweb.http.S.PFPromoter[net.liftweb.json.JsonAST.JValue,net.liftweb.http.js.JsCmd]">pfp</a>.<a href="#413867" title="()PartialFunction[net.liftweb.json.JsonAST.JValue,net.liftweb.http.js.JsCmd]">pff</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">for</span> <span class="delimiter">{</span>
          <a title="String" id="420119">line</a> &lt;- <a href="#420101" title="(f: String =&gt; scala.collection.GenTraversableOnce[net.liftweb.http.js.JsCmd])(implicit bf: scala.collection.generic.CanBuildFrom[List[String],net.liftweb.http.js.JsCmd,List[net.liftweb.http.js.JsCmd]])List[net.liftweb.http.js.JsCmd]">in</a>
          <a title="net.liftweb.json.JsonAST.JValue" id="420135">parsed</a> &lt;- <a href="../../../../json/net/liftweb/json/JsonParser.scala.html#11146" title="object net.liftweb.json.JsonParser">JsonParser</a>.<a href="../../../../json/net/liftweb/json/JsonParser.scala.html#54537" title="(s: String)Option[net.liftweb.json.package.JValue]">parseOpt</a><span title="(f: net.liftweb.json.package.JValue =&gt; net.liftweb.http.js.JsCmd)Option[net.liftweb.http.js.JsCmd]" class="delimiter">(</span><a href="#420119" title="String">line</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#420102" title="PartialFunction[net.liftweb.json.JsonAST.JValue,net.liftweb.http.js.JsCmd]">f</a>.<span title="(x: net.liftweb.json.JsonAST.JValue)Boolean">isDefinedAt</span><span class="delimiter">(</span><a href="#420135" title="net.liftweb.json.JsonAST.JValue">parsed</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">yield</span> <a href="#420102" title="(v1: net.liftweb.json.JsonAST.JValue)net.liftweb.http.js.JsCmd">f</a><span class="delimiter">(</span><a href="#420135" title="net.liftweb.json.package.JValue">parsed</a><span class="delimiter">)</span><span class="delimiter">}</span>.<span title="(z: net.liftweb.http.js.JsCmd)(f: (net.liftweb.http.js.JsCmd, net.liftweb.http.js.JsCmd) =&gt; net.liftweb.http.js.JsCmd)net.liftweb.http.js.JsCmd">foldLeft</span><span class="delimiter">(</span><a href="js/JsCommands.scala.html#14916" title="object net.liftweb.http.js.JsCmds">JsCmds</a>.<a href="js/JsCommands.scala.html#146481" title="=&gt; net.liftweb.http.js.JsCmd">Noop</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#420221" title="net.liftweb.http.js.JsCmd">_</a> <a href="js/JsCommands.scala.html#148952" title="(other: net.liftweb.http.js.JsCmd)net.liftweb.http.js.JsCmd">&amp;</a> <a href="#420222" title="net.liftweb.http.js.JsCmd">_</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="String" id="420098">onErrorFunc</a>: <span title="String">String</span> =
      <a href="#344388" title="net.liftweb.common.Box[net.liftweb.http.js.JsCmd]">onError</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: net.liftweb.http.js.JsCmd =&gt; String)net.liftweb.common.Box[String]">map</a><span class="delimiter">(</span><a title="net.liftweb.http.js.JsCmd" id="420227">f</a> =&gt; <a href="js/JsCommands.scala.html#14916" title="object net.liftweb.http.js.JsCmds">JsCmds</a>.<a href="js/JsCommands.scala.html#196384" title="(text: String)net.liftweb.http.js.JsCmds.Run">Run</a><span class="delimiter">(</span><span title="java.lang.String(&quot;function onError_&quot;)" class="string">&quot;function onError_&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#420095" title="String">key</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;() {&quot;)" class="string">&quot;() {&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#420227" title="net.liftweb.http.js.JsCmd">f</a>.<a href="js/JsCommands.scala.html#148953" title="=&gt; String">toJsCmd</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\012  }\012\012   &quot;)" class="string">&quot;&quot;&quot;
  }

   &quot;&quot;&quot;</span><span class="delimiter">)</span>.<a href="js/JsCommands.scala.html#196389" title="=&gt; String">toJsCmd</a><span class="delimiter">)</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; String)String">openOr</a> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>

      <span class="keyword">val</span> <a title="java.lang.String" id="420099">onErrorParam</a> = <a href="#344388" title="net.liftweb.common.Box[net.liftweb.http.js.JsCmd]">onError</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: net.liftweb.http.js.JsCmd =&gt; java.lang.String)net.liftweb.common.Box[java.lang.String]">map</a><span class="delimiter">(</span><a title="net.liftweb.http.js.JsCmd" id="420242">f</a> =&gt; <span title="java.lang.String(&quot;onError_&quot;)" class="string">&quot;onError_&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#420095" title="String">key</a><span class="delimiter">)</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; java.lang.String)java.lang.String">openOr</a> <span title="java.lang.String(&quot;null&quot;)" class="string">&quot;null&quot;</span>

      <span class="keyword">val</span> <a title="net.liftweb.http.S.AFuncHolder" id="420100">af</a>: <a href="#49602" title="net.liftweb.http.S.AFuncHolder">AFuncHolder</a> = <a href="#159470" title="implicit net.liftweb.http.S.AFuncHolder.listStrToAF : (f: List[String] =&gt; Any)net.liftweb.http.S.AFuncHolder">jsonCallback</a> _
      <a href="#49494" title="(name: String, value: net.liftweb.http.S.AFuncHolder)Unit">addFunctionMap</a><span class="delimiter">(</span><a href="#420095" title="String">key</a>, <a href="#420100" title="net.liftweb.http.S.AFuncHolder">af</a><span class="delimiter">)</span>

      <span title="(_1: net.liftweb.http.js.JsonCall, _2: net.liftweb.http.js.JsCmds.Run)(net.liftweb.http.js.JsonCall, net.liftweb.http.js.JsCmds.Run)" class="delimiter">(</span><a href="js/JsCommands.scala.html#420257" title="(funcId: String)net.liftweb.http.js.JsonCall">JsonCall</a><span class="delimiter">(</span><a href="#420095" title="String">key</a><span class="delimiter">)</span>, <a href="js/JsCommands.scala.html#14916" title="object net.liftweb.http.js.JsCmds">JsCmds</a>.<a href="js/JsCommands.scala.html#196384" title="(text: String)net.liftweb.http.js.JsCmds.Run">Run</a><span class="delimiter">(</span><a href="#344387" title="net.liftweb.common.Box[String]">name</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: String =&gt; java.lang.String)net.liftweb.common.Box[java.lang.String]">map</a><span class="delimiter">(</span><a title="String" id="420269">n</a> =&gt; <a href="#420098" title="String">onErrorFunc</a> <span title="(x$1: Any)java.lang.String">+</span>
                                          <span title="java.lang.String(&quot;/* JSON Func &quot;)" class="string">&quot;/* JSON Func &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#420269" title="String">n</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; $$ &quot;)" class="string">&quot; $$ &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#420095" title="String">key</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; */&quot;)" class="string">&quot; */&quot;</span><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; java.lang.String)java.lang.String">openOr</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span>
                                 <span title="java.lang.String(&quot;function &quot;)" class="string">&quot;function &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#420095" title="String">key</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;(obj) {liftAjax.lift_ajaxHandler(&quot;)" class="string">&quot;(obj) {liftAjax.lift_ajaxHandler(&quot;</span> <span title="(x$1: Any)java.lang.String">+</span>
                                 <span title="java.lang.String(&quot;\'&quot;)" class="string">&quot;'&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#420095" title="String">key</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;=\'+ encodeURIComponent(&quot;)" class="string">&quot;='+ encodeURIComponent(&quot;</span> <span title="(x$1: Any)java.lang.String">+</span>
                                 <a href="LiftRules.scala.html#158817" title="implicit net.liftweb.http.LiftRulesMocker.toLiftRules : (in: net.liftweb.http.LiftRulesMocker)net.liftweb.http.LiftRules">LiftRules</a>.<a href="LiftRules.scala.html#158871" title="=&gt; net.liftweb.http.js.JSArtifacts">jsArtifacts</a>.
                                 <a href="js/JSArtifacts.scala.html#327571" title="(in: net.liftweb.http.js.JsExp)net.liftweb.http.js.JsExp">jsonStringify</a><span class="delimiter">(</span><a href="js/JsCommands.scala.html#14910" title="object net.liftweb.http.js.JE">JE</a>.<a href="js/JsCommands.scala.html#184878" title="(rawJsCmd: String)net.liftweb.http.js.JE.JsRaw">JsRaw</a><span class="delimiter">(</span><span title="java.lang.String(&quot;obj&quot;)" class="string">&quot;obj&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.
                                 <a href="js/JsCommands.scala.html#58016" title="=&gt; String">toJsCmd</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;), null,&quot;)" class="string">&quot;), null,&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#420099" title="java.lang.String">onErrorParam</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;);}&quot;)" class="string">&quot;);}&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Build a handler for incoming JSON commands
   *
   * @param f - function returning a JsCmds
   * @return ( JsonCall, JsCmd )
   */</span>
  <span class="keyword">def</span> <a title="(f: Any =&gt; net.liftweb.http.js.JsCmd)(net.liftweb.http.js.JsonCall, net.liftweb.http.js.JsCmd)" id="49514">buildJsonFunc</a><span class="delimiter">(</span><a title="Any =&gt; net.liftweb.http.js.JsCmd" id="344364">f</a>: Any =&gt; JsCmd<span class="delimiter">)</span>: <span title="(net.liftweb.http.js.JsonCall, net.liftweb.http.js.JsCmd)" class="delimiter">(</span>JsonCall, JsCmd<span class="delimiter">)</span> = <a href="#49516" title="(name: net.liftweb.common.Box[String], onError: net.liftweb.common.Box[net.liftweb.http.js.JsCmd], f: Any =&gt; net.liftweb.http.js.JsCmd)(net.liftweb.http.js.JsonCall, net.liftweb.http.js.JsCmd)">buildJsonFunc</a><span class="delimiter">(</span><a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>, <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>, <a href="#344364" title="Any =&gt; net.liftweb.http.js.JsCmd">f</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(onError: net.liftweb.http.js.JsCmd, f: Any =&gt; net.liftweb.http.js.JsCmd)(net.liftweb.http.js.JsonCall, net.liftweb.http.js.JsCmd)" id="49515">buildJsonFunc</a><span class="delimiter">(</span><a title="net.liftweb.http.js.JsCmd" id="344361">onError</a>: <a href="js/JsCommands.scala.html#14913" title="net.liftweb.http.js.JsCmd">JsCmd</a>, <a title="Any =&gt; net.liftweb.http.js.JsCmd" id="344362">f</a>: Any =&gt; JsCmd<span class="delimiter">)</span>: <span title="(net.liftweb.http.js.JsonCall, net.liftweb.http.js.JsCmd)" class="delimiter">(</span>JsonCall, JsCmd<span class="delimiter">)</span> =
    <a href="#49516" title="(name: net.liftweb.common.Box[String], onError: net.liftweb.common.Box[net.liftweb.http.js.JsCmd], f: Any =&gt; net.liftweb.http.js.JsCmd)(net.liftweb.http.js.JsonCall, net.liftweb.http.js.JsCmd)">buildJsonFunc</a><span class="delimiter">(</span><a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>, <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: net.liftweb.http.js.JsCmd)net.liftweb.common.Full[net.liftweb.http.js.JsCmd]">Full</a><span class="delimiter">(</span><a href="#344361" title="net.liftweb.http.js.JsCmd">onError</a><span class="delimiter">)</span>, <a href="#344362" title="Any =&gt; net.liftweb.http.js.JsCmd">f</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Build a handler for incoming JSON commands
   *
   * @param name -- the optional name of the command (placed in a comment for testing)
   *
   * @param f - function returning a JsCmds
   * @return ( JsonCall, JsCmd )
   */</span>
  <span class="keyword">def</span> <a title="(name: net.liftweb.common.Box[String], onError: net.liftweb.common.Box[net.liftweb.http.js.JsCmd], f: Any =&gt; net.liftweb.http.js.JsCmd)(net.liftweb.http.js.JsonCall, net.liftweb.http.js.JsCmd)" id="49516">buildJsonFunc</a><span class="delimiter">(</span><a title="net.liftweb.common.Box[String]" id="344357">name</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[String]">Box</a><span class="delimiter">[</span>String<span class="delimiter">]</span>, <a title="net.liftweb.common.Box[net.liftweb.http.js.JsCmd]" id="344358">onError</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.http.js.JsCmd]">Box</a><span class="delimiter">[</span>JsCmd<span class="delimiter">]</span>, <a title="Any =&gt; net.liftweb.http.js.JsCmd" id="344359">f</a>: Any =&gt; JsCmd<span class="delimiter">)</span>: <span title="(net.liftweb.http.js.JsonCall, net.liftweb.http.js.JsCmd)" class="delimiter">(</span>JsonCall, JsCmd<span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="#49432" title="(span: Boolean)(f: =&gt; (net.liftweb.http.js.JsonCall, net.liftweb.http.js.JsCmds.Run))(net.liftweb.http.js.JsonCall, net.liftweb.http.js.JsCmds.Run)">functionLifespan</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="String" id="420299">key</a> = <a href="#49506" title="=&gt; String">formFuncName</a>

      <span class="keyword">def</span> <a title="(in: Any)Any" id="420300">checkCmd</a><span class="delimiter">(</span><a title="Any" id="420305">in</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#420305" title="Any">in</a> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="net.liftweb.util.JsonCmd" id="420306">v2</a>: scala.collection.<span title="scala.collection.Map[Any,_]">Map</span><span class="delimiter">[</span>Any, _<span class="delimiter">]</span> <span class="keyword">if</span> <a href="#420306" title="scala.collection.Map[Any,_]">v2</a>.<span title="(key: Any)Boolean">isDefinedAt</span><span class="delimiter">(</span><span title="java.lang.String(&quot;command&quot;)" class="string">&quot;command&quot;</span><span class="delimiter">)</span> =&gt;
          <span class="comment">// ugly code to avoid type erasure warning</span>
          <span class="keyword">val</span> <a title="scala.collection.Map[String,Any]" id="420310">v</a> = <a href="#420306" title="scala.collection.Map[Any,_]">v2</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="scala.collection.Map[String,Any]" class="delimiter">[</span>scala.collection.<span title="scala.collection.Map[String,Any]">Map</span><span class="delimiter">[</span>String, Any<span class="delimiter">]</span><span class="delimiter">]</span>
          <a href="../../../../util/net/liftweb/util/JsonCmd.scala.html#301596" title="(command: String, target: String, params: Any, all: scala.collection.Map[String,Any])net.liftweb.util.JsonCmd">JsonCmd</a><span class="delimiter">(</span><a href="#420310" title="(key: String)Any">v</a><span class="delimiter">(</span><span title="java.lang.String(&quot;command&quot;)" class="string">&quot;command&quot;</span><span class="delimiter">)</span>.<span title="()java.lang.String">toString</span>, <a href="#420310" title="scala.collection.Map[String,Any]">v</a>.<span title="(key: String)Option[Any]">get</span><span class="delimiter">(</span><span title="java.lang.String(&quot;target&quot;)" class="string">&quot;target&quot;</span><span class="delimiter">)</span>.
                  <span title="(f: Any =&gt; java.lang.String)Option[java.lang.String]">map</span> <a href="#420351" title="java.lang.String" class="delimiter">{</a>
            <span class="keyword">case</span> <span title="Null(null)" class="keyword">null</span> =&gt; <span title="Null(null)" class="keyword">null</span>
            <span class="keyword">case</span> <a title="java.lang.String" id="420352">x</a> =&gt; <a href="#420352" title="Any">x</a>.<span title="()java.lang.String">toString</span>
          <span class="delimiter">}</span> <span title="(default: =&gt; java.lang.String)java.lang.String">getOrElse</span> <span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>, <a href="#420310" title="scala.collection.Map[String,Any]">v</a>.<span title="(key: String)Option[Any]">get</span><span class="delimiter">(</span><span title="java.lang.String(&quot;params&quot;)" class="string">&quot;params&quot;</span><span class="delimiter">)</span>.<span title="(default: =&gt; Any)Any">getOrElse</span><span class="delimiter">(</span><span title="object None">None</span><span class="delimiter">)</span>, <a href="#420310" title="scala.collection.Map[String,Any]">v</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Any" id="420364">v</a> =&gt; <a href="#420364" title="Any">v</a>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(in: List[String])net.liftweb.http.js.JsCmd" id="420301">jsonCallback</a><span class="delimiter">(</span><a title="List[String]" id="420365">in</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="js/JsCommands.scala.html#14913" title="net.liftweb.http.js.JsCmd">JsCmd</a> = <span class="delimiter">{</span>
        <a href="#420365" title="List[String]">in</a>.<span title="=&gt; Option[String]">headOption</span>.<span title="=&gt; List[String]">toList</span>.<span title="(f: String =&gt; scala.collection.GenTraversableOnce[net.liftweb.http.js.JsCmd])(implicit bf: scala.collection.generic.CanBuildFrom[List[String],net.liftweb.http.js.JsCmd,List[net.liftweb.http.js.JsCmd]])List[net.liftweb.http.js.JsCmd]">flatMap</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,net.liftweb.http.js.JsCmd,List[net.liftweb.http.js.JsCmd]]" class="delimiter">{</span>
          <a title="String" id="420385">s</a> =&gt;
                  <span class="keyword">val</span> <a title="List[Any]" id="420386">parsed</a> = <a href="../../../../util/net/liftweb/util/JSONParser.scala.html#13398" title="object net.liftweb.util.JSONParser">JSONParser</a>.<a href="../../../../util/net/liftweb/util/JSONParser.scala.html#234730" title="(in: String)net.liftweb.common.Box[Any]">parse</a><span class="delimiter">(</span><a href="#420385" title="String">s</a>.<span title="()java.lang.String">trim</span><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27051" title="=&gt; List[Any]">toList</a>
                  <span class="keyword">val</span> <a title="List[Any]" id="420387">cmds</a> = <a href="#420386" title="List[Any]">parsed</a>.<span title="(f: Any =&gt; Any)(implicit bf: scala.collection.generic.CanBuildFrom[List[Any],Any,List[Any]])List[Any]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Any,List[Any]]" class="delimiter">(</span><a href="#420300" title="(in: Any)Any">checkCmd</a><span class="delimiter">)</span>
                  <span class="keyword">val</span> <a title="List[net.liftweb.http.js.JsCmd]" id="420388">ret</a> = <a href="#420387" title="List[Any]">cmds</a>.<span title="(f: Any =&gt; net.liftweb.http.js.JsCmd)(implicit bf: scala.collection.generic.CanBuildFrom[List[Any],net.liftweb.http.js.JsCmd,List[net.liftweb.http.js.JsCmd]])List[net.liftweb.http.js.JsCmd]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,net.liftweb.http.js.JsCmd,List[net.liftweb.http.js.JsCmd]]" class="delimiter">(</span><a href="#344359" title="Any =&gt; net.liftweb.http.js.JsCmd">f</a><span class="delimiter">)</span>
                  <a href="#420388" title="List[net.liftweb.http.js.JsCmd]">ret</a>
        <span class="delimiter">}</span>.<span title="(z: net.liftweb.http.js.JsCmd)(f: (net.liftweb.http.js.JsCmd, net.liftweb.http.js.JsCmd) =&gt; net.liftweb.http.js.JsCmd)net.liftweb.http.js.JsCmd">foldLeft</span><span class="delimiter">(</span><a href="js/JsCommands.scala.html#14916" title="object net.liftweb.http.js.JsCmds">JsCmds</a>.<a href="js/JsCommands.scala.html#146481" title="=&gt; net.liftweb.http.js.JsCmd">Noop</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#420521" title="net.liftweb.http.js.JsCmd">_</a> <a href="js/JsCommands.scala.html#148952" title="(other: net.liftweb.http.js.JsCmd)net.liftweb.http.js.JsCmd">&amp;</a> <a href="#420522" title="net.liftweb.http.js.JsCmd">_</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="String" id="420302">onErrorFunc</a>: <span title="String">String</span> =
      <a href="#344358" title="net.liftweb.common.Box[net.liftweb.http.js.JsCmd]">onError</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: net.liftweb.http.js.JsCmd =&gt; String)net.liftweb.common.Box[String]">map</a><span class="delimiter">(</span><a title="net.liftweb.http.js.JsCmd" id="420527">f</a> =&gt; <a href="js/JsCommands.scala.html#14916" title="object net.liftweb.http.js.JsCmds">JsCmds</a>.<a href="js/JsCommands.scala.html#196384" title="(text: String)net.liftweb.http.js.JsCmds.Run">Run</a><span class="delimiter">(</span><span title="java.lang.String(&quot;function onError_&quot;)" class="string">&quot;function onError_&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#420299" title="String">key</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;() {&quot;)" class="string">&quot;() {&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#420527" title="net.liftweb.http.js.JsCmd">f</a>.<a href="js/JsCommands.scala.html#148953" title="=&gt; String">toJsCmd</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\012}\012\012 &quot;)" class="string">&quot;&quot;&quot;
}

 &quot;&quot;&quot;</span><span class="delimiter">)</span>.<a href="js/JsCommands.scala.html#196389" title="=&gt; String">toJsCmd</a><span class="delimiter">)</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; String)String">openOr</a> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>

      <span class="keyword">val</span> <a title="java.lang.String" id="420303">onErrorParam</a> = <a href="#344358" title="net.liftweb.common.Box[net.liftweb.http.js.JsCmd]">onError</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: net.liftweb.http.js.JsCmd =&gt; java.lang.String)net.liftweb.common.Box[java.lang.String]">map</a><span class="delimiter">(</span><a title="net.liftweb.http.js.JsCmd" id="420539">f</a> =&gt; <span title="java.lang.String(&quot;onError_&quot;)" class="string">&quot;onError_&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#420299" title="String">key</a><span class="delimiter">)</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; java.lang.String)java.lang.String">openOr</a> <span title="java.lang.String(&quot;null&quot;)" class="string">&quot;null&quot;</span>

      <span class="keyword">val</span> <a title="net.liftweb.http.S.AFuncHolder" id="420304">af</a>: <a href="#49602" title="net.liftweb.http.S.AFuncHolder">AFuncHolder</a> = <a href="#159470" title="implicit net.liftweb.http.S.AFuncHolder.listStrToAF : (f: List[String] =&gt; Any)net.liftweb.http.S.AFuncHolder">jsonCallback</a> _
      <a href="#49494" title="(name: String, value: net.liftweb.http.S.AFuncHolder)Unit">addFunctionMap</a><span class="delimiter">(</span><a href="#420299" title="String">key</a>, <a href="#420304" title="net.liftweb.http.S.AFuncHolder">af</a><span class="delimiter">)</span>

      <span title="(_1: net.liftweb.http.js.JsonCall, _2: net.liftweb.http.js.JsCmds.Run)(net.liftweb.http.js.JsonCall, net.liftweb.http.js.JsCmds.Run)" class="delimiter">(</span><a href="js/JsCommands.scala.html#420257" title="(funcId: String)net.liftweb.http.js.JsonCall">JsonCall</a><span class="delimiter">(</span><a href="#420299" title="String">key</a><span class="delimiter">)</span>, <a href="js/JsCommands.scala.html#14916" title="object net.liftweb.http.js.JsCmds">JsCmds</a>.<a href="js/JsCommands.scala.html#196384" title="(text: String)net.liftweb.http.js.JsCmds.Run">Run</a><span class="delimiter">(</span><a href="#344357" title="net.liftweb.common.Box[String]">name</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: String =&gt; java.lang.String)net.liftweb.common.Box[java.lang.String]">map</a><span class="delimiter">(</span><a title="String" id="420559">n</a> =&gt; <a href="#420302" title="String">onErrorFunc</a> <span title="(x$1: Any)java.lang.String">+</span>
              <span title="java.lang.String(&quot;/* JSON Func &quot;)" class="string">&quot;/* JSON Func &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#420559" title="String">n</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; $$ &quot;)" class="string">&quot; $$ &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#420299" title="String">key</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; */&quot;)" class="string">&quot; */&quot;</span><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; java.lang.String)java.lang.String">openOr</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span>
              <span title="java.lang.String(&quot;function &quot;)" class="string">&quot;function &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#420299" title="String">key</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;(obj) {liftAjax.lift_ajaxHandler(&quot;)" class="string">&quot;(obj) {liftAjax.lift_ajaxHandler(&quot;</span> <span title="(x$1: Any)java.lang.String">+</span>
              <span title="java.lang.String(&quot;\'&quot;)" class="string">&quot;'&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#420299" title="String">key</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;=\'+ encodeURIComponent(&quot;)" class="string">&quot;='+ encodeURIComponent(&quot;</span> <span title="(x$1: Any)java.lang.String">+</span>
              <a href="LiftRules.scala.html#158817" title="implicit net.liftweb.http.LiftRulesMocker.toLiftRules : (in: net.liftweb.http.LiftRulesMocker)net.liftweb.http.LiftRules">LiftRules</a>.<a href="LiftRules.scala.html#158871" title="=&gt; net.liftweb.http.js.JSArtifacts">jsArtifacts</a>.
                      <a href="js/JSArtifacts.scala.html#327571" title="(in: net.liftweb.http.js.JsExp)net.liftweb.http.js.JsExp">jsonStringify</a><span class="delimiter">(</span><a href="js/JsCommands.scala.html#14910" title="object net.liftweb.http.js.JE">JE</a>.<a href="js/JsCommands.scala.html#184878" title="(rawJsCmd: String)net.liftweb.http.js.JE.JsRaw">JsRaw</a><span class="delimiter">(</span><span title="java.lang.String(&quot;obj&quot;)" class="string">&quot;obj&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.
                      <a href="js/JsCommands.scala.html#58016" title="=&gt; String">toJsCmd</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;), null,&quot;)" class="string">&quot;), null,&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#420303" title="java.lang.String">onErrorParam</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;);}&quot;)" class="string">&quot;);}&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns the JsCmd that holds the notices markup
   *
   */</span>
  <span class="keyword">private</span><span class="delimiter">[</span>http<span class="delimiter">]</span> <span class="keyword">def</span> <a title="=&gt; net.liftweb.http.js.JsCmd" id="49517">noticesToJsCmd</a>: <a href="js/JsCommands.scala.html#14913" title="net.liftweb.http.js.JsCmd">JsCmd</a> = <a href="LiftRules.scala.html#158817" title="implicit net.liftweb.http.LiftRulesMocker.toLiftRules : (in: net.liftweb.http.LiftRulesMocker)net.liftweb.http.LiftRules">LiftRules</a>.<a href="LiftRules.scala.html#158942" title="()net.liftweb.http.js.JsCmd">noticesToJsCmd</a><span class="delimiter">(</span><span class="delimiter">)</span>

  @deprecated<span class="delimiter">(</span><span class="string">&quot;Use AFuncHolder.listStrToAF&quot;</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(in: List[String] =&gt; Any)net.liftweb.http.S.AFuncHolder" id="49518">toLFunc</a><span class="delimiter">(</span><a title="List[String] =&gt; Any" id="420576">in</a>: List<span class="delimiter">[</span>String<span class="delimiter">]</span> =&gt; Any<span class="delimiter">)</span>: <a href="#49602" title="net.liftweb.http.S.AFuncHolder">AFuncHolder</a> = <a href="#229678" title="(func: List[String] =&gt; Any, owner: net.liftweb.common.Box[String])net.liftweb.http.S.AFuncHolder">LFuncHolder</a><span class="delimiter">(</span><a href="#420576" title="List[String] =&gt; Any">in</a>, <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a><span class="delimiter">)</span>
 
  @deprecated<span class="delimiter">(</span><span class="string">&quot;Use AFuncHolder.unitToAF&quot;</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(in: () =&gt; Any)net.liftweb.http.S.AFuncHolder" id="49519">toNFunc</a><span class="delimiter">(</span><a title="() =&gt; Any" id="420584">in</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Any<span class="delimiter">)</span>: <a href="#49602" title="net.liftweb.http.S.AFuncHolder">AFuncHolder</a> = <a href="#396953" title="(func: () =&gt; Any, owner: net.liftweb.common.Box[String])net.liftweb.http.S.AFuncHolder">NFuncHolder</a><span class="delimiter">(</span><a href="#420584" title="() =&gt; Any">in</a>, <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a><span class="delimiter">)</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit net.liftweb.http.S.stuff2ToUnpref : (in: (Symbol, Any))scala.xml.UnprefixedAttribute" id="49520">stuff2ToUnpref</a><span class="delimiter">(</span><a title="(Symbol, Any)" id="147970">in</a>: <span title="(Symbol, Any)" class="delimiter">(</span>Symbol, Any<span class="delimiter">)</span><span class="delimiter">)</span>: <span title="scala.xml.UnprefixedAttribute">UnprefixedAttribute</span> = <span title="scala.xml.UnprefixedAttribute" class="keyword">new</span> <span title="scala.xml.UnprefixedAttribute">UnprefixedAttribute</span><span class="delimiter">(</span><a href="#147970" title="(Symbol, Any)">in</a>.<span title="=&gt; Symbol">_1</span>.<span title="=&gt; String">name</span>, <span title="(_data: String)scala.xml.Text">Text</span><span class="delimiter">(</span><a href="#147970" title="(Symbol, Any)">in</a>.<span title="=&gt; Any">_2</span>.<span title="()java.lang.String">toString</span><span class="delimiter">)</span>, <span title="object scala.xml.Null">Null</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Attaches to this uri and parameter that has function f associated with. When
   * this request is submitted to server the function will be executed and then
   * it is automatically cleaned up from functions caches.
   */</span>
  <span class="keyword">def</span> <a title="(uri: String, f: () =&gt; Unit)String" id="49521">mapFuncToURI</a><span class="delimiter">(</span><a title="String" id="420598">uri</a>: <span title="String">String</span>, <a title="() =&gt; Unit" id="420599">f</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Unit<span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    <a href="#49382" title="=&gt; net.liftweb.common.Box[net.liftweb.http.LiftSession]">session</a> <a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: net.liftweb.http.LiftSession =&gt; String)net.liftweb.common.Box[String]">map</a> <span class="delimiter">(</span><a href="#420605" title="net.liftweb.http.LiftSession">_</a> <a href="LiftSession.scala.html#230266" title="(uri: String, f: net.liftweb.common.Box[() =&gt; Unit])String">attachRedirectFunc</a> <span class="delimiter">(</span><a href="#420598" title="String">uri</a>, <a href="../../../../common/net/liftweb/common/Box.scala.html#10572" title="object net.liftweb.common.Box">Box</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#28633" title="(in: () =&gt; Unit)net.liftweb.common.Box[() =&gt; Unit]">legacyNullTest</a><span class="delimiter">(</span><a href="#420599" title="() =&gt; Unit">f</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; String)String">openOr</a> <a href="#420598" title="String">uri</a>
  <span class="delimiter">}</span>


  <span class="comment">/**
   * Execute code synchronized to the current session object
   */</span>
  <span class="keyword">def</span> <a title="[T](f: =&gt; T)T" id="49522">synchronizeForSession</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="49524">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; T" id="420615">f</a>: =&gt; T<span class="delimiter">)</span>: <a href="#49524" title="T">T</a> = <span class="delimiter">{</span>
    <a href="#49382" title="=&gt; net.liftweb.common.Box[net.liftweb.http.LiftSession]">session</a> <span title="T" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="T">Full</span><span class="delimiter">(</span><a title="net.liftweb.http.LiftSession" id="420619">s</a><span class="delimiter">)</span> =&gt; <a href="#420619" title="net.liftweb.http.LiftSession">s</a>.<span title="(x$1: T)T">synchronized</span><span class="delimiter">(</span><a href="#420615" title="=&gt; T">f</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="T">_</span> =&gt; <a href="#420615" title="=&gt; T">f</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>


  <span class="comment">/**
   * Maps a function with an random generated and name
   */</span>
  <span class="keyword">def</span> <a title="[T](in: net.liftweb.http.S.AFuncHolder)(f: String =&gt; T)T" id="49525">fmapFunc</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="49527">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="net.liftweb.http.S.AFuncHolder" id="159445">in</a>: <a href="#49602" title="net.liftweb.http.S.AFuncHolder">AFuncHolder</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="String =&gt; T" id="159446">f</a>: String =&gt; T<span class="delimiter">)</span>: <a href="#49527" title="T">T</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="String" id="420623">name</a> = <a href="#49506" title="=&gt; String">formFuncName</a>
    <a href="#49494" title="(name: String, value: net.liftweb.http.S.AFuncHolder)Unit">addFunctionMap</a><span class="delimiter">(</span><a href="#420623" title="String">name</a>, <a href="#159445" title="net.liftweb.http.S.AFuncHolder">in</a><span class="delimiter">)</span>
    <a href="#159446" title="(v1: String)T">f</a><span class="delimiter">(</span><a href="#420623" title="String">name</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Wrap an AFuncHolder with the current snippet and Loc context so that for Ajax calls, the original snippets,
   * RequestVars and Loc (location) are populated
   *
   * @param f the AFuncHolder that you want to wrap with execution context
   */</span>
  <span class="keyword">def</span> <a title="(f: net.liftweb.http.S.AFuncHolder)net.liftweb.http.S.AFuncHolder" id="49528">contextFuncBuilder</a><span class="delimiter">(</span><a title="net.liftweb.http.S.AFuncHolder" id="420625">f</a>: S.<a href="#49602" title="net.liftweb.http.S.AFuncHolder">AFuncHolder</a><span class="delimiter">)</span>: S.<a href="#49602" title="net.liftweb.http.S.AFuncHolder">AFuncHolder</a> = <a href="#14641" title="object net.liftweb.http.S">S</a>.<a href="#49382" title="=&gt; net.liftweb.common.Box[net.liftweb.http.LiftSession]">session</a> <span title="net.liftweb.http.S.AFuncHolder" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="net.liftweb.http.S.AFuncHolder">Full</span><span class="delimiter">(</span><a title="net.liftweb.http.LiftSession" id="420628">s</a><span class="delimiter">)</span> =&gt; <a href="#420628" title="net.liftweb.http.LiftSession">s</a>.<a href="LiftSession.scala.html#230286" title="(f: net.liftweb.http.S.AFuncHolder)net.liftweb.http.S.AFuncHolder">contextFuncBuilder</a><span class="delimiter">(</span><a href="#420625" title="net.liftweb.http.S.AFuncHolder">f</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="net.liftweb.http.S.AFuncHolder">_</span> =&gt; <a href="#420625" title="net.liftweb.http.S.AFuncHolder">f</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(xhtml: scala.xml.NodeSeq, httpRequest: net.liftweb.http.provider.HTTPRequest)scala.xml.NodeSeq" id="49529">render</a><span class="delimiter">(</span><a title="scala.xml.NodeSeq" id="420629">xhtml</a>: <span title="scala.xml.NodeSeq">NodeSeq</span>, <a title="net.liftweb.http.provider.HTTPRequest" id="420630">httpRequest</a>: <a href="provider/HTTPRequest.scala.html#15082" title="net.liftweb.http.provider.HTTPRequest">HTTPRequest</a><span class="delimiter">)</span>: <span title="scala.xml.NodeSeq">NodeSeq</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(session: net.liftweb.http.LiftSession)scala.xml.NodeSeq" id="420632">doRender</a><span class="delimiter">(</span><a title="net.liftweb.http.LiftSession" id="420633">session</a>: <a href="LiftSession.scala.html#14496" title="net.liftweb.http.LiftSession">LiftSession</a><span class="delimiter">)</span>: <span title="scala.xml.NodeSeq">NodeSeq</span> =
      <a href="#420633" title="net.liftweb.http.LiftSession">session</a>.<a href="LiftSession.scala.html#230307" title="(page: String, in: scala.xml.NodeSeq)scala.xml.NodeSeq">processSurroundAndInclude</a><span class="delimiter">(</span><span title="java.lang.String(&quot;external render&quot;)" class="string">&quot;external render&quot;</span>, <a href="#420629" title="scala.xml.NodeSeq">xhtml</a><span class="delimiter">)</span>

    <span title="scala.xml.NodeSeq" class="keyword">if</span> <span class="delimiter">(</span><a href="#49270" title="=&gt; net.liftweb.util.ThreadGlobal[Boolean]">inS</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51270" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="#420632" title="(session: net.liftweb.http.LiftSession)scala.xml.NodeSeq">doRender</a><span class="delimiter">(</span><a href="#49382" title="=&gt; net.liftweb.common.Box[net.liftweb.http.LiftSession]">session</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27015" title="=&gt; net.liftweb.http.LiftSession">open_!</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="net.liftweb.http.Req" id="420634">req</a> = <a href="Req.scala.html#185914" title="(request: net.liftweb.http.provider.HTTPRequest, rewrite: List[net.liftweb.http.LiftRules.RewritePF], statelessTest: List[net.liftweb.http.LiftRules.StatelessTestPF], otherStatelessTest: List[net.liftweb.http.LiftRules.StatelessReqTestPF], nanoStart: Long)net.liftweb.http.Req">Req</a><span class="delimiter">(</span><a href="#420630" title="net.liftweb.http.provider.HTTPRequest">httpRequest</a>, <a href="LiftRules.scala.html#158817" title="implicit net.liftweb.http.LiftRulesMocker.toLiftRules : (in: net.liftweb.http.LiftRulesMocker)net.liftweb.http.LiftRules">LiftRules</a>.<a href="LiftRules.scala.html#159097" title="=&gt; net.liftweb.http.LiftRules#RulesSeq[PartialFunction[net.liftweb.http.RewriteRequest,net.liftweb.http.RewriteResponse]]">statelessRewrite</a>.<a href="LiftRules.scala.html#185552" title="=&gt; List[PartialFunction[net.liftweb.http.RewriteRequest,net.liftweb.http.RewriteResponse]]">toList</a>,
                    <a href="LiftRules.scala.html#158817" title="implicit net.liftweb.http.LiftRulesMocker.toLiftRules : (in: net.liftweb.http.LiftRulesMocker)net.liftweb.http.LiftRules">LiftRules</a>.<a href="LiftRules.scala.html#158886" title="=&gt; net.liftweb.http.LiftRules#RulesSeq[PartialFunction[List[java.lang.String],Boolean]]">statelessTest</a>.<a href="LiftRules.scala.html#185552" title="=&gt; List[PartialFunction[List[java.lang.String],Boolean]]">toList</a>,
                    <a href="LiftRules.scala.html#158817" title="implicit net.liftweb.http.LiftRulesMocker.toLiftRules : (in: net.liftweb.http.LiftRulesMocker)net.liftweb.http.LiftRules">LiftRules</a>.<a href="LiftRules.scala.html#158888" title="=&gt; net.liftweb.http.LiftRules#RulesSeq[PartialFunction[net.liftweb.http.StatelessReqTest,Boolean]]">statelessReqTest</a>.<a href="LiftRules.scala.html#185552" title="=&gt; List[PartialFunction[net.liftweb.http.StatelessReqTest,Boolean]]">toList</a>,
                    <span title="object java.lang.System">System</span>.<span title="()Long">nanoTime</span><span class="delimiter">)</span>

      <a href="Req.scala.html#14555" title="object net.liftweb.http.CurrentReq">CurrentReq</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51274" title="(x: net.liftweb.http.Req)(f: =&gt; scala.xml.NodeSeq)scala.xml.NodeSeq">doWith</a><span class="delimiter">(</span><a href="#420634" title="net.liftweb.http.Req">req</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="net.liftweb.http.LiftSession" id="420656">ses</a>: <a href="LiftSession.scala.html#14496" title="net.liftweb.http.LiftSession">LiftSession</a> = <a href="LiftSession.scala.html#14484" title="object net.liftweb.http.SessionMaster">SessionMaster</a>.<a href="LiftSession.scala.html#357506" title="(req: net.liftweb.http.provider.HTTPRequest, otherId: net.liftweb.common.Box[String])net.liftweb.common.Box[net.liftweb.http.LiftSession]">getSession</a><span class="delimiter">(</span><a href="#420630" title="net.liftweb.http.provider.HTTPRequest">httpRequest</a>,
                                                        <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a><span class="delimiter">)</span> <span title="net.liftweb.http.LiftSession" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="net.liftweb.http.LiftSession">Full</span><span class="delimiter">(</span><a title="net.liftweb.http.LiftSession" id="420662">ret</a><span class="delimiter">)</span> =&gt;
            <a href="#420662" title="net.liftweb.http.LiftSession">ret</a>.<a href="LiftSession.scala.html#230229" title="()Unit">fixSessionTime</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#420662" title="net.liftweb.http.LiftSession">ret</a>
          
          <span class="keyword">case</span> <span title="net.liftweb.http.LiftSession">_</span> =&gt;
            <span class="keyword">val</span> <a title="net.liftweb.http.LiftSession" id="420663">ret</a> = <a href="LiftSession.scala.html#326765" title="(session: net.liftweb.http.provider.HTTPSession, contextPath: String)net.liftweb.http.LiftSession">LiftSession</a><span class="delimiter">(</span><a href="#420630" title="net.liftweb.http.provider.HTTPRequest">httpRequest</a>.<a href="provider/HTTPRequest.scala.html#216876" title="=&gt; net.liftweb.http.provider.HTTPSession">session</a>, <a href="#420634" title="net.liftweb.http.Req">req</a>.<a href="Req.scala.html#149139" title="=&gt; String">contextPath</a><span class="delimiter">)</span>
          <a href="#420663" title="net.liftweb.http.LiftSession">ret</a>.<a href="LiftSession.scala.html#230229" title="()Unit">fixSessionTime</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="LiftSession.scala.html#14484" title="object net.liftweb.http.SessionMaster">SessionMaster</a>.<a href="LiftSession.scala.html#357514" title="(liftSession: net.liftweb.http.LiftSession, req: net.liftweb.http.Req, userAgent: net.liftweb.common.Box[String], ipAddress: net.liftweb.common.Box[String])Unit">addSession</a><span class="delimiter">(</span><a href="#420663" title="net.liftweb.http.LiftSession">ret</a>, 
                                   <a href="#420634" title="net.liftweb.http.Req">req</a>,
                                   <a href="#420630" title="net.liftweb.http.provider.HTTPRequest">httpRequest</a>.<a href="provider/HTTPRequest.scala.html#216896" title="=&gt; net.liftweb.common.Box[String]">userAgent</a>, 
                                   <a href="LiftSession.scala.html#14484" title="object net.liftweb.http.SessionMaster">SessionMaster</a>.<a href="LiftSession.scala.html#357494" title="(v1: net.liftweb.http.Req)net.liftweb.common.Box[String]">getIpFromReq</a><span class="delimiter">(</span><a href="#420634" title="net.liftweb.http.Req">req</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#420663" title="net.liftweb.http.LiftSession">ret</a>
        <span class="delimiter">}</span>
        
        <a href="#49376" title="(request: net.liftweb.http.Req, session: net.liftweb.http.LiftSession)(f: =&gt; scala.xml.NodeSeq)scala.xml.NodeSeq">init</a><span class="delimiter">(</span><a href="#420634" title="net.liftweb.http.Req">req</a>, <a href="#420656" title="net.liftweb.http.LiftSession">ses</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#420632" title="(session: net.liftweb.http.LiftSession)scala.xml.NodeSeq">doRender</a><span class="delimiter">(</span><a href="#420656" title="net.liftweb.http.LiftSession">ses</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Maps a function with an random generated and name
   */</span>
  <span class="keyword">def</span> <a title="[T](in: Any =&gt; net.liftweb.http.js.JsObj)(f: String =&gt; T)T" id="49530">jsonFmapFunc</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="49532">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Any =&gt; net.liftweb.http.js.JsObj" id="420679">in</a>: Any =&gt; JsObj<span class="delimiter">)</span><span class="delimiter">(</span><a title="String =&gt; T" id="420680">f</a>: String =&gt; T<span class="delimiter">)</span>: <a href="#49532" title="T">T</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="String" id="420683">name</a> = <a href="#49506" title="=&gt; String">formFuncName</a>
    <a href="#49494" title="(name: String, value: net.liftweb.http.S.AFuncHolder)Unit">addFunctionMap</a><span class="delimiter">(</span><a href="#420683" title="String">name</a>, <a href="#206365" title="(func: String =&gt; Any)net.liftweb.http.S.AFuncHolder">SFuncHolder</a><span class="delimiter">(</span><span class="delimiter">(</span>s: <span title="String">String</span><span class="delimiter">)</span> =&gt; <a href="../../../../util/net/liftweb/util/JSONParser.scala.html#13398" title="object net.liftweb.util.JSONParser">JSONParser</a>.<a href="../../../../util/net/liftweb/util/JSONParser.scala.html#234730" title="(in: String)net.liftweb.common.Box[Any]">parse</a><span class="delimiter">(</span><a href="#420691" title="String">s</a><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: Any =&gt; net.liftweb.http.js.JsObj)net.liftweb.common.Box[net.liftweb.http.js.JsObj]">map</a><span class="delimiter">(</span><a href="#420679" title="Any =&gt; net.liftweb.http.js.JsObj">in</a><span class="delimiter">)</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; net.liftweb.http.js.JsObj)net.liftweb.http.js.JsObj">openOr</a> js.<a href="js/JsCommands.scala.html#14910" title="object net.liftweb.http.js.JE">JE</a>.<a href="js/JsCommands.scala.html#178006" title="(members: (String, net.liftweb.http.js.JsExp)*)net.liftweb.http.js.JsObj">JsObj</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#420680" title="(v1: String)T">f</a><span class="delimiter">(</span><a href="#420683" title="String">name</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>


  <span class="comment">/**
   * Similar with addFunctionMap but also returns the name.
   *
   * Use fmapFunc(AFuncHolder)(String =&gt; T)
   */</span>
  @deprecated<span class="delimiter">(</span><span class="string">&quot;Use fmapFunc(AFuncHolder)(String =&gt; T)&quot;</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(in: net.liftweb.http.S.AFuncHolder)String" id="49533">mapFunc</a><span class="delimiter">(</span><a title="net.liftweb.http.S.AFuncHolder" id="420702">in</a>: <a href="#49602" title="net.liftweb.http.S.AFuncHolder">AFuncHolder</a><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    <a href="#49534" title="(name: String, inf: net.liftweb.http.S.AFuncHolder)String">mapFunc</a><span class="delimiter">(</span><a href="#49506" title="=&gt; String">formFuncName</a>, <a href="#420702" title="net.liftweb.http.S.AFuncHolder">in</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Similar with addFunctionMap but also returns the name.
   *
   * Use fmapFunc(AFuncHolder)(String =&gt; T)
   */</span>
  @deprecated<span class="delimiter">(</span><span class="string">&quot;Use fmapFunc(AFuncHolder)(String =&gt; T)&quot;</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(name: String, inf: net.liftweb.http.S.AFuncHolder)String" id="49534">mapFunc</a><span class="delimiter">(</span><a title="String" id="420708">name</a>: <span title="String">String</span>, <a title="net.liftweb.http.S.AFuncHolder" id="420709">inf</a>: <a href="#49602" title="net.liftweb.http.S.AFuncHolder">AFuncHolder</a><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    <a href="#49494" title="(name: String, value: net.liftweb.http.S.AFuncHolder)Unit">addFunctionMap</a><span class="delimiter">(</span><a href="#420708" title="String">name</a>, <a href="#420709" title="net.liftweb.http.S.AFuncHolder">inf</a><span class="delimiter">)</span>
    <a href="#420708" title="String">name</a>
  <span class="delimiter">}</span>


  <span class="comment">/**
   * Returns all the HTTP parameters having 'n' name
   */</span>
  <span class="keyword">def</span> <a title="(n: String)List[String]" id="49535">params</a><span class="delimiter">(</span><a title="String" id="420711">n</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = 
    <a href="#49296" title="object S.this.paramsForComet">paramsForComet</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75377" title="=&gt; Map[String,List[String]]">get</a>.<span title="(key: String)Option[List[String]]">get</span><span class="delimiter">(</span><a href="#420711" title="String">n</a><span class="delimiter">)</span> <span title="(default: =&gt; List[String])List[String]">getOrElse</span>
    <a href="#49309" title="=&gt; net.liftweb.common.Box[net.liftweb.http.Req]">request</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27023" title="(f: net.liftweb.http.Req =&gt; net.liftweb.common.Box[List[String]])net.liftweb.common.Box[List[String]]">flatMap</a><span class="delimiter">(</span><a href="#420724" title="net.liftweb.http.Req">_</a>.<a href="Req.scala.html#149194" title="=&gt; Map[String,List[String]]">params</a>.<span title="(key: String)Option[List[String]]">get</span><a href="../../../../common/net/liftweb/common/Box.scala.html#28627" title="(in: Option[List[String]])net.liftweb.common.Box[List[String]]" class="delimiter">(</a><a href="#420711" title="String">n</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; List[String])List[String]">openOr</a><span class="delimiter">(</span><span title="object Nil">Nil</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Returns the HTTP parameter having 'n' name
   */</span>
  <span class="keyword">def</span> <a title="(n: String)net.liftweb.common.Box[String]" id="49536">param</a><span class="delimiter">(</span><a title="String" id="149324">n</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[String]">Box</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = 
    <a href="#49296" title="object S.this.paramsForComet">paramsForComet</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75377" title="=&gt; Map[String,List[String]]">get</a>.<span title="(key: String)Option[List[String]]">get</span><span class="delimiter">(</span><a href="#149324" title="String">n</a><span class="delimiter">)</span>.<span title="(f: List[String] =&gt; Option[String])Option[String]">flatMap</span><span class="delimiter">(</span><a href="#420747" title="List[String]">_</a>.<span title="=&gt; Option[String]">headOption</span><span class="delimiter">)</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#28627" title="(in: Option[String])net.liftweb.common.Box[String]">orElse</a>
    <a href="#49309" title="=&gt; net.liftweb.common.Box[net.liftweb.http.Req]">request</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27023" title="(f: net.liftweb.http.Req =&gt; net.liftweb.common.Box[String])net.liftweb.common.Box[String]">flatMap</a><a href="../../../../common/net/liftweb/common/Box.scala.html#28630" title="(in: net.liftweb.common.Box[String])Option[String]" class="delimiter">(</a><a title="net.liftweb.http.Req" id="420756">r</a> =&gt; <a href="../../../../common/net/liftweb/common/Box.scala.html#28605" title="(in: net.liftweb.common.Box[String])net.liftweb.common.Box[String]">Box</a><span class="delimiter">(</span><a href="#420756" title="net.liftweb.http.Req">r</a>.<a href="Req.scala.html#149174" title="(n: String)net.liftweb.common.Box[String]">param</a><span class="delimiter">(</span><a href="#149324" title="String">n</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Set the paramsForComet and run the function
   */</span>
  <span class="keyword">private</span><span class="delimiter">[</span>http<span class="delimiter">]</span> <span class="keyword">def</span> <a title="[T](map: Map[String,List[String]])(f: =&gt; T)T" id="49537">doCometParams</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="49539">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Map[String,List[String]]" id="346037">map</a>: <span title="Map[String,List[String]]">Map</span><span class="delimiter">[</span>String, List<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; T" id="346038">f</a>: =&gt; T<span class="delimiter">)</span>: <a href="#49539" title="T">T</a> = <span class="delimiter">{</span>
    <a href="#49296" title="object S.this.paramsForComet">paramsForComet</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75392" title="(newVal: Map[String,List[String]])(f: =&gt; T)T">doWith</a><span class="delimiter">(</span><a href="#346037" title="Map[String,List[String]]">map</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#346038" title="=&gt; T">f</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Sets an ERROR notice as a plain text
   */</span>
  <span class="keyword">def</span> <a title="(n: String)Unit" id="49540">error</a><span class="delimiter">(</span><a title="String" id="149521">n</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span><a href="#49541" title="(n: scala.xml.NodeSeq)Unit">error</a><span class="delimiter">(</span><span title="(_data: String)scala.xml.Text">Text</span><span class="delimiter">(</span><a href="#149521" title="String">n</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">}</span>

  <span class="comment">/**
   * Sets an ERROR notice as an XML sequence
   */</span>
  <span class="keyword">def</span> <a title="(n: scala.xml.NodeSeq)Unit" id="49541">error</a><span class="delimiter">(</span><a title="scala.xml.NodeSeq" id="149519">n</a>: <span title="scala.xml.NodeSeq">NodeSeq</span><span class="delimiter">)</span> <span class="delimiter">{</span><a href="#49306" title="object S.this.p_notice">p_notice</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75375" title="=&gt; scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">is</a> <span title="(x: (net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[java.lang.String]))scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">+=</span> <span class="delimiter">(</span><span title="(_1: net.liftweb.http.NoticeType.Error.type, _2: scala.xml.NodeSeq, _3: net.liftweb.common.Empty.type)(net.liftweb.http.NoticeType.Error.type, scala.xml.NodeSeq, net.liftweb.common.Empty.type)" class="delimiter">(</span><a href="#422294" title="object net.liftweb.http.NoticeType">NoticeType</a>.<a href="#221966" title="object net.liftweb.http.NoticeType.Error">Error</a>, <a href="#149519" title="scala.xml.NodeSeq">n</a>, <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">}</span>

  <span class="comment">/**
   * Sets an ERROR notice as an XML sequence and associates it with an id
   */</span>
  <span class="keyword">def</span> <a title="(id: String, n: scala.xml.NodeSeq)Unit" id="49542">error</a><span class="delimiter">(</span><a title="String" id="149516">id</a>: <span title="String">String</span>, <a title="scala.xml.NodeSeq" id="149517">n</a>: <span title="scala.xml.NodeSeq">NodeSeq</span><span class="delimiter">)</span> <span class="delimiter">{</span><a href="#49306" title="object S.this.p_notice">p_notice</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75375" title="=&gt; scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">is</a> <span title="(x: (net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[java.lang.String]))scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">+=</span> <span class="delimiter">(</span><span title="(_1: net.liftweb.http.NoticeType.Error.type, _2: scala.xml.NodeSeq, _3: net.liftweb.common.Full[String])(net.liftweb.http.NoticeType.Error.type, scala.xml.NodeSeq, net.liftweb.common.Full[String])" class="delimiter">(</span><a href="#422294" title="object net.liftweb.http.NoticeType">NoticeType</a>.<a href="#221966" title="object net.liftweb.http.NoticeType.Error">Error</a>, <a href="#149517" title="scala.xml.NodeSeq">n</a>, <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: String)net.liftweb.common.Full[String]">Full</a><span class="delimiter">(</span><a href="#149516" title="String">id</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">}</span>

  <span class="comment">/**
   * Sets an ERROR notice as plain text and associates it with an id
   */</span>
  <span class="keyword">def</span> <a title="(id: String, n: String)Unit" id="49543">error</a><span class="delimiter">(</span><a title="String" id="149513">id</a>: <span title="String">String</span>, <a title="String" id="149514">n</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span><a href="#49542" title="(id: String, n: scala.xml.NodeSeq)Unit">error</a><span class="delimiter">(</span><a href="#149513" title="String">id</a>, <span title="(_data: String)scala.xml.Text">Text</span><span class="delimiter">(</span><a href="#149514" title="String">n</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">}</span>

  <span class="comment">/**
   * Sets an NOTICE notice as plain text
   */</span>
  <span class="keyword">def</span> <a title="(n: String)Unit" id="49544">notice</a><span class="delimiter">(</span><a title="String" id="149489">n</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span><a href="#49545" title="(n: scala.xml.NodeSeq)Unit">notice</a><span class="delimiter">(</span><span title="(_data: String)scala.xml.Text">Text</span><span class="delimiter">(</span><a href="#149489" title="String">n</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">}</span>

  <span class="comment">/**
   * Sets an NOTICE notice as an XML sequence
   */</span>
  <span class="keyword">def</span> <a title="(n: scala.xml.NodeSeq)Unit" id="49545">notice</a><span class="delimiter">(</span><a title="scala.xml.NodeSeq" id="149487">n</a>: <span title="scala.xml.NodeSeq">NodeSeq</span><span class="delimiter">)</span> <span class="delimiter">{</span><a href="#49306" title="object S.this.p_notice">p_notice</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75375" title="=&gt; scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">is</a> <span title="(x: (net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[java.lang.String]))scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">+=</span> <span class="delimiter">(</span><span title="(_1: net.liftweb.http.NoticeType.Notice.type, _2: scala.xml.NodeSeq, _3: net.liftweb.common.Empty.type)(net.liftweb.http.NoticeType.Notice.type, scala.xml.NodeSeq, net.liftweb.common.Empty.type)" class="delimiter">(</span><a href="#422294" title="object net.liftweb.http.NoticeType">NoticeType</a>.<a href="#221962" title="object net.liftweb.http.NoticeType.Notice">Notice</a>, <a href="#149487" title="scala.xml.NodeSeq">n</a>, <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">}</span>

  <span class="comment">/**
   * Sets an NOTICE notice as and XML sequence and associates it with an id
   */</span>
  <span class="keyword">def</span> <a title="(id: String, n: scala.xml.NodeSeq)Unit" id="49546">notice</a><span class="delimiter">(</span><a title="String" id="149484">id</a>: <span title="String">String</span>, <a title="scala.xml.NodeSeq" id="149485">n</a>: <span title="scala.xml.NodeSeq">NodeSeq</span><span class="delimiter">)</span> <span class="delimiter">{</span><a href="#49306" title="object S.this.p_notice">p_notice</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75375" title="=&gt; scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">is</a> <span title="(x: (net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[java.lang.String]))scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">+=</span> <span class="delimiter">(</span><span title="(_1: net.liftweb.http.NoticeType.Notice.type, _2: scala.xml.NodeSeq, _3: net.liftweb.common.Full[String])(net.liftweb.http.NoticeType.Notice.type, scala.xml.NodeSeq, net.liftweb.common.Full[String])" class="delimiter">(</span><a href="#422294" title="object net.liftweb.http.NoticeType">NoticeType</a>.<a href="#221962" title="object net.liftweb.http.NoticeType.Notice">Notice</a>, <a href="#149485" title="scala.xml.NodeSeq">n</a>, <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: String)net.liftweb.common.Full[String]">Full</a><span class="delimiter">(</span><a href="#149484" title="String">id</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">}</span>

  <span class="comment">/**
   * Sets an NOTICE notice as plai text and associates it with an id
   */</span>
  <span class="keyword">def</span> <a title="(id: String, n: String)Unit" id="49547">notice</a><span class="delimiter">(</span><a title="String" id="149481">id</a>: <span title="String">String</span>, <a title="String" id="149482">n</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span><a href="#49546" title="(id: String, n: scala.xml.NodeSeq)Unit">notice</a><span class="delimiter">(</span><a href="#149481" title="String">id</a>, <span title="(_data: String)scala.xml.Text">Text</span><span class="delimiter">(</span><a href="#149482" title="String">n</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">}</span>

  <span class="comment">/**
   * Sets an WARNING notice as plain text
   */</span>
  <span class="keyword">def</span> <a title="(n: String)Unit" id="49548">warning</a><span class="delimiter">(</span><a title="String" id="421011">n</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span><a href="#49549" title="(n: scala.xml.NodeSeq)Unit">warning</a><span class="delimiter">(</span><span title="(_data: String)scala.xml.Text">Text</span><span class="delimiter">(</span><a href="#421011" title="String">n</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">}</span>

  <span class="comment">/**
   * Sets an WARNING notice as an XML sequence
   */</span>
  <span class="keyword">def</span> <a title="(n: scala.xml.NodeSeq)Unit" id="49549">warning</a><span class="delimiter">(</span><a title="scala.xml.NodeSeq" id="421023">n</a>: <span title="scala.xml.NodeSeq">NodeSeq</span><span class="delimiter">)</span> <span class="delimiter">{</span><a href="../../../../util/net/liftweb/util/AnyVar.scala.html#228423" title="(in: net.liftweb.util.AnyVar[scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])], _])scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">p_notice</a> <span title="(x: (net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[java.lang.String]))scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">+=</span> <span class="delimiter">(</span><span title="(_1: net.liftweb.http.NoticeType.Warning.type, _2: scala.xml.NodeSeq, _3: net.liftweb.common.Empty.type)(net.liftweb.http.NoticeType.Warning.type, scala.xml.NodeSeq, net.liftweb.common.Empty.type)" class="delimiter">(</span><a href="#422294" title="object net.liftweb.http.NoticeType">NoticeType</a>.<a href="#221964" title="object net.liftweb.http.NoticeType.Warning">Warning</a>, <a href="#421023" title="scala.xml.NodeSeq">n</a>, <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">}</span>

  <span class="comment">/**
   * Sets an WARNING notice as an XML sequence and associates it with an id
   */</span>
  <span class="keyword">def</span> <a title="(id: String, n: scala.xml.NodeSeq)Unit" id="49550">warning</a><span class="delimiter">(</span><a title="String" id="421020">id</a>: <span title="String">String</span>, <a title="scala.xml.NodeSeq" id="421021">n</a>: <span title="scala.xml.NodeSeq">NodeSeq</span><span class="delimiter">)</span> <span class="delimiter">{</span><a href="../../../../util/net/liftweb/util/AnyVar.scala.html#228423" title="(in: net.liftweb.util.AnyVar[scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])], _])scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">p_notice</a> <span title="(x: (net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[java.lang.String]))scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">+=</span> <span class="delimiter">(</span><span title="(_1: net.liftweb.http.NoticeType.Warning.type, _2: scala.xml.NodeSeq, _3: net.liftweb.common.Full[String])(net.liftweb.http.NoticeType.Warning.type, scala.xml.NodeSeq, net.liftweb.common.Full[String])" class="delimiter">(</span><a href="#422294" title="object net.liftweb.http.NoticeType">NoticeType</a>.<a href="#221964" title="object net.liftweb.http.NoticeType.Warning">Warning</a>, <a href="#421021" title="scala.xml.NodeSeq">n</a>, <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: String)net.liftweb.common.Full[String]">Full</a><span class="delimiter">(</span><a href="#421020" title="String">id</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">}</span>

  <span class="comment">/**
   * Sets an WARNING notice as plain text and associates it with an id
   */</span>
  <span class="keyword">def</span> <a title="(id: String, n: String)Unit" id="49551">warning</a><span class="delimiter">(</span><a title="String" id="421017">id</a>: <span title="String">String</span>, <a title="String" id="421018">n</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span><a href="#49550" title="(id: String, n: scala.xml.NodeSeq)Unit">warning</a><span class="delimiter">(</span><a href="#421017" title="String">id</a>, <span title="(_data: String)scala.xml.Text">Text</span><span class="delimiter">(</span><a href="#421018" title="String">n</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">}</span>

  <span class="comment">/**
   * Sets an ERROR notices from a List[FieldError]
   */</span>
  <span class="keyword">def</span> <a title="(vi: List[net.liftweb.util.FieldError])Unit" id="49552">error</a><span class="delimiter">(</span><a title="List[net.liftweb.util.FieldError]" id="149511">vi</a>: <span title="List[net.liftweb.util.FieldError]">List</span><span class="delimiter">[</span>FieldError<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span><a href="../../../../util/net/liftweb/util/AnyVar.scala.html#228423" title="(in: net.liftweb.util.AnyVar[scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])], _])scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">p_notice</a> <span title="(xs: scala.collection.TraversableOnce[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[java.lang.String])])scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">++=</span> <a href="#149511" title="List[net.liftweb.util.FieldError]">vi</a>.<span title="(f: net.liftweb.util.FieldError =&gt; (net.liftweb.http.NoticeType.Error.type, scala.xml.NodeSeq, net.liftweb.common.Box[String]))(implicit bf: scala.collection.generic.CanBuildFrom[List[net.liftweb.util.FieldError],(net.liftweb.http.NoticeType.Error.type, scala.xml.NodeSeq, net.liftweb.common.Box[String]),scala.collection.TraversableOnce[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[java.lang.String])]])scala.collection.TraversableOnce[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[java.lang.String])]">map</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,(net.liftweb.http.NoticeType.Error.type, scala.xml.NodeSeq, net.liftweb.common.Box[String]),List[(net.liftweb.http.NoticeType.Error.type, scala.xml.NodeSeq, net.liftweb.common.Box[String])]]" class="delimiter">{</span><a title="net.liftweb.util.FieldError" id="421261">i</a> =&gt; <span title="(_1: net.liftweb.http.NoticeType.Error.type, _2: scala.xml.NodeSeq, _3: net.liftweb.common.Box[String])(net.liftweb.http.NoticeType.Error.type, scala.xml.NodeSeq, net.liftweb.common.Box[String])" class="delimiter">(</span><a href="#422294" title="object net.liftweb.http.NoticeType">NoticeType</a>.<a href="#221966" title="object net.liftweb.http.NoticeType.Error">Error</a>, <a href="#421261" title="net.liftweb.util.FieldError">i</a>.<a href="../../../../util/net/liftweb/util/BaseField.scala.html#147945" title="=&gt; scala.xml.NodeSeq">msg</a>, <a href="#421261" title="net.liftweb.util.FieldError">i</a>.<a href="../../../../util/net/liftweb/util/BaseField.scala.html#147943" title="=&gt; net.liftweb.util.FieldIdentifier">field</a>.<a href="../../../../util/net/liftweb/util/BaseField.scala.html#49716" title="=&gt; net.liftweb.common.Box[String]">uniqueFieldId</a><span class="delimiter">)</span><span class="delimiter">}</span><span class="delimiter">}</span>


  <span class="keyword">private</span><span class="delimiter">[</span>http<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(msg: String, notice: net.liftweb.http.NoticeType.Value)Unit" id="49553">message</a><span class="delimiter">(</span><a title="String" id="396999">msg</a>: <span title="String">String</span>, <a title="net.liftweb.http.NoticeType.Value" id="397000">notice</a>: NoticeType.<a href="#221961" title="net.liftweb.http.NoticeType.Value">Value</a><span class="delimiter">)</span> <span class="delimiter">{</span><a href="#49554" title="(msg: scala.xml.NodeSeq, notice: net.liftweb.http.NoticeType.Value)Unit">message</a><span class="delimiter">(</span><span title="(_data: String)scala.xml.Text">Text</span><span class="delimiter">(</span><a href="#396999" title="String">msg</a><span class="delimiter">)</span>, <a href="#397000" title="net.liftweb.http.NoticeType.Value">notice</a><span class="delimiter">)</span><span class="delimiter">}</span>

  <span class="keyword">private</span><span class="delimiter">[</span>http<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(msg: scala.xml.NodeSeq, notice: net.liftweb.http.NoticeType.Value)Unit" id="49554">message</a><span class="delimiter">(</span><a title="scala.xml.NodeSeq" id="396996">msg</a>: <span title="scala.xml.NodeSeq">NodeSeq</span>, <a title="net.liftweb.http.NoticeType.Value" id="396997">notice</a>: NoticeType.<a href="#221961" title="net.liftweb.http.NoticeType.Value">Value</a><span class="delimiter">)</span> <span class="delimiter">{</span><a href="../../../../util/net/liftweb/util/AnyVar.scala.html#228423" title="(in: net.liftweb.util.AnyVar[scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])], _])scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">p_notice</a> <span title="(x: (net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[java.lang.String]))scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">+=</span> <span class="delimiter">(</span><span title="(_1: net.liftweb.http.NoticeType.Value, _2: scala.xml.NodeSeq, _3: net.liftweb.common.Empty.type)(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Empty.type)" class="delimiter">(</span><a href="#396997" title="net.liftweb.http.NoticeType.Value">notice</a>, <a href="#396996" title="scala.xml.NodeSeq">msg</a>, <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">}</span>

  <span class="comment">/**
   * Add a whole list of notices
   */</span>
  <span class="keyword">def</span> <a title="(list: Seq[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])])Unit" id="49555">appendNotices</a><span class="delimiter">(</span><a title="Seq[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]" id="347286">list</a>: <span title="Seq[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">Seq</span><span class="delimiter">[</span><span class="delimiter">(</span>NoticeType.Value, NodeSeq, Box<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span><a href="#49306" title="object S.this.p_notice">p_notice</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75375" title="=&gt; scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">is</a> <span title="(xs: scala.collection.TraversableOnce[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[java.lang.String])])scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">++=</span> <a href="#347286" title="Seq[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">list</a><span class="delimiter">}</span>

  <span class="comment">/**
   * Returns the current notices
   */</span>
  <span class="keyword">def</span> <a title="=&gt; List[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]" id="49556">getNotices</a>: <span title="List[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">List</span><span class="delimiter">[</span><span class="delimiter">(</span>NoticeType.Value, NodeSeq, Box<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span> = <a href="../../../../util/net/liftweb/util/AnyVar.scala.html#228423" title="(in: net.liftweb.util.AnyVar[scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])], _])scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">p_notice</a>.<span title="=&gt; List[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">toList</span>

  <span class="comment">/**
   * Returns the current and &quot;old&quot; notices
   */</span>
  <span class="keyword">def</span> <a title="=&gt; List[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]" id="49557">getAllNotices</a>: <span title="List[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">List</span><span class="delimiter">[</span><span class="delimiter">(</span>NoticeType.Value, NodeSeq, Box<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span> = <a href="../../../../util/net/liftweb/util/AnyVar.scala.html#228423" title="(in: net.liftweb.util.AnyVar[scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])], _])scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">p_notice</a>.<span title="=&gt; List[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">toList</span> <span title="(that: scala.collection.GenTraversableOnce[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])])(implicit bf: scala.collection.generic.CanBuildFrom[List[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])],(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String]),List[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]])List[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">++</span> <a href="#49374" title="object S.this.oldNotices">oldNotices</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75375" title="=&gt; Seq[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">is</a>


  <span class="comment">/**
   * Returns only ERROR notices
   */</span>
  <span class="keyword">def</span> <a title="=&gt; List[(scala.xml.NodeSeq, net.liftweb.common.Box[String])]" id="49558">errors</a>: <span title="List[(scala.xml.NodeSeq, net.liftweb.common.Box[String])]">List</span><span class="delimiter">[</span><span class="delimiter">(</span>NodeSeq, Box<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span> = <span title="(xs: Seq[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]*)List[Seq[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]]">List</span><span class="delimiter">(</span><a href="#49374" title="object S.this.oldNotices">oldNotices</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75375" title="=&gt; Seq[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">is</a>, <a href="#49306" title="object S.this.p_notice">p_notice</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75375" title="=&gt; scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">is</a><span class="delimiter">)</span>.<span title="(f: Seq[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])] =&gt; scala.collection.GenTraversableOnce[(scala.xml.NodeSeq, net.liftweb.common.Box[String])])(implicit bf: scala.collection.generic.CanBuildFrom[List[Seq[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]],(scala.xml.NodeSeq, net.liftweb.common.Box[String]),List[(scala.xml.NodeSeq, net.liftweb.common.Box[String])]])List[(scala.xml.NodeSeq, net.liftweb.common.Box[String])]">flatMap</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,(scala.xml.NodeSeq, net.liftweb.common.Box[String]),List[(scala.xml.NodeSeq, net.liftweb.common.Box[String])]]" class="delimiter">(</span><a href="#421646" title="Seq[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">_</a>.<span title="(p: (net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String]) =&gt; Boolean)Seq[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">filter</span><span class="delimiter">(</span><a href="#421650" title="(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])">_</a>.<span title="=&gt; net.liftweb.http.NoticeType.Value">_1</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#422294" title="object net.liftweb.http.NoticeType">NoticeType</a>.<a href="#221966" title="object net.liftweb.http.NoticeType.Error">Error</a><span class="delimiter">)</span>.<span title="(f: (net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String]) =&gt; (scala.xml.NodeSeq, net.liftweb.common.Box[String]))(implicit bf: scala.collection.generic.CanBuildFrom[Seq[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])],(scala.xml.NodeSeq, net.liftweb.common.Box[String]),Seq[(scala.xml.NodeSeq, net.liftweb.common.Box[String])]])Seq[(scala.xml.NodeSeq, net.liftweb.common.Box[String])]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,(scala.xml.NodeSeq, net.liftweb.common.Box[String]),Seq[(scala.xml.NodeSeq, net.liftweb.common.Box[String])]]" class="delimiter">(</span><a title="(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])" id="421674">n</a> =&gt; <span title="(_1: scala.xml.NodeSeq, _2: net.liftweb.common.Box[String])(scala.xml.NodeSeq, net.liftweb.common.Box[String])" class="delimiter">(</span><a href="#421674" title="(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])">n</a>.<span title="=&gt; scala.xml.NodeSeq">_2</span>, <a href="#421674" title="(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])">n</a>.<span title="=&gt; net.liftweb.common.Box[String]">_3</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Returns only NOTICE notices
   */</span>
  <span class="keyword">def</span> <a title="=&gt; List[(scala.xml.NodeSeq, net.liftweb.common.Box[String])]" id="49559">notices</a>: <span title="List[(scala.xml.NodeSeq, net.liftweb.common.Box[String])]">List</span><span class="delimiter">[</span><span class="delimiter">(</span>NodeSeq, Box<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span> = <span title="(xs: Seq[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]*)List[Seq[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]]">List</span><span class="delimiter">(</span><a href="#49374" title="object S.this.oldNotices">oldNotices</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75375" title="=&gt; Seq[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">is</a>, <a href="#49306" title="object S.this.p_notice">p_notice</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75375" title="=&gt; scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">is</a><span class="delimiter">)</span>.<span title="(f: Seq[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])] =&gt; scala.collection.GenTraversableOnce[(scala.xml.NodeSeq, net.liftweb.common.Box[String])])(implicit bf: scala.collection.generic.CanBuildFrom[List[Seq[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]],(scala.xml.NodeSeq, net.liftweb.common.Box[String]),List[(scala.xml.NodeSeq, net.liftweb.common.Box[String])]])List[(scala.xml.NodeSeq, net.liftweb.common.Box[String])]">flatMap</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,(scala.xml.NodeSeq, net.liftweb.common.Box[String]),List[(scala.xml.NodeSeq, net.liftweb.common.Box[String])]]" class="delimiter">(</span><a href="#421758" title="Seq[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">_</a>.<span title="(p: (net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String]) =&gt; Boolean)Seq[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">filter</span><span class="delimiter">(</span><a href="#421762" title="(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])">_</a>.<span title="=&gt; net.liftweb.http.NoticeType.Value">_1</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#422294" title="object net.liftweb.http.NoticeType">NoticeType</a>.<a href="#221962" title="object net.liftweb.http.NoticeType.Notice">Notice</a><span class="delimiter">)</span>.<span title="(f: (net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String]) =&gt; (scala.xml.NodeSeq, net.liftweb.common.Box[String]))(implicit bf: scala.collection.generic.CanBuildFrom[Seq[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])],(scala.xml.NodeSeq, net.liftweb.common.Box[String]),Seq[(scala.xml.NodeSeq, net.liftweb.common.Box[String])]])Seq[(scala.xml.NodeSeq, net.liftweb.common.Box[String])]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,(scala.xml.NodeSeq, net.liftweb.common.Box[String]),Seq[(scala.xml.NodeSeq, net.liftweb.common.Box[String])]]" class="delimiter">(</span><a title="(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])" id="421786">n</a> =&gt; <span title="(_1: scala.xml.NodeSeq, _2: net.liftweb.common.Box[String])(scala.xml.NodeSeq, net.liftweb.common.Box[String])" class="delimiter">(</span><a href="#421786" title="(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])">n</a>.<span title="=&gt; scala.xml.NodeSeq">_2</span>, <a href="#421786" title="(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])">n</a>.<span title="=&gt; net.liftweb.common.Box[String]">_3</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Returns only WARNING notices
   */</span>
  <span class="keyword">def</span> <a title="=&gt; List[(scala.xml.NodeSeq, net.liftweb.common.Box[String])]" id="49560">warnings</a>: <span title="List[(scala.xml.NodeSeq, net.liftweb.common.Box[String])]">List</span><span class="delimiter">[</span><span class="delimiter">(</span>NodeSeq, Box<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span> = <span title="(xs: Seq[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]*)List[Seq[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]]">List</span><span class="delimiter">(</span><a href="#49374" title="object S.this.oldNotices">oldNotices</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75375" title="=&gt; Seq[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">is</a>, <a href="#49306" title="object S.this.p_notice">p_notice</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75375" title="=&gt; scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">is</a><span class="delimiter">)</span>.<span title="(f: Seq[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])] =&gt; scala.collection.GenTraversableOnce[(scala.xml.NodeSeq, net.liftweb.common.Box[String])])(implicit bf: scala.collection.generic.CanBuildFrom[List[Seq[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]],(scala.xml.NodeSeq, net.liftweb.common.Box[String]),List[(scala.xml.NodeSeq, net.liftweb.common.Box[String])]])List[(scala.xml.NodeSeq, net.liftweb.common.Box[String])]">flatMap</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,(scala.xml.NodeSeq, net.liftweb.common.Box[String]),List[(scala.xml.NodeSeq, net.liftweb.common.Box[String])]]" class="delimiter">(</span><a href="#421870" title="Seq[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">_</a>.<span title="(p: (net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String]) =&gt; Boolean)Seq[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">filter</span><span class="delimiter">(</span><a href="#421874" title="(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])">_</a>.<span title="=&gt; net.liftweb.http.NoticeType.Value">_1</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#422294" title="object net.liftweb.http.NoticeType">NoticeType</a>.<a href="#221964" title="object net.liftweb.http.NoticeType.Warning">Warning</a><span class="delimiter">)</span>.<span title="(f: (net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String]) =&gt; (scala.xml.NodeSeq, net.liftweb.common.Box[String]))(implicit bf: scala.collection.generic.CanBuildFrom[Seq[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])],(scala.xml.NodeSeq, net.liftweb.common.Box[String]),Seq[(scala.xml.NodeSeq, net.liftweb.common.Box[String])]])Seq[(scala.xml.NodeSeq, net.liftweb.common.Box[String])]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,(scala.xml.NodeSeq, net.liftweb.common.Box[String]),Seq[(scala.xml.NodeSeq, net.liftweb.common.Box[String])]]" class="delimiter">(</span><a title="(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])" id="421898">n</a> =&gt; <span title="(_1: scala.xml.NodeSeq, _2: net.liftweb.common.Box[String])(scala.xml.NodeSeq, net.liftweb.common.Box[String])" class="delimiter">(</span><a href="#421898" title="(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])">n</a>.<span title="=&gt; scala.xml.NodeSeq">_2</span>, <a href="#421898" title="(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])">n</a>.<span title="=&gt; net.liftweb.common.Box[String]">_3</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Clears up the notices
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Unit" id="49561">clearCurrentNotices</a> <span class="delimiter">{</span><a href="#49306" title="object S.this.p_notice">p_notice</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75375" title="=&gt; scala.collection.mutable.ListBuffer[(net.liftweb.http.NoticeType.Value, scala.xml.NodeSeq, net.liftweb.common.Box[String])]">is</a>.<span title="()Unit">clear</span><span class="delimiter">}</span>

  <span class="comment">/**
   * Returns the messages provided by list function that are associated with id
   *
   * @param id - the lookup id
   * @param f - the function that returns the messages
   */</span>
  <span class="keyword">def</span> <a title="(id: String)(f: =&gt; List[(scala.xml.NodeSeq, net.liftweb.common.Box[String])])List[scala.xml.NodeSeq]" id="49562">messagesById</a><span class="delimiter">(</span><a title="String" id="339671">id</a>: <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; List[(scala.xml.NodeSeq, net.liftweb.common.Box[String])]" id="339672">f</a>: =&gt; List<span class="delimiter">[</span><span class="delimiter">(</span>NodeSeq, Box<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[scala.xml.NodeSeq]">List</span><span class="delimiter">[</span>NodeSeq<span class="delimiter">]</span> = <a href="#339672" title="=&gt; List[(scala.xml.NodeSeq, net.liftweb.common.Box[String])]">f</a> <span title="(p: (scala.xml.NodeSeq, net.liftweb.common.Box[String]) =&gt; Boolean)List[(scala.xml.NodeSeq, net.liftweb.common.Box[String])]">filter</span> <span class="delimiter">(</span><a href="#421968" title="(scala.xml.NodeSeq, net.liftweb.common.Box[String])">_</a>.<span title="=&gt; net.liftweb.common.Box[String]">_2</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: String =&gt; Boolean)net.liftweb.common.Box[Boolean]">map</a> <span class="delimiter">(</span><a href="#421973" title="String">_</a> <span title="(x$1: Any)Boolean">equals</span> <a href="#339671" title="String">id</a><span class="delimiter">)</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; Boolean)Boolean">openOr</a> <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span title="(f: (scala.xml.NodeSeq, net.liftweb.common.Box[String]) =&gt; scala.xml.NodeSeq)(implicit bf: scala.collection.generic.CanBuildFrom[List[(scala.xml.NodeSeq, net.liftweb.common.Box[String])],scala.xml.NodeSeq,List[scala.xml.NodeSeq]])List[scala.xml.NodeSeq]">map</span> <span class="delimiter">(</span><a href="#421999" title="(scala.xml.NodeSeq, net.liftweb.common.Box[String])">_</a>.<span title="=&gt; scala.xml.NodeSeq">_1</span><span class="delimiter">)</span>

  <span class="comment">/**
   *  Returns all messages, associated with any id or not
   *
   * @param f - the function that returns the messages
   */</span>
  <span class="keyword">def</span> <a title="(f: =&gt; List[(scala.xml.NodeSeq, net.liftweb.common.Box[String])])List[scala.xml.NodeSeq]" id="49563">messages</a><span class="delimiter">(</span><a title="=&gt; List[(scala.xml.NodeSeq, net.liftweb.common.Box[String])]" id="340963">f</a>: =&gt; List<span class="delimiter">[</span><span class="delimiter">(</span>NodeSeq, Box<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[scala.xml.NodeSeq]">List</span><span class="delimiter">[</span>NodeSeq<span class="delimiter">]</span> = <a href="#340963" title="=&gt; List[(scala.xml.NodeSeq, net.liftweb.common.Box[String])]">f</a> <span title="(f: (scala.xml.NodeSeq, net.liftweb.common.Box[String]) =&gt; scala.xml.NodeSeq)(implicit bf: scala.collection.generic.CanBuildFrom[List[(scala.xml.NodeSeq, net.liftweb.common.Box[String])],scala.xml.NodeSeq,List[scala.xml.NodeSeq]])List[scala.xml.NodeSeq]">map</span> <span class="delimiter">(</span><a href="#422046" title="(scala.xml.NodeSeq, net.liftweb.common.Box[String])">_</a>.<span title="=&gt; scala.xml.NodeSeq">_1</span><span class="delimiter">)</span>

  <span class="comment">/**
   *  Returns the messages that are not associated with any id
   *
   * @param f - the function that returns the messages
   */</span>
  <span class="keyword">def</span> <a title="(f: =&gt; List[(scala.xml.NodeSeq, net.liftweb.common.Box[String])])List[scala.xml.NodeSeq]" id="49564">noIdMessages</a><span class="delimiter">(</span><a title="=&gt; List[(scala.xml.NodeSeq, net.liftweb.common.Box[String])]" id="340967">f</a>: =&gt; List<span class="delimiter">[</span><span class="delimiter">(</span>NodeSeq, Box<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[scala.xml.NodeSeq]">List</span><span class="delimiter">[</span>NodeSeq<span class="delimiter">]</span> = <a href="#340967" title="=&gt; List[(scala.xml.NodeSeq, net.liftweb.common.Box[String])]">f</a> <span title="(p: (scala.xml.NodeSeq, net.liftweb.common.Box[String]) =&gt; Boolean)List[(scala.xml.NodeSeq, net.liftweb.common.Box[String])]">filter</span> <span class="delimiter">(</span><a href="#422079" title="(scala.xml.NodeSeq, net.liftweb.common.Box[String])">_</a>.<span title="=&gt; net.liftweb.common.Box[String]">_2</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#27013" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span title="(f: (scala.xml.NodeSeq, net.liftweb.common.Box[String]) =&gt; scala.xml.NodeSeq)(implicit bf: scala.collection.generic.CanBuildFrom[List[(scala.xml.NodeSeq, net.liftweb.common.Box[String])],scala.xml.NodeSeq,List[scala.xml.NodeSeq]])List[scala.xml.NodeSeq]">map</span> <span class="delimiter">(</span><a href="#422099" title="(scala.xml.NodeSeq, net.liftweb.common.Box[String])">_</a>.<span title="=&gt; scala.xml.NodeSeq">_1</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Returns the messages that are associated with any id.
   * Messages associated with the same id will be enlisted.
   *
   * @param f - the function that returns the messages
   */</span>
  <span class="keyword">def</span> <a title="(f: =&gt; List[(scala.xml.NodeSeq, net.liftweb.common.Box[String])])List[(String, List[scala.xml.NodeSeq])]" id="49565">idMessages</a><span class="delimiter">(</span><a title="=&gt; List[(scala.xml.NodeSeq, net.liftweb.common.Box[String])]" id="359212">f</a>: =&gt; List<span class="delimiter">[</span><span class="delimiter">(</span>NodeSeq, Box<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[(String, List[scala.xml.NodeSeq])]">List</span><span class="delimiter">[</span><span class="delimiter">(</span>String, List<span class="delimiter">[</span>NodeSeq<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[String,List[scala.xml.NodeSeq]]" id="422127">res</a> = <span title="()scala.collection.mutable.HashMap[String,List[scala.xml.NodeSeq]]" class="keyword">new</span> <span title="scala.collection.mutable.HashMap[String,List[scala.xml.NodeSeq]]">HashMap</span><span class="delimiter">[</span>String, List<span class="delimiter">[</span>NodeSeq<span class="delimiter">]</span><span class="delimiter">]</span>
    <a href="#359212" title="=&gt; List[(scala.xml.NodeSeq, net.liftweb.common.Box[String])]">f</a> <span title="(p: (scala.xml.NodeSeq, net.liftweb.common.Box[String]) =&gt; Boolean)List[(scala.xml.NodeSeq, net.liftweb.common.Box[String])]">filter</span> <span class="delimiter">(</span><a href="#422134" title="(scala.xml.NodeSeq, net.liftweb.common.Box[String])">_</a>.<span title="=&gt; net.liftweb.common.Box[String]">_2</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27013" title="=&gt; Boolean">isEmpty</a> <span title="(x: Boolean)Boolean">==</span> <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span title="(f: (scala.xml.NodeSeq, net.liftweb.common.Box[String]) =&gt; scala.collection.mutable.HashMap[String,List[scala.xml.NodeSeq]])Unit">foreach</span> <span class="delimiter">(</span><a href="#422161" title="(scala.xml.NodeSeq, net.liftweb.common.Box[String])">_</a> <span title="res.type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="res.type" class="delimiter">(</span><a title="scala.xml.NodeSeq" id="422164">node</a>, <a title="net.liftweb.common.Box[String]" id="422165">id</a><span class="delimiter">)</span> =&gt; <span class="keyword">val</span> <a title="String" id="422166">key</a> = <a href="#422165" title="net.liftweb.common.Box[String]">id</a> <a href="../../../../common/net/liftweb/common/Box.scala.html#27015" title="=&gt; String">open_!</a>; <a href="#422127" title="scala.collection.mutable.HashMap[String,List[scala.xml.NodeSeq]]">res</a> <span title="(kv: (String, List[scala.xml.NodeSeq]))res.type">+=</span> <span class="delimiter">(</span><a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc">key</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58395" title="(in: List[scala.xml.NodeSeq])(String, List[scala.xml.NodeSeq])">-&gt;</a> <span class="delimiter">(</span><a href="#422127" title="scala.collection.mutable.HashMap[String,List[scala.xml.NodeSeq]]">res</a>.<span title="(key: String, op: =&gt; List[scala.xml.NodeSeq])List[scala.xml.NodeSeq]">getOrElseUpdate</span><span class="delimiter">(</span><a href="#422166" title="String">key</a>, <span title="object Nil">Nil</span><span class="delimiter">)</span> <a href="#422201" title="(prefix: List[scala.xml.NodeSeq])List[scala.xml.NodeSeq]">:::</a> <span title="(xs: scala.xml.NodeSeq*)List[scala.xml.NodeSeq]">List</span><span class="delimiter">(</span><a href="#422164" title="scala.xml.NodeSeq">node</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>

    <a href="#422127" title="scala.collection.mutable.HashMap[String,List[scala.xml.NodeSeq]]">res</a> <span title="=&gt; List[(String, List[scala.xml.NodeSeq])]">toList</span>
  <span class="delimiter">}</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit net.liftweb.http.S.tuple2FieldError : (t: (net.liftweb.util.FieldIdentifier, scala.xml.NodeSeq))net.liftweb.util.FieldError" id="49566">tuple2FieldError</a><span class="delimiter">(</span><a title="(net.liftweb.util.FieldIdentifier, scala.xml.NodeSeq)" id="147934">t</a>: <span title="(net.liftweb.util.FieldIdentifier, scala.xml.NodeSeq)" class="delimiter">(</span>FieldIdentifier, NodeSeq<span class="delimiter">)</span><span class="delimiter">)</span> = <a href="../../../../util/net/liftweb/util/BaseField.scala.html#147940" title="(field: net.liftweb.util.FieldIdentifier, msg: scala.xml.NodeSeq)net.liftweb.util.FieldError">FieldError</a><span class="delimiter">(</span><a href="#147934" title="(net.liftweb.util.FieldIdentifier, scala.xml.NodeSeq)">t</a>.<span title="=&gt; net.liftweb.util.FieldIdentifier">_1</span>, <a href="#147934" title="(net.liftweb.util.FieldIdentifier, scala.xml.NodeSeq)">t</a>.<span title="=&gt; scala.xml.NodeSeq">_2</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Use this in DispatchPF for processing REST requests asynchronously. Note that
   * this must be called in a stateful context, therefore the S state must be a valid one.
   *
   * @param f - the user function that does the actual computation. This function
   *            takes one parameter which is the function that must be invoked
   *            for returning the actual response to the client. Note that f function
   *            is invoked asynchronously in the context of a different thread.
   *
   */</span>
  <span class="keyword">def</span> <a title="(f: =&gt; net.liftweb.common.Box[net.liftweb.http.LiftResponse])() =&gt; net.liftweb.common.Box[net.liftweb.http.LiftResponse]" id="49567">respondAsync</a><span class="delimiter">(</span><a title="=&gt; net.liftweb.common.Box[net.liftweb.http.LiftResponse]" id="422238">f</a>: =&gt; Box<span class="delimiter">[</span>LiftResponse<span class="delimiter">]</span><span class="delimiter">)</span>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Box<span class="delimiter">[</span>LiftResponse<span class="delimiter">]</span> = <span class="delimiter">{</span>
   <span class="delimiter">(</span><span class="keyword">for</span> <span class="delimiter">(</span><a title="net.liftweb.http.Req" id="422244">req</a> &lt;- <a href="#14641" title="object net.liftweb.http.S">S</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: net.liftweb.http.Req =&gt; () =&gt; net.liftweb.common.Box[net.liftweb.http.LiftResponse])net.liftweb.common.Box[() =&gt; net.liftweb.common.Box[net.liftweb.http.LiftResponse]]">request</a><span class="delimiter">)</span> <span class="keyword">yield</span> <span class="delimiter">{</span>
     <a href="rest/RestContinuation.scala.html#15211" title="object net.liftweb.http.rest.RestContinuation">RestContinuation</a>.<a href="rest/RestContinuation.scala.html#422247" title="(req: net.liftweb.http.Req)(f: =&gt; net.liftweb.common.Box[net.liftweb.http.LiftResponse])() =&gt; net.liftweb.common.Box[net.liftweb.http.LiftResponse]">respondAsync</a><span class="delimiter">(</span><a href="#422244" title="net.liftweb.http.Req">req</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#422238" title="=&gt; net.liftweb.common.Box[net.liftweb.http.LiftResponse]">f</a><span class="delimiter">)</span>
   <span class="delimiter">}</span><span class="delimiter">)</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; () =&gt; net.liftweb.common.Box[net.liftweb.http.LiftResponse])() =&gt; net.liftweb.common.Box[net.liftweb.http.LiftResponse]">openOr</a> <span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: net.liftweb.http.EmptyResponse.type)net.liftweb.common.Full[net.liftweb.http.EmptyResponse.type]">Full</a><span class="delimiter">(</span><a href="LiftResponse.scala.html#14277" title="object net.liftweb.http.EmptyResponse">EmptyResponse</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * If you bind functions (i.e. using SHtml helpers) inside the closure passed to callOnce,
   * after your function is invoked, it will be automatically removed from functions cache so
   * that it cannot be invoked again.
   */</span>
  <span class="keyword">def</span> <a title="[T](f: =&gt; T)T" id="49568">callOnce</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="49570">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; T" id="422261">f</a>: =&gt; T<span class="delimiter">)</span>: <a href="#49570" title="T">T</a> = <span class="delimiter">{</span>
    <a href="#49288" title="=&gt; net.liftweb.util.ThreadGlobal[Boolean]">autoCleanUp</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51274" title="(x: Boolean)(f: =&gt; T)T">doWith</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#422261" title="=&gt; T">f</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * All functions created inside the oneShot scope
   * will only be called once and their results will be
   * cached and served again if the same function is invoked
   */</span>
  <span class="keyword">def</span> <a title="[T](f: =&gt; T)T" id="49571">oneShot</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="49573">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; T" id="422271">f</a>: =&gt; T<span class="delimiter">)</span>: <a href="#49573" title="T">T</a> =
    <a href="#49290" title="=&gt; net.liftweb.util.ThreadGlobal[Boolean]">_oneShot</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51274" title="(x: Boolean)(f: =&gt; T)T">doWith</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#422271" title="=&gt; T">f</a>
    <span class="delimiter">}</span>

<span class="delimiter">}</span>

<span class="comment">/**
 * Defines the notices types
 */</span>
@serializable
<span class="keyword">object</span> <a title="object net.liftweb.http.NoticeType" id="422294">NoticeType</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">sealed</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Value extends java.lang.Object with ScalaObject" id="221961">Value</a><a href="#221961" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="String" id="340242">title</a> : <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="224328">lowerCaseTitle</a> = <a href="#340242" title="=&gt; String">title</a>.<span title="()java.lang.String">toLowerCase</span>

    <span class="comment">// The element ID to use for notice divs</span>
    <span class="keyword">def</span> <a title="=&gt; String" id="224329">id</a> : <span title="String">String</span> = <a href="LiftRules.scala.html#158817" title="implicit net.liftweb.http.LiftRulesMocker.toLiftRules : (in: net.liftweb.http.LiftRulesMocker)net.liftweb.http.LiftRules">LiftRules</a>.<a href="LiftRules.scala.html#158831" title="=&gt; java.lang.String">noticesContainerId</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;_&quot;)" class="string">&quot;_&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#224328" title="=&gt; java.lang.String">lowerCaseTitle</a>

    <span class="comment">// The element that will define the title to use in notice messages</span>
    <span class="keyword">def</span> <a title="=&gt; String" id="224330">titleTag</a> : <span title="String">String</span> = <a href="#224328" title="=&gt; java.lang.String">lowerCaseTitle</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;_msg&quot;)" class="string">&quot;_msg&quot;</span>

    <span class="keyword">def</span> <a title="=&gt; String" id="224331">styleTag</a> : <span title="String">String</span> = <a href="#224328" title="=&gt; java.lang.String">lowerCaseTitle</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;_class&quot;)" class="string">&quot;_class&quot;</span>
  <span class="delimiter">}</span>

  <span class="keyword">object</span> <a title="object net.liftweb.http.NoticeType.Notice" id="221962">Notice</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#221961" title="net.liftweb.http.NoticeType.Value">Value</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Notice&quot;)" class="string">&quot;Notice&quot;</span><span class="delimiter">)</span>
  <span class="keyword">object</span> <a title="object net.liftweb.http.NoticeType.Warning" id="221964">Warning</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#221961" title="net.liftweb.http.NoticeType.Value">Value</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Warning&quot;)" class="string">&quot;Warning&quot;</span><span class="delimiter">)</span>
  <span class="keyword">object</span> <a title="object net.liftweb.http.NoticeType.Error" id="221966">Error</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#221961" title="net.liftweb.http.NoticeType.Value">Value</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Error&quot;)" class="string">&quot;Error&quot;</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Used to handles JSON requests
 */</span>
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class JsonHandler extends java.lang.Object with ScalaObject" id="14646">JsonHandler</a> <a href="#14646" title="ScalaObject" class="delimiter">{</a>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="java.lang.String" id="422296">name</a> = <span title="java.lang.String(&quot;_lift_json_&quot;)" class="string">&quot;_lift_json_&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#14646" title="()java.lang.Class[_]">getClass</a>.<span title="()java.lang.String">getName</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; (net.liftweb.http.js.JsonCall, net.liftweb.http.js.JsCmd)" id="422298">handlers</a>: <span title="(net.liftweb.http.js.JsonCall, net.liftweb.http.js.JsCmd)" class="delimiter">(</span>JsonCall, JsCmd<span class="delimiter">)</span> =
    <a href="#14641" title="object net.liftweb.http.S">S</a>.<a href="#49382" title="=&gt; net.liftweb.common.Box[net.liftweb.http.LiftSession]">session</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: net.liftweb.http.LiftSession =&gt; (net.liftweb.http.js.JsonCall, net.liftweb.http.js.JsCmd))net.liftweb.common.Box[(net.liftweb.http.js.JsonCall, net.liftweb.http.js.JsCmd)]">map</a><span class="delimiter">(</span><a title="net.liftweb.http.LiftSession" id="422310">s</a> =&gt; <a href="#422310" title="net.liftweb.http.LiftSession">s</a>.<a href="LiftSession.scala.html#230262" title="[T](name: String)net.liftweb.common.Box[T]">get</a><span title="(name: String)net.liftweb.common.Box[Any]" class="delimiter">[</span><span title="Any">Any</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#422296" title="=&gt; java.lang.String">name</a><span class="delimiter">)</span> <span title="(net.liftweb.http.js.JsonCall, net.liftweb.http.js.JsCmd)" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="(net.liftweb.http.js.JsonCall, net.liftweb.http.js.JsCmd)">Full</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="net.liftweb.http.js.JsonCall" id="422314">x</a>: <a href="js/JsCommands.scala.html#14902" title="net.liftweb.http.js.JsonCall">JsonCall</a>, <a title="net.liftweb.http.js.JsCmd" id="422315">y</a>: <a href="js/JsCommands.scala.html#14913" title="net.liftweb.http.js.JsCmd">JsCmd</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <span title="(_1: net.liftweb.http.js.JsonCall, _2: net.liftweb.http.js.JsCmd)(net.liftweb.http.js.JsonCall, net.liftweb.http.js.JsCmd)" class="delimiter">(</span><a href="#422314" title="net.liftweb.http.js.JsonCall">x</a>, <a href="#422315" title="net.liftweb.http.js.JsCmd">y</a><span class="delimiter">)</span>

      <span class="keyword">case</span> <span title="(net.liftweb.http.js.JsonCall, net.liftweb.http.js.JsCmd)">_</span> =&gt;
        <span class="keyword">val</span> <a title="(net.liftweb.http.js.JsonCall, net.liftweb.http.js.JsCmd)" id="422322">ret</a>: <span title="(net.liftweb.http.js.JsonCall, net.liftweb.http.js.JsCmd)" class="delimiter">(</span>JsonCall, JsCmd<span class="delimiter">)</span> = <a href="#14641" title="object net.liftweb.http.S">S</a>.<a href="#49514" title="(f: Any =&gt; net.liftweb.http.js.JsCmd)(net.liftweb.http.js.JsonCall, net.liftweb.http.js.JsCmd)">buildJsonFunc</a><span class="delimiter">(</span><a href="#14646" title="JsonHandler.this.type" class="keyword">this</a>.<a href="#422301" title="(in: Any)net.liftweb.http.js.JsCmd">apply</a><span class="delimiter">)</span>
        <a href="#422310" title="net.liftweb.http.LiftSession">s</a>.<a href="LiftSession.scala.html#230259" title="(name: String, value: (net.liftweb.http.js.JsonCall, net.liftweb.http.js.JsCmd))Unit">set</a><span class="delimiter">(</span><a href="#422296" title="=&gt; java.lang.String">name</a>, <a href="#422322" title="(net.liftweb.http.js.JsonCall, net.liftweb.http.js.JsCmd)">ret</a><span class="delimiter">)</span>
        <a href="#422322" title="(net.liftweb.http.js.JsonCall, net.liftweb.http.js.JsCmd)">ret</a>
    <span class="delimiter">}</span>
      <span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; (net.liftweb.http.js.JsonCall, net.liftweb.http.js.JsCmd))(net.liftweb.http.js.JsonCall, net.liftweb.http.js.JsCmd)">openOr</a><span class="delimiter">(</span><span title="(_1: net.liftweb.http.js.JsonCall, _2: net.liftweb.http.js.JsCmd)(net.liftweb.http.js.JsonCall, net.liftweb.http.js.JsCmd)" class="delimiter">(</span><a href="js/JsCommands.scala.html#420257" title="(funcId: String)net.liftweb.http.js.JsonCall">JsonCall</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>, <a href="js/JsCommands.scala.html#14916" title="object net.liftweb.http.js.JsCmds">JsCmds</a>.<a href="js/JsCommands.scala.html#146481" title="=&gt; net.liftweb.http.js.JsCmd">Noop</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="=&gt; net.liftweb.http.js.JsonCall" id="422299">call</a>: <a href="js/JsCommands.scala.html#14902" title="net.liftweb.http.js.JsonCall">JsonCall</a> = <a href="#422298" title="=&gt; (net.liftweb.http.js.JsonCall, net.liftweb.http.js.JsCmd)">handlers</a>.<span title="=&gt; net.liftweb.http.js.JsonCall">_1</span>

  <span class="keyword">def</span> <a title="=&gt; net.liftweb.http.js.JsCmd" id="422300">jsCmd</a>: <a href="js/JsCommands.scala.html#14913" title="net.liftweb.http.js.JsCmd">JsCmd</a> = <a href="#422298" title="=&gt; (net.liftweb.http.js.JsonCall, net.liftweb.http.js.JsCmd)">handlers</a>.<span title="=&gt; net.liftweb.http.js.JsCmd">_2</span>

  <span class="keyword">def</span> <a title="(in: Any)net.liftweb.http.js.JsCmd" id="422301">apply</a><span class="delimiter">(</span><a title="Any" id="422325">in</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <a href="js/JsCommands.scala.html#14913" title="net.liftweb.http.js.JsCmd">JsCmd</a>
<span class="delimiter">}</span>


        </pre>
    </body>
</html>