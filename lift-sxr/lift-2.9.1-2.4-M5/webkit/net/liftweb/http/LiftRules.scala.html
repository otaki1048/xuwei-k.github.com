<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>webkit/net/liftweb/http/LiftRules.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*
 * Copyright 2007-2011 WorldWide Conferencing, LLC
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */</span>

<span class="keyword">package</span> net.liftweb
<span class="keyword">package</span> http

<span class="keyword">import</span> common._
<span class="keyword">import</span> util._
<span class="keyword">import</span> util.<a href="../../../../util/net/liftweb/util/Helpers.scala.html#13346" title="object net.liftweb.util.Helpers">Helpers</a>._
<span class="keyword">import</span> sitemap._
<span class="keyword">import</span> http.js.JSArtifacts
<span class="keyword">import</span> http.js.jquery._
<span class="keyword">import</span> http.provider._
<span class="keyword">import</span> js._
<span class="keyword">import</span> <a href="js/JsCommands.scala.html#14910" title="object net.liftweb.http.js.JE">JE</a>._
<span class="keyword">import</span> <a href="js/JsCommands.scala.html#14916" title="object net.liftweb.http.js.JsCmds">JsCmds</a>._
<span class="keyword">import</span> auth._

<span class="keyword">import</span> scala.xml._
<span class="keyword">import</span> java.util.<span class="delimiter">{</span>Locale, TimeZone, ResourceBundle, Date<span class="delimiter">}</span>
<span class="keyword">import</span> java.io.<span class="delimiter">{</span>InputStream, ByteArrayOutputStream, BufferedReader, StringReader<span class="delimiter">}</span>
<span class="keyword">import</span> java.util.concurrent.<span class="delimiter">{</span>ConcurrentHashMap =&gt; CHash<span class="delimiter">}</span>
<span class="keyword">import</span> scala.reflect.Manifest

<span class="keyword">import</span> java.util.concurrent.atomic.AtomicInteger

<span class="keyword">class</span> <a title="class LiftRulesJBridge extends java.lang.Object with ScalaObject" id="14369">LiftRulesJBridge</a> <a href="#14369" title="ScalaObject" class="delimiter">{</a>
  <span class="keyword">def</span> <a title="=&gt; net.liftweb.http.LiftRules" id="356633">liftRules</a>: <a href="#14378" title="net.liftweb.http.LiftRules">LiftRules</a> = <a href="#158817" title="implicit net.liftweb.http.LiftRulesMocker.toLiftRules : (in: net.liftweb.http.LiftRulesMocker)net.liftweb.http.LiftRules">LiftRules</a>
<span class="delimiter">}</span>

<span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait LiftRulesMocker extends java.lang.Object" id="14370">LiftRulesMocker</a> <span title="java.lang.Object" class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; net.liftweb.http.LiftRules" id="158784">realInstance</a>: <a href="#14378" title="net.liftweb.http.LiftRules">LiftRules</a>
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="object net.liftweb.http.LiftRulesMocker" id="14371">LiftRulesMocker</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit net.liftweb.http.LiftRulesMocker.toLiftRules : (in: net.liftweb.http.LiftRulesMocker)net.liftweb.http.LiftRules" id="158817">toLiftRules</a><span class="delimiter">(</span><a title="net.liftweb.http.LiftRulesMocker" id="158823">in</a>: <a href="#14370" title="net.liftweb.http.LiftRulesMocker">LiftRulesMocker</a><span class="delimiter">)</span>: <a href="#14378" title="net.liftweb.http.LiftRules">LiftRules</a> = <a href="#158823" title="net.liftweb.http.LiftRulesMocker">in</a>.<a href="#158784" title="=&gt; net.liftweb.http.LiftRules">realInstance</a>

  <span class="comment">/**
   * In Dev and Test mode, there's an option to stuff another LiftRules
   * instance in here and use that one for mocking
   */</span>
  <span class="keyword">object</span> <a title="object net.liftweb.http.LiftRulesMocker.devTestLiftRulesInstance" id="158818">devTestLiftRulesInstance</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#13699" title="net.liftweb.util.ThreadGlobal[net.liftweb.http.LiftRules]">ThreadGlobal</a><span class="delimiter">[</span>LiftRules<span class="delimiter">]</span>

  <span class="comment">/**
   * This function, in Test and Dev mode will vend the instance of LiftRules.
   * If there is an instance set in devTestLiftRulesInstance, that instance
   * will be used, otherwise the global instance in LiftRules.prodInstance
   * will be used.
   */</span>
  @volatile <span class="keyword">var</span> <a title="() =&gt; net.liftweb.http.LiftRules" id="158821">calcLiftRulesInstance</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; LiftRules =
    <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#158818" title="object net.liftweb.http.LiftRulesMocker.devTestLiftRulesInstance">devTestLiftRulesInstance</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51271" title="=&gt; net.liftweb.common.Box[net.liftweb.http.LiftRules]">box</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; net.liftweb.http.LiftRules)net.liftweb.http.LiftRules">openOr</a><span class="delimiter">(</span> <a href="#14376" title="object net.liftweb.http.LiftRules">LiftRules</a>.<a href="#158786" title="=&gt; net.liftweb.http.LiftRules">prodInstance</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * The data structure that contains information to determine if the
 * request should be treated as a stateful or stateless request
 */</span>
<span class="keyword">final</span> case <span class="keyword">class</span> <a title="class StatelessReqTest extends java.lang.Object with ScalaObject with Product with Serializable" id="369487">StatelessReqTest</a><a href="#369487" title="ScalaObject" class="delimiter">(</a><a title="List[String]" id="369482">path</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span>, <a title="net.liftweb.http.provider.HTTPRequest" id="369483">httpReq</a>: <a href="provider/HTTPRequest.scala.html#15082" title="net.liftweb.http.provider.HTTPRequest">HTTPRequest</a><span class="delimiter">)</span>

<span class="comment">/**
 * The Lift configuration singleton
 */</span>
<span class="keyword">object</span> <a title="object net.liftweb.http.LiftRules" id="14376">LiftRules</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#14370" title="net.liftweb.http.LiftRulesMocker">LiftRulesMocker</a> <span class="delimiter">{</span>
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="net.liftweb.http.LiftRules" id="158787">prodInstance</a>: <a href="#14378" title="net.liftweb.http.LiftRules">LiftRules</a> = <span title="net.liftweb.http.LiftRules" class="keyword">new</span> <a href="#14378" title="net.liftweb.http.LiftRules">LiftRules</a><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">val</span> <a title="Boolean" id="158788">devOrTest</a> = <a href="../../../../util/net/liftweb/util/Props.scala.html#13579" title="object net.liftweb.util.Props">Props</a>.<a href="../../../../util/net/liftweb/util/Props.scala.html#151319" title="=&gt; Boolean">devMode</a> <span title="(x: Boolean)Boolean">||</span> <a href="../../../../util/net/liftweb/util/Props.scala.html#13579" title="object net.liftweb.util.Props">Props</a>.<a href="../../../../util/net/liftweb/util/Props.scala.html#151321" title="=&gt; Boolean">testMode</a>

  <span class="comment">/**
   * Get the real instance of LiftRules
   */</span>
  <span class="keyword">def</span> <a title="=&gt; net.liftweb.http.LiftRules" id="158789">realInstance</a>: <a href="#14378" title="net.liftweb.http.LiftRules">LiftRules</a> = <span title="net.liftweb.http.LiftRules" class="keyword">if</span> <span class="delimiter">(</span><a href="#158788" title="Boolean">devOrTest</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#14371" title="object net.liftweb.http.LiftRulesMocker">LiftRulesMocker</a>.<a href="#158821" title="()net.liftweb.http.LiftRules">calcLiftRulesInstance</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#158786" title="=&gt; net.liftweb.http.LiftRules">prodInstance</a>

  <span class="keyword">type</span> <a title="PartialFunction[net.liftweb.http.Req,() =&gt; net.liftweb.common.Box[net.liftweb.http.LiftResponse]]" id="158790">DispatchPF</a> = <span title="PartialFunction[net.liftweb.http.Req,() =&gt; net.liftweb.common.Box[net.liftweb.http.LiftResponse]]">PartialFunction</span><span class="delimiter">[</span>Req, <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Box<span class="delimiter">[</span>LiftResponse<span class="delimiter">]</span><span class="delimiter">]</span>;

  <span class="comment">/**
   * The test between the path of a request and whether that path
   * should result in stateless servicing of that path
   */</span>
  <span class="keyword">type</span> <a title="PartialFunction[List[String],Boolean]" id="158791">StatelessTestPF</a> = <span title="PartialFunction[List[String],Boolean]">PartialFunction</span><span class="delimiter">[</span>List<span class="delimiter">[</span>String<span class="delimiter">]</span>, Boolean<span class="delimiter">]</span>


  <span class="comment">/**
   * The test between the path of a request, the HTTP request, and whether that path
   * should result in stateless servicing of that path
   */</span>
  <span class="keyword">type</span> <a title="PartialFunction[net.liftweb.http.StatelessReqTest,Boolean]" id="158792">StatelessReqTestPF</a> = <span title="PartialFunction[net.liftweb.http.StatelessReqTest,Boolean]">PartialFunction</span><span class="delimiter">[</span>StatelessReqTest, Boolean<span class="delimiter">]</span>

  <span class="keyword">type</span> <a title="PartialFunction[net.liftweb.http.RewriteRequest,net.liftweb.http.RewriteResponse]" id="158793">RewritePF</a> = <span title="PartialFunction[net.liftweb.http.RewriteRequest,net.liftweb.http.RewriteResponse]">PartialFunction</span><span class="delimiter">[</span>RewriteRequest, RewriteResponse<span class="delimiter">]</span>
  <span class="keyword">type</span> <a title="PartialFunction[List[String],scala.xml.NodeSeq =&gt; scala.xml.NodeSeq]" id="158794">SnippetPF</a> = <span title="PartialFunction[List[String],scala.xml.NodeSeq =&gt; scala.xml.NodeSeq]">PartialFunction</span><span class="delimiter">[</span>List<span class="delimiter">[</span>String<span class="delimiter">]</span>, NodeSeq =&gt; NodeSeq<span class="delimiter">]</span>
  <span class="keyword">type</span> <a title="PartialFunction[(String, scala.xml.Elem, scala.xml.MetaData, scala.xml.NodeSeq, String),scala.xml.NodeSeq]" id="158795">LiftTagPF</a> = <span title="PartialFunction[(String, scala.xml.Elem, scala.xml.MetaData, scala.xml.NodeSeq, String),scala.xml.NodeSeq]">PartialFunction</span><span class="delimiter">[</span><span class="delimiter">(</span>String, Elem, MetaData, NodeSeq, String<span class="delimiter">)</span>, NodeSeq<span class="delimiter">]</span>
  <span class="keyword">type</span> <a title="PartialFunction[(net.liftweb.http.Req, net.liftweb.common.Box[net.liftweb.common.Failure]),net.liftweb.http.NotFound]" id="158796">URINotFoundPF</a> = <span title="PartialFunction[(net.liftweb.http.Req, net.liftweb.common.Box[net.liftweb.common.Failure]),net.liftweb.http.NotFound]">PartialFunction</span><span class="delimiter">[</span><span class="delimiter">(</span>Req, Box<span class="delimiter">[</span>Failure<span class="delimiter">]</span><span class="delimiter">)</span>, NotFound<span class="delimiter">]</span>
  <span class="keyword">type</span> <a title="PartialFunction[String,String]" id="158797">URLDecoratorPF</a> = <span title="PartialFunction[String,String]">PartialFunction</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span>
  <span class="keyword">type</span> <a title="PartialFunction[String,net.liftweb.http.DispatchSnippet]" id="158798">SnippetDispatchPF</a> = <span title="PartialFunction[String,net.liftweb.http.DispatchSnippet]">PartialFunction</span><span class="delimiter">[</span>String, DispatchSnippet<span class="delimiter">]</span>
  <span class="keyword">type</span> <a title="PartialFunction[List[String],Either[() =&gt; net.liftweb.common.Box[scala.xml.NodeSeq],net.liftweb.http.LiftView]]" id="158799">ViewDispatchPF</a> = <span title="PartialFunction[List[String],Either[() =&gt; net.liftweb.common.Box[scala.xml.NodeSeq],net.liftweb.http.LiftView]]">PartialFunction</span><span class="delimiter">[</span>List<span class="delimiter">[</span>String<span class="delimiter">]</span>, Either<span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Box<span class="delimiter">[</span>NodeSeq<span class="delimiter">]</span>, LiftView<span class="delimiter">]</span><span class="delimiter">]</span>
  <span class="keyword">type</span> <a title="PartialFunction[net.liftweb.http.Req,net.liftweb.common.Box[net.liftweb.http.auth.Role]]" id="158800">HttpAuthProtectedResourcePF</a> = <span title="PartialFunction[net.liftweb.http.Req,net.liftweb.common.Box[net.liftweb.http.auth.Role]]">PartialFunction</span><span class="delimiter">[</span>Req, Box<span class="delimiter">[</span>Role<span class="delimiter">]</span><span class="delimiter">]</span>
  <span class="keyword">type</span> <a title="PartialFunction[(net.liftweb.util.Props.RunModes.Value, net.liftweb.http.Req, Throwable),net.liftweb.http.LiftResponse]" id="158801">ExceptionHandlerPF</a> = <span title="PartialFunction[(net.liftweb.util.Props.RunModes.Value, net.liftweb.http.Req, Throwable),net.liftweb.http.LiftResponse]">PartialFunction</span><span class="delimiter">[</span><span class="delimiter">(</span>Props.RunModes.Value, Req, Throwable<span class="delimiter">)</span>, LiftResponse<span class="delimiter">]</span>
  <span class="keyword">type</span> <a title="PartialFunction[(String, java.util.Locale),java.util.ResourceBundle]" id="158802">ResourceBundleFactoryPF</a> = <span title="PartialFunction[(String, java.util.Locale),java.util.ResourceBundle]">PartialFunction</span><span class="delimiter">[</span><span class="delimiter">(</span>String, Locale<span class="delimiter">)</span>, ResourceBundle<span class="delimiter">]</span>
  <span class="keyword">type</span> <a title="PartialFunction[List[String],(List[String], String)]" id="158803">SplitSuffixPF</a> = <span title="PartialFunction[List[String],(List[String], String)]">PartialFunction</span><span class="delimiter">[</span>List<span class="delimiter">[</span>String<span class="delimiter">]</span>, <span class="delimiter">(</span>List<span class="delimiter">[</span>String<span class="delimiter">]</span>, String<span class="delimiter">)</span><span class="delimiter">]</span>
  <span class="keyword">type</span> <a title="PartialFunction[net.liftweb.http.CometCreationInfo,net.liftweb.http.LiftCometActor]" id="158804">CometCreationPF</a> = <span title="PartialFunction[net.liftweb.http.CometCreationInfo,net.liftweb.http.LiftCometActor]">PartialFunction</span><span class="delimiter">[</span>CometCreationInfo, LiftCometActor<span class="delimiter">]</span>
  <span class="comment">/**
   * A partial function that allows the application to define requests that should be
   * handled by lift rather than the default handler
   */</span>
  <span class="keyword">type</span> <a title="PartialFunction[net.liftweb.http.Req,Boolean]" id="158805">LiftRequestPF</a> = <span title="PartialFunction[net.liftweb.http.Req,Boolean]">PartialFunction</span><span class="delimiter">[</span>Req, Boolean<span class="delimiter">]</span>

  <span class="comment">/*
  private[this] var _doneBoot = false
  private[http] def doneBoot = _doneBoot

  private[http] def doneBoot_=(in: Boolean) {_doneBoot = in}
*/</span>


  <span class="comment">/**
   * Holds the failure information when a snippet can not be executed.
   */</span>
  case <span class="keyword">class</span> <a title="class SnippetFailure extends java.lang.Object with ScalaObject with Product with Serializable" id="356870">SnippetFailure</a><a href="#356870" title="ScalaObject" class="delimiter">(</a><a title="String" id="356863">page</a>: <span title="String">String</span>, <a title="net.liftweb.common.Box[String]" id="356864">typeName</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[String]">Box</a><span class="delimiter">[</span>String<span class="delimiter">]</span>, <a title="net.liftweb.http.LiftRules.SnippetFailures.Value" id="356865">failure</a>: SnippetFailures.<span title="net.liftweb.http.LiftRules.SnippetFailures.Value">Value</span><span class="delimiter">)</span>

  <span class="keyword">object</span> <a title="object net.liftweb.http.LiftRules.SnippetFailures" id="158809">SnippetFailures</a> <span title="ScalaObject" class="keyword">extends</span> <span title="Enumeration">Enumeration</span> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="net.liftweb.http.LiftRules.SnippetFailures.Value" id="326655">NoTypeDefined</a> = <span title="(i: Int, name: String)net.liftweb.http.LiftRules.SnippetFailures.Value">Value</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span>, <span title="java.lang.String(&quot;No Type Defined&quot;)" class="string">&quot;No Type Defined&quot;</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="net.liftweb.http.LiftRules.SnippetFailures.Value" id="326657">ClassNotFound</a> = <span title="(i: Int, name: String)net.liftweb.http.LiftRules.SnippetFailures.Value">Value</span><span class="delimiter">(</span><span title="Int(2)" class="int">2</span>, <span title="java.lang.String(&quot;Class Not Found&quot;)" class="string">&quot;Class Not Found&quot;</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="net.liftweb.http.LiftRules.SnippetFailures.Value" id="326659">StatefulDispatchNotMatched</a> = <span title="(i: Int, name: String)net.liftweb.http.LiftRules.SnippetFailures.Value">Value</span><span class="delimiter">(</span><span title="Int(3)" class="int">3</span>, <span title="java.lang.String(&quot;Stateful Snippet: Dispatch Not Matched&quot;)" class="string">&quot;Stateful Snippet: Dispatch Not Matched&quot;</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="net.liftweb.http.LiftRules.SnippetFailures.Value" id="326661">MethodNotFound</a> = <span title="(i: Int, name: String)net.liftweb.http.LiftRules.SnippetFailures.Value">Value</span><span class="delimiter">(</span><span title="Int(4)" class="int">4</span>, <span title="java.lang.String(&quot;Method Not Found&quot;)" class="string">&quot;Method Not Found&quot;</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="net.liftweb.http.LiftRules.SnippetFailures.Value" id="326663">NoNameSpecified</a> = <span title="(i: Int, name: String)net.liftweb.http.LiftRules.SnippetFailures.Value">Value</span><span class="delimiter">(</span><span title="Int(5)" class="int">5</span>, <span title="java.lang.String(&quot;No Snippet Name Specified&quot;)" class="string">&quot;No Snippet Name Specified&quot;</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="net.liftweb.http.LiftRules.SnippetFailures.Value" id="326665">InstantiationException</a> = <span title="(i: Int, name: String)net.liftweb.http.LiftRules.SnippetFailures.Value">Value</span><span class="delimiter">(</span><span title="Int(6)" class="int">6</span>, <span title="java.lang.String(&quot;Exception During Snippet Instantiation&quot;)" class="string">&quot;Exception During Snippet Instantiation&quot;</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="net.liftweb.http.LiftRules.SnippetFailures.Value" id="326667">DispatchSnippetNotMatched</a> = <span title="(i: Int, name: String)net.liftweb.http.LiftRules.SnippetFailures.Value">Value</span><span class="delimiter">(</span><span title="Int(7)" class="int">7</span>, <span title="java.lang.String(&quot;Dispatch Snippet: Dispatch Not Matched&quot;)" class="string">&quot;Dispatch Snippet: Dispatch Not Matched&quot;</span><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="net.liftweb.http.LiftRules.SnippetFailures.Value" id="326669">StateInStateless</a> = <span title="(i: Int, name: String)net.liftweb.http.LiftRules.SnippetFailures.Value">Value</span><span class="delimiter">(</span><span title="Int(8)" class="int">8</span>, <span title="java.lang.String(&quot;Access to Lift\'s statefull features from Stateless mode&quot;)" class="string">&quot;Access to Lift's statefull features from Stateless mode&quot;</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="net.liftweb.http.LiftRules.SnippetFailures.Value" id="326671">CometTimeout</a> = <span title="(i: Int, name: String)net.liftweb.http.LiftRules.SnippetFailures.Value">Value</span><span class="delimiter">(</span><span title="Int(9)" class="int">9</span>, <span title="java.lang.String(&quot;Comet Component did not response to requests&quot;)" class="string">&quot;Comet Component did not response to requests&quot;</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="net.liftweb.http.LiftRules.SnippetFailures.Value" id="326673">CometNotFound</a> = <span title="(i: Int, name: String)net.liftweb.http.LiftRules.SnippetFailures.Value">Value</span><span class="delimiter">(</span><span title="Int(10)" class="int">10</span>, <span title="java.lang.String(&quot;Comet Component not found&quot;)" class="string">&quot;Comet Component not found&quot;</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="net.liftweb.http.LiftRules.SnippetFailures.Value" id="326675">ExecutionFailure</a> = <span title="(i: Int, name: String)net.liftweb.http.LiftRules.SnippetFailures.Value">Value</span><span class="delimiter">(</span><span title="Int(11)" class="int">11</span>, <span title="java.lang.String(&quot;Execution Failure&quot;)" class="string">&quot;Execution Failure&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

<span class="comment">/**
 * LiftRules is the global object that holds all of Lift's configuration.
 */</span>
<span class="keyword">class</span> <a title="class LiftRules extends java.lang.Object with net.liftweb.http.Factory with net.liftweb.http.FormVendor with net.liftweb.common.LazyLoggable with ScalaObject" id="14378">LiftRules</a><a href="#14378" title="ScalaObject" class="delimiter">(</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="Factory.scala.html#14169" title="net.liftweb.http.Factory">Factory</a> <span class="keyword">with</span> <a href="#14410" title="net.liftweb.http.FormVendor">FormVendor</a> <span class="keyword">with</span> <a href="../../../../common/net/liftweb/common/Logging.scala.html#10718" title="net.liftweb.common.LazyLoggable">LazyLoggable</a> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="#14376" title="object net.liftweb.http.LiftRules">LiftRules</a>._

  <span class="keyword">private</span> <span class="keyword">var</span> <a title="Boolean" id="158828">_doneBoot</a> = <span title="Boolean(false)" class="keyword">false</span>

  <span class="comment">/**
   * Does the LiftRules instance think it's done booting?
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="158830">doneBoot</a> = <a href="#158828" title="=&gt; Boolean">_doneBoot</a>

  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="158831">noticesContainerId</a> = <span title="java.lang.String(&quot;lift__noticesContainer__&quot;)" class="string">&quot;lift__noticesContainer__&quot;</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="String" id="158832">pageResourceId</a> = <a href="../../../../util/net/liftweb/util/Helpers.scala.html#13346" title="object net.liftweb.util.Helpers">Helpers</a>.<a href="../../../../util/net/liftweb/util/HttpHelpers.scala.html#49067" title="=&gt; String">nextFuncName</a>


  <span class="comment">/**
   * If you want to make the Lift inactivity timeout shorter than
   * the container inactivity timeout, set the inactivity timeout here
   */</span>
  <span class="keyword">val</span> <a title="LiftRules.this.FactoryMaker[net.liftweb.common.Box[Long]]" id="158834">sessionInactivityTimeout</a> = <a href="#356875" title="LiftRules.this.FactoryMaker[net.liftweb.common.Box[Long]]" class="keyword">new</a> <a title="anonymous class $anon extends LiftRules.this.FactoryMaker[net.liftweb.common.Box[Long]]" id="356875">FactoryMaker</a><span class="delimiter">[</span>Box<span class="delimiter">[</span>Long<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="../../../../util/net/liftweb/util/Maker.scala.html#150948" title="(value: net.liftweb.common.Box[Long])net.liftweb.util.Vendor[net.liftweb.common.Box[Long]]">Empty</a><span class="delimiter">)</span><span class="delimiter">{</span><span class="delimiter">}</span>

  <span class="comment">/**
   * The function that converts a scala.text.Document to
   * a String (used for JsonAST.JValue to text convertion.
   * By default, use Printer.pretty for dev mode and
   * Printer.compact for other modes
   */</span>
  <span class="keyword">val</span> <a title="LiftRules.this.FactoryMaker[scala.text.Document =&gt; String]" id="158836">jsonOutputConverter</a> = <a href="#353251" title="LiftRules.this.FactoryMaker[scala.text.Document =&gt; String]" class="keyword">new</a> <a title="anonymous class $anon extends LiftRules.this.FactoryMaker[scala.text.Document =&gt; String]" id="353251">FactoryMaker</a><span class="delimiter">[</span>scala.text.Document =&gt; String<span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">{</span>
    <span class="keyword">import</span> json.Printer
    <span title="net.liftweb.util.Vendor[scala.text.Document =&gt; String]" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../../util/net/liftweb/util/Props.scala.html#13579" title="object net.liftweb.util.Props">Props</a>.<a href="../../../../util/net/liftweb/util/Props.scala.html#151319" title="=&gt; Boolean">devMode</a><span class="delimiter">)</span> <a href="../../../../json/net/liftweb/json/JsonAST.scala.html#11140" title="object net.liftweb.json.Printer">Printer</a>.<a href="../../../../util/net/liftweb/util/Maker.scala.html#150948" title="(value: scala.text.Document =&gt; String)net.liftweb.util.Vendor[scala.text.Document =&gt; String]">pretty</a> _ <span class="keyword">else</span> <a href="../../../../json/net/liftweb/json/JsonAST.scala.html#11140" title="object net.liftweb.json.Printer">Printer</a>.<a href="../../../../util/net/liftweb/util/Maker.scala.html#150948" title="(value: scala.text.Document =&gt; String)net.liftweb.util.Vendor[scala.text.Document =&gt; String]">compact</a> _<span class="delimiter">}</span><span class="delimiter">)</span><span class="delimiter">{</span><span class="delimiter">}</span>


  <span class="comment">/**
   * Set the default fadeout mechanism for Lift notices. Thus you provide a function that take a NoticeType.Value
   * and decide the duration after which the fade out will start and the actual fadeout time. This is applicable
   * for general notices (not associated with id-s) regardless if they are set for the page rendering, ajax
   * response or Comet response.
   */</span>
  <span class="keyword">val</span> <a title="LiftRules.this.FactoryMaker[net.liftweb.http.NoticeType.Value =&gt; net.liftweb.common.Box[(net.liftweb.util.Helpers.TimeSpan, net.liftweb.util.Helpers.TimeSpan)]]" id="158838">noticesAutoFadeOut</a> = <a href="#341514" title="LiftRules.this.FactoryMaker[net.liftweb.http.NoticeType.Value =&gt; net.liftweb.common.Box[(net.liftweb.util.Helpers.TimeSpan, net.liftweb.util.Helpers.TimeSpan)]]" class="keyword">new</a> <a title="anonymous class $anon extends LiftRules.this.FactoryMaker[net.liftweb.http.NoticeType.Value =&gt; net.liftweb.common.Box[(net.liftweb.util.Helpers.TimeSpan, net.liftweb.util.Helpers.TimeSpan)]]" id="341514">FactoryMaker</a><span class="delimiter">[</span><span class="delimiter">(</span>NoticeType.Value<span class="delimiter">)</span> =&gt; Box<span class="delimiter">[</span><span class="delimiter">(</span>TimeSpan, TimeSpan<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">(</span>notice : NoticeType.<a href="S.scala.html#221961" title="net.liftweb.http.NoticeType.Value">Value</a><span class="delimiter">)</span> =&gt; <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a><span class="delimiter">)</span><span class="delimiter">{</span><span class="delimiter">}</span>

  <span class="comment">/**
   * Use this to apply various effects to the notices. The user function receives the NoticeType
   * and the id of the element containing the specific notice. Thus it is the function's responsability to form
   * the javascript code for the visual effects. This is applicable for both ajax and non ajax contexts.
   * For notices associated with ID's the user type will receive an Empty notice type. That's because the effect
   * is applied on the real estate holding the notices for this ID. Typically this contains a single message.
   */</span>
  <span class="keyword">val</span> <a title="LiftRules.this.FactoryMaker[(net.liftweb.common.Box[net.liftweb.http.NoticeType.Value], String) =&gt; net.liftweb.common.Box[net.liftweb.http.js.JsCmd]]" id="158840">noticesEffects</a> = <a href="#341664" title="LiftRules.this.FactoryMaker[(net.liftweb.common.Box[net.liftweb.http.NoticeType.Value], String) =&gt; net.liftweb.common.Box[net.liftweb.http.js.JsCmd]]" class="keyword">new</a> <a title="anonymous class $anon extends LiftRules.this.FactoryMaker[(net.liftweb.common.Box[net.liftweb.http.NoticeType.Value], String) =&gt; net.liftweb.common.Box[net.liftweb.http.js.JsCmd]]" id="341664">FactoryMaker</a><span class="delimiter">[</span><span class="delimiter">(</span>Box<span class="delimiter">[</span>NoticeType.Value<span class="delimiter">]</span>, String<span class="delimiter">)</span> =&gt; Box<span class="delimiter">[</span>JsCmd<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">(</span>notice: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.http.NoticeType.Value]">Box</a><span class="delimiter">[</span>NoticeType.Value<span class="delimiter">]</span>, id: <span title="String">String</span><span class="delimiter">)</span> =&gt; <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a><span class="delimiter">)</span><span class="delimiter">{</span><span class="delimiter">}</span>


  <span class="comment">/**
   * Holds user functions that willbe executed very early in the request processing. The functions'
   * result will be ignored.
   */</span>
  <span class="keyword">val</span> <a title="LiftRules.this.RulesSeq[net.liftweb.http.provider.HTTPRequest =&gt; Any]" id="158842">early</a> = <a href="#185518" title="[T]=&gt; LiftRules.this.RulesSeq[T]">RulesSeq</a><span title="LiftRules.this.RulesSeq[net.liftweb.http.provider.HTTPRequest =&gt; Any]" class="delimiter">[</span><span class="delimiter">(</span>HTTPRequest<span class="delimiter">)</span> =&gt; Any<span class="delimiter">]</span>

  <span class="comment">/**
   * Holds user functions that are executed before sending the response to client. The functions'
   * result will be ignored.
   */</span>
  <span class="keyword">val</span> <a title="LiftRules.this.RulesSeq[(net.liftweb.http.BasicResponse, net.liftweb.http.provider.HTTPResponse, List[(String, String)], net.liftweb.common.Box[net.liftweb.http.Req]) =&gt; Any]" id="158844">beforeSend</a> = <a href="#185518" title="[T]=&gt; LiftRules.this.RulesSeq[T]">RulesSeq</a><span title="LiftRules.this.RulesSeq[(net.liftweb.http.BasicResponse, net.liftweb.http.provider.HTTPResponse, List[(String, String)], net.liftweb.common.Box[net.liftweb.http.Req]) =&gt; Any]" class="delimiter">[</span><span class="delimiter">(</span>BasicResponse, HTTPResponse, List<span class="delimiter">[</span><span class="delimiter">(</span>String, String<span class="delimiter">)</span><span class="delimiter">]</span>, Box<span class="delimiter">[</span>Req<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; Any<span class="delimiter">]</span>

  <span class="comment">/**
   * Defines the resources that are protected by authentication and authorization. If this function
   * is not defined for the input data, the resource is considered unprotected ergo no authentication
   * is performed. If this function is defined and returns a Full box, it means that this resource
   * is protected by authentication,and authenticated subjed must be assigned to the role returned by
   * this function or to a role that is child-of this role. If this function returns Empty it means that
   * this resource is protected by authentication but no authorization is performed meaning that roles are
   * not verified.
   */</span>
  <span class="keyword">val</span> <a title="LiftRules.this.RulesSeq[net.liftweb.http.LiftRules.HttpAuthProtectedResourcePF]" id="158846">httpAuthProtectedResource</a> = <a href="#185518" title="[T]=&gt; LiftRules.this.RulesSeq[T]">RulesSeq</a><span title="LiftRules.this.RulesSeq[net.liftweb.http.LiftRules.HttpAuthProtectedResourcePF]" class="delimiter">[</span><span title="net.liftweb.http.LiftRules.HttpAuthProtectedResourcePF">HttpAuthProtectedResourcePF</span><span class="delimiter">]</span>

  <span class="comment">/**
   * The HTTP authentication mechanism that ift will perform. See &lt;i&gt;LiftRules.protectedResource&lt;/i&gt;
   */</span>
  @volatile <span class="keyword">var</span> <a title="net.liftweb.http.auth.HttpAuthentication" id="158849">authentication</a>: <a href="auth/HttpAuthentication.scala.html#14826" title="net.liftweb.http.auth.HttpAuthentication">HttpAuthentication</a> = <a href="auth/HttpAuthentication.scala.html#14827" title="object net.liftweb.http.auth.NoAuthentication">NoAuthentication</a>

  <span class="comment">/**
   * A function that takes the HTTPSession and the contextPath as parameters
   * and returns a LiftSession reference. This can be used in cases subclassing
   * LiftSession is necessary.
   */</span>
  @volatile <span class="keyword">var</span> <a title="(net.liftweb.http.provider.HTTPSession, String) =&gt; net.liftweb.http.LiftSession" id="158852">sessionCreator</a>: <span class="delimiter">(</span>HTTPSession, String<span class="delimiter">)</span> =&gt; LiftSession = <a href="#357301" title="net.liftweb.http.LiftSession" class="delimiter">{</a>
    <span class="keyword">case</span> <span title="net.liftweb.http.LiftSession" class="delimiter">(</span><a title="net.liftweb.http.provider.HTTPSession" id="357321">httpSession</a>, <a title="String" id="357322">contextPath</a><span class="delimiter">)</span> =&gt; <span title="net.liftweb.http.LiftSession" class="keyword">new</span> <a href="LiftSession.scala.html#14496" title="net.liftweb.http.LiftSession">LiftSession</a><span class="delimiter">(</span><a href="#357322" title="String">contextPath</a>, <a href="#357321" title="net.liftweb.http.provider.HTTPSession">httpSession</a>.<a href="provider/HTTPSession.scala.html#357303" title="=&gt; String">sessionId</a>, <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: net.liftweb.http.provider.HTTPSession)net.liftweb.common.Full[net.liftweb.http.provider.HTTPSession]">Full</a><span class="delimiter">(</span><a href="#357321" title="net.liftweb.http.provider.HTTPSession">httpSession</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * A method that returns a function to create migratory sessions.  If you want migratory sessions for your
   * application, &lt;code&gt;LiftRules.sessionCreator = LiftRules.sessionCreatorForMigratorySessions&lt;/code&gt;
   */</span>
  <span class="keyword">def</span> <a title="=&gt; (net.liftweb.http.provider.HTTPSession, String) =&gt; net.liftweb.http.LiftSession" id="158854">sessionCreatorForMigratorySessions</a>: <span class="delimiter">(</span>HTTPSession, String<span class="delimiter">)</span> =&gt; LiftSession = <a href="#357332" title="net.liftweb.http.LiftSession" class="delimiter">{</a>
    <span class="keyword">case</span> <span title="net.liftweb.http.LiftSession with net.liftweb.http.MigratorySession" class="delimiter">(</span><a title="net.liftweb.http.provider.HTTPSession" id="357342">httpSession</a>, <a title="String" id="357343">contextPath</a><span class="delimiter">)</span> =&gt; <a href="#357344" title="net.liftweb.http.LiftSession with net.liftweb.http.MigratorySession" class="keyword">new</a> <a href="LiftSession.scala.html#14496" title="anonymous class $anon extends net.liftweb.http.LiftSession with net.liftweb.http.MigratorySession" id="357344">LiftSession</a><span class="delimiter">(</span><a href="#357343" title="String">contextPath</a>, <a href="#357342" title="net.liftweb.http.provider.HTTPSession">httpSession</a>.<a href="provider/HTTPSession.scala.html#357303" title="=&gt; String">sessionId</a>, <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: net.liftweb.http.provider.HTTPSession)net.liftweb.common.Full[net.liftweb.http.provider.HTTPSession]">Full</a><span class="delimiter">(</span><a href="#357342" title="net.liftweb.http.provider.HTTPSession">httpSession</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">with</span> <a href="LiftSession.scala.html#14492" title="net.liftweb.http.MigratorySession">MigratorySession</a>
  <span class="delimiter">}</span>

  @volatile <span class="keyword">var</span> <a title="Boolean" id="158856">enableContainerSessions</a> = <span title="Boolean(true)" class="keyword">true</span>

  @volatile <span class="keyword">var</span> <a title="net.liftweb.http.Req =&gt; net.liftweb.http.LiftSession" id="158859">getLiftSession</a>: <span class="delimiter">(</span>Req<span class="delimiter">)</span> =&gt; LiftSession = <span class="delimiter">(</span><a title="net.liftweb.http.Req" id="357359">req</a><span class="delimiter">)</span> =&gt; <a href="#158864" title="(req: net.liftweb.http.Req)net.liftweb.http.LiftSession">_getLiftSession</a><span class="delimiter">(</span><a href="#357359" title="net.liftweb.http.Req">req</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Attached an ID entity for resource URI specified in
   * link or script tags. This allows controlling browser
   * resource caching. By default this just adds a query string
   * parameter unique per application lifetime. More complex
   * implementation could user per resource MD5 sequences thus
   * &quot;forcing&quot; browsers to refresh the resource only when the resource
   * file changes. Users can define other rules as well. Inside user's
   * function it is safe to use S context as attachResourceId is called
   * from inside the &amp;lt;lift:with-resource-id&gt; snippet
   *
   */</span>
  @volatile <span class="keyword">var</span> <a title="String =&gt; String" id="158862">attachResourceId</a>: <span class="delimiter">(</span>String<span class="delimiter">)</span> =&gt; String = <span class="delimiter">(</span><a title="String" id="357363">name</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
    <a href="#357363" title="String">name</a> <span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#357363" title="String">name</a> <span title="(x$1: java.lang.CharSequence)Boolean">contains</span> <span class="delimiter">(</span><span title="java.lang.String(&quot;?&quot;)" class="string">&quot;?&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;&amp;&quot;)" class="string">&quot;&amp;&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;?&quot;)" class="string">&quot;?&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#158832" title="=&gt; String">pageResourceId</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;=_&quot;)" class="string">&quot;=_&quot;</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns a LiftSession instance.
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(req: net.liftweb.http.Req)net.liftweb.http.LiftSession" id="158864">_getLiftSession</a><span class="delimiter">(</span><a title="net.liftweb.http.Req" id="357360">req</a>: <a href="Req.scala.html#14573" title="net.liftweb.http.Req">Req</a><span class="delimiter">)</span>: <a href="LiftSession.scala.html#14496" title="net.liftweb.http.LiftSession">LiftSession</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="List[java.lang.String]" id="357364">wp</a> = <a href="#357360" title="net.liftweb.http.Req">req</a>.<a href="Req.scala.html#149137" title="=&gt; net.liftweb.http.ParsePath">path</a>.<a href="Req.scala.html#216857" title="=&gt; List[java.lang.String]">wholePath</a>
    <span class="keyword">val</span> <a title="&lt;none&gt; extends net.liftweb.common.Box[java.lang.String] with Serializable" id="357365">cometSessionId</a> =
    <span title="&lt;none&gt; extends net.liftweb.common.Box[java.lang.String] with Serializable" class="keyword">if</span> <span class="delimiter">(</span><a href="#357364" title="List[java.lang.String]">wp</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(3)" class="int">3</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#357364" title="List[java.lang.String]">wp</a>.<span title="=&gt; java.lang.String">head</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#158817" title="implicit net.liftweb.http.LiftRulesMocker.toLiftRules : (in: net.liftweb.http.LiftRulesMocker)net.liftweb.http.LiftRules">LiftRules</a>.<a href="#159055" title="=&gt; java.lang.String">cometPath</a><span class="delimiter">)</span>
      <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: java.lang.String)net.liftweb.common.Full[java.lang.String]">Full</a><span class="delimiter">(</span><a href="#357364" title="(n: Int)java.lang.String">wp</a><span class="delimiter">(</span><span title="Int(2)" class="int">2</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span>
      <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>

    <span class="keyword">val</span> <a title="net.liftweb.http.LiftSession" id="357366">ret</a> = <a href="LiftSession.scala.html#14484" title="object net.liftweb.http.SessionMaster">SessionMaster</a>.<a href="LiftSession.scala.html#357500" title="(req: net.liftweb.http.Req, otherId: net.liftweb.common.Box[String])net.liftweb.common.Box[net.liftweb.http.LiftSession]">getSession</a><span class="delimiter">(</span><a href="#357360" title="net.liftweb.http.Req">req</a>, <a href="#357365" title="&lt;none&gt; extends net.liftweb.common.Box[java.lang.String] with Serializable">cometSessionId</a><span class="delimiter">)</span> <span title="net.liftweb.http.LiftSession" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="net.liftweb.http.LiftSession">Full</span><span class="delimiter">(</span><a title="net.liftweb.http.LiftSession" id="357538">ret</a><span class="delimiter">)</span> =&gt;
        <a href="#357538" title="net.liftweb.http.LiftSession">ret</a>.<a href="LiftSession.scala.html#230229" title="()Unit">fixSessionTime</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#357538" title="net.liftweb.http.LiftSession">ret</a>

      <span class="keyword">case</span> <span title="net.liftweb.http.LiftSession">_</span> =&gt;
        <span class="keyword">val</span> <a title="net.liftweb.http.LiftSession" id="357540">ret</a> = <a href="LiftSession.scala.html#326766" title="(request: net.liftweb.http.Req)net.liftweb.http.LiftSession">LiftSession</a><span class="delimiter">(</span><a href="#357360" title="net.liftweb.http.Req">req</a><span class="delimiter">)</span>
        <a href="#357540" title="net.liftweb.http.LiftSession">ret</a>.<a href="LiftSession.scala.html#230229" title="()Unit">fixSessionTime</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="LiftSession.scala.html#14484" title="object net.liftweb.http.SessionMaster">SessionMaster</a>.<a href="LiftSession.scala.html#357514" title="(liftSession: net.liftweb.http.LiftSession, req: net.liftweb.http.Req, userAgent: net.liftweb.common.Box[String], ipAddress: net.liftweb.common.Box[String])Unit">addSession</a><span class="delimiter">(</span><a href="#357540" title="net.liftweb.http.LiftSession">ret</a>, <a href="#357360" title="net.liftweb.http.Req">req</a>,
                                 <a href="#357360" title="net.liftweb.http.Req">req</a>.<a href="Req.scala.html#149145" title="=&gt; net.liftweb.http.provider.HTTPRequest">request</a>.<a href="provider/HTTPRequest.scala.html#216896" title="=&gt; net.liftweb.common.Box[String]">userAgent</a>,
                                 <a href="LiftSession.scala.html#14484" title="object net.liftweb.http.SessionMaster">SessionMaster</a>.<a href="LiftSession.scala.html#357494" title="(v1: net.liftweb.http.Req)net.liftweb.common.Box[String]">getIpFromReq</a><span class="delimiter">(</span><a href="#357360" title="net.liftweb.http.Req">req</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#357540" title="net.liftweb.http.LiftSession">ret</a>
    <span class="delimiter">}</span>

    <a href="#158866" title="(v1: net.liftweb.http.LiftSession, v2: net.liftweb.http.Req)Unit">makeCometBreakoutDecision</a><span class="delimiter">(</span><a href="#357366" title="net.liftweb.http.LiftSession">ret</a>, <a href="#357360" title="net.liftweb.http.Req">req</a><span class="delimiter">)</span>
    <a href="#357366" title="net.liftweb.http.LiftSession">ret</a>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * A function that takes appropriate action in breaking out of any
   * existing comet requests based on the request, browser type, etc.
   */</span>
  @volatile <span class="keyword">var</span> <a title="(net.liftweb.http.LiftSession, net.liftweb.http.Req) =&gt; Unit" id="158866">makeCometBreakoutDecision</a>: <span class="delimiter">(</span>LiftSession, Req<span class="delimiter">)</span> =&gt; Unit =
  <span class="delimiter">(</span><a title="net.liftweb.http.LiftSession" id="357573">session</a>, <a title="net.liftweb.http.Req" id="357574">req</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
    <span class="comment">// get the open sessions to the host (this means that any DNS wildcarded</span>
    <span class="comment">// Comet requests will not be counted</span>
    <span class="keyword">val</span> <a title="List[(net.liftweb.actor.LiftActor, net.liftweb.http.Req)]" id="357575">which</a> = <a href="#357573" title="net.liftweb.http.LiftSession">session</a>.<a href="LiftSession.scala.html#230213" title="(hostAndPath: String)List[(net.liftweb.actor.LiftActor, net.liftweb.http.Req)]">cometForHost</a><span class="delimiter">(</span><a href="#357574" title="net.liftweb.http.Req">req</a>.<a href="Req.scala.html#149204" title="=&gt; String">hostAndPath</a><span class="delimiter">)</span>

    <span class="comment">// get the maximum requests given the browser type</span>
    <span class="keyword">val</span> <a title="Int" id="357576">max</a> = <a href="#158897" title="=&gt; LiftRules.this.FactoryMaker[net.liftweb.http.Req =&gt; Int]">maxConcurrentRequests</a>.<a href="Factory.scala.html#159330" title="(v1: net.liftweb.http.Req)Int">vend</a><span class="delimiter">(</span><a href="#357574" title="net.liftweb.http.Req">req</a><span class="delimiter">)</span> <span title="(x: Int)Int">-</span> <span title="Int(2)" class="int">2</span> <span class="comment">// this request and any open comet requests</span>

    <span class="comment">// dump the oldest requests</span>
    <a href="#357575" title="List[(net.liftweb.actor.LiftActor, net.liftweb.http.Req)]">which</a>.<span title="(n: Int)List[(net.liftweb.actor.LiftActor, net.liftweb.http.Req)]">drop</span><span class="delimiter">(</span><a href="#357576" title="Int">max</a><span class="delimiter">)</span>.<span title="(f: (net.liftweb.actor.LiftActor, net.liftweb.http.Req) =&gt; Unit)Unit">foreach</span> <a href="#357609" title="Unit" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a title="net.liftweb.actor.LiftActor" id="357612">actor</a>, <a title="net.liftweb.http.Req" id="357613">req</a><span class="delimiter">)</span> =&gt; <a href="#357612" title="net.liftweb.actor.LiftActor">actor</a> <a href="../../../../actor/net/liftweb/actor/LiftActor.scala.html#29502" title="(msg: Any)Unit">!</a> <a href="#369457" title="()net.liftweb.http.BreakOut">BreakOut</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * The path to handle served resources
   */</span>
  @volatile <span class="keyword">var</span> <a title="java.lang.String" id="158869">resourceServerPath</a> = <span title="java.lang.String(&quot;classpath&quot;)" class="string">&quot;classpath&quot;</span>

  <span class="comment">/**
   * Holds the JS library specific UI artifacts. By efault it uses JQuery's artifacts
   */</span>
  @volatile <span class="keyword">var</span> <a title="net.liftweb.http.js.JSArtifacts" id="158872">jsArtifacts</a>: <a href="js/JSArtifacts.scala.html#14885" title="net.liftweb.http.js.JSArtifacts">JSArtifacts</a> = <a href="js/jquery/JQueryArtifacts.scala.html#14995" title="object net.liftweb.http.js.jquery.JQuery13Artifacts">JQuery13Artifacts</a>

  <span class="comment">/**
   * Use this PartialFunction to to automatically add static URL parameters
   * to any URL reference from the markup of Ajax request.
   */</span>
  <span class="keyword">val</span> <a title="LiftRules.this.RulesSeq[net.liftweb.http.LiftRules.URLDecoratorPF]" id="158874">urlDecorate</a> = <a href="#185518" title="[T]=&gt; LiftRules.this.RulesSeq[T]">RulesSeq</a><span title="LiftRules.this.RulesSeq[net.liftweb.http.LiftRules.URLDecoratorPF]" class="delimiter">[</span><span title="net.liftweb.http.LiftRules.URLDecoratorPF">URLDecoratorPF</span><span class="delimiter">]</span>

  <span class="comment">/**
   * Should the JSESSIONID be encoded in the URL if cookies are
   * not supported
   */</span>
  @volatile <span class="keyword">var</span> <a title="Boolean" id="158877">encodeJSessionIdInUrl_?</a> = <span title="Boolean(false)" class="keyword">false</span>

  <span class="comment">/**
  * Partial function to allow you to build a CometActor from code rather than via reflection
  */</span>
  <span class="keyword">val</span> <a title="LiftRules.this.RulesSeq[net.liftweb.http.LiftRules.CometCreationPF]" id="158879">cometCreation</a> = <a href="#185518" title="[T]=&gt; LiftRules.this.RulesSeq[T]">RulesSeq</a><span title="LiftRules.this.RulesSeq[net.liftweb.http.LiftRules.CometCreationPF]" class="delimiter">[</span><span title="net.liftweb.http.LiftRules.CometCreationPF">CometCreationPF</span><span class="delimiter">]</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(ignore: net.liftweb.http.CometCreationInfo)net.liftweb.common.Box[net.liftweb.http.LiftCometActor]" id="158881">noComet</a><span class="delimiter">(</span><a title="net.liftweb.http.CometCreationInfo" id="357745">ignore</a>: <a href="Templates.scala.html#14732" title="net.liftweb.http.CometCreationInfo">CometCreationInfo</a><span class="delimiter">)</span>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.http.LiftCometActor]">Box</a><span class="delimiter">[</span>LiftCometActor<span class="delimiter">]</span> = <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>

  <span class="comment">/**
  * A factory that will vend comet creators
  */</span>
  <span class="keyword">val</span> <a title="LiftRules.this.FactoryMaker[net.liftweb.http.CometCreationInfo =&gt; net.liftweb.common.Box[net.liftweb.http.LiftCometActor]]" id="158882">cometCreationFactory</a>: <a href="Factory.scala.html#147868" title="LiftRules.this.FactoryMaker[net.liftweb.http.CometCreationInfo =&gt; net.liftweb.common.Box[net.liftweb.http.LiftCometActor]]">FactoryMaker</a><span class="delimiter">[</span>CometCreationInfo =&gt; Box<span class="delimiter">[</span>LiftCometActor<span class="delimiter">]</span><span class="delimiter">]</span> =
  <a href="#357747" title="LiftRules.this.FactoryMaker[net.liftweb.http.CometCreationInfo =&gt; net.liftweb.common.Box[net.liftweb.http.LiftCometActor]]" class="keyword">new</a> <a title="anonymous class $anon extends LiftRules.this.FactoryMaker[net.liftweb.http.CometCreationInfo =&gt; net.liftweb.common.Box[net.liftweb.http.LiftCometActor]]" id="357747">FactoryMaker</a><span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#158881" title="(ignore: net.liftweb.http.CometCreationInfo)net.liftweb.common.Box[net.liftweb.http.LiftCometActor]">noComet</a> _<span class="delimiter">)</span> <span class="delimiter">{</span><span class="delimiter">}</span>

  <span class="comment">/**
   * Should codes that represent entities be converted to XML
   * entities when rendered?
   */</span>
  <span class="keyword">val</span> <a title="LiftRules.this.FactoryMaker[Boolean]" id="158884">convertToEntity</a>: <a href="Factory.scala.html#147868" title="LiftRules.this.FactoryMaker[Boolean]">FactoryMaker</a><span class="delimiter">[</span>Boolean<span class="delimiter">]</span> = <a href="#357977" title="LiftRules.this.FactoryMaker[Boolean]" class="keyword">new</a> <a title="anonymous class $anon extends LiftRules.this.FactoryMaker[Boolean]" id="357977">FactoryMaker</a><span class="delimiter">(</span><a href="../../../../util/net/liftweb/util/Maker.scala.html#150948" title="(value: Boolean)net.liftweb.util.Vendor[Boolean]" class="keyword">false</a><span class="delimiter">)</span> <span class="delimiter">{</span><span class="delimiter">}</span>

  <span class="comment">/**
   * Certain paths within your application can be marked as stateless
   * and if there is access to Lift's stateful facilities (setting
   * SessionVars, updating function tables, etc.) the developer will
   * receive a notice and the operation will not complete.  This test
   * has been deprecated in favor of statelessReqTest which also passes
   * the HTTPRequest instance for testing of the user agent and other stuff.
   */</span>
  @deprecated<span class="delimiter">(</span><span class="string">&quot;Use statelessReqTest&quot;</span><span class="delimiter">)</span>
  <span class="keyword">val</span> <a title="LiftRules.this.RulesSeq[net.liftweb.http.LiftRules.StatelessTestPF]" id="158886">statelessTest</a> = <a href="#185518" title="[T]=&gt; LiftRules.this.RulesSeq[T]">RulesSeq</a><span title="LiftRules.this.RulesSeq[net.liftweb.http.LiftRules.StatelessTestPF]" class="delimiter">[</span><span title="net.liftweb.http.LiftRules.StatelessTestPF">StatelessTestPF</span><span class="delimiter">]</span>


  <span class="comment">/**
   * Certain paths and requests within your application can be marked as stateless
   * and if there is access to Lift's stateful facilities (setting
   * SessionVars, updating function tables, etc.) the developer will
   * receive a notice and the operation will not complete.
   */</span>
  <span class="keyword">val</span> <a title="LiftRules.this.RulesSeq[net.liftweb.http.LiftRules.StatelessReqTestPF]" id="158888">statelessReqTest</a> = <a href="#185518" title="[T]=&gt; LiftRules.this.RulesSeq[T]">RulesSeq</a><span title="LiftRules.this.RulesSeq[net.liftweb.http.LiftRules.StatelessReqTestPF]" class="delimiter">[</span><span title="net.liftweb.http.LiftRules.StatelessReqTestPF">StatelessReqTestPF</span><span class="delimiter">]</span>

  <span class="keyword">val</span> <a title="LiftRules.this.FactoryMaker[net.liftweb.http.Req =&gt; net.liftweb.http.LiftSession with net.liftweb.http.StatelessSession]" id="158890">statelessSession</a>: <a href="Factory.scala.html#147868" title="LiftRules.this.FactoryMaker[net.liftweb.http.Req =&gt; net.liftweb.http.LiftSession with net.liftweb.http.StatelessSession]">FactoryMaker</a><span class="delimiter">[</span>Req =&gt; LiftSession <span class="keyword">with</span> StatelessSession<span class="delimiter">]</span> =
    <a href="#358015" title="LiftRules.this.FactoryMaker[net.liftweb.http.Req =&gt; net.liftweb.http.LiftSession with net.liftweb.http.StatelessSession]" class="keyword">new</a> <a title="anonymous class $anon extends LiftRules.this.FactoryMaker[net.liftweb.http.Req =&gt; net.liftweb.http.LiftSession with net.liftweb.http.StatelessSession]" id="358015">FactoryMaker</a><span class="delimiter">(</span><span class="delimiter">(</span>req: <a href="Req.scala.html#14573" title="net.liftweb.http.Req">Req</a><span class="delimiter">)</span> =&gt; <a href="#358179" title="net.liftweb.http.LiftSession with net.liftweb.http.StatelessSession" class="keyword">new</a> <a href="LiftSession.scala.html#14496" title="anonymous class $anon extends net.liftweb.http.LiftSession with net.liftweb.http.StatelessSession" id="358179">LiftSession</a><span class="delimiter">(</span><a href="#358178" title="net.liftweb.http.Req">req</a>.<a href="Req.scala.html#149139" title="=&gt; String">contextPath</a>,
                                                   <a href="../../../../util/net/liftweb/util/Helpers.scala.html#13346" title="object net.liftweb.util.Helpers">Helpers</a>.<a href="../../../../util/net/liftweb/util/HttpHelpers.scala.html#49067" title="=&gt; String">nextFuncName</a>,
                                                   <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a><span class="delimiter">)</span> <span class="keyword">with</span>
                     <a href="LiftSession.scala.html#14491" title="net.liftweb.http.StatelessSession">StatelessSession</a><span class="delimiter">)</span> <span class="delimiter">{</span><span class="delimiter">}</span>


  <span class="comment">/**
   * Holds user functions that are executed after the response was sent to client. The functions' result
   * will be ignored.
   */</span>
  <span class="keyword">val</span> <a title="LiftRules.this.RulesSeq[(net.liftweb.http.BasicResponse, net.liftweb.http.provider.HTTPResponse, List[(String, String)], net.liftweb.common.Box[net.liftweb.http.Req]) =&gt; Any]" id="158892">afterSend</a> = <a href="#185518" title="[T]=&gt; LiftRules.this.RulesSeq[T]">RulesSeq</a><span title="LiftRules.this.RulesSeq[(net.liftweb.http.BasicResponse, net.liftweb.http.provider.HTTPResponse, List[(String, String)], net.liftweb.common.Box[net.liftweb.http.Req]) =&gt; Any]" class="delimiter">[</span><span class="delimiter">(</span>BasicResponse, HTTPResponse, List<span class="delimiter">[</span><span class="delimiter">(</span>String, String<span class="delimiter">)</span><span class="delimiter">]</span>, Box<span class="delimiter">[</span>Req<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; Any<span class="delimiter">]</span>

  <span class="comment">/**
   * Calculate the Comet Server (by default, the server that
   * the request was made on, but can do the multi-server thing
   * as well)
   */</span>
  @volatile <span class="keyword">var</span> <a title="() =&gt; String" id="158895">cometServer</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; String = <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49480" title="=&gt; String">contextPath</a>

  <span class="comment">/**
   * The maximum concurrent requests.  If this number of
   * requests are being serviced for a given session, messages
   * will be sent to all Comet requests to terminate
   */</span>
  <span class="keyword">val</span> <a title="LiftRules.this.FactoryMaker[net.liftweb.http.Req =&gt; Int]" id="158897">maxConcurrentRequests</a>: <a href="Factory.scala.html#147868" title="LiftRules.this.FactoryMaker[net.liftweb.http.Req =&gt; Int]">FactoryMaker</a><span class="delimiter">[</span>Req =&gt; Int<span class="delimiter">]</span> = <a href="#358245" title="LiftRules.this.FactoryMaker[net.liftweb.http.Req =&gt; Int]" class="keyword">new</a> <a title="anonymous class $anon extends LiftRules.this.FactoryMaker[net.liftweb.http.Req =&gt; Int]" id="358245">FactoryMaker</a><span class="delimiter">(</span><span class="delimiter">(</span>x: <a href="Req.scala.html#14573" title="net.liftweb.http.Req">Req</a><span class="delimiter">)</span> =&gt; <a href="#358377" title="net.liftweb.http.Req">x</a> <span title="Int" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a title="Int(5)" id="358378">r</a> <span class="keyword">if</span> <a href="#358378" title="net.liftweb.http.Req">r</a>.<a href="Req.scala.html#149286" title="=&gt; Boolean">isFirefox35_+</a> <span title="(x: Boolean)Boolean">||</span> <a href="#358378" title="net.liftweb.http.Req">r</a>.<a href="Req.scala.html#149253" title="=&gt; Boolean">isIE8</a> <span title="(x: Boolean)Boolean">||</span> <a href="#358378" title="net.liftweb.http.Req">r</a>.<a href="Req.scala.html#149255" title="=&gt; Boolean">isIE9</a> <span title="(x: Boolean)Boolean">||</span> <a href="#358378" title="net.liftweb.http.Req">r</a>.<a href="Req.scala.html#149300" title="=&gt; Boolean">isChrome3_+</a> <span title="(x: Boolean)Boolean">||</span> <a href="#358378" title="net.liftweb.http.Req">r</a>.<a href="Req.scala.html#149302" title="=&gt; Boolean">isOpera9</a> <span title="(x: Boolean)Boolean">||</span> <a href="#358378" title="net.liftweb.http.Req">r</a>.<a href="Req.scala.html#149268" title="=&gt; Boolean">isSafari3_+</a> =&gt; <span title="Int(5)" class="int">5</span>
    <span class="keyword">case</span> <span title="Int(2)">_</span> =&gt; <span title="Int(2)" class="int">2</span>
  <span class="delimiter">}</span><span class="delimiter">)</span> <span class="delimiter">{</span><span class="delimiter">}</span>

  <span class="comment">/**
   * A partial function that determines content type based on an incoming
   * Req and Accept header
   */</span>
  @volatile <span class="keyword">var</span> <a title="PartialFunction[(net.liftweb.common.Box[net.liftweb.http.Req], net.liftweb.common.Box[String]),String]" id="158900">determineContentType</a>: <span title="PartialFunction[(net.liftweb.common.Box[net.liftweb.http.Req], net.liftweb.common.Box[String]),String]">PartialFunction</span><span class="delimiter">[</span><span class="delimiter">(</span>Box<span class="delimiter">[</span>Req<span class="delimiter">]</span>, Box<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>, String<span class="delimiter">]</span> = <a href="#358413" title="String" class="delimiter">{</a>
    <span class="keyword">case</span> <span title="java.lang.String(&quot;application/xhtml+xml; charset=utf-8&quot;)" class="delimiter">(</span>_, Full<span class="delimiter">(</span><a title="String" id="358417">accept</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#14378" title="LiftRules.this.type" class="keyword">this</a>.<a href="#158933" title="=&gt; Boolean">useXhtmlMimeType</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#358417" title="String">accept</a>.<span title="()java.lang.String">toLowerCase</span>.<span title="(x$1: java.lang.CharSequence)Boolean">contains</span><span class="delimiter">(</span><span title="java.lang.String(&quot;application/xhtml+xml&quot;)" class="string">&quot;application/xhtml+xml&quot;</span><span class="delimiter">)</span> =&gt;
      <span title="java.lang.String(&quot;application/xhtml+xml; charset=utf-8&quot;)" class="string">&quot;application/xhtml+xml; charset=utf-8&quot;</span>
    <span class="keyword">case</span> <span title="java.lang.String(&quot;text/html; charset=utf-8&quot;)">_</span> =&gt; <span title="java.lang.String(&quot;text/html; charset=utf-8&quot;)" class="string">&quot;text/html; charset=utf-8&quot;</span>
  <span class="delimiter">}</span>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="String" id="158903">liftVersion</a>: <span title="String">String</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="String" id="358420">cn</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;\.&quot;&quot;&quot;</span>.<span title="=&gt; scala.util.matching.Regex">r</span>.<span title="(target: java.lang.CharSequence, replacement: String)String">replaceAllIn</span><span class="delimiter">(</span><a href="#14376" title="object net.liftweb.http.LiftRules">LiftRules</a>.<span title="()java.lang.Class[_]">getClass</span>.<span title="()java.lang.String">getName</span>, <span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="net.liftweb.common.Box[String]" id="358421">ret</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[String]">Box</a><span class="delimiter">[</span>String<span class="delimiter">]</span> =
    <span class="keyword">for</span><span class="delimiter">{</span>
      <a title="java.net.URL" id="358460">url</a> &lt;- <a href="../../../../common/net/liftweb/common/Box.scala.html#10572" title="object net.liftweb.common.Box">Box</a> <a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: java.net.URL =&gt; (java.net.URL, java.net.URL))net.liftweb.common.Box[(java.net.URL, java.net.URL)]">!!</a> <a href="#14376" title="object net.liftweb.http.LiftRules">LiftRules</a>.<span title="()java.lang.Class[_]">getClass</span>.<span title="(x$1: java.lang.String)java.net.URL">getResource</span><span class="delimiter">(</span><span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#358420" title="String">cn</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;.class&quot;)" class="string">&quot;.class&quot;</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="java.net.URL" id="358461">newUrl</a> = <span title="(x$1: java.lang.String)java.net.URL" class="keyword">new</span> java.net.<span title="java.net.URL">URL</span><span class="delimiter">(</span><a href="#358460" title="java.net.URL">url</a>.<span title="()java.lang.String">toExternalForm</span>.<span title="(x$1: java.lang.String)Array[java.lang.String]">split</span><span title="(i: Int)java.lang.String" class="delimiter">(</span><span title="java.lang.String(&quot;!&quot;)" class="string">&quot;!&quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;!&quot;)" class="string">&quot;!&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;/META-INF/MANIFEST.MF&quot;)" class="string">&quot;/META-INF/MANIFEST.MF&quot;</span><span class="delimiter">)</span>
      <a title="java.lang.String" id="358621">str</a> &lt;- <a href="../../../../util/net/liftweb/util/ControlHelpers.scala.html#48608" title="(f: =&gt; java.lang.String)net.liftweb.common.Box[java.lang.String]">tryo</a><a href="../../../../common/net/liftweb/common/Box.scala.html#27023" title="(f: java.lang.String =&gt; net.liftweb.common.Box[String])net.liftweb.common.Box[String]" class="delimiter">(</a><span title="(x$1: Array[Byte], x$2: java.lang.String)java.lang.String" class="keyword">new</span> <span title="java.lang.String">String</span><span class="delimiter">(</span><a href="../../../../util/net/liftweb/util/IoHelpers.scala.html#49075" title="(in: java.io.InputStream)Array[Byte]">readWholeStream</a><span class="delimiter">(</span><a href="#358461" title="java.net.URL">newUrl</a>.<span title="()java.net.URLConnection">openConnection</span>.<span title="()java.io.InputStream">getInputStream</span><span class="delimiter">)</span>, <span title="java.lang.String(&quot;UTF-8&quot;)" class="string">&quot;UTF-8&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a title="scala.util.matching.Regex.Match" id="358629">ma</a> &lt;- <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;Implementation-Version: (.*)&quot;&quot;&quot;</span>.<span title="=&gt; scala.util.matching.Regex">r</span>.<span title="(source: java.lang.CharSequence)Option[scala.util.matching.Regex.Match]">findFirstMatchIn</span><span title="(f: scala.util.matching.Regex.Match =&gt; String)Option[String]" class="delimiter">(</span><a href="#358621" title="java.lang.String">str</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">yield</span> <a href="#358629" title="scala.util.matching.Regex.Match">ma</a>.<span title="(i: Int)String">group</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>

    <a href="#358421" title="net.liftweb.common.Box[String]">ret</a> <a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; String)String">openOr</a> <span title="java.lang.String(&quot;Unknown Lift Version&quot;)" class="string">&quot;Unknown Lift Version&quot;</span>
  <span class="delimiter">}</span>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="java.util.Date" id="158905">liftBuildDate</a>: <span title="java.util.Date">Date</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="String" id="358647">cn</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;\.&quot;&quot;&quot;</span>.<span title="=&gt; scala.util.matching.Regex">r</span>.<span title="(target: java.lang.CharSequence, replacement: String)String">replaceAllIn</span><span class="delimiter">(</span><a href="#14376" title="object net.liftweb.http.LiftRules">LiftRules</a>.<span title="()java.lang.Class[_]">getClass</span>.<span title="()java.lang.String">getName</span>, <span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="net.liftweb.common.Box[java.util.Date]" id="358648">ret</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[java.util.Date]">Box</a><span class="delimiter">[</span>Date<span class="delimiter">]</span> =
    <span class="keyword">for</span><span class="delimiter">{</span>
      <a title="java.net.URL" id="358686">url</a> &lt;- <a href="../../../../common/net/liftweb/common/Box.scala.html#10572" title="object net.liftweb.common.Box">Box</a> <a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: java.net.URL =&gt; (java.net.URL, java.net.URL))net.liftweb.common.Box[(java.net.URL, java.net.URL)]">!!</a> <a href="#14376" title="object net.liftweb.http.LiftRules">LiftRules</a>.<span title="()java.lang.Class[_]">getClass</span>.<span title="(x$1: java.lang.String)java.net.URL">getResource</span><span class="delimiter">(</span><span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#358647" title="String">cn</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;.class&quot;)" class="string">&quot;.class&quot;</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="java.net.URL" id="358687">newUrl</a> = <span title="(x$1: java.lang.String)java.net.URL" class="keyword">new</span> java.net.<span title="java.net.URL">URL</span><span class="delimiter">(</span><a href="#358686" title="java.net.URL">url</a>.<span title="()java.lang.String">toExternalForm</span>.<span title="(x$1: java.lang.String)Array[java.lang.String]">split</span><span title="(i: Int)java.lang.String" class="delimiter">(</span><span title="java.lang.String(&quot;!&quot;)" class="string">&quot;!&quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;!&quot;)" class="string">&quot;!&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;/META-INF/MANIFEST.MF&quot;)" class="string">&quot;/META-INF/MANIFEST.MF&quot;</span><span class="delimiter">)</span>
      <a title="java.lang.String" id="358737">str</a> &lt;- <a href="../../../../util/net/liftweb/util/ControlHelpers.scala.html#48608" title="(f: =&gt; java.lang.String)net.liftweb.common.Box[java.lang.String]">tryo</a><a href="../../../../common/net/liftweb/common/Box.scala.html#27023" title="(f: java.lang.String =&gt; net.liftweb.common.Box[java.util.Date])net.liftweb.common.Box[java.util.Date]" class="delimiter">(</a><span title="(x$1: Array[Byte], x$2: java.lang.String)java.lang.String" class="keyword">new</span> <span title="java.lang.String">String</span><span class="delimiter">(</span><a href="../../../../util/net/liftweb/util/IoHelpers.scala.html#49075" title="(in: java.io.InputStream)Array[Byte]">readWholeStream</a><span class="delimiter">(</span><a href="#358687" title="java.net.URL">newUrl</a>.<span title="()java.net.URLConnection">openConnection</span>.<span title="()java.io.InputStream">getInputStream</span><span class="delimiter">)</span>, <span title="java.lang.String(&quot;UTF-8&quot;)" class="string">&quot;UTF-8&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a title="scala.util.matching.Regex.Match" id="358745">ma</a> &lt;- <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;Build-Time: (.*)&quot;&quot;&quot;</span>.<span title="=&gt; scala.util.matching.Regex">r</span>.<span title="(source: java.lang.CharSequence)Option[scala.util.matching.Regex.Match]">findFirstMatchIn</span><span title="(f: scala.util.matching.Regex.Match =&gt; Option[java.util.Date])Option[java.util.Date]" class="delimiter">(</span><a href="#358737" title="java.lang.String">str</a><span class="delimiter">)</span>
      <a title="Long" id="358758">asLong</a> &lt;- <a href="../../../../util/net/liftweb/util/BasicTypesHelpers.scala.html#49102" title="(in: String)net.liftweb.common.Box[Long]">asLong</a><a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: Long =&gt; java.util.Date)net.liftweb.common.Box[java.util.Date]" class="delimiter">(</a><a href="#358745" title="scala.util.matching.Regex.Match">ma</a>.<span title="(i: Int)String">group</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">yield</span> <span title="(x$1: Long)java.util.Date" class="keyword">new</span> <span title="java.util.Date">Date</span><span class="delimiter">(</span><a href="#358758" title="Long">asLong</a><span class="delimiter">)</span>

    <a href="#358648" title="net.liftweb.common.Box[java.util.Date]">ret</a> <a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; java.util.Date)java.util.Date">openOr</a> <span title="(x$1: Long)java.util.Date" class="keyword">new</span> <span title="java.util.Date">Date</span><span class="delimiter">(</span><span title="Long(0L)" class="long">0L</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Hooks to be run when LiftServlet.destroy is called.
   */</span>
  <span class="keyword">val</span> <a title="LiftRules.this.RulesSeq[() =&gt; Unit]" id="158906">unloadHooks</a> = <a href="#185518" title="[T]=&gt; LiftRules.this.RulesSeq[T]">RulesSeq</a><span title="LiftRules.this.RulesSeq[() =&gt; Unit]" class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Unit<span class="delimiter">]</span>

  <span class="comment">/**
   * For each unload hook registered, run them during destroy()
   */</span>
  <span class="keyword">private</span><span class="delimiter">[</span>http<span class="delimiter">]</span> <span class="keyword">def</span> <a title="()Unit" id="158908">runUnloadHooks</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#158906" title="=&gt; LiftRules.this.RulesSeq[() =&gt; Unit]">unloadHooks</a>.<a href="#185552" title="=&gt; List[() =&gt; Unit]">toList</a>.<span title="(f: () =&gt; Unit =&gt; net.liftweb.common.Box[Unit])Unit">foreach</span><span class="delimiter">{</span><a title="() =&gt; Unit" id="358823">f</a> =&gt;
      <a href="../../../../util/net/liftweb/util/ControlHelpers.scala.html#48608" title="(f: =&gt; Unit)net.liftweb.common.Box[Unit]">tryo</a><span class="delimiter">{</span><a href="#358823" title="()Unit">f</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Set the doc type used.  Use the HtmlProperties
   *
   * @deprecated
   */</span>
  @deprecated<span class="delimiter">(</span><span class="string">&quot;Use the HtmlProperties&quot;</span><span class="delimiter">)</span>
  <span class="keyword">val</span> <a title="LiftRules.this.FactoryMaker[net.liftweb.http.Req =&gt; net.liftweb.common.Box[String]]" id="158909">docType</a>: <a href="Factory.scala.html#147868" title="LiftRules.this.FactoryMaker[net.liftweb.http.Req =&gt; net.liftweb.common.Box[String]]">FactoryMaker</a><span class="delimiter">[</span>Req =&gt; Box<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#358864" title="LiftRules.this.FactoryMaker[net.liftweb.http.Req =&gt; net.liftweb.common.Box[String]]" class="keyword">new</a> <a title="anonymous class $anon extends LiftRules.this.FactoryMaker[net.liftweb.http.Req =&gt; net.liftweb.common.Box[String]]" id="358864">FactoryMaker</a><span class="delimiter">(</span> <span class="delimiter">(</span>r: <a href="Req.scala.html#14573" title="net.liftweb.http.Req">Req</a><span class="delimiter">)</span> =&gt; <a href="#359022" title="net.liftweb.http.Req">r</a>  <span title="net.liftweb.common.Box[String]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="net.liftweb.common.Empty.type">_</span> <span class="keyword">if</span> <a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49412" title="=&gt; Boolean">skipDocType</a> =&gt; <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>
    <span class="keyword">case</span> <span title="net.liftweb.common.Box[String]">_</span> <span class="keyword">if</span> <a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49409" title="=&gt; (Boolean, net.liftweb.common.Box[String])">getDocType</a>.<span title="=&gt; Boolean">_1</span> =&gt; <a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49409" title="=&gt; (Boolean, net.liftweb.common.Box[String])">getDocType</a>.<span title="=&gt; net.liftweb.common.Box[String]">_2</span>
    <span class="keyword">case</span> <span title="net.liftweb.common.Full[java.lang.String]">_</span> =&gt; <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: java.lang.String)net.liftweb.common.Full[java.lang.String]">Full</a><span class="delimiter">(</span><a href="LiftResponse.scala.html#14311" title="object net.liftweb.http.DocType">DocType</a>.<a href="LiftResponse.scala.html#327645" title="=&gt; java.lang.String">xhtmlTransitional</a><span class="delimiter">)</span>
  <span class="delimiter">}</span><span class="delimiter">)</span><span class="delimiter">{</span><span class="delimiter">}</span>

  <span class="comment">/**
   * The maximum allowed size of a complete mime multi-part POST.  Default 8MB
   */</span>
  @volatile <span class="keyword">var</span> <a title="Long" id="158912">maxMimeSize</a>: <span title="Long">Long</span> = <span class="int">8</span> * <span class="int">1024</span> <span title="Long(8388608L)">*</span> <span class="int">1024</span>

  <span class="comment">/**
   * Should pages that are not found be passed along the request processing chain to the
   * next handler outside Lift?
   */</span>
  @volatile <span class="keyword">var</span> <a title="Boolean" id="158915">passNotFoundToChain</a> = <span title="Boolean(false)" class="keyword">false</span>

  <span class="comment">/**
   * The maximum allowed size of a single file in a mime multi-part POST.
   * Default 7MB
   */</span>
  @volatile <span class="keyword">var</span> <a title="Long" id="158918">maxMimeFileSize</a>: <span title="Long">Long</span> = <span class="int">7</span> * <span class="int">1024</span> <span title="Long(7340032L)">*</span> <span class="int">1024</span>

  <span class="comment">/**
   * The function referenced here is called if there's a localization lookup failure
   */</span>
  @volatile <span class="keyword">var</span> <a title="net.liftweb.common.Box[(String, java.util.Locale) =&gt; Unit]" id="158921">localizationLookupFailureNotice</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[(String, java.util.Locale) =&gt; Unit]">Box</a><span class="delimiter">[</span><span class="delimiter">(</span>String, Locale<span class="delimiter">)</span> =&gt; Unit<span class="delimiter">]</span> = <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>

  <span class="comment">/**
   * Set to false if you want to have 404's handled the same way in dev and production mode
   */</span>
  @volatile <span class="keyword">var</span> <a title="Boolean" id="158924">displayHelpfulSiteMapMessages_?</a> = <span title="Boolean(true)" class="keyword">true</span>

  <span class="comment">/**
   * The default location to send people if SiteMap access control fails. The path is
   * expressed a a List[String]
   */</span>
  @volatile <span class="keyword">var</span> <a title="List[String]" id="158927">siteMapFailRedirectLocation</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>

  <span class="keyword">private</span><span class="delimiter">[</span>http<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(requestState: net.liftweb.http.Req, session: net.liftweb.common.Box[net.liftweb.http.LiftSession])net.liftweb.common.Box[net.liftweb.http.LiftResponse]" id="158929">notFoundOrIgnore</a><span class="delimiter">(</span><a title="net.liftweb.http.Req" id="359110">requestState</a>: <a href="Req.scala.html#14573" title="net.liftweb.http.Req">Req</a>, <a title="net.liftweb.common.Box[net.liftweb.http.LiftSession]" id="359111">session</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.http.LiftSession]">Box</a><span class="delimiter">[</span>LiftSession<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.http.LiftResponse]">Box</a><span class="delimiter">[</span>LiftResponse<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span title="net.liftweb.common.Box[net.liftweb.http.LiftResponse]" class="keyword">if</span> <span class="delimiter">(</span><a href="#158915" title="=&gt; Boolean">passNotFoundToChain</a><span class="delimiter">)</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>
    <span class="keyword">else</span> <a href="#359111" title="net.liftweb.common.Box[net.liftweb.http.LiftSession]">session</a> <span title="net.liftweb.common.Box[net.liftweb.http.LiftResponse]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="net.liftweb.common.Full[net.liftweb.http.LiftResponse]">Full</span><span class="delimiter">(</span><a title="net.liftweb.http.LiftSession" id="359114">session</a><span class="delimiter">)</span> =&gt; <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: net.liftweb.http.LiftResponse)net.liftweb.common.Full[net.liftweb.http.LiftResponse]">Full</a><span class="delimiter">(</span><a href="#359114" title="net.liftweb.http.LiftSession">session</a>.<a href="LiftSession.scala.html#230267" title="(resp: net.liftweb.http.LiftResponse)net.liftweb.http.LiftResponse">checkRedirect</a><span class="delimiter">(</span><a href="#359110" title="net.liftweb.http.Req">requestState</a>.<a href="Req.scala.html#149217" title="=&gt; net.liftweb.http.LiftResponse">createNotFound</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="net.liftweb.common.Full[net.liftweb.http.LiftResponse]">_</span> =&gt; <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: net.liftweb.http.LiftResponse)net.liftweb.common.Full[net.liftweb.http.LiftResponse]">Full</a><span class="delimiter">(</span><a href="#359110" title="net.liftweb.http.Req">requestState</a>.<a href="Req.scala.html#149217" title="=&gt; net.liftweb.http.LiftResponse">createNotFound</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Allows user adding additional Lift tags (the tags must be prefixed by lift namespace such as &lt;lift:xxxx/&gt;).
   * Each LiftTagPF function will be called with the folowing parameters:
   * &lt;pre&gt;
   *  - Element label,
   *  - The Element itselft,
   *  - The attrbutes
   *  - The child nodes
   *  - The page name
   * &lt;/pre&gt;
   */</span>
  <span class="keyword">val</span> <a title="LiftRules.this.RulesSeq[net.liftweb.http.LiftRules.LiftTagPF]" id="158930">liftTagProcessing</a> = <a href="#185518" title="[T]=&gt; LiftRules.this.RulesSeq[T]">RulesSeq</a><span title="LiftRules.this.RulesSeq[net.liftweb.http.LiftRules.LiftTagPF]" class="delimiter">[</span><span title="net.liftweb.http.LiftRules.LiftTagPF">LiftTagPF</span><span class="delimiter">]</span>

  <span class="comment">/**
   * If you don't want lift to send the application/xhtml+xml mime type to those browsers
   * that understand it, then set this to  { @code false }
   */</span>
  @volatile <span class="keyword">var</span> <a title="Boolean" id="158933">useXhtmlMimeType</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(true)" class="keyword">true</span>


  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(s: String)scala.xml.NodeSeq" id="158935">_stringToXml</a><span class="delimiter">(</span><a title="String" id="359133">s</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="scala.xml.NodeSeq">NodeSeq</span> = <span title="(_data: String)scala.xml.Text">Text</span><span class="delimiter">(</span><a href="#359133" title="String">s</a><span class="delimiter">)</span>

  <span class="comment">/**
   * A function that defines how a String should be converted to XML
   * for the localization stuff.  By default, Text(s) is returned,
   * but you can change this to attempt to parse the XML in the String and
   * return the NodeSeq.
   */</span>
  @volatile <span class="keyword">var</span> <a title="String =&gt; scala.xml.NodeSeq" id="158937">localizeStringToXml</a>: String =&gt; NodeSeq = <a href="#158935" title="(s: String)scala.xml.NodeSeq">_stringToXml</a> _

  <span class="comment">/**
   * The base name of the resource bundle
   */</span>
  @volatile <span class="keyword">var</span> <a title="List[String]" id="158940">resourceNames</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span title="(xs: java.lang.String*)List[java.lang.String]">List</span><span class="delimiter">(</span><span title="java.lang.String(&quot;lift&quot;)" class="string">&quot;lift&quot;</span><span class="delimiter">)</span>

  <span class="comment">/**
   * This function is called to convert the current set of Notices into
   * a JsCmd that will be executed on the client to display the Notices.
   *
   * @see net.liftweb.builtin.snippet.Msgs
   */</span>
  @volatile <span class="keyword">var</span> <a title="() =&gt; net.liftweb.http.js.JsCmd" id="158943">noticesToJsCmd</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; JsCmd = <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
    <span class="keyword">import</span> builtin.snippet.<span class="delimiter">{</span>Msg,Msgs,MsgErrorMeta,MsgNoticeMeta,MsgWarningMeta<span class="delimiter">}</span>

    <span class="comment">// A &quot;wrapper&quot; that simply returns the javascript</span>
    <span class="keyword">val</span> <a title="net.liftweb.http.js.JsCmd =&gt; net.liftweb.http.js.JsCmd" id="359148">passJs</a> = <span class="delimiter">(</span>in : <a href="js/JsCommands.scala.html#14913" title="net.liftweb.http.js.JsCmd">JsCmd</a><span class="delimiter">)</span> =&gt; <a href="#359155" title="net.liftweb.http.js.JsCmd">in</a>

    <span class="comment">// Delegate to Msgs for fadeout and effects</span>
    <span class="keyword">def</span> <a title="(noticeType: net.liftweb.http.NoticeType.Value)net.liftweb.http.js.JsCmd" id="359149">noticesFadeOut</a><span class="delimiter">(</span><a title="net.liftweb.http.NoticeType.Value" id="359156">noticeType</a>: NoticeType.<a href="S.scala.html#221961" title="net.liftweb.http.NoticeType.Value">Value</a><span class="delimiter">)</span>: <a href="js/JsCommands.scala.html#14913" title="net.liftweb.http.js.JsCmd">JsCmd</a> =
      <a href="../builtin/snippet/Msgs.scala.html#13958" title="object net.liftweb.builtin.snippet.Msgs">Msgs</a>.<a href="../builtin/snippet/Msgs.scala.html#340060" title="(noticeType: net.liftweb.http.NoticeType.Value, default: net.liftweb.http.js.JsCmd, wrap: net.liftweb.http.js.JsCmd =&gt; net.liftweb.http.js.JsCmd)net.liftweb.http.js.JsCmd">noticesFadeOut</a><span class="delimiter">(</span><a href="#359156" title="net.liftweb.http.NoticeType.Value">noticeType</a>, <a href="js/JsCommands.scala.html#146481" title="=&gt; net.liftweb.http.js.JsCmd">Noop</a>, <a href="#359148" title="net.liftweb.http.js.JsCmd =&gt; net.liftweb.http.js.JsCmd">passJs</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(noticeType: net.liftweb.http.NoticeType.Value)net.liftweb.http.js.JsCmd" id="359150">groupEffects</a><span class="delimiter">(</span><a title="net.liftweb.http.NoticeType.Value" id="359170">noticeType</a>: NoticeType.<a href="S.scala.html#221961" title="net.liftweb.http.NoticeType.Value">Value</a><span class="delimiter">)</span>: <a href="js/JsCommands.scala.html#14913" title="net.liftweb.http.js.JsCmd">JsCmd</a> =
      <a href="../builtin/snippet/Msgs.scala.html#13958" title="object net.liftweb.builtin.snippet.Msgs">Msgs</a>.<a href="../builtin/snippet/Msgs.scala.html#340064" title="(noticeType: net.liftweb.common.Box[net.liftweb.http.NoticeType.Value], id: String, default: net.liftweb.http.js.JsCmd, wrap: net.liftweb.http.js.JsCmd =&gt; net.liftweb.http.js.JsCmd)net.liftweb.http.js.JsCmd">effects</a><span class="delimiter">(</span><a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: net.liftweb.http.NoticeType.Value)net.liftweb.common.Full[net.liftweb.http.NoticeType.Value]">Full</a><span class="delimiter">(</span><a href="#359170" title="net.liftweb.http.NoticeType.Value">noticeType</a><span class="delimiter">)</span>, <a href="#359170" title="net.liftweb.http.NoticeType.Value">noticeType</a>.<a href="S.scala.html#224329" title="=&gt; String">id</a>, <a href="js/JsCommands.scala.html#146481" title="=&gt; net.liftweb.http.js.JsCmd">Noop</a>, <a href="#359148" title="net.liftweb.http.js.JsCmd =&gt; net.liftweb.http.js.JsCmd">passJs</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(id: String)net.liftweb.http.js.JsCmd" id="359151">idEffects</a><span class="delimiter">(</span><a title="String" id="359190">id</a> : <span title="String">String</span><span class="delimiter">)</span>: <a href="js/JsCommands.scala.html#14913" title="net.liftweb.http.js.JsCmd">JsCmd</a> =
      <a href="../builtin/snippet/Msgs.scala.html#13958" title="object net.liftweb.builtin.snippet.Msgs">Msgs</a>.<a href="../builtin/snippet/Msgs.scala.html#340064" title="(noticeType: net.liftweb.common.Box[net.liftweb.http.NoticeType.Value], id: String, default: net.liftweb.http.js.JsCmd, wrap: net.liftweb.http.js.JsCmd =&gt; net.liftweb.http.js.JsCmd)net.liftweb.http.js.JsCmd">effects</a><span class="delimiter">(</span><a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>, <a href="#359190" title="String">id</a>, <a href="js/JsCommands.scala.html#146481" title="=&gt; net.liftweb.http.js.JsCmd">Noop</a>, <a href="#359148" title="net.liftweb.http.js.JsCmd =&gt; net.liftweb.http.js.JsCmd">passJs</a><span class="delimiter">)</span>

    <span class="comment">// Compute the global notices first</span>
    <span class="keyword">val</span> <a title="net.liftweb.http.js.JsCmd" id="359152">groupMessages</a> = <a href="../builtin/snippet/Msgs.scala.html#13958" title="object net.liftweb.builtin.snippet.Msgs">Msgs</a>.<a href="../builtin/snippet/Msgs.scala.html#340058" title="()scala.xml.NodeSeq">renderNotices</a><span class="delimiter">(</span><span class="delimiter">)</span> <span title="net.liftweb.http.js.JsCmd" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="net.liftweb.http.js.JsCmd">NodeSeq</span>.<span title="=&gt; scala.xml.NodeSeq">Empty</span> =&gt; <a href="js/JsCommands.scala.html#14916" title="object net.liftweb.http.js.JsCmds">JsCmds</a>.<a href="js/JsCommands.scala.html#146481" title="=&gt; net.liftweb.http.js.JsCmd">Noop</a>
      <span class="keyword">case</span> <a title="net.liftweb.http.js.JsCmd" id="359207">xml</a> =&gt; <a href="#158817" title="implicit net.liftweb.http.LiftRulesMocker.toLiftRules : (in: net.liftweb.http.LiftRulesMocker)net.liftweb.http.LiftRules">LiftRules</a>.<a href="#158872" title="=&gt; net.liftweb.http.js.JSArtifacts">jsArtifacts</a>.<a href="js/JSArtifacts.scala.html#327566" title="(id: String, content: scala.xml.NodeSeq)net.liftweb.http.js.JsCmd">setHtml</a><span class="delimiter">(</span><a href="#158817" title="implicit net.liftweb.http.LiftRulesMocker.toLiftRules : (in: net.liftweb.http.LiftRulesMocker)net.liftweb.http.LiftRules">LiftRules</a>.<a href="#158831" title="=&gt; java.lang.String">noticesContainerId</a>, <a href="#359207" title="scala.xml.NodeSeq">xml</a><span class="delimiter">)</span> <a href="js/JsCommands.scala.html#148952" title="(other: net.liftweb.http.js.JsCmd)net.liftweb.http.js.JsCmd">&amp;</a>
        <a href="#359149" title="(noticeType: net.liftweb.http.NoticeType.Value)net.liftweb.http.js.JsCmd">noticesFadeOut</a><span class="delimiter">(</span><a href="S.scala.html#14644" title="object net.liftweb.http.NoticeType">NoticeType</a>.<a href="S.scala.html#221962" title="object net.liftweb.http.NoticeType.Notice">Notice</a><span class="delimiter">)</span> <a href="js/JsCommands.scala.html#148952" title="(other: net.liftweb.http.js.JsCmd)net.liftweb.http.js.JsCmd">&amp;</a>
        <a href="#359149" title="(noticeType: net.liftweb.http.NoticeType.Value)net.liftweb.http.js.JsCmd">noticesFadeOut</a><span class="delimiter">(</span><a href="S.scala.html#14644" title="object net.liftweb.http.NoticeType">NoticeType</a>.<a href="S.scala.html#221964" title="object net.liftweb.http.NoticeType.Warning">Warning</a><span class="delimiter">)</span> <a href="js/JsCommands.scala.html#148952" title="(other: net.liftweb.http.js.JsCmd)net.liftweb.http.js.JsCmd">&amp;</a>
        <a href="#359149" title="(noticeType: net.liftweb.http.NoticeType.Value)net.liftweb.http.js.JsCmd">noticesFadeOut</a><span class="delimiter">(</span><a href="S.scala.html#14644" title="object net.liftweb.http.NoticeType">NoticeType</a>.<a href="S.scala.html#221966" title="object net.liftweb.http.NoticeType.Error">Error</a><span class="delimiter">)</span> <a href="js/JsCommands.scala.html#148952" title="(other: net.liftweb.http.js.JsCmd)net.liftweb.http.js.JsCmd">&amp;</a>
        <a href="#359150" title="(noticeType: net.liftweb.http.NoticeType.Value)net.liftweb.http.js.JsCmd">groupEffects</a><span class="delimiter">(</span><a href="S.scala.html#14644" title="object net.liftweb.http.NoticeType">NoticeType</a>.<a href="S.scala.html#221962" title="object net.liftweb.http.NoticeType.Notice">Notice</a><span class="delimiter">)</span> <a href="js/JsCommands.scala.html#148952" title="(other: net.liftweb.http.js.JsCmd)net.liftweb.http.js.JsCmd">&amp;</a>
        <a href="#359150" title="(noticeType: net.liftweb.http.NoticeType.Value)net.liftweb.http.js.JsCmd">groupEffects</a><span class="delimiter">(</span><a href="S.scala.html#14644" title="object net.liftweb.http.NoticeType">NoticeType</a>.<a href="S.scala.html#221964" title="object net.liftweb.http.NoticeType.Warning">Warning</a><span class="delimiter">)</span> <a href="js/JsCommands.scala.html#148952" title="(other: net.liftweb.http.js.JsCmd)net.liftweb.http.js.JsCmd">&amp;</a>
        <a href="#359150" title="(noticeType: net.liftweb.http.NoticeType.Value)net.liftweb.http.js.JsCmd">groupEffects</a><span class="delimiter">(</span><a href="S.scala.html#14644" title="object net.liftweb.http.NoticeType">NoticeType</a>.<a href="S.scala.html#221966" title="object net.liftweb.http.NoticeType.Error">Error</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">// We need to determine the full set of IDs that need messages rendered. </span>
    <span class="comment">// TODO: Change to use &quot;distinct&quot; when 2.7.7 support is dropped</span>
    <span class="keyword">val</span> <a title="List[String]" id="359153">idSet</a> = <span class="delimiter">(</span><a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49565" title="(f: =&gt; List[(scala.xml.NodeSeq, net.liftweb.common.Box[String])])List[(String, List[scala.xml.NodeSeq])]">idMessages</a><span class="delimiter">(</span><span class="delimiter">(</span><a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49558" title="=&gt; List[(scala.xml.NodeSeq, net.liftweb.common.Box[String])]">errors</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(that: scala.collection.GenTraversableOnce[(String, List[scala.xml.NodeSeq])])(implicit bf: scala.collection.generic.CanBuildFrom[List[(String, List[scala.xml.NodeSeq])],(String, List[scala.xml.NodeSeq]),List[(String, List[scala.xml.NodeSeq])]])List[(String, List[scala.xml.NodeSeq])]">++</span>
                 <a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49565" title="(f: =&gt; List[(scala.xml.NodeSeq, net.liftweb.common.Box[String])])List[(String, List[scala.xml.NodeSeq])]">idMessages</a><span class="delimiter">(</span><span class="delimiter">(</span><a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49560" title="=&gt; List[(scala.xml.NodeSeq, net.liftweb.common.Box[String])]">warnings</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(that: scala.collection.GenTraversableOnce[(String, List[scala.xml.NodeSeq])])(implicit bf: scala.collection.generic.CanBuildFrom[List[(String, List[scala.xml.NodeSeq])],(String, List[scala.xml.NodeSeq]),List[(String, List[scala.xml.NodeSeq])]])List[(String, List[scala.xml.NodeSeq])]">++</span>
                 <a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49565" title="(f: =&gt; List[(scala.xml.NodeSeq, net.liftweb.common.Box[String])])List[(String, List[scala.xml.NodeSeq])]">idMessages</a><span class="delimiter">(</span><span class="delimiter">(</span><a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49559" title="=&gt; List[(scala.xml.NodeSeq, net.liftweb.common.Box[String])]">notices</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(f: (String, List[scala.xml.NodeSeq]) =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[(String, List[scala.xml.NodeSeq])],String,List[String]])List[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,String,List[String]]" class="delimiter">(</span><a href="#359366" title="(String, List[scala.xml.NodeSeq])">_</a>.<span title="=&gt; String">_1</span><span class="delimiter">)</span>.<span title="=&gt; List[String]">distinct</span>

    <span class="comment">// Merge each Id's messages and effects into the JsCmd chain</span>
    <a href="#359153" title="List[String]">idSet</a>.<span title="(z: net.liftweb.http.js.JsCmd)(f: (net.liftweb.http.js.JsCmd, String) =&gt; net.liftweb.http.js.JsCmd)net.liftweb.http.js.JsCmd">foldLeft</span><span class="delimiter">(</span><a href="#359152" title="net.liftweb.http.js.JsCmd">groupMessages</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="delimiter">(</span><a title="net.liftweb.http.js.JsCmd" id="359412">chain</a>,<a title="String" id="359413">id</a><span class="delimiter">)</span> =&gt; <a href="#359412" title="net.liftweb.http.js.JsCmd">chain</a> <a href="js/JsCommands.scala.html#148952" title="(other: net.liftweb.http.js.JsCmd)net.liftweb.http.js.JsCmd">&amp;</a>
        <a href="#158817" title="implicit net.liftweb.http.LiftRulesMocker.toLiftRules : (in: net.liftweb.http.LiftRulesMocker)net.liftweb.http.LiftRules">LiftRules</a>.<a href="#158872" title="=&gt; net.liftweb.http.js.JSArtifacts">jsArtifacts</a>.<a href="js/JSArtifacts.scala.html#327566" title="(id: String, content: scala.xml.NodeSeq)net.liftweb.http.js.JsCmd">setHtml</a><span class="delimiter">(</span><a href="#359413" title="String">id</a>, <a href="../builtin/snippet/Msg.scala.html#13941" title="object net.liftweb.builtin.snippet.Msg">Msg</a>.<a href="../builtin/snippet/Msg.scala.html#339092" title="(id: String)scala.xml.NodeSeq">renderIdMsgs</a><span class="delimiter">(</span><a href="#359413" title="String">id</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="js/JsCommands.scala.html#148952" title="(other: net.liftweb.http.js.JsCmd)net.liftweb.http.js.JsCmd">&amp;</a>
        <a href="#359151" title="(id: String)net.liftweb.http.js.JsCmd">idEffects</a><span class="delimiter">(</span><a href="#359413" title="String">id</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * The base name of the resource bundle of the lift core code
   */</span>
  @volatile <span class="keyword">var</span> <a title="java.lang.String" id="158946">liftCoreResourceName</a> = <span title="java.lang.String(&quot;i18n.lift-core&quot;)" class="string">&quot;i18n.lift-core&quot;</span>

  <span class="comment">/**
   * Where to send the user if there's no comet session
   */</span>
  @volatile <span class="keyword">var</span> <a title="java.lang.String" id="158949">noCometSessionPage</a> = <span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span>

  <span class="comment">/**
   * Put a function that will calculate the request timeout based on the
   * incoming request.
   */</span>
  @volatile <span class="keyword">var</span> <a title="net.liftweb.common.Box[net.liftweb.http.Req =&gt; Int]" id="158952">calcRequestTimeout</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.http.Req =&gt; Int]">Box</a><span class="delimiter">[</span>Req =&gt; Int<span class="delimiter">]</span> = <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>

  <span class="comment">/**
   * If you want the standard (non-AJAX) request timeout to be something other than
   * 10 seconds, put the value here
   */</span>
  @volatile <span class="keyword">var</span> <a title="net.liftweb.common.Box[Int]" id="158955">stdRequestTimeout</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[Int]">Box</a><span class="delimiter">[</span>Int<span class="delimiter">]</span> = <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>

  <span class="comment">/**
   * If you want the AJAX request timeout to be something other than 120 seconds, put the value here
   */</span>
  @volatile <span class="keyword">var</span> <a title="net.liftweb.common.Box[Int]" id="158958">cometRequestTimeout</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[Int]">Box</a><span class="delimiter">[</span>Int<span class="delimiter">]</span> = <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>

  <span class="comment">/**
   * If a Comet request fails timeout for this period of time. Default value is 10 seconds
   */</span>
  @volatile <span class="keyword">var</span> <a title="Long" id="158961">cometFailureRetryTimeout</a>: <span title="Long">Long</span> = <a href="../../../../util/net/liftweb/util/TimeHelpers.scala.html#48777" title="implicit net.liftweb.util.TimeHelpers.intToTimeSpanBuilder : (in: Int)net.liftweb.util.Helpers.TimeSpanBuilder" class="int">10</a> <a href="../../../../util/net/liftweb/util/TimeHelpers.scala.html#188674" title="implicit net.liftweb.util.ConvertableToDate.toMillis : (in: net.liftweb.util.ConvertableToDate)Long">seconds</a>

  <span class="comment">/**
   * The dispatcher that takes a Snippet and converts it to a
   * DispatchSnippet instance
   */</span>
  <span class="keyword">val</span> <a title="LiftRules.this.RulesSeq[net.liftweb.http.LiftRules.SnippetDispatchPF]" id="158963">snippetDispatch</a> = <a href="#185518" title="[T]=&gt; LiftRules.this.RulesSeq[T]">RulesSeq</a><span title="LiftRules.this.RulesSeq[net.liftweb.http.LiftRules.SnippetDispatchPF]" class="delimiter">[</span><span title="net.liftweb.http.LiftRules.SnippetDispatchPF">SnippetDispatchPF</span><span class="delimiter">]</span>


  <span class="comment">/**
   * Function that generates variants on snippet names to search for, given the name from the template.
   * The default implementation just returns name :: Nil (e.g. no change).
   * The names are searched in order.
   * See also searchSnippetsWithRequestPath for an implementation.
   */</span>
  @volatile <span class="keyword">var</span> <a title="LiftRules.this.FactoryMaker[String =&gt; List[String]]" id="158966">snippetNamesToSearch</a>: <a href="Factory.scala.html#147868" title="LiftRules.this.FactoryMaker[String =&gt; List[String]]">FactoryMaker</a><span class="delimiter">[</span>String =&gt; List<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">]</span> =
      <a href="#359419" title="LiftRules.this.FactoryMaker[String =&gt; List[String]]" class="keyword">new</a> <a title="anonymous class $anon extends LiftRules.this.FactoryMaker[String =&gt; List[String]]" id="359419">FactoryMaker</a><span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span class="delimiter">(</span>name: <span title="String">String</span><span class="delimiter">)</span> =&gt; <a href="#359588" title="String">name</a> <a href="#359589" title="(x: String)List[String]">::</a> <span title="object Nil">Nil</span><span class="delimiter">)</span> <span class="delimiter">{</span><span class="delimiter">}</span>

  <span class="comment">/**
   * Implementation for snippetNamesToSearch that looks first in a package named by taking the current template path.
   * For example, suppose the following is configured in Boot:
   *   LiftRules.snippetNamesToSearch.default.set(() =&gt; LiftRules.searchSnippetsWithRequestPath)
   *   LiftRules.addToPackages(&quot;com.mycompany.myapp&quot;)
   *   LiftRules.addToPackages(&quot;com.mycompany.mylib&quot;)
   * The tag &lt;lift:MySnippet&gt; in template foo/bar/baz.html would search for the snippet in the following locations:
   *   - com.mycompany.myapp.snippet.foo.bar.MySnippet
   *   - com.mycompany.myapp.snippet.MySnippet
   *   - com.mycompany.mylib.snippet.foo.bar.MySnippet
   *   - com.mycompany.mylib.snippet.MySnippet
   *   - and then the Lift builtin snippet packages
   */</span>
  <span class="keyword">def</span> <a title="(name: String)List[String]" id="158968">searchSnippetsWithRequestPath</a><span class="delimiter">(</span><a title="String" id="359655">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> =
    <a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49309" title="=&gt; net.liftweb.common.Box[net.liftweb.http.Req]">request</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: net.liftweb.http.Req =&gt; List[String])net.liftweb.common.Box[List[String]]">map</a><span class="delimiter">(</span><a href="#359661" title="net.liftweb.http.Req">_</a>.<a href="Req.scala.html#149137" title="=&gt; net.liftweb.http.ParsePath">path</a>.<a href="Req.scala.html#216847" title="=&gt; List[String]">partPath</a>.<span title="(n: Int)List[String]">dropRight</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="List[String]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="List[String]">Full</span><span class="delimiter">(</span><a title="List[String]" id="359666">xs</a><span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#359666" title="List[String]">xs</a>.<span title="=&gt; Boolean">isEmpty</span> =&gt; <span class="delimiter">(</span><a href="#359666" title="List[String]">xs</a>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#359655" title="String">name</a><span class="delimiter">)</span> <a href="#359667" title="(x: String)List[String]">::</a> <a href="#359655" title="String">name</a> <a href="#359670" title="(x: String)List[String]">::</a> <span title="object Nil">Nil</span>
      <span class="keyword">case</span> <span title="List[String]">_</span> =&gt; <a href="#359655" title="String">name</a> <a href="#359679" title="(x: String)List[String]">::</a> <span title="object Nil">Nil</span>
    <span class="delimiter">}</span>

  <span class="comment">/**
   * Change this variable to set view dispatching
   */</span>
  <span class="keyword">val</span> <a title="LiftRules.this.RulesSeq[net.liftweb.http.LiftRules.ViewDispatchPF]" id="158969">viewDispatch</a> = <a href="#185518" title="[T]=&gt; LiftRules.this.RulesSeq[T]">RulesSeq</a><span title="LiftRules.this.RulesSeq[net.liftweb.http.LiftRules.ViewDispatchPF]" class="delimiter">[</span><span title="net.liftweb.http.LiftRules.ViewDispatchPF">ViewDispatchPF</span><span class="delimiter">]</span>

  <span class="keyword">private</span><span class="delimiter">[</span>http<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(name: String)net.liftweb.common.Box[net.liftweb.http.DispatchSnippet]" id="158971">snippet</a><span class="delimiter">(</span><a title="String" id="359685">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.http.DispatchSnippet]">Box</a><span class="delimiter">[</span>DispatchSnippet<span class="delimiter">]</span> = <a href="../../../../util/net/liftweb/util/NamedPartialFunction.scala.html#13548" title="object net.liftweb.util.NamedPF">NamedPF</a>.<a href="../../../../util/net/liftweb/util/NamedPartialFunction.scala.html#185585" title="(value: String, lst: Seq[PartialFunction[String,net.liftweb.http.DispatchSnippet]])net.liftweb.common.Box[net.liftweb.http.DispatchSnippet]">applyBox</a><span class="delimiter">(</span><a href="#359685" title="String">name</a>, <a href="#158963" title="=&gt; LiftRules.this.RulesSeq[net.liftweb.http.LiftRules.SnippetDispatchPF]">snippetDispatch</a>.<a href="#185552" title="=&gt; List[net.liftweb.http.LiftRules.SnippetDispatchPF]">toList</a><span class="delimiter">)</span>

  <span class="comment">/**
   * If the request times out (or returns a non-Response) you can
   * intercept the response here and create your own response
   */</span>
 @volatile  <span class="keyword">var</span> <a title="net.liftweb.common.Box[(net.liftweb.http.Req, Any) =&gt; net.liftweb.common.Box[net.liftweb.http.LiftResponse]]" id="158973">requestTimedOut</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[(net.liftweb.http.Req, Any) =&gt; net.liftweb.common.Box[net.liftweb.http.LiftResponse]]">Box</a><span class="delimiter">[</span><span class="delimiter">(</span>Req, Any<span class="delimiter">)</span> =&gt; Box<span class="delimiter">[</span>LiftResponse<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>

  <span class="comment">/**
   * A function that takes the current HTTP request and returns the current
   */</span>
  @volatile <span class="keyword">var</span> <a title="net.liftweb.common.Box[net.liftweb.http.provider.HTTPRequest] =&gt; java.util.TimeZone" id="158976">timeZoneCalculator</a>: Box<span class="delimiter">[</span>HTTPRequest<span class="delimiter">]</span> =&gt; TimeZone = <a href="#158978" title="(request: net.liftweb.common.Box[net.liftweb.http.provider.HTTPRequest])java.util.TimeZone">defaultTimeZoneCalculator</a> _

  <span class="keyword">def</span> <a title="(request: net.liftweb.common.Box[net.liftweb.http.provider.HTTPRequest])java.util.TimeZone" id="158978">defaultTimeZoneCalculator</a><span class="delimiter">(</span><a title="net.liftweb.common.Box[net.liftweb.http.provider.HTTPRequest]" id="359713">request</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.http.provider.HTTPRequest]">Box</a><span class="delimiter">[</span>HTTPRequest<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="java.util.TimeZone">TimeZone</span> = <span title="object java.util.TimeZone">TimeZone</span>.<span title="()java.util.TimeZone">getDefault</span>

  <span class="comment">/**
   * How many times do we retry an Ajax command before calling it a failure?
   */</span>
  @volatile <span class="keyword">var</span> <a title="net.liftweb.common.Box[Int]" id="158980">ajaxRetryCount</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[Int]">Box</a><span class="delimiter">[</span>Int<span class="delimiter">]</span> = <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>

  <span class="comment">/**
   * The JavaScript to execute at the begining of an
   * Ajax request (for example, showing the spinning working thingy)
   */</span>
  @volatile <span class="keyword">var</span> <a title="net.liftweb.common.Box[() =&gt; net.liftweb.http.js.JsCmd]" id="158983">ajaxStart</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[() =&gt; net.liftweb.http.js.JsCmd]">Box</a><span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; JsCmd<span class="delimiter">]</span> = <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>

  <span class="keyword">import</span> <a href="../../../../common/net/liftweb/common/FuncJBridge.scala.html#10679" title="object net.liftweb.common.FuncJBridge">FuncJBridge</a>._

  <span class="comment">/**
   * Set the Ajax end JavaScript function.  The
   * Java calable alternative to assigning the var ajaxStart
   */</span>
  <span class="keyword">def</span> <a title="(f: net.liftweb.common.Func0[net.liftweb.http.js.JsCmd])Unit" id="158986">setAjaxStart</a><span class="delimiter">(</span><a title="net.liftweb.common.Func0[net.liftweb.http.js.JsCmd]" id="359717">f</a>: <a href="../../../../common/net/liftweb/common/Func0.java.html#10644" title="net.liftweb.common.Func0[net.liftweb.http.js.JsCmd]">Func0</a><span class="delimiter">[</span>JsCmd<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <a href="#158983" title="(x$1: net.liftweb.common.Box[() =&gt; net.liftweb.http.js.JsCmd])Unit">ajaxStart</a> = <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: () =&gt; net.liftweb.http.js.JsCmd)net.liftweb.common.Full[() =&gt; net.liftweb.http.js.JsCmd]">Full</a><span class="delimiter">(</span><a href="../../../../common/net/liftweb/common/FuncJBridge.scala.html#40766" title="(f: net.liftweb.common.Func0[net.liftweb.http.js.JsCmd])() =&gt; net.liftweb.http.js.JsCmd">f</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; JsCmd<span class="delimiter">)</span>
  <span class="delimiter">}</span>


  <span class="comment">/**
   * The function that calculates if the response should be rendered in
   * IE6/7 compatibility mode
   */</span>
  @volatile <span class="keyword">var</span> <a title="() =&gt; Boolean" id="158988">calcIEMode</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Boolean =
  <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span class="delimiter">(</span><span class="keyword">for</span> <span class="delimiter">(</span><a title="net.liftweb.http.Req" id="359762">r</a> &lt;- <a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: net.liftweb.http.Req =&gt; Boolean)net.liftweb.common.Box[Boolean]">request</a><span class="delimiter">)</span> <span class="keyword">yield</span> <a href="#359762" title="net.liftweb.http.Req">r</a>.<a href="Req.scala.html#149249" title="=&gt; Boolean">isIE6</a> <span title="(x: Boolean)Boolean">||</span> <a href="#359762" title="net.liftweb.http.Req">r</a>.<a href="Req.scala.html#149251" title="=&gt; Boolean">isIE7</a> <span title="(x: Boolean)Boolean">||</span>
          <a href="#359762" title="net.liftweb.http.Req">r</a>.<a href="Req.scala.html#149253" title="=&gt; Boolean">isIE8</a><span class="delimiter">)</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; Boolean)Boolean">openOr</a> <span title="Boolean(true)" class="keyword">true</span>

  <span class="comment">/**
   * The JavaScript to execute at the end of an
   * Ajax request (for example, removing the spinning working thingy)
   */</span>
  @volatile <span class="keyword">var</span> <a title="net.liftweb.common.Box[() =&gt; net.liftweb.http.js.JsCmd]" id="158991">ajaxEnd</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[() =&gt; net.liftweb.http.js.JsCmd]">Box</a><span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; JsCmd<span class="delimiter">]</span> = <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>

  <span class="comment">/**
   * Set the Ajax end JavaScript function.  The
   * Java calable alternative to assigning the var ajaxEnd
   */</span>
  <span class="keyword">def</span> <a title="(f: net.liftweb.common.Func0[net.liftweb.http.js.JsCmd])Unit" id="158993">setAjaxEnd</a><span class="delimiter">(</span><a title="net.liftweb.common.Func0[net.liftweb.http.js.JsCmd]" id="359769">f</a>: <a href="../../../../common/net/liftweb/common/Func0.java.html#10644" title="net.liftweb.common.Func0[net.liftweb.http.js.JsCmd]">Func0</a><span class="delimiter">[</span>JsCmd<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <a href="#158991" title="(x$1: net.liftweb.common.Box[() =&gt; net.liftweb.http.js.JsCmd])Unit">ajaxEnd</a> = <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: () =&gt; net.liftweb.http.js.JsCmd)net.liftweb.common.Full[() =&gt; net.liftweb.http.js.JsCmd]">Full</a><span class="delimiter">(</span><a href="../../../../common/net/liftweb/common/FuncJBridge.scala.html#40766" title="(f: net.liftweb.common.Func0[net.liftweb.http.js.JsCmd])() =&gt; net.liftweb.http.js.JsCmd">f</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; JsCmd<span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * An XML header is inserted at the very beginning of returned XHTML pages.
   * This function defines the cases in which such a header is inserted.  The
   * function takes a NodeResponse (the LiftResponse that is converting the
   * XML to a stream of bytes), the Node (root node of the XML), and
   * a Box containing the content type.
   */</span>
  @volatile <span class="keyword">var</span> <a title="(net.liftweb.http.NodeResponse, scala.xml.Node, net.liftweb.common.Box[String]) =&gt; String" id="158995">calculateXmlHeader</a>: <span class="delimiter">(</span>NodeResponse, Node, Box<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; String = <a href="#359810" title="String" class="delimiter">{</a>
    <span class="keyword">case</span> <span title="java.lang.String(&quot;&quot;)">_</span> <span class="keyword">if</span> <a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49364" title="=&gt; Boolean">skipXmlHeader</a> =&gt; <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
    <span class="keyword">case</span> <span title="java.lang.String(&quot;&quot;)" class="delimiter">(</span>_, <a title="scala.xml.Unparsed" id="359827">up</a>: <span title="scala.xml.Unparsed">Unparsed</span>, _<span class="delimiter">)</span> =&gt; <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>

    <span class="keyword">case</span> <span title="java.lang.String(&quot;&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot;?&gt;\012&quot;)" class="delimiter">(</span>_, _, <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a><span class="delimiter">)</span> | <span class="delimiter">(</span>_, _, Failure<span class="delimiter">(</span>_, _, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
      <span title="java.lang.String(&quot;&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot;?&gt;\012&quot;)" class="string">&quot;&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot;?&gt;\n&quot;</span>

    <span class="keyword">case</span> <span title="java.lang.String(&quot;&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot;?&gt;\012&quot;)" class="delimiter">(</span>_, _, Full<span class="delimiter">(</span><a title="String" id="359838">s</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#359838" title="String">s</a>.<span title="()java.lang.String">toLowerCase</span>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;text/html&quot;)" class="string">&quot;text/html&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
      <span title="java.lang.String(&quot;&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot;?&gt;\012&quot;)" class="string">&quot;&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot;?&gt;\n&quot;</span>

    <span class="keyword">case</span> <span title="java.lang.String(&quot;&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot;?&gt;\012&quot;)" class="delimiter">(</span>_, _, Full<span class="delimiter">(</span><a title="String" id="359847">s</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#359847" title="String">s</a>.<span title="()java.lang.String">toLowerCase</span>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;text/xml&quot;)" class="string">&quot;text/xml&quot;</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
        <a href="#359847" title="String">s</a>.<span title="()java.lang.String">toLowerCase</span>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;text/xhtml&quot;)" class="string">&quot;text/xhtml&quot;</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
        <a href="#359847" title="String">s</a>.<span title="()java.lang.String">toLowerCase</span>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;application/xml&quot;)" class="string">&quot;application/xml&quot;</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
        <a href="#359847" title="String">s</a>.<span title="()java.lang.String">toLowerCase</span>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;application/xhtml+xml&quot;)" class="string">&quot;application/xhtml+xml&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
      <span title="java.lang.String(&quot;&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot;?&gt;\012&quot;)" class="string">&quot;&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot;?&gt;\n&quot;</span>

    <span class="keyword">case</span> <span title="java.lang.String(&quot;&quot;)">_</span> =&gt; <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * The default action to take when the JavaScript action fails
   */</span>
  @volatile <span class="keyword">var</span> <a title="net.liftweb.common.Box[() =&gt; net.liftweb.http.js.JsCmd]" id="158998">ajaxDefaultFailure</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[() =&gt; net.liftweb.http.js.JsCmd]">Box</a><span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; JsCmd<span class="delimiter">]</span> =
  <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: () =&gt; net.liftweb.http.js.JsCmds.Alert)net.liftweb.common.Full[() =&gt; net.liftweb.http.js.JsCmds.Alert]">Full</a><span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="js/JsCommands.scala.html#14916" title="object net.liftweb.http.js.JsCmds">JsCmds</a>.<a href="js/JsCommands.scala.html#359869" title="(text: String)net.liftweb.http.js.JsCmds.Alert">Alert</a><span class="delimiter">(</span><a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49354" title="(str: String)String">??</a><span class="delimiter">(</span><span title="java.lang.String(&quot;ajax.error&quot;)" class="string">&quot;ajax.error&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * A function that takes the current HTTP request and returns the current
   */</span>
  @volatile <span class="keyword">var</span> <a title="net.liftweb.common.Box[net.liftweb.http.provider.HTTPRequest] =&gt; java.util.Locale" id="159001">localeCalculator</a>: Box<span class="delimiter">[</span>HTTPRequest<span class="delimiter">]</span> =&gt; Locale = <a href="#159003" title="(request: net.liftweb.common.Box[net.liftweb.http.provider.HTTPRequest])java.util.Locale">defaultLocaleCalculator</a> _

  <span class="keyword">def</span> <a title="(request: net.liftweb.common.Box[net.liftweb.http.provider.HTTPRequest])java.util.Locale" id="159003">defaultLocaleCalculator</a><span class="delimiter">(</span><a title="net.liftweb.common.Box[net.liftweb.http.provider.HTTPRequest]" id="359886">request</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.http.provider.HTTPRequest]">Box</a><span class="delimiter">[</span>HTTPRequest<span class="delimiter">]</span><span class="delimiter">)</span> =
    <a href="#359886" title="net.liftweb.common.Box[net.liftweb.http.provider.HTTPRequest]">request</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27023" title="(f: net.liftweb.http.provider.HTTPRequest =&gt; net.liftweb.common.Box[java.util.Locale])net.liftweb.common.Box[java.util.Locale]">flatMap</a><span class="delimiter">(</span><a href="#359893" title="net.liftweb.http.provider.HTTPRequest">_</a>.<a href="provider/HTTPRequest.scala.html#216893" title="=&gt; net.liftweb.common.Box[java.util.Locale]">locale</a><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; java.util.Locale)java.util.Locale">openOr</a><span class="delimiter">(</span><span title="object java.util.Locale">Locale</span>.<span title="()java.util.Locale">getDefault</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">val</span> <a title="LiftRules.this.RulesSeq[net.liftweb.http.LiftRules.ResourceBundleFactoryPF]" id="159004">resourceBundleFactories</a> = <a href="#185518" title="[T]=&gt; LiftRules.this.RulesSeq[T]">RulesSeq</a><span title="LiftRules.this.RulesSeq[net.liftweb.http.LiftRules.ResourceBundleFactoryPF]" class="delimiter">[</span><span title="net.liftweb.http.LiftRules.ResourceBundleFactoryPF">ResourceBundleFactoryPF</span><span class="delimiter">]</span>

  <span class="comment">/**
   * Given the current location (based on the Req.path.partPath),
   * what are the resource bundles in the templates for the current
   * page.
   *
   * @see DefaultRoutines.resourceForCurrentLoc()
   */</span>
  <span class="keyword">val</span> <a title="LiftRules.this.FactoryMaker[() =&gt; List[java.util.ResourceBundle]]" id="159006">resourceForCurrentLoc</a>: <a href="Factory.scala.html#147868" title="LiftRules.this.FactoryMaker[() =&gt; List[java.util.ResourceBundle]]">FactoryMaker</a><span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; List<span class="delimiter">[</span>ResourceBundle<span class="delimiter">]</span><span class="delimiter">]</span> =
    <a href="#359904" title="LiftRules.this.FactoryMaker[() =&gt; List[java.util.ResourceBundle]]" class="keyword">new</a> <a title="anonymous class $anon extends LiftRules.this.FactoryMaker[() =&gt; List[java.util.ResourceBundle]]" id="359904">FactoryMaker</a><span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="DefaultRoutines.scala.html#14161" title="object net.liftweb.http.DefaultRoutines">DefaultRoutines</a>.<a href="DefaultRoutines.scala.html#348346" title="()List[java.util.ResourceBundle]">resourceForCurrentReq</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span><span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">var</span> <a title="net.liftweb.common.Box[net.liftweb.sitemap.SiteMap]" id="159009">_sitemap</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.sitemap.SiteMap]">Box</a><span class="delimiter">[</span>SiteMap<span class="delimiter">]</span> = <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>

  <span class="keyword">private</span> <span class="keyword">var</span> <a title="net.liftweb.common.Box[() =&gt; net.liftweb.sitemap.SiteMap]" id="159012">sitemapFunc</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[() =&gt; net.liftweb.sitemap.SiteMap]">Box</a><span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; SiteMap<span class="delimiter">]</span> = <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>

  <span class="keyword">private</span> <span class="keyword">object</span> <a title="object LiftRules.this.sitemapRequestVar" id="159014">sitemapRequestVar</a> <span title="ScalaObject" class="keyword">extends</span> <a href="Vars.scala.html#14776" title="net.liftweb.http.TransientRequestVar[net.liftweb.common.Box[net.liftweb.sitemap.SiteMap]]">TransientRequestVar</a><span class="delimiter">(</span><a href="#159026" title="()net.liftweb.common.Box[net.liftweb.sitemap.SiteMap]">resolveSitemap</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
  * Set the sitemap to a function that will be run to generate the sitemap.
  *
  * This allows for changing the SiteMap when in development mode and having
  * the function re-run for each request.&lt;br/&gt;
  *
  * This is **NOT** a mechanism for dynamic SiteMap.  This is a mechanism
  * **ONLY** for allowing you to change the SiteMap during development.
  * There will be significant performance penalties (serializing the
  * service of requests... only one at a time) for changing the SiteMap.
  */</span>
  <span class="keyword">def</span> <a title="(smf: () =&gt; net.liftweb.sitemap.SiteMap)Unit" id="159016">setSiteMapFunc</a><span class="delimiter">(</span><a title="() =&gt; net.liftweb.sitemap.SiteMap" id="360100">smf</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; SiteMap<span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#159012" title="(x$1: net.liftweb.common.Box[() =&gt; net.liftweb.sitemap.SiteMap])Unit">sitemapFunc</a> = <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: () =&gt; net.liftweb.sitemap.SiteMap)net.liftweb.common.Full[() =&gt; net.liftweb.sitemap.SiteMap]">Full</a><span class="delimiter">(</span><a href="#360100" title="() =&gt; net.liftweb.sitemap.SiteMap">smf</a><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../../../../util/net/liftweb/util/Props.scala.html#13579" title="object net.liftweb.util.Props">Props</a>.<a href="../../../../util/net/liftweb/util/Props.scala.html#151319" title="=&gt; Boolean">devMode</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#159026" title="()net.liftweb.common.Box[net.liftweb.sitemap.SiteMap]">resolveSitemap</a><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Define the sitemap.
   */</span>
  <span class="keyword">def</span> <a title="(sm: net.liftweb.sitemap.SiteMap)Unit" id="159017">setSiteMap</a><span class="delimiter">(</span><a title="net.liftweb.sitemap.SiteMap" id="360105">sm</a>: <a href="../sitemap/SiteMap.scala.html#15342" title="net.liftweb.sitemap.SiteMap">SiteMap</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#14378" title="LiftRules.this.type" class="keyword">this</a>.<a href="#159016" title="(smf: () =&gt; net.liftweb.sitemap.SiteMap)Unit">setSiteMapFunc</a><span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#360105" title="net.liftweb.sitemap.SiteMap">sm</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="[T](f: =&gt; T)T" id="159018">runAsSafe</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="159020">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; T" id="360108">f</a>: =&gt; T<span class="delimiter">)</span>: <a href="#159020" title="T">T</a> = <a href="#14378" title="(x$1: T)T">synchronized</a> <span class="delimiter">{</span>
     <span class="keyword">val</span> <a title="Boolean" id="360113">old</a> = <a href="#158828" title="=&gt; Boolean">_doneBoot</a>
     <span class="keyword">try</span> <span class="delimiter">{</span>
        <a href="#158828" title="(x$1: Boolean)Unit">_doneBoot</a> = <span title="Boolean(false)" class="keyword">false</span>
        <a href="#360108" title="=&gt; T">f</a>
     <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
        <a href="#158828" title="(x$1: Boolean)Unit">_doneBoot</a> = <a href="#360113" title="Boolean">old</a>
     <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> case <span class="keyword">class</span> <a title="class PerRequestPF[A, B] extends java.lang.Object with PartialFunction[A,B] with ScalaObject with Product with Serializable" id="360156">PerRequestPF</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="360159">A</a>, <a title="&gt;: Nothing &lt;: Any" id="360160">B</a><span class="delimiter">]</span><a href="#360156" title="ScalaObject" class="delimiter">(</a><a title="PartialFunction[A,B]" id="360327">f</a>: <span title="PartialFunction[A,B]">PartialFunction</span><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <span title="PartialFunction[A,B]">PartialFunction</span><span class="delimiter">[</span>A, B<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(a: A)Boolean" id="360119">isDefinedAt</a><span class="delimiter">(</span><a title="A" id="360129">a</a>: <a href="#360159" title="A">A</a><span class="delimiter">)</span> = <a href="#360327" title="=&gt; PartialFunction[A,B]">f</a>.<span title="(x: A)Boolean">isDefinedAt</span><span class="delimiter">(</span><a href="#360129" title="A">a</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(a: A)B" id="360120">apply</a><span class="delimiter">(</span><a title="A" id="360134">a</a>: <a href="#360159" title="A">A</a><span class="delimiter">)</span> = <a href="#360327" title="(v1: A)B">f</a><span class="delimiter">(</span><a href="#360134" title="A">a</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="()net.liftweb.common.Box[net.liftweb.sitemap.SiteMap]" id="159026">resolveSitemap</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.sitemap.SiteMap]">Box</a><span class="delimiter">[</span>SiteMap<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#14378" title="LiftRules.this.type" class="keyword">this</a>.<span title="(x$1: net.liftweb.common.Box[net.liftweb.sitemap.SiteMap])net.liftweb.common.Box[net.liftweb.sitemap.SiteMap]">synchronized</span> <span class="delimiter">{</span>
      <a href="#159018" title="(f: =&gt; net.liftweb.common.Box[net.liftweb.sitemap.SiteMap])net.liftweb.common.Box[net.liftweb.sitemap.SiteMap]">runAsSafe</a> <span class="delimiter">{</span>
        <a href="#159012" title="=&gt; net.liftweb.common.Box[() =&gt; net.liftweb.sitemap.SiteMap]">sitemapFunc</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27023" title="(f: () =&gt; net.liftweb.sitemap.SiteMap =&gt; net.liftweb.common.Box[net.liftweb.sitemap.SiteMap])net.liftweb.common.Box[net.liftweb.sitemap.SiteMap]">flatMap</a> <span class="delimiter">{</span>
          <a title="() =&gt; net.liftweb.sitemap.SiteMap" id="360206">smf</a> =&gt;

          <a href="#158817" title="implicit net.liftweb.http.LiftRulesMocker.toLiftRules : (in: net.liftweb.http.LiftRulesMocker)net.liftweb.http.LiftRules">LiftRules</a>.<a href="#159101" title="=&gt; net.liftweb.http.LiftRules#RulesSeq[PartialFunction[net.liftweb.http.RewriteRequest,net.liftweb.http.RewriteResponse]]">statefulRewrite</a>.<a href="#185554" title="(f: PartialFunction[net.liftweb.http.RewriteRequest,net.liftweb.http.RewriteResponse] =&gt; Boolean)Unit">remove</a> <a href="#360218" title="Boolean" class="delimiter">{</a>
            <span class="keyword">case</span> <span title="Boolean(true)">PerRequestPF</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>
            <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
          <span class="delimiter">}</span>

          <span class="keyword">val</span> <a title="net.liftweb.sitemap.SiteMap" id="360207">sm</a> = <a href="#360206" title="()net.liftweb.sitemap.SiteMap">smf</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#159009" title="(x$1: net.liftweb.common.Box[net.liftweb.sitemap.SiteMap])Unit">_sitemap</a> = <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: net.liftweb.sitemap.SiteMap)net.liftweb.common.Full[net.liftweb.sitemap.SiteMap]">Full</a><span class="delimiter">(</span><a href="#360207" title="net.liftweb.sitemap.SiteMap">sm</a><span class="delimiter">)</span>
          <span class="keyword">for</span> <span class="delimiter">(</span><a title="net.liftweb.sitemap.Menu" id="360313">menu</a> &lt;- <a href="#360207" title="net.liftweb.sitemap.SiteMap">sm</a>.<a href="../sitemap/SiteMap.scala.html#227722" title="(f: net.liftweb.sitemap.Menu =&gt; (net.liftweb.sitemap.Menu, net.liftweb.sitemap.Loc[_$3]) forSome { type _$3 })(implicit bf: scala.collection.generic.CanBuildFrom[List[net.liftweb.sitemap.Menu],(net.liftweb.sitemap.Menu, net.liftweb.sitemap.Loc[_$3]) forSome { type _$3 },List[(net.liftweb.sitemap.Menu, net.liftweb.sitemap.Loc[_$3]) forSome { type _$3 }]])List[(net.liftweb.sitemap.Menu, net.liftweb.sitemap.Loc[_$3]) forSome { type _$3 }]">menus</a>;
               <span class="keyword">val</span> <a title="net.liftweb.sitemap.Loc[_]" id="360314">loc</a> = <a href="#360313" title="net.liftweb.sitemap.Menu">menu</a>.<a href="../sitemap/Menu.scala.html#148421" title="=&gt; net.liftweb.sitemap.Loc[_]">loc</a>;
               <a title="net.liftweb.http.LiftRules.RewritePF" id="360321">rewrite</a> &lt;- <a href="#360314" title="net.liftweb.sitemap.Loc[_$3]">loc</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27031" title="(f: net.liftweb.http.LiftRules.RewritePF =&gt; net.liftweb.http.LiftRules#RulesSeq[PartialFunction[net.liftweb.http.RewriteRequest,net.liftweb.http.RewriteResponse]])Unit">rewritePF</a><span class="delimiter">)</span> <a href="#158817" title="implicit net.liftweb.http.LiftRulesMocker.toLiftRules : (in: net.liftweb.http.LiftRulesMocker)net.liftweb.http.LiftRules">LiftRules</a>.<a href="#159101" title="=&gt; net.liftweb.http.LiftRules#RulesSeq[PartialFunction[net.liftweb.http.RewriteRequest,net.liftweb.http.RewriteResponse]]">statefulRewrite</a>.<a href="#185555" title="(r: PartialFunction[net.liftweb.http.RewriteRequest,net.liftweb.http.RewriteResponse])net.liftweb.http.LiftRules#RulesSeq[PartialFunction[net.liftweb.http.RewriteRequest,net.liftweb.http.RewriteResponse]]">append</a><span class="delimiter">(</span><a href="#360156" title="(f: PartialFunction[net.liftweb.http.RewriteRequest,net.liftweb.http.RewriteResponse])LiftRules.this.PerRequestPF[net.liftweb.http.RewriteRequest,net.liftweb.http.RewriteResponse]">PerRequestPF</a><span class="delimiter">(</span><a href="#360321" title="net.liftweb.http.LiftRules.RewritePF">rewrite</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <a href="#159009" title="=&gt; net.liftweb.common.Box[net.liftweb.sitemap.SiteMap]">_sitemap</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Return the sitemap if set in Boot.  If the current runMode is development
   * mode, the sitemap may be recomputed on each page load.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; net.liftweb.common.Box[net.liftweb.sitemap.SiteMap]" id="159027">siteMap</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.sitemap.SiteMap]">Box</a><span class="delimiter">[</span>SiteMap<span class="delimiter">]</span> = <span title="net.liftweb.common.Box[net.liftweb.sitemap.SiteMap]" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../../util/net/liftweb/util/Props.scala.html#13579" title="object net.liftweb.util.Props">Props</a>.<a href="../../../../util/net/liftweb/util/Props.scala.html#151319" title="=&gt; Boolean">devMode</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#14378" title="LiftRules.this.type" class="keyword">this</a>.<span title="(x$1: net.liftweb.common.Box[net.liftweb.sitemap.SiteMap])net.liftweb.common.Box[net.liftweb.sitemap.SiteMap]">synchronized</span> <span class="delimiter">{</span>
      <a href="#159014" title="object LiftRules.this.sitemapRequestVar">sitemapRequestVar</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75375" title="=&gt; net.liftweb.common.Box[net.liftweb.sitemap.SiteMap]">is</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#159009" title="=&gt; net.liftweb.common.Box[net.liftweb.sitemap.SiteMap]">_sitemap</a>

  <span class="comment">/**
   * A unified set of properties for managing how to treat
   * HTML, XHTML, HTML5.  The default behavior is to return an
   * OldHtmlPropteries instance, but you can change this
   * to return an Html5Properties instance any you'll get
   * HTML5 support.
   * LiftRules.htmlProperties.default.set((r: Req) =&gt; new Html5Properties(r.userAgent))
   */</span>
  <span class="keyword">val</span> <a title="LiftRules.this.FactoryMaker[net.liftweb.http.Req =&gt; net.liftweb.http.HtmlProperties]" id="159028">htmlProperties</a>: <a href="Factory.scala.html#147868" title="LiftRules.this.FactoryMaker[net.liftweb.http.Req =&gt; net.liftweb.http.HtmlProperties]">FactoryMaker</a><span class="delimiter">[</span>Req =&gt; HtmlProperties<span class="delimiter">]</span> =
    <a href="#360342" title="LiftRules.this.FactoryMaker[net.liftweb.http.Req =&gt; net.liftweb.http.HtmlProperties]" class="keyword">new</a> <a title="anonymous class $anon extends LiftRules.this.FactoryMaker[net.liftweb.http.Req =&gt; net.liftweb.http.HtmlProperties]" id="360342">FactoryMaker</a><span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span class="delimiter">(</span>r: <a href="Req.scala.html#14573" title="net.liftweb.http.Req">Req</a><span class="delimiter">)</span> =&gt; <span class="delimiter">(</span><span title="net.liftweb.http.OldHtmlProperties" class="keyword">new</span> <a href="HtmlProperties.scala.html#14179" title="net.liftweb.http.OldHtmlProperties">OldHtmlProperties</a><span class="delimiter">(</span><a href="#360471" title="net.liftweb.http.Req">r</a>.<a href="Req.scala.html#149231" title="=&gt; net.liftweb.common.Box[String]">userAgent</a><span class="delimiter">)</span>: <a href="HtmlProperties.scala.html#14178" title="net.liftweb.http.HtmlProperties">HtmlProperties</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span><span class="delimiter">}</span>

  <span class="comment">/**
   * How long should we wait for all the lazy snippets to render
   */</span>
  <span class="keyword">val</span> <a title="LiftRules.this.FactoryMaker[net.liftweb.util.Helpers.TimeSpan]" id="159030">lazySnippetTimeout</a>: <a href="Factory.scala.html#147868" title="LiftRules.this.FactoryMaker[net.liftweb.util.Helpers.TimeSpan]">FactoryMaker</a><span class="delimiter">[</span>TimeSpan<span class="delimiter">]</span> = <a href="#360518" title="LiftRules.this.FactoryMaker[net.liftweb.util.Helpers.TimeSpan]" class="keyword">new</a> <a title="anonymous class $anon extends LiftRules.this.FactoryMaker[net.liftweb.util.Helpers.TimeSpan]" id="360518">FactoryMaker</a><span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="../../../../util/net/liftweb/util/TimeHelpers.scala.html#48777" title="implicit net.liftweb.util.TimeHelpers.intToTimeSpanBuilder : (in: Int)net.liftweb.util.Helpers.TimeSpanBuilder" class="int">30</a> <a href="../../../../util/net/liftweb/util/TimeHelpers.scala.html#58471" title="=&gt; net.liftweb.util.Helpers.TimeSpan">seconds</a><span class="delimiter">)</span> <span class="delimiter">{</span><span class="delimiter">}</span>

  <span class="comment">/**
   * Does the current context support parallel snippet execution
   */</span>
  <span class="keyword">val</span> <a title="LiftRules.this.FactoryMaker[Boolean]" id="159032">allowParallelSnippets</a>: <a href="Factory.scala.html#147868" title="LiftRules.this.FactoryMaker[Boolean]">FactoryMaker</a><span class="delimiter">[</span>Boolean<span class="delimiter">]</span> = <a href="#360611" title="LiftRules.this.FactoryMaker[Boolean]" class="keyword">new</a> <a title="anonymous class $anon extends LiftRules.this.FactoryMaker[Boolean]" id="360611">FactoryMaker</a><span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span class="delimiter">{</span><span class="delimiter">}</span>

  <span class="comment">/**
   * Update the function here that calculates particular paths to
   * exclused from context path rewriting
   */</span>
  <span class="keyword">val</span> <a title="LiftRules.this.FactoryMaker[String =&gt; Boolean]" id="159034">excludePathFromContextPathRewriting</a>: <a href="Factory.scala.html#147868" title="LiftRules.this.FactoryMaker[String =&gt; Boolean]">FactoryMaker</a><span class="delimiter">[</span>String =&gt; Boolean<span class="delimiter">]</span> =
  <a href="#360665" title="LiftRules.this.FactoryMaker[String =&gt; Boolean]" class="keyword">new</a> <a title="anonymous class $anon extends LiftRules.this.FactoryMaker[String =&gt; Boolean]" id="360665">FactoryMaker</a><span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span class="delimiter">(</span><span class="delimiter">(</span>s: <span title="String">String</span><span class="delimiter">)</span> =&gt; <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span><span class="delimiter">}</span>

  <span class="comment">/**
   * If a deferred snippet has a failure during render,
   * what should we display?
   */</span>
  <span class="keyword">val</span> <a title="LiftRules.this.FactoryMaker[net.liftweb.common.Failure =&gt; scala.xml.NodeSeq]" id="159036">deferredSnippetFailure</a>: <a href="Factory.scala.html#147868" title="LiftRules.this.FactoryMaker[net.liftweb.common.Failure =&gt; scala.xml.NodeSeq]">FactoryMaker</a><span class="delimiter">[</span>Failure =&gt; NodeSeq<span class="delimiter">]</span> =
  <a href="#360809" title="LiftRules.this.FactoryMaker[net.liftweb.common.Failure =&gt; scala.xml.NodeSeq]" class="keyword">new</a> <a title="anonymous class $anon extends LiftRules.this.FactoryMaker[net.liftweb.common.Failure =&gt; scala.xml.NodeSeq]" id="360809">FactoryMaker</a><span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
    failure: <a href="../../../../common/net/liftweb/common/Box.scala.html#10586" title="net.liftweb.common.Failure">Failure</a> =&gt; <span class="delimiter">{</span>
      <span title="scala.xml.NodeSeq" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../../util/net/liftweb/util/Props.scala.html#13579" title="object net.liftweb.util.Props">Props</a>.<a href="../../../../util/net/liftweb/util/Props.scala.html#151319" title="=&gt; Boolean">devMode</a><span class="delimiter">)</span>
        &lt;<a title="scala.xml.MetaData" id="362190">div</a> style=<span title="scala.xml.Text" class="string">&quot;border: red solid 2px&quot;</span>&gt;<span title="scala.xml.Text">A</span> lift:parallel snippet failed to render.Message:<span class="delimiter">{</span><a href="#362184" title="net.liftweb.common.Failure">failure</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#37795" title="=&gt; String">msg</a><span class="delimiter">}</span><span class="delimiter">{</span><a href="#362184" title="net.liftweb.common.Failure">failure</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#37797" title="=&gt; net.liftweb.common.Box[Throwable]">exception</a> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="scala.xml.Elem">Full</span><span class="delimiter">(</span><a title="Throwable" id="362192">e</a><span class="delimiter">)</span> =&gt;
            &lt;<a title="scala.xml.Elem" id="362193">pre</a>&gt;<span class="delimiter">{</span><a href="#362192" title="Throwable">e</a>.<span title="(xs: Array[java.lang.StackTraceElement])scala.collection.mutable.ArrayOps[java.lang.StackTraceElement]">getStackTrace</span>.<span title="(f: java.lang.StackTraceElement =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[Array[java.lang.StackTraceElement],java.lang.String,Array[java.lang.String]])Array[java.lang.String]">map</span><span title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]" class="delimiter">(</span><a href="#362639" title="java.lang.StackTraceElement">_</a>.<span title="()java.lang.String">toString</span><span class="delimiter">)</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span><span class="delimiter">)</span><span class="delimiter">}</span>&lt;/pre&gt;
          <span class="keyword">case</span> <span title="scala.xml.NodeSeq">_</span> =&gt; <span title="object scala.xml.NodeSeq">NodeSeq</span>.<span title="=&gt; scala.xml.NodeSeq">Empty</span>
        <span class="delimiter">}</span><span class="delimiter">}</span>&lt;<a title="scala.xml.Elem" id="362808">i</a>&gt;<span title="scala.xml.Text">note</span>: <span class="keyword">this</span> error is displayed in the browser because
        your application is running in <span class="string">&quot;development&quot;</span> mode.If you
        set the system property run.mode=production, <span class="keyword">this</span> error will not
        be displayed, but there will be errors in the output logs.
        &lt;/i&gt;
        &lt;/div&gt;
      <span class="keyword">else</span> <span title="object scala.xml.NodeSeq">NodeSeq</span>.<span title="=&gt; scala.xml.NodeSeq">Empty</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span><span class="delimiter">)</span> <span class="delimiter">{</span><span class="delimiter">}</span>

  <span class="comment">/**
   * If a deferred snippet has a failure during render,
   * what should we display?
   */</span>

  <span class="keyword">val</span> <a title="LiftRules.this.FactoryMaker[scala.xml.NodeSeq]" id="159038">deferredSnippetTimeout</a>: <a href="Factory.scala.html#147868" title="LiftRules.this.FactoryMaker[scala.xml.NodeSeq]">FactoryMaker</a><span class="delimiter">[</span>NodeSeq<span class="delimiter">]</span> =
  <a href="#362855" title="LiftRules.this.FactoryMaker[scala.xml.NodeSeq]" class="keyword">new</a> <a title="anonymous class $anon extends LiftRules.this.FactoryMaker[scala.xml.NodeSeq]" id="362855">FactoryMaker</a><span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
        <span title="scala.xml.NodeSeq" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../../util/net/liftweb/util/Props.scala.html#13579" title="object net.liftweb.util.Props">Props</a>.<a href="../../../../util/net/liftweb/util/Props.scala.html#151319" title="=&gt; Boolean">devMode</a><span class="delimiter">)</span>
        &lt;<a title="scala.xml.MetaData" id="362940">div</a> style=<span title="scala.xml.Text" class="string">&quot;border: red solid 2px&quot;</span>&gt;
          A deferred snippet timed out during render.

          &lt;<a title="scala.xml.Elem" id="362941">i</a>&gt;<span title="scala.xml.Text">note</span>: <span class="keyword">this</span> error is displayed in the browser because
            your application is running in <span class="string">&quot;development&quot;</span> mode.  If you
            set the system property run.mode=production, <span class="keyword">this</span> error will not
            be displayed, but there will be errors in the output logs.
          &lt;/i&gt;
        &lt;/div&gt;
        <span class="keyword">else</span> <span title="object scala.xml.NodeSeq">NodeSeq</span>.<span title="=&gt; scala.xml.NodeSeq">Empty</span>
      <span class="delimiter">}</span><span class="delimiter">)</span> <span class="delimiter">{</span><span class="delimiter">}</span>


  <span class="comment">/**
   * Should comments be stripped from the served XHTML
   */</span>
  <span class="keyword">val</span> <a title="LiftRules.this.FactoryMaker[Boolean]" id="159040">stripComments</a>: <a href="Factory.scala.html#147868" title="LiftRules.this.FactoryMaker[Boolean]">FactoryMaker</a><span class="delimiter">[</span>Boolean<span class="delimiter">]</span> =
  <a href="#362960" title="LiftRules.this.FactoryMaker[Boolean]" class="keyword">new</a> <a title="anonymous class $anon extends LiftRules.this.FactoryMaker[Boolean]" id="362960">FactoryMaker</a><span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
        <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../../util/net/liftweb/util/Props.scala.html#13579" title="object net.liftweb.util.Props">Props</a>.<a href="../../../../util/net/liftweb/util/Props.scala.html#151319" title="=&gt; Boolean">devMode</a><span class="delimiter">)</span>
        <span title="Boolean(false)" class="keyword">false</span>
        <span class="keyword">else</span> <span title="Boolean(true)" class="keyword">true</span>
      <span class="delimiter">}</span><span class="delimiter">)</span> <span class="delimiter">{</span><span class="delimiter">}</span>



  <span class="keyword">private</span><span class="delimiter">[</span>http<span class="delimiter">]</span> <span class="keyword">val</span> <a title="java.util.concurrent.atomic.AtomicInteger" id="159042">reqCnt</a> = <span title="java.util.concurrent.atomic.AtomicInteger" class="keyword">new</span> <span title="java.util.concurrent.atomic.AtomicInteger">AtomicInteger</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>

  @volatile <span class="keyword">private</span><span class="delimiter">[</span>http<span class="delimiter">]</span> <span class="keyword">var</span> <a title="Boolean" id="159045">ending</a> = <span title="Boolean(false)" class="keyword">false</span>

  <span class="keyword">private</span><span class="delimiter">[</span>http<span class="delimiter">]</span> <span class="keyword">def</span> <a title="()Unit" id="159047">bootFinished</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#158828" title="(x$1: Boolean)Unit">_doneBoot</a> = <span title="Boolean(true)" class="keyword">true</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Holds user's DispatchPF functions that will be executed in a stateless context. This means that
   * S object is not availble yet.
   */</span>
  <span class="keyword">val</span> <a title="LiftRules.this.RulesSeq[net.liftweb.http.LiftRules.DispatchPF]" id="159048">statelessDispatchTable</a> = <a href="#185518" title="[T]=&gt; LiftRules.this.RulesSeq[T]">RulesSeq</a><span title="LiftRules.this.RulesSeq[net.liftweb.http.LiftRules.DispatchPF]" class="delimiter">[</span><span title="net.liftweb.http.LiftRules.DispatchPF">DispatchPF</span><span class="delimiter">]</span>

  <span class="keyword">private</span><span class="delimiter">[</span>http<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(req: net.liftweb.http.provider.HTTPRequest)List[net.liftweb.http.LiftRules.DispatchPF]" id="159050">dispatchTable</a><span class="delimiter">(</span><a title="net.liftweb.http.provider.HTTPRequest" id="363015">req</a>: <a href="provider/HTTPRequest.scala.html#15082" title="net.liftweb.http.provider.HTTPRequest">HTTPRequest</a><span class="delimiter">)</span>: <span title="List[net.liftweb.http.LiftRules.DispatchPF]">List</span><span class="delimiter">[</span>DispatchPF<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#363015" title="net.liftweb.http.provider.HTTPRequest">req</a> <span title="List[net.liftweb.http.LiftRules.DispatchPF]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="List[net.liftweb.http.LiftRules.DispatchPF]" class="keyword">null</span> =&gt; <a href="#159095" title="=&gt; LiftRules.this.RulesSeq[net.liftweb.http.LiftRules.DispatchPF]">dispatch</a>.<a href="#185552" title="=&gt; List[net.liftweb.http.LiftRules.DispatchPF]">toList</a>
      <span class="keyword">case</span> <span title="List[net.liftweb.http.LiftRules.DispatchPF]">_</span> =&gt; <a href="LiftSession.scala.html#14484" title="object net.liftweb.http.SessionMaster">SessionMaster</a>.<a href="LiftSession.scala.html#357506" title="(req: net.liftweb.http.provider.HTTPRequest, otherId: net.liftweb.common.Box[String])net.liftweb.common.Box[net.liftweb.http.LiftSession]">getSession</a><span class="delimiter">(</span><a href="#363015" title="net.liftweb.http.provider.HTTPRequest">req</a>, <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a><span class="delimiter">)</span> <span title="List[net.liftweb.http.LiftRules.DispatchPF]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="List[net.liftweb.http.LiftRules.DispatchPF]">Full</span><span class="delimiter">(</span><a title="net.liftweb.http.LiftSession" id="363022">s</a><span class="delimiter">)</span> =&gt; <a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49455" title="(session: net.liftweb.http.LiftSession)(f: =&gt; List[net.liftweb.http.LiftRules.DispatchPF])List[net.liftweb.http.LiftRules.DispatchPF]">initIfUninitted</a><span class="delimiter">(</span><a href="#363022" title="net.liftweb.http.LiftSession">s</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49327" title="=&gt; List[net.liftweb.http.S.DispatchHolder]">highLevelSessionDispatchList</a>.<span title="(f: net.liftweb.http.S.DispatchHolder =&gt; net.liftweb.http.LiftRules.DispatchPF)(implicit bf: scala.collection.generic.CanBuildFrom[List[net.liftweb.http.S.DispatchHolder],net.liftweb.http.LiftRules.DispatchPF,List[net.liftweb.http.LiftRules.DispatchPF]])List[net.liftweb.http.LiftRules.DispatchPF]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,net.liftweb.http.LiftRules.DispatchPF,List[net.liftweb.http.LiftRules.DispatchPF]]" class="delimiter">(</span><a href="#363064" title="net.liftweb.http.S.DispatchHolder">_</a>.<a href="S.scala.html#363069" title="=&gt; net.liftweb.http.LiftRules.DispatchPF">dispatch</a><span class="delimiter">)</span> <a href="#363038" title="(prefix: List[net.liftweb.http.LiftRules.DispatchPF])List[net.liftweb.http.LiftRules.DispatchPF]">:::</a>
                  <a href="#159095" title="=&gt; LiftRules.this.RulesSeq[net.liftweb.http.LiftRules.DispatchPF]">dispatch</a>.<a href="#185552" title="=&gt; List[net.liftweb.http.LiftRules.DispatchPF]">toList</a>
        <span class="delimiter">}</span>
        <span class="keyword">case</span> <span title="List[net.liftweb.http.LiftRules.DispatchPF]">_</span> =&gt; <a href="#159095" title="=&gt; LiftRules.this.RulesSeq[net.liftweb.http.LiftRules.DispatchPF]">dispatch</a>.<a href="#185552" title="=&gt; List[net.liftweb.http.LiftRules.DispatchPF]">toList</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>


  <span class="comment">/**
   * Contains the Ajax URI path used by Lift to process Ajax requests.
   */</span>
  @volatile <span class="keyword">var</span> <a title="java.lang.String" id="159052">ajaxPath</a> = <span title="java.lang.String(&quot;ajax_request&quot;)" class="string">&quot;ajax_request&quot;</span>

  <span class="comment">/**
   * Contains the Comet URI path used by Lift to process Comet requests.
   */</span>
  @volatile <span class="keyword">var</span> <a title="java.lang.String" id="159055">cometPath</a> = <span title="java.lang.String(&quot;comet_request&quot;)" class="string">&quot;comet_request&quot;</span>

  <span class="comment">/**
   * Computes the Comet path by adding additional tokens on top of cometPath
   */</span>
  @volatile <span class="keyword">var</span> <a title="String =&gt; net.liftweb.http.js.JsExp" id="159058">calcCometPath</a>: String =&gt; JsExp = <a title="String" id="363116">prefix</a> =&gt; <span class="delimiter">{</span>
    <a href="js/JsCommands.scala.html#158029" title="(str: String)net.liftweb.http.js.JE.Str">Str</a><span class="delimiter">(</span><a href="#363116" title="String">prefix</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#159055" title="=&gt; java.lang.String">cometPath</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span> <a href="js/JsCommands.scala.html#58024" title="(right: net.liftweb.http.js.JsExp)net.liftweb.http.js.JsExp">+</a>
            <a href="js/JsCommands.scala.html#184878" title="(rawJsCmd: String)net.liftweb.http.js.JE.JsRaw">JsRaw</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Math.floor(Math.random() * 100000000000)&quot;)" class="string">&quot;Math.floor(Math.random() * 100000000000)&quot;</span><span class="delimiter">)</span> <a href="js/JsCommands.scala.html#58024" title="(right: net.liftweb.http.js.JsExp)net.liftweb.http.js.JsExp">+</a>
            <a href="js/JsCommands.scala.html#158029" title="(str: String)net.liftweb.http.js.JE.Str">Str</a><span class="delimiter">(</span><a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49382" title="=&gt; net.liftweb.common.Box[net.liftweb.http.LiftSession]">session</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: net.liftweb.http.LiftSession =&gt; String)net.liftweb.common.Box[String]">map</a><span class="delimiter">(</span><a title="net.liftweb.http.LiftSession" id="363126">session</a> =&gt; <a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49496" title="(url: String)String">encodeURL</a><span class="delimiter">(</span><span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#363126" title="net.liftweb.http.LiftSession">session</a>.<a href="LiftSession.scala.html#230144" title="=&gt; String">uniqueId</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; String)String">openOr</a> <span title="java.lang.String(&quot;xx&quot;)" class="string">&quot;xx&quot;</span><span class="delimiter">)</span> <a href="js/JsCommands.scala.html#58024" title="(right: net.liftweb.http.js.JsExp)net.liftweb.http.js.JsExp">+</a> <a href="js/JsCommands.scala.html#158029" title="(str: String)net.liftweb.http.js.JE.Str">Str</a><span class="delimiter">(</span><span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span> <a href="js/JsCommands.scala.html#58024" title="(right: net.liftweb.http.js.JsExp)net.liftweb.http.js.JsExp">+</a> <a href="js/JsCommands.scala.html#184878" title="(rawJsCmd: String)net.liftweb.http.js.JE.JsRaw">JsRaw</a><span class="delimiter">(</span><span title="java.lang.String(&quot;lift_page&quot;)" class="string">&quot;lift_page&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>


  <span class="comment">/**
   * If there is an alternative way of calculating the context path
   * (by default returning Empty)
   *
   * If this function returns an Empty, the contextPath provided by the container will be used.
   *
   */</span>
  @volatile <span class="keyword">var</span> <a title="() =&gt; net.liftweb.common.Box[String]" id="159061">calculateContextPath</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Box<span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>


  @volatile <span class="keyword">private</span> <span class="keyword">var</span> <a title="net.liftweb.http.provider.HTTPContext" id="159064">_context</a>: <a href="provider/HTTPContext.scala.html#15052" title="net.liftweb.http.provider.HTTPContext">HTTPContext</a> = _

  <span class="comment">/**
   * Should an exception be thrown on out of scope Session and RequestVar
   * access.  By default, no.
   */</span>
  @volatile <span class="keyword">var</span> <a title="Boolean" id="159067">throwOnOutOfScopeVarAccess</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>

  <span class="comment">/**
   * In Dev mode and Test mode, return a non-200 response code
   * if there is an error on the page (one that would result in
   * the red box with the error message being displayed).  This
   * helps in automate testing
   */</span>
  @volatile <span class="keyword">var</span> <a title="net.liftweb.common.Box[Int]" id="159070">devModeFailureResponseCodeOverride</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[Int]">Box</a><span class="delimiter">[</span>Int<span class="delimiter">]</span> = <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>

  <span class="comment">/**
   * Returns the HTTPContext
   */</span>
  <span class="keyword">def</span> <a title="=&gt; net.liftweb.http.provider.HTTPContext" id="159072">context</a>: <a href="provider/HTTPContext.scala.html#15052" title="net.liftweb.http.provider.HTTPContext">HTTPContext</a> = <a href="#14378" title="(x$1: net.liftweb.http.provider.HTTPContext)net.liftweb.http.provider.HTTPContext">synchronized</a> <span class="delimiter">{</span><a href="#159064" title="=&gt; net.liftweb.http.provider.HTTPContext">_context</a><span class="delimiter">}</span>

  <span class="comment">/**
   * Sets the HTTPContext
   */</span>
  <span class="keyword">def</span> <a title="(in: net.liftweb.http.provider.HTTPContext)Unit" id="159073">setContext</a><span class="delimiter">(</span><a title="net.liftweb.http.provider.HTTPContext" id="363140">in</a>: <a href="provider/HTTPContext.scala.html#15052" title="net.liftweb.http.provider.HTTPContext">HTTPContext</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#14378" title="(x$1: Unit)Unit">synchronized</a> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#363140" title="net.liftweb.http.provider.HTTPContext">in</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#159064" title="=&gt; net.liftweb.http.provider.HTTPContext">_context</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#159064" title="(x$1: net.liftweb.http.provider.HTTPContext)Unit">_context</a> = <a href="#363140" title="net.liftweb.http.provider.HTTPContext">in</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">var</span> <a title="List[String]" id="159075">otherPackages</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span title="object Nil">Nil</span>

  <span class="comment">/**
   * Used by Lift to construct full pacakge names fromthe packages provided to addToPackages function
   */</span>
  <span class="keyword">def</span> <a title="(end: String)List[java.lang.String]" id="159077">buildPackage</a><span class="delimiter">(</span><a title="String" id="363145">end</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#159075" title="=&gt; List[String]">otherPackages</a>.<span title="(f: String =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[List[String],java.lang.String,List[java.lang.String]])List[java.lang.String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,java.lang.String,List[java.lang.String]]" class="delimiter">(</span><a href="#363167" title="String">_</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#363145" title="String">end</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Tells Lift where to find Snippets,Views, Comet Actors and Lift ORM Model object
   */</span>
  <span class="keyword">def</span> <a title="(what: String)Unit" id="159078">addToPackages</a><span class="delimiter">(</span><a title="String" id="196066">what</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#158830" title="=&gt; Boolean">doneBoot</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String)java.lang.IllegalStateException" class="keyword">new</span> <span title="java.lang.IllegalStateException">IllegalStateException</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Cannot modify after boot.&quot;)" class="string">&quot;Cannot modify after boot.&quot;</span><span class="delimiter">)</span>;
    <a href="#159075" title="(x$1: List[String])Unit">otherPackages</a> = <a href="#196066" title="String">what</a> <a href="#363199" title="(x: String)List[String]">::</a> <a href="#159075" title="=&gt; List[String]">otherPackages</a>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Tells Lift where to find Snippets,Views, Comet Actors and Lift ORM Model object
   */</span>
  <span class="keyword">def</span> <a title="(what: java.lang.Package)Unit" id="159079">addToPackages</a><span class="delimiter">(</span><a title="java.lang.Package" id="195946">what</a>: <span title="java.lang.Package">Package</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#158830" title="=&gt; Boolean">doneBoot</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String)java.lang.IllegalStateException" class="keyword">new</span> <span title="java.lang.IllegalStateException">IllegalStateException</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Cannot modify after boot.&quot;)" class="string">&quot;Cannot modify after boot.&quot;</span><span class="delimiter">)</span>;
    <a href="#159075" title="(x$1: List[String])Unit">otherPackages</a> = <a href="#195946" title="java.lang.Package">what</a>.<span title="()java.lang.String">getName</span> <a href="#363209" title="(x: String)List[String]">::</a> <a href="#159075" title="=&gt; List[String]">otherPackages</a>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="java.lang.String =&gt; java.net.URL" id="159080">defaultFinder</a> = <a href="#14378" title="()java.lang.Class[_]">getClass</a>.<a href="#356974" title="(x$1: java.lang.String)java.net.URL">getResource</a> _

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(name: String)java.net.URL" id="159082">resourceFinder</a><span class="delimiter">(</span><a title="String" id="363213">name</a>: <span title="String">String</span><span class="delimiter">)</span>: java.net.<span title="java.net.URL">URL</span> = <span title="java.net.URL" class="keyword">if</span> <span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#159064" title="=&gt; net.liftweb.http.provider.HTTPContext">_context</a><span class="delimiter">)</span> <span title="Null(null)" class="keyword">null</span> <span class="keyword">else</span> <a href="#159064" title="=&gt; net.liftweb.http.provider.HTTPContext">_context</a>.<a href="provider/HTTPContext.scala.html#356958" title="(path: String)java.net.URL">resource</a><span class="delimiter">(</span><a href="#363213" title="String">name</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Obtain the resource URL by name
   */</span>
  @volatile <span class="keyword">var</span> <a title="String =&gt; net.liftweb.common.Box[java.net.URL]" id="159084">getResource</a>: String =&gt; Box<span class="delimiter">[</span>java.net.URL<span class="delimiter">]</span> = <a href="#159086" title="(name: String)net.liftweb.common.Box[java.net.URL]">defaultGetResource</a> _

  <span class="comment">/**
   * Obtain the resource URL by name
   */</span>
  <span class="keyword">def</span> <a title="(name: String)net.liftweb.common.Box[java.net.URL]" id="159086">defaultGetResource</a><span class="delimiter">(</span><a title="String" id="363216">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[java.net.URL]">Box</a><span class="delimiter">[</span>java.net.URL<span class="delimiter">]</span> =
    <span class="keyword">for</span><span class="delimiter">{</span>
      <a title="java.net.URL" id="363236">rf</a> &lt;- <span class="delimiter">(</span><a href="../../../../common/net/liftweb/common/Box.scala.html#10572" title="object net.liftweb.common.Box">Box</a> <a href="../../../../common/net/liftweb/common/Box.scala.html#28636" title="(in: java.net.URL)net.liftweb.common.Box[java.net.URL]">!!</a> <a href="#159082" title="(name: String)java.net.URL">resourceFinder</a><span class="delimiter">(</span><a href="#363216" title="String">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: java.net.URL =&gt; java.net.URL)net.liftweb.common.Box[java.net.URL]">or</a> <span class="delimiter">(</span><a href="../../../../common/net/liftweb/common/Box.scala.html#10572" title="object net.liftweb.common.Box">Box</a> <a href="../../../../common/net/liftweb/common/Box.scala.html#28636" title="(in: java.net.URL)net.liftweb.common.Box[java.net.URL]">!!</a> <a href="#159080" title="(v1: java.lang.String)java.net.URL">defaultFinder</a><span class="delimiter">(</span><a href="#363216" title="String">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">yield</span> <a href="#363236" title="java.net.URL">rf</a>

  <span class="comment">/**
   * Open a resource by name and process its contents using the supplied function.
   */</span>
  <span class="keyword">def</span> <a title="[T](name: String)(f: java.io.InputStream =&gt; T)net.liftweb.common.Box[T]" id="159087">doWithResource</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="159089">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="String" id="363238">name</a>: <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="java.io.InputStream =&gt; T" id="363239">f</a>: InputStream =&gt; T<span class="delimiter">)</span>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[T]">Box</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =
    <a href="#159084" title="(v1: String)net.liftweb.common.Box[java.net.URL]">getResource</a><span class="delimiter">(</span><a href="#363238" title="String">name</a><span class="delimiter">)</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: java.net.URL =&gt; java.io.InputStream)net.liftweb.common.Box[java.io.InputStream]">map</a> <span class="delimiter">{</span> <a href="#363246" title="java.net.URL">_</a>.<span title="()java.io.InputStream">openStream</span> <span class="delimiter">}</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: java.io.InputStream =&gt; T)net.liftweb.common.Box[T]">map</a> <span class="delimiter">{</span> <a title="java.io.InputStream" id="363252">is</a> =&gt; <span class="keyword">try</span> <span class="delimiter">{</span> <a href="#363239" title="(v1: java.io.InputStream)T">f</a><span class="delimiter">(</span><a href="#363252" title="java.io.InputStream">is</a><span class="delimiter">)</span> <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span> <a href="#363252" title="java.io.InputStream">is</a>.<span title="()Unit">close</span> <span class="delimiter">}</span> <span class="delimiter">}</span>

  <span class="comment">/**
   * Obtain the resource as an array of bytes by name
   */</span>
  <span class="keyword">def</span> <a title="(name: String)net.liftweb.common.Box[Array[Byte]]" id="159090">loadResource</a><span class="delimiter">(</span><a title="String" id="363255">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[Array[Byte]]">Box</a><span class="delimiter">[</span>Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#159087" title="(name: String)(f: java.io.InputStream =&gt; Array[Byte])net.liftweb.common.Box[Array[Byte]]">doWithResource</a><span class="delimiter">(</span><a href="#363255" title="String">name</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.io.InputStream" id="363262">stream</a> =&gt;
    <span class="keyword">val</span> <a title="Array[Byte]" id="363263">buffer</a> = <span title="Array[Byte]" class="keyword">new</span> <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(2048)" class="int">2048</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="java.io.ByteArrayOutputStream" id="363264">out</a> = <span title="java.io.ByteArrayOutputStream" class="keyword">new</span> <span title="java.io.ByteArrayOutputStream">ByteArrayOutputStream</span>
    <span class="keyword">def</span> <a title="=&gt; Unit" id="363265">reader</a> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="363270">len</a> = <a href="#363262" title="java.io.InputStream">stream</a>.<span title="(x$1: Array[Byte])Int">read</span><span class="delimiter">(</span><a href="#363263" title="Array[Byte]">buffer</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#363270" title="Int">len</a> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span>
      <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#363270" title="Int">len</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#363264" title="java.io.ByteArrayOutputStream">out</a>.<span title="(x$1: Array[Byte], x$2: Int, x$3: Int)Unit">write</span><span class="delimiter">(</span><a href="#363263" title="Array[Byte]">buffer</a>, <span title="Int(0)" class="int">0</span>, <a href="#363270" title="Int">len</a><span class="delimiter">)</span>
      <a href="#363265" title="=&gt; Unit">reader</a>
    <span class="delimiter">}</span>
    <a href="#363265" title="=&gt; Unit">reader</a>
    <a href="#363264" title="java.io.ByteArrayOutputStream">out</a>.<span title="()Array[Byte]">toByteArray</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Obtain the resource as an XML by name. If you're using this to load a template, consider using
   * the Template object instead.
   *
   * @see Template
   */</span>
  <span class="keyword">def</span> <a title="(name: String)net.liftweb.common.Box[scala.xml.NodeSeq]" id="159091">loadResourceAsXml</a><span class="delimiter">(</span><a title="String" id="363285">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[scala.xml.NodeSeq]">Box</a><span class="delimiter">[</span>NodeSeq<span class="delimiter">]</span> = <a href="#159092" title="(name: String)net.liftweb.common.Box[String]">loadResourceAsString</a><span class="delimiter">(</span><a href="#363285" title="String">name</a><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27023" title="(f: String =&gt; net.liftweb.common.Box[scala.xml.NodeSeq])net.liftweb.common.Box[scala.xml.NodeSeq]">flatMap</a><span class="delimiter">(</span><a title="String" id="363293">s</a> =&gt; <a href="../../../../util/net/liftweb/util/PCDataMarkupParser.scala.html#261347" title="(in: String)net.liftweb.common.Box[scala.xml.NodeSeq]">PCDataXmlParser</a><span class="delimiter">(</span><a href="#363293" title="String">s</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Obtain the resource as a String by name
   */</span>
  <span class="keyword">def</span> <a title="(name: String)net.liftweb.common.Box[String]" id="159092">loadResourceAsString</a><span class="delimiter">(</span><a title="String" id="363287">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[String]">Box</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="#159090" title="(name: String)net.liftweb.common.Box[Array[Byte]]">loadResource</a><span class="delimiter">(</span><a href="#363287" title="String">name</a><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: Array[Byte] =&gt; java.lang.String)net.liftweb.common.Box[java.lang.String]">map</a><span class="delimiter">(</span><a title="Array[Byte]" id="363307">s</a> =&gt; <span title="(x$1: Array[Byte], x$2: java.lang.String)java.lang.String" class="keyword">new</span> <span title="java.lang.String">String</span><span class="delimiter">(</span><a href="#363307" title="Array[Byte]">s</a>, <span title="java.lang.String(&quot;UTF-8&quot;)" class="string">&quot;UTF-8&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Get the partial function that defines if a request should be handled by
   * the application (rather than the default container handler)
   */</span>
  <span class="keyword">val</span> <a title="LiftRules.this.RulesSeq[net.liftweb.http.LiftRules.LiftRequestPF]" id="159093">liftRequest</a> = <a href="#185518" title="[T]=&gt; LiftRules.this.RulesSeq[T]">RulesSeq</a><span title="LiftRules.this.RulesSeq[net.liftweb.http.LiftRules.LiftRequestPF]" class="delimiter">[</span><span title="net.liftweb.http.LiftRules.LiftRequestPF">LiftRequestPF</span><span class="delimiter">]</span>

  <span class="comment">/**
   * Holds the user's DispatchPF functions that will be executed in stateful context
   */</span>
  <span class="keyword">val</span> <a title="LiftRules.this.RulesSeq[net.liftweb.http.LiftRules.DispatchPF]" id="159095">dispatch</a> = <a href="#185518" title="[T]=&gt; LiftRules.this.RulesSeq[T]">RulesSeq</a><span title="LiftRules.this.RulesSeq[net.liftweb.http.LiftRules.DispatchPF]" class="delimiter">[</span><span title="net.liftweb.http.LiftRules.DispatchPF">DispatchPF</span><span class="delimiter">]</span>

  <span class="comment">/**
   * Holds the user's rewrite functions that can alter the URI parts and query parameters.  This rewrite
   * is performed very early in the HTTP request cycle and may not include any state.  This rewrite is meant
   * to rewrite requests for statelessDispatch. &lt;br/&gt;
   * Note also that rewrites should not have side effects except
   * to memoize database query results.  No side effects means that you should not change SessionVars
   * in a rewrite.
   */</span>
  <span class="keyword">val</span> <a title="LiftRules.this.RulesSeq[net.liftweb.http.LiftRules.RewritePF]" id="159097">statelessRewrite</a> = <a href="#185518" title="[T]=&gt; LiftRules.this.RulesSeq[T]">RulesSeq</a><span title="LiftRules.this.RulesSeq[net.liftweb.http.LiftRules.RewritePF]" class="delimiter">[</span><span title="net.liftweb.http.LiftRules.RewritePF">RewritePF</span><span class="delimiter">]</span>

  <span class="comment">/**
   * Use statelessRewrite or statefuleRewrite
   */</span>
  @deprecated<span class="delimiter">(</span><span class="string">&quot;Use statelessRewrite or statefuleRewrite&quot;</span><span class="delimiter">)</span>
  <span class="keyword">val</span> <a title="LiftRules.this.RulesSeq[net.liftweb.http.LiftRules.RewritePF]" id="159099">rewrite</a> = <a href="#159097" title="=&gt; LiftRules.this.RulesSeq[net.liftweb.http.LiftRules.RewritePF]">statelessRewrite</a>

  <span class="comment">/**
   *  Holds the user's rewrite functions that can alter the URI parts and query parameters.
   * This rewrite takes place within the scope of the S state so SessionVars and other session-related
   * information is available. &lt;br/&gt;
   * Note also that rewrites should not have side effects except
   * to memoize database query results.  No side effects means that you should not change SessionVars
   * in a rewrite. &lt;br/&gt;
   * In general, rewrites should be considered low level access.  Rather than using a rewrite to extract
   * parameters out of a URL, you'll be much better off using SiteMap generally and Menu.param and Menu.params
   * specifically for extracting parameters from URLs.
   */</span>
  <span class="keyword">val</span> <a title="LiftRules.this.RulesSeq[net.liftweb.http.LiftRules.RewritePF]" id="159101">statefulRewrite</a> = <a href="#185518" title="[T]=&gt; LiftRules.this.RulesSeq[T]">RulesSeq</a><span title="LiftRules.this.RulesSeq[net.liftweb.http.LiftRules.RewritePF]" class="delimiter">[</span><span title="net.liftweb.http.LiftRules.RewritePF">RewritePF</span><span class="delimiter">]</span>

  <span class="comment">/**
   * Holds the user's snippet functions that will be executed by lift given a certain path.
   */</span>
  <span class="keyword">val</span> <a title="LiftRules.this.RulesSeq[net.liftweb.http.LiftRules.SnippetPF]" id="159103">snippets</a> = <a href="#185518" title="[T]=&gt; LiftRules.this.RulesSeq[T]">RulesSeq</a><span title="LiftRules.this.RulesSeq[net.liftweb.http.LiftRules.SnippetPF]" class="delimiter">[</span><span title="net.liftweb.http.LiftRules.SnippetPF">SnippetPF</span><span class="delimiter">]</span>

  <span class="comment">/**
   * Execute certain functions early in a Stateful Request
   */</span>
  <span class="keyword">val</span> <a title="LiftRules.this.RulesSeq[net.liftweb.common.Box[net.liftweb.http.Req] =&gt; Unit]" id="159105">earlyInStateful</a> = <a href="#185518" title="[T]=&gt; LiftRules.this.RulesSeq[T]">RulesSeq</a><span title="LiftRules.this.RulesSeq[net.liftweb.common.Box[net.liftweb.http.Req] =&gt; Unit]" class="delimiter">[</span>Box<span class="delimiter">[</span>Req<span class="delimiter">]</span> =&gt; Unit<span class="delimiter">]</span>

  <span class="comment">/**
   * Execute certain functions early in a Stateful Request
   */</span>
  <span class="keyword">val</span> <a title="LiftRules.this.RulesSeq[net.liftweb.common.Box[net.liftweb.http.Req] =&gt; Unit]" id="159107">earlyInStateless</a> = <a href="#185518" title="[T]=&gt; LiftRules.this.RulesSeq[T]">RulesSeq</a><span title="LiftRules.this.RulesSeq[net.liftweb.common.Box[net.liftweb.http.Req] =&gt; Unit]" class="delimiter">[</span>Box<span class="delimiter">[</span>Req<span class="delimiter">]</span> =&gt; Unit<span class="delimiter">]</span>


  <span class="keyword">private</span> <span class="keyword">var</span> <a title="() =&gt; Unit" id="159110">_configureLogging</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Unit = _

  <span class="comment">/**
   * Holds the function that configures logging. Must be set before any loggers are created
   */</span>
  <span class="keyword">def</span> <a title="=&gt; () =&gt; Unit" id="159112">configureLogging</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Unit = <a href="#159110" title="=&gt; () =&gt; Unit">_configureLogging</a>

  <span class="comment">/**
   * Holds the function that configures logging. Must be set before any loggers are created
   */</span>
  <span class="keyword">def</span> <a title="(newConfigurer: () =&gt; Unit)Unit" id="159113">configureLogging_=</a><span class="delimiter">(</span><a title="() =&gt; Unit" id="363315">newConfigurer</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Unit<span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <a href="#159110" title="(x$1: () =&gt; Unit)Unit">_configureLogging</a> = <a href="#363315" title="() =&gt; Unit">newConfigurer</a>
    <a href="../../../../common/net/liftweb/common/Logging.scala.html#10711" title="object net.liftweb.common.Logger">Logger</a>.<a href="../../../../common/net/liftweb/common/Logging.scala.html#31886" title="(x$1: net.liftweb.common.Box[() =&gt; Unit])Unit">setup</a> = <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: () =&gt; Unit)net.liftweb.common.Full[() =&gt; Unit]">Full</a><span class="delimiter">(</span><a href="#363315" title="() =&gt; Unit">newConfigurer</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <a href="#159113" title="(newConfigurer: () =&gt; Unit)Unit">configureLogging</a> = net.liftweb.util.<a href="../../../../util/net/liftweb/util/Log.scala.html#304470" title="()() =&gt; Unit">LoggingAutoConfigurer</a><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="net.liftweb.util.FatLazy[net.liftweb.common.Logger]" id="159114">_cometLogger</a>: <a href="../../../../util/net/liftweb/util/FatLazy.scala.html#13322" title="net.liftweb.util.FatLazy[net.liftweb.common.Logger]">FatLazy</a><span class="delimiter">[</span>Logger<span class="delimiter">]</span> = <a href="../../../../util/net/liftweb/util/FatLazy.scala.html#154877" title="(f: =&gt; net.liftweb.common.Logger)net.liftweb.util.FatLazy[net.liftweb.common.Logger]">FatLazy</a><span class="delimiter">(</span><span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="net.liftweb.common.Logger" id="363322">ret</a> = <a href="../../../../common/net/liftweb/common/Logging.scala.html#31890" title="(name: String)net.liftweb.common.Logger">Logger</a><span class="delimiter">(</span><span title="java.lang.String(&quot;comet_trace&quot;)" class="string">&quot;comet_trace&quot;</span><span class="delimiter">)</span>
    <a href="#363322" title="net.liftweb.common.Logger">ret</a>
  <span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Holds the CometLogger that will be used to log comet activity
   */</span>
  <span class="keyword">def</span> <a title="=&gt; net.liftweb.common.Logger" id="159116">cometLogger</a>: <a href="../../../../common/net/liftweb/common/Logging.scala.html#10715" title="net.liftweb.common.Logger">Logger</a> = <a href="#159114" title="=&gt; net.liftweb.util.FatLazy[net.liftweb.common.Logger]">_cometLogger</a>.<a href="../../../../util/net/liftweb/util/FatLazy.scala.html#147758" title="=&gt; net.liftweb.common.Logger">get</a>

  <span class="comment">/**
   * Holds the CometLogger that will be used to log comet activity
   */</span>
  <span class="keyword">def</span> <a title="(newLogger: net.liftweb.common.Logger)Unit" id="159117">cometLogger_=</a><span class="delimiter">(</span><a title="net.liftweb.common.Logger" id="363336">newLogger</a>: <a href="../../../../common/net/liftweb/common/Logging.scala.html#10715" title="net.liftweb.common.Logger">Logger</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#159114" title="=&gt; net.liftweb.util.FatLazy[net.liftweb.common.Logger]">_cometLogger</a>.<a href="../../../../util/net/liftweb/util/FatLazy.scala.html#147760" title="(v: net.liftweb.common.Logger)net.liftweb.common.Logger">set</a><span title="Unit" class="delimiter">(</span><a href="#363336" title="net.liftweb.common.Logger">newLogger</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Takes a Node, headers, cookies, and a session and turns it into an XhtmlResponse.
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(ns: scala.xml.Node, headers: List[(String, String)], cookies: List[net.liftweb.http.provider.HTTPCookie], req: net.liftweb.http.Req, code: Int)net.liftweb.http.LiftResponse" id="159118">cvt</a><span class="delimiter">(</span><a title="scala.xml.Node" id="363339">ns</a>: <span title="scala.xml.Node">Node</span>, <a title="List[(String, String)]" id="363340">headers</a>: <span title="List[(String, String)]">List</span><span class="delimiter">[</span><span class="delimiter">(</span>String, String<span class="delimiter">)</span><span class="delimiter">]</span>, <a title="List[net.liftweb.http.provider.HTTPCookie]" id="363341">cookies</a>: <span title="List[net.liftweb.http.provider.HTTPCookie]">List</span><span class="delimiter">[</span>HTTPCookie<span class="delimiter">]</span>, <a title="net.liftweb.http.Req" id="363342">req</a>: <a href="Req.scala.html#14573" title="net.liftweb.http.Req">Req</a>, <a title="Int" id="363343">code</a>:<span title="Int">Int</span><span class="delimiter">)</span> =
    <a href="#159126" title="(v1: (Any, List[(String, String)], List[net.liftweb.http.provider.HTTPCookie], net.liftweb.http.Req))net.liftweb.http.LiftResponse">convertResponse</a><span title="(_1: net.liftweb.http.XhtmlResponse, _2: List[(String, String)], _3: List[net.liftweb.http.provider.HTTPCookie], _4: net.liftweb.http.Req)(net.liftweb.http.XhtmlResponse, List[(String, String)], List[net.liftweb.http.provider.HTTPCookie], net.liftweb.http.Req)" class="delimiter">(</span><span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="net.liftweb.http.XhtmlResponse" id="363355">ret</a> = <a href="LiftResponse.scala.html#355533" title="(out: scala.xml.Node, __docType: net.liftweb.common.Box[String], _headers: List[(String, String)], cookies: List[net.liftweb.http.provider.HTTPCookie], code: Int, renderInIEMode: Boolean)net.liftweb.http.XhtmlResponse">XhtmlResponse</a><span class="delimiter">(</span><a href="#363339" title="scala.xml.Node">ns</a>,
        <span class="comment">/*LiftRules.docType.vend(req)*/</span><a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49325" title="=&gt; net.liftweb.http.HtmlProperties">htmlProperties</a>.<a href="HtmlProperties.scala.html#349001" title="=&gt; net.liftweb.common.Box[String]">docType</a>,
        <a href="#363340" title="List[(String, String)]">headers</a>, <a href="#363341" title="List[net.liftweb.http.provider.HTTPCookie]">cookies</a>, <a href="#363343" title="Int">code</a>,
        <a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49324" title="=&gt; Boolean">ieMode</a><span class="delimiter">)</span>
      <a href="#363355" title="net.liftweb.http.XhtmlResponse">ret</a>.<a href="LiftResponse.scala.html#355387" title="(x$1: Boolean)Unit">_includeXmlVersion</a> = <span title="=&gt; Boolean">!</span><a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49412" title="=&gt; Boolean">skipDocType</a>
      <a href="#363355" title="net.liftweb.http.XhtmlResponse">ret</a>
    <span class="delimiter">}</span>, <a href="#363340" title="List[(String, String)]">headers</a>, <a href="#363341" title="List[net.liftweb.http.provider.HTTPCookie]">cookies</a>, <a href="#363342" title="net.liftweb.http.Req">req</a><span class="delimiter">)</span>

  @volatile <span class="keyword">var</span> <a title="PartialFunction[(scala.xml.NodeSeq, net.liftweb.http.Req),List[(String, String)]]" id="159120">defaultHeaders</a>: <span title="PartialFunction[(scala.xml.NodeSeq, net.liftweb.http.Req),List[(String, String)]]">PartialFunction</span><span class="delimiter">[</span><span class="delimiter">(</span>NodeSeq, Req<span class="delimiter">)</span>, List<span class="delimiter">[</span><span class="delimiter">(</span>String, String<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#363361" title="List[(String, String)]" class="delimiter">{</a>
    <span class="keyword">case</span> <span title="List[net.liftweb.util.Helpers.TheStrBindParam]">_</span> =&gt;
      <span class="keyword">val</span> <a title="String" id="363362">d</a> = <a href="../../../../util/net/liftweb/util/Helpers.scala.html#13346" title="object net.liftweb.util.Helpers">Helpers</a>.<a href="../../../../util/net/liftweb/util/TimeHelpers.scala.html#48831" title="=&gt; String">nowAsInternetDate</a>
      <span title="(xs: net.liftweb.util.Helpers.TheStrBindParam*)List[net.liftweb.util.Helpers.TheStrBindParam]">List</span><span class="delimiter">(</span><a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;Expires&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58380" title="(in: String)net.liftweb.util.Helpers.TheStrBindParam">-&gt;</a> <a href="#363362" title="String">d</a>,
           <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;Date&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58380" title="(in: String)net.liftweb.util.Helpers.TheStrBindParam">-&gt;</a> <a href="#363362" title="String">d</a>,
           <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;Cache-Control&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58380" title="(in: String)net.liftweb.util.Helpers.TheStrBindParam">-&gt;</a>
           <span title="java.lang.String(&quot;no-cache, private, no-store&quot;)" class="string">&quot;no-cache, private, no-store&quot;</span>,
           <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;Pragma&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58380" title="(in: String)net.liftweb.util.Helpers.TheStrBindParam">-&gt;</a> <span title="java.lang.String(&quot;no-cache&quot;)" class="string">&quot;no-cache&quot;</span> <span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Runs responseTransformers
   */</span>
  <span class="keyword">def</span> <a title="(in: net.liftweb.http.LiftResponse)net.liftweb.http.LiftResponse" id="159122">performTransform</a><span class="delimiter">(</span><a title="net.liftweb.http.LiftResponse" id="363534">in</a>: <a href="LiftResponse.scala.html#14269" title="net.liftweb.http.LiftResponse">LiftResponse</a><span class="delimiter">)</span>: <a href="LiftResponse.scala.html#14269" title="net.liftweb.http.LiftResponse">LiftResponse</a> = <a href="#159123" title="=&gt; LiftRules.this.RulesSeq[net.liftweb.http.LiftResponse =&gt; net.liftweb.http.LiftResponse]">responseTransformers</a>.<a href="#185552" title="=&gt; List[net.liftweb.http.LiftResponse =&gt; net.liftweb.http.LiftResponse]">toList</a>.<span title="(z: net.liftweb.http.LiftResponse)(f: (net.liftweb.http.LiftResponse, net.liftweb.http.LiftResponse =&gt; net.liftweb.http.LiftResponse) =&gt; net.liftweb.http.LiftResponse)net.liftweb.http.LiftResponse">foldLeft</span><span class="delimiter">(</span><a href="#363534" title="net.liftweb.http.LiftResponse">in</a><span class="delimiter">)</span> <a href="#363559" title="net.liftweb.http.LiftResponse" class="delimiter">{</a>
    <span class="keyword">case</span> <span title="net.liftweb.http.LiftResponse" class="delimiter">(</span><a title="net.liftweb.http.LiftResponse" id="363569">in</a>, <a title="PartialFunction[_,_]" id="363570">pf</a>: <span title="PartialFunction[_,_]">PartialFunction</span><span class="delimiter">[</span>_, _<span class="delimiter">]</span><span class="delimiter">)</span> =&gt;
      <span title="net.liftweb.http.LiftResponse" class="keyword">if</span> <span class="delimiter">(</span><a href="#363570" title="PartialFunction[_,_]">pf</a>.<span title="(x: _)Boolean">isDefinedAt</span><span class="delimiter">(</span><a href="#363569" title="net.liftweb.http.LiftResponse">in</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#363570" title="(v1: _)_">pf</a><span class="delimiter">(</span><a href="#363569" title="net.liftweb.http.LiftResponse">in</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#363569" title="net.liftweb.http.LiftResponse">in</a>
    <span class="keyword">case</span> <span title="net.liftweb.http.LiftResponse" class="delimiter">(</span><a title="net.liftweb.http.LiftResponse" id="363577">in</a>, <a title="net.liftweb.http.LiftResponse =&gt; net.liftweb.http.LiftResponse" id="363578">f</a><span class="delimiter">)</span> =&gt; <a href="#363578" title="(v1: net.liftweb.http.LiftResponse)net.liftweb.http.LiftResponse">f</a><span class="delimiter">(</span><a href="#363577" title="net.liftweb.http.LiftResponse">in</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Holds the user's transformer functions allowing the user to modify a LiftResponse before sending it to client.
   */</span>
  <span class="keyword">val</span> <a title="LiftRules.this.RulesSeq[net.liftweb.http.LiftResponse =&gt; net.liftweb.http.LiftResponse]" id="159123">responseTransformers</a> = <a href="#185518" title="[T]=&gt; LiftRules.this.RulesSeq[T]">RulesSeq</a><span title="LiftRules.this.RulesSeq[net.liftweb.http.LiftResponse =&gt; net.liftweb.http.LiftResponse]" class="delimiter">[</span>LiftResponse =&gt; LiftResponse<span class="delimiter">]</span>


  <span class="comment">/**
   * convertResponse is a PartialFunction that reduces a given Tuple4 into a
   * LiftResponse that can then be sent to the browser.
   */</span>
  <span class="keyword">var</span> <a title="PartialFunction[(Any, List[(String, String)], List[net.liftweb.http.provider.HTTPCookie], net.liftweb.http.Req),net.liftweb.http.LiftResponse]" id="159126">convertResponse</a>: <span title="PartialFunction[(Any, List[(String, String)], List[net.liftweb.http.provider.HTTPCookie], net.liftweb.http.Req),net.liftweb.http.LiftResponse]">PartialFunction</span><span class="delimiter">[</span><span class="delimiter">(</span>Any, List<span class="delimiter">[</span><span class="delimiter">(</span>String, String<span class="delimiter">)</span><span class="delimiter">]</span>, List<span class="delimiter">[</span>HTTPCookie<span class="delimiter">]</span>, Req<span class="delimiter">)</span>, LiftResponse<span class="delimiter">]</span> = <a href="#363581" title="net.liftweb.http.LiftResponse" class="delimiter">{</a>
    <span class="keyword">case</span> <span title="net.liftweb.http.LiftResponse" class="delimiter">(</span><a title="net.liftweb.http.LiftResponse" id="363586">r</a>: <a href="LiftResponse.scala.html#14269" title="net.liftweb.http.LiftResponse">LiftResponse</a>, _, _, _<span class="delimiter">)</span> =&gt; <a href="#363586" title="net.liftweb.http.LiftResponse">r</a>
    <span class="keyword">case</span> <span title="net.liftweb.http.LiftResponse" class="delimiter">(</span><a title="scala.xml.Group" id="363591">ns</a>: <span title="scala.xml.Group">Group</span>, <a title="List[(String, String)]" id="363592">headers</a>, <a title="List[net.liftweb.http.provider.HTTPCookie]" id="363593">cookies</a>, <a title="net.liftweb.http.Req" id="363594">req</a><span class="delimiter">)</span> =&gt; <a href="#159118" title="(ns: scala.xml.Node, headers: List[(String, String)], cookies: List[net.liftweb.http.provider.HTTPCookie], req: net.liftweb.http.Req, code: Int)net.liftweb.http.LiftResponse">cvt</a><span class="delimiter">(</span><a href="#363591" title="scala.xml.Group">ns</a>, <a href="#363592" title="List[(String, String)]">headers</a>, <a href="#363593" title="List[net.liftweb.http.provider.HTTPCookie]">cookies</a>, <a href="#363594" title="net.liftweb.http.Req">req</a>, <span title="Int(200)" class="int">200</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="net.liftweb.http.LiftResponse" class="delimiter">(</span><a title="scala.xml.Node" id="363599">ns</a>: <span title="scala.xml.Node">Node</span>, <a title="List[(String, String)]" id="363600">headers</a>, <a title="List[net.liftweb.http.provider.HTTPCookie]" id="363601">cookies</a>, <a title="net.liftweb.http.Req" id="363602">req</a><span class="delimiter">)</span> =&gt; <a href="#159118" title="(ns: scala.xml.Node, headers: List[(String, String)], cookies: List[net.liftweb.http.provider.HTTPCookie], req: net.liftweb.http.Req, code: Int)net.liftweb.http.LiftResponse">cvt</a><span class="delimiter">(</span><a href="#363599" title="scala.xml.Node">ns</a>, <a href="#363600" title="List[(String, String)]">headers</a>, <a href="#363601" title="List[net.liftweb.http.provider.HTTPCookie]">cookies</a>, <a href="#363602" title="net.liftweb.http.Req">req</a>, <span title="Int(200)" class="int">200</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="net.liftweb.http.LiftResponse" class="delimiter">(</span><a title="scala.xml.NodeSeq" id="363607">ns</a>: <span title="scala.xml.NodeSeq">NodeSeq</span>, <a title="List[(String, String)]" id="363608">headers</a>, <a title="List[net.liftweb.http.provider.HTTPCookie]" id="363609">cookies</a>, <a title="net.liftweb.http.Req" id="363610">req</a><span class="delimiter">)</span> =&gt; <a href="#159118" title="(ns: scala.xml.Node, headers: List[(String, String)], cookies: List[net.liftweb.http.provider.HTTPCookie], req: net.liftweb.http.Req, code: Int)net.liftweb.http.LiftResponse">cvt</a><span class="delimiter">(</span><span title="(nodes: Seq[scala.xml.Node])scala.xml.Group">Group</span><span class="delimiter">(</span><a href="#363607" title="scala.xml.NodeSeq">ns</a><span class="delimiter">)</span>, <a href="#363608" title="List[(String, String)]">headers</a>, <a href="#363609" title="List[net.liftweb.http.provider.HTTPCookie]">cookies</a>, <a href="#363610" title="net.liftweb.http.Req">req</a>, <span title="Int(200)" class="int">200</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="net.liftweb.http.LiftResponse" class="delimiter">(</span><span class="delimiter">(</span><a title="scala.xml.NodeSeq" id="363619">ns</a>: <span title="scala.xml.NodeSeq">NodeSeq</span>, <a title="Int" id="363620">code</a>: <span title="Int">Int</span><span class="delimiter">)</span>, <a title="List[(String, String)]" id="363621">headers</a>, <a title="List[net.liftweb.http.provider.HTTPCookie]" id="363622">cookies</a>, <a title="net.liftweb.http.Req" id="363623">req</a><span class="delimiter">)</span> =&gt; <a href="#159118" title="(ns: scala.xml.Node, headers: List[(String, String)], cookies: List[net.liftweb.http.provider.HTTPCookie], req: net.liftweb.http.Req, code: Int)net.liftweb.http.LiftResponse">cvt</a><span class="delimiter">(</span><span title="(nodes: Seq[scala.xml.Node])scala.xml.Group">Group</span><span class="delimiter">(</span><a href="#363619" title="scala.xml.NodeSeq">ns</a><span class="delimiter">)</span>, <a href="#363621" title="List[(String, String)]">headers</a>, <a href="#363622" title="List[net.liftweb.http.provider.HTTPCookie]">cookies</a>, <a href="#363623" title="net.liftweb.http.Req">req</a>, <a href="#363620" title="Int">code</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="net.liftweb.http.LiftResponse" class="delimiter">(</span><a href="../../../../util/net/liftweb/util/Helpers.scala.html#294716" title="(any: Any)Option[Seq[scala.xml.Node]]">SafeNodeSeq</a><span class="delimiter">(</span><a title="Seq[scala.xml.Node]" id="363631">n</a><span class="delimiter">)</span>, <a title="List[(String, String)]" id="363632">headers</a>, <a title="List[net.liftweb.http.provider.HTTPCookie]" id="363633">cookies</a>, <a title="net.liftweb.http.Req" id="363634">req</a><span class="delimiter">)</span> =&gt; <a href="#159118" title="(ns: scala.xml.Node, headers: List[(String, String)], cookies: List[net.liftweb.http.provider.HTTPCookie], req: net.liftweb.http.Req, code: Int)net.liftweb.http.LiftResponse">cvt</a><span class="delimiter">(</span><span title="(nodes: Seq[scala.xml.Node])scala.xml.Group">Group</span><span class="delimiter">(</span><a href="#363631" title="Seq[scala.xml.Node]">n</a><span class="delimiter">)</span>, <a href="#363632" title="List[(String, String)]">headers</a>, <a href="#363633" title="List[net.liftweb.http.provider.HTTPCookie]">cookies</a>, <a href="#363634" title="net.liftweb.http.Req">req</a>, <span title="Int(200)" class="int">200</span><span class="delimiter">)</span>

    <span class="keyword">case</span> <span title="net.liftweb.http.LiftResponse" class="delimiter">(</span>Full<span class="delimiter">(</span><a title="Any" id="363642">o</a><span class="delimiter">)</span>, <a title="List[(String, String)]" id="363643">headers</a>, <a title="List[net.liftweb.http.provider.HTTPCookie]" id="363644">cookies</a>, <a title="net.liftweb.http.Req" id="363645">req</a><span class="delimiter">)</span> =&gt; <a href="#159126" title="(v1: (Any, List[(String, String)], List[net.liftweb.http.provider.HTTPCookie], net.liftweb.http.Req))net.liftweb.http.LiftResponse">convertResponse</a><span class="delimiter">(</span><span title="(_1: Any, _2: List[(String, String)], _3: List[net.liftweb.http.provider.HTTPCookie], _4: net.liftweb.http.Req)(Any, List[(String, String)], List[net.liftweb.http.provider.HTTPCookie], net.liftweb.http.Req)" class="delimiter">(</span><a href="#363642" title="Any">o</a>, <a href="#363643" title="List[(String, String)]">headers</a>, <a href="#363644" title="List[net.liftweb.http.provider.HTTPCookie]">cookies</a>, <a href="#363645" title="net.liftweb.http.Req">req</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">case</span> <span title="net.liftweb.http.LiftResponse" class="delimiter">(</span>Some<span class="delimiter">(</span><a title="Any" id="363664">o</a><span class="delimiter">)</span>, <a title="List[(String, String)]" id="363665">headers</a>, <a title="List[net.liftweb.http.provider.HTTPCookie]" id="363666">cookies</a>, <a title="net.liftweb.http.Req" id="363667">req</a><span class="delimiter">)</span> =&gt; <a href="#159126" title="(v1: (Any, List[(String, String)], List[net.liftweb.http.provider.HTTPCookie], net.liftweb.http.Req))net.liftweb.http.LiftResponse">convertResponse</a><span class="delimiter">(</span><span title="(_1: Any, _2: List[(String, String)], _3: List[net.liftweb.http.provider.HTTPCookie], _4: net.liftweb.http.Req)(Any, List[(String, String)], List[net.liftweb.http.provider.HTTPCookie], net.liftweb.http.Req)" class="delimiter">(</span><a href="#363664" title="Any">o</a>, <a href="#363665" title="List[(String, String)]">headers</a>, <a href="#363666" title="List[net.liftweb.http.provider.HTTPCookie]">cookies</a>, <a href="#363667" title="net.liftweb.http.Req">req</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="net.liftweb.http.LiftResponse" class="delimiter">(</span><a title="Any" id="363684">bad</a>, _, _, <a title="net.liftweb.http.Req" id="363685">req</a><span class="delimiter">)</span> =&gt; <a href="#363685" title="net.liftweb.http.Req">req</a>.<a href="Req.scala.html#149217" title="=&gt; net.liftweb.http.LiftResponse">createNotFound</a>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Set a snippet failure handler here.  The class and method for the snippet are passed in
   */</span>
  <span class="keyword">val</span> <a title="LiftRules.this.RulesSeq[net.liftweb.http.LiftRules.SnippetFailure =&gt; Unit]" id="159128">snippetFailedFunc</a> = <a href="#185518" title="[T]=&gt; LiftRules.this.RulesSeq[T]">RulesSeq</a><span title="LiftRules.this.RulesSeq[net.liftweb.http.LiftRules.SnippetFailure =&gt; Unit]" class="delimiter">[</span>SnippetFailure =&gt; Unit<span class="delimiter">]</span>.<a href="#185553" title="(r: net.liftweb.http.LiftRules.SnippetFailure =&gt; Unit)LiftRules.this.RulesSeq[net.liftweb.http.LiftRules.SnippetFailure =&gt; Unit]">prepend</a><span class="delimiter">(</span><a href="#159130" title="(sf: net.liftweb.http.LiftRules.SnippetFailure)Unit">logSnippetFailure</a> _<span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sf: net.liftweb.http.LiftRules.SnippetFailure)Unit" id="159130">logSnippetFailure</a><span class="delimiter">(</span><a title="net.liftweb.http.LiftRules.SnippetFailure" id="356980">sf</a>: <a href="#356870" title="net.liftweb.http.LiftRules.SnippetFailure">SnippetFailure</a><span class="delimiter">)</span> = <a href="../../../../common/net/liftweb/common/Logging.scala.html#43091" title="=&gt; net.liftweb.common.Logger">logger</a>.<a href="../../../../common/net/liftweb/common/Logging.scala.html#31948" title="(msg: =&gt; AnyRef)Unit">info</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Snippet Failure: &quot;)" class="string">&quot;Snippet Failure: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#356980" title="net.liftweb.http.LiftRules.SnippetFailure">sf</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Set to false if you do not want Ajax/Comet requests that are not associated with a session
   * to cause a page reload
   */</span>
  @volatile <span class="keyword">var</span> <a title="Boolean" id="159132">redirectAjaxOnSessionLoss</a> = <span title="Boolean(true)" class="keyword">true</span>


  <span class="comment">/**
   * The sequence of partial functions (pattern matching) for handling converting an exception to something to
   * be sent to the browser depending on the current RunMode (development, etc.)
   *
   * By default it returns an XhtmlResponse containing a predefined markup. You can overwrite this by calling
   * LiftRules.exceptionHandler.prepend(...). If you are calling append then your code will not be calle since
   * a default implementation is already appended.
   *
   */</span>
  @volatile <span class="keyword">var</span> <a title="LiftRules.this.RulesSeq[net.liftweb.http.LiftRules.ExceptionHandlerPF]" id="159135">exceptionHandler</a> = <a href="#185518" title="[T]=&gt; LiftRules.this.RulesSeq[T]">RulesSeq</a><span title="LiftRules.this.RulesSeq[net.liftweb.http.LiftRules.ExceptionHandlerPF]" class="delimiter">[</span><span title="net.liftweb.http.LiftRules.ExceptionHandlerPF">ExceptionHandlerPF</span><span class="delimiter">]</span>.<a href="#185555" title="(r: net.liftweb.http.LiftRules.ExceptionHandlerPF)LiftRules.this.RulesSeq[net.liftweb.http.LiftRules.ExceptionHandlerPF]">append</a> <a href="#356990" title="net.liftweb.http.LiftResponse" class="delimiter">{</a>
    <span class="keyword">case</span> <span title="net.liftweb.http.XhtmlResponse" class="delimiter">(</span><a href="../../../../util/net/liftweb/util/Props.scala.html#13579" title="object net.liftweb.util.Props">Props</a>.<a href="../../../../util/net/liftweb/util/Props.scala.html#151308" title="object net.liftweb.util.Props.RunModes">RunModes</a>.<a href="../../../../util/net/liftweb/util/Props.scala.html#151346" title="=&gt; net.liftweb.util.Props.RunModes.Value">Development</a>, <a title="net.liftweb.http.Req" id="356994">r</a>, <a title="Throwable" id="356995">e</a><span class="delimiter">)</span> =&gt;
      <a href="../../../../common/net/liftweb/common/Logging.scala.html#43091" title="=&gt; net.liftweb.common.Logger">logger</a>.<a href="../../../../common/net/liftweb/common/Logging.scala.html#31960" title="(msg: =&gt; AnyRef)Unit">error</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Exception being returned to browser when processing &quot;)" class="string">&quot;Exception being returned to browser when processing &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#356994" title="net.liftweb.http.Req">r</a>.<a href="Req.scala.html#149224" title="=&gt; String">uri</a>.<span title="()java.lang.String">toString</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#159143" title="(le: Throwable)String">showException</a><span class="delimiter">(</span><a href="#356995" title="Throwable">e</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="LiftResponse.scala.html#355533" title="(out: scala.xml.Node, __docType: net.liftweb.common.Box[String], _headers: List[(String, String)], cookies: List[net.liftweb.http.provider.HTTPCookie], code: Int, renderInIEMode: Boolean)net.liftweb.http.XhtmlResponse">XhtmlResponse</a><span class="delimiter">(</span><span class="delimiter">(</span>&lt;<a title="scala.xml.Elem" id="357006">html</a>&gt; &lt;<a title="scala.xml.Elem" id="357007">body</a>&gt;<span title="scala.xml.Text">Exception</span> occured <span class="keyword">while</span> processing <span class="delimiter">{</span><a href="#356994" title="net.liftweb.http.Req">r</a>.<a href="Req.scala.html#149224" title="=&gt; String">uri</a><span class="delimiter">}</span>&lt;<a title="scala.xml.Elem" id="357008">pre</a>&gt;<span class="delimiter">{</span><a href="#159143" title="(le: Throwable)String">showException</a><span class="delimiter">(</span><a href="#356995" title="Throwable">e</a><span class="delimiter">)</span><span class="delimiter">}</span>&lt;/pre&gt; &lt;/body&gt; &lt;/html&gt;<span class="delimiter">)</span>, <a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49325" title="=&gt; net.liftweb.http.HtmlProperties">htmlProperties</a>.<a href="HtmlProperties.scala.html#349001" title="=&gt; net.liftweb.common.Box[String]">docType</a>, <span title="(xs: net.liftweb.util.Helpers.TheStrBindParam*)List[net.liftweb.util.Helpers.TheStrBindParam]">List</span><span class="delimiter">(</span><a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;Content-Type&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58380" title="(in: String)net.liftweb.util.Helpers.TheStrBindParam">-&gt;</a> <span title="java.lang.String(&quot;text/html; charset=utf-8&quot;)" class="string">&quot;text/html; charset=utf-8&quot;</span><span class="delimiter">)</span>, <span title="object Nil">Nil</span>, <span title="Int(500)" class="int">500</span>, <a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49324" title="=&gt; Boolean">ieMode</a><span class="delimiter">)</span>

    <span class="keyword">case</span> <span title="net.liftweb.http.XhtmlResponse" class="delimiter">(</span>_, <a title="net.liftweb.http.Req" id="357061">r</a>, <a title="Throwable" id="357062">e</a><span class="delimiter">)</span> =&gt;
      <a href="../../../../common/net/liftweb/common/Logging.scala.html#43091" title="=&gt; net.liftweb.common.Logger">logger</a>.<a href="../../../../common/net/liftweb/common/Logging.scala.html#31961" title="(msg: =&gt; AnyRef, t: Throwable)Unit">error</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Exception being returned to browser when processing &quot;)" class="string">&quot;Exception being returned to browser when processing &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#357061" title="net.liftweb.http.Req">r</a>, <a href="#357062" title="Throwable">e</a><span class="delimiter">)</span>
      <a href="LiftResponse.scala.html#355533" title="(out: scala.xml.Node, __docType: net.liftweb.common.Box[String], _headers: List[(String, String)], cookies: List[net.liftweb.http.provider.HTTPCookie], code: Int, renderInIEMode: Boolean)net.liftweb.http.XhtmlResponse">XhtmlResponse</a><span class="delimiter">(</span><span class="delimiter">(</span>&lt;<a title="scala.xml.Elem" id="357070">html</a>&gt; &lt;<a title="scala.xml.Elem" id="357071">body</a>&gt;<span title="scala.xml.Text">Something</span> unexpected happened <span class="keyword">while</span> serving the page at <span class="delimiter">{</span><a href="#357061" title="net.liftweb.http.Req">r</a>.<a href="Req.scala.html#149224" title="=&gt; String">uri</a><span class="delimiter">}</span>&lt;/body&gt; &lt;/html&gt;<span class="delimiter">)</span>, <a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49325" title="=&gt; net.liftweb.http.HtmlProperties">htmlProperties</a>.<a href="HtmlProperties.scala.html#349001" title="=&gt; net.liftweb.common.Box[String]">docType</a>, <span title="(xs: net.liftweb.util.Helpers.TheStrBindParam*)List[net.liftweb.util.Helpers.TheStrBindParam]">List</span><span class="delimiter">(</span><a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;Content-Type&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58380" title="(in: String)net.liftweb.util.Helpers.TheStrBindParam">-&gt;</a> <span title="java.lang.String(&quot;text/html; charset=utf-8&quot;)" class="string">&quot;text/html; charset=utf-8&quot;</span><span class="delimiter">)</span>, <span title="object Nil">Nil</span>, <span title="Int(500)" class="int">500</span>, <a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49324" title="=&gt; Boolean">ieMode</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * The list of partial function for defining the behavior of what happens when
   * URI is invalid and you're not using a site map
   *
   */</span>
  <span class="keyword">val</span> <a title="LiftRules.this.RulesSeq[net.liftweb.http.LiftRules.URINotFoundPF]" id="159137">uriNotFound</a> = <a href="#185518" title="[T]=&gt; LiftRules.this.RulesSeq[T]">RulesSeq</a><span title="LiftRules.this.RulesSeq[net.liftweb.http.LiftRules.URINotFoundPF]" class="delimiter">[</span><span title="net.liftweb.http.LiftRules.URINotFoundPF">URINotFoundPF</span><span class="delimiter">]</span>.<a href="#185553" title="(r: net.liftweb.http.LiftRules.URINotFoundPF)LiftRules.this.RulesSeq[net.liftweb.http.LiftRules.URINotFoundPF]">prepend</a><span class="delimiter">(</span><a href="../../../../util/net/liftweb/util/NamedPartialFunction.scala.html#185565" title="(name: String)(f: PartialFunction[(net.liftweb.http.Req, net.liftweb.common.Box[net.liftweb.common.Failure]),net.liftweb.http.NotFound])net.liftweb.util.NamedPartialFunction[(net.liftweb.http.Req, net.liftweb.common.Box[net.liftweb.common.Failure]),net.liftweb.http.NotFound]">NamedPF</a><span class="delimiter">(</span><span title="java.lang.String(&quot;default&quot;)" class="string">&quot;default&quot;</span><span class="delimiter">)</span> <a href="#357143" title="net.liftweb.http.NotFound" class="delimiter">{</a>
    <span class="keyword">case</span> <span title="net.liftweb.http.DefaultNotFound.type" class="delimiter">(</span><a title="net.liftweb.http.Req" id="357146">r</a>, _<span class="delimiter">)</span> =&gt; <a href="#367723" title="object net.liftweb.http.DefaultNotFound">DefaultNotFound</a>
  <span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="comment">/**
   * If you use the form attribute in a snippet invocation, what attributes should
   * be copied from the snippet invocation tag to the form tag.  The
   * default list is &quot;class&quot;, &quot;id&quot;, &quot;target&quot;, &quot;style&quot;, &quot;onsubmit&quot;
   */</span>
  <span class="keyword">val</span> <a title="LiftRules.this.FactoryMaker[List[String]]" id="159139">formAttrs</a>: <a href="Factory.scala.html#147868" title="LiftRules.this.FactoryMaker[List[String]]">FactoryMaker</a><span class="delimiter">[</span>List<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#363688" title="LiftRules.this.FactoryMaker[List[java.lang.String]]" class="keyword">new</a> <a title="anonymous class $anon extends LiftRules.this.FactoryMaker[List[java.lang.String]]" id="363688">FactoryMaker</a><span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span title="(xs: java.lang.String*)List[java.lang.String]">List</span><span class="delimiter">(</span><span title="java.lang.String(&quot;class&quot;)" class="string">&quot;class&quot;</span>, <span title="java.lang.String(&quot;id&quot;)" class="string">&quot;id&quot;</span>, <span title="java.lang.String(&quot;target&quot;)" class="string">&quot;target&quot;</span>, <span title="java.lang.String(&quot;style&quot;)" class="string">&quot;style&quot;</span>, <span title="java.lang.String(&quot;onsubmit&quot;)" class="string">&quot;onsubmit&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span><span class="delimiter">}</span>

  <span class="comment">/**
   * By default, Http response headers are appended.  However, there are
   * some headers that should only appear once (for example &quot;expires&quot;).  This
   * Vendor vends the list of header responses that can only appear once.
   */</span>
  <span class="keyword">val</span> <a title="LiftRules.this.FactoryMaker[List[String]]" id="159141">overwrittenReponseHeaders</a>: <a href="Factory.scala.html#147868" title="LiftRules.this.FactoryMaker[List[String]]">FactoryMaker</a><span class="delimiter">[</span>List<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#363841" title="LiftRules.this.FactoryMaker[List[java.lang.String]]" class="keyword">new</a> <a title="anonymous class $anon extends LiftRules.this.FactoryMaker[List[java.lang.String]]" id="363841">FactoryMaker</a><span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span title="(xs: java.lang.String*)List[java.lang.String]">List</span><span class="delimiter">(</span><span title="java.lang.String(&quot;expires&quot;)" class="string">&quot;expires&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span><span class="delimiter">}</span>

  <span class="comment">/**
   * A utility method to convert an exception to a string of stack traces
   * @param le the exception
   *
   * @return the stack trace
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(le: Throwable)String" id="159143">showException</a><span class="delimiter">(</span><a title="Throwable" id="356998">le</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.lang.String" id="363994">ret</a> = <span title="java.lang.String(&quot;Message: &quot;)" class="string">&quot;Message: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#356998" title="Throwable">le</a>.<span title="()java.lang.String">toString</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\012\011&quot;)" class="string">&quot;\n\t&quot;</span> <span title="(x$1: Any)java.lang.String">+</span>
            <a href="#356998" title="Throwable">le</a>.<span title="(xs: Array[java.lang.StackTraceElement])scala.collection.mutable.ArrayOps[java.lang.StackTraceElement]">getStackTrace</span>.<span title="(f: java.lang.StackTraceElement =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[Array[java.lang.StackTraceElement],java.lang.String,Array[java.lang.String]])Array[java.lang.String]">map</span><span title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]" class="delimiter">(</span><a href="#364441" title="java.lang.StackTraceElement">_</a>.<span title="()java.lang.String">toString</span><span class="delimiter">)</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;\012\011&quot;)" class="string">&quot;\n\t&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span>

    <span class="keyword">val</span> <a title="java.lang.String" id="363995">also</a> = <a href="#356998" title="Throwable">le</a>.<span title="()java.lang.Throwable">getCause</span> <span title="java.lang.String" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="java.lang.String(&quot;&quot;)" class="keyword">null</span> =&gt; <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
      <span class="keyword">case</span> <a title="java.lang.String" id="364610">sub</a>: <span title="Throwable">Throwable</span> =&gt; <span title="java.lang.String(&quot;\012Caught and thrown by:\012&quot;)" class="string">&quot;\nCaught and thrown by:\n&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#159143" title="(le: Throwable)String">showException</a><span class="delimiter">(</span><a href="#364610" title="java.lang.Throwable">sub</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <a href="#363994" title="java.lang.String">ret</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#363995" title="java.lang.String">also</a>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Modifies the root relative paths from the css url-s
   *
   * @param path - the path of the css resource
   * @prefix - the prefix to be added on the root relative paths. If this is Empty
   * 	       the prefix will be the application context path.
   */</span>
  <span class="keyword">def</span> <a title="(path: List[String], prefix: net.liftweb.common.Box[String])Unit" id="159144">fixCSS</a><span class="delimiter">(</span><a title="List[String]" id="364611">path</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span>, <a title="net.liftweb.common.Box[String]" id="364612">prefix</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[String]">Box</a><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>

    <span class="keyword">val</span> <a title="net.liftweb.http.LiftRules.LiftRequestPF" id="364614">liftReq</a>: LiftRules.<span title="net.liftweb.http.LiftRules.LiftRequestPF">LiftRequestPF</span> = <a href="#364616" title="java.lang.Object with PartialFunction[net.liftweb.http.Req,Boolean]{}" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with PartialFunction[net.liftweb.http.Req,Boolean]" id="364616">LiftRules</a>.<span title="PartialFunction[net.liftweb.http.Req,Boolean]">LiftRequestPF</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="364624">functionName</a> = <span title="java.lang.String(&quot;Default CSS Fixer&quot;)" class="string">&quot;Default CSS Fixer&quot;</span>

      <span class="keyword">def</span> <a title="(r: net.liftweb.http.Req)Boolean" id="364625">isDefinedAt</a><span class="delimiter">(</span><a title="net.liftweb.http.Req" id="364627">r</a>: <a href="Req.scala.html#14573" title="net.liftweb.http.Req">Req</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
        <a href="#364627" title="net.liftweb.http.Req">r</a>.<a href="Req.scala.html#149137" title="=&gt; net.liftweb.http.ParsePath">path</a>.<a href="Req.scala.html#216847" title="=&gt; List[String]">partPath</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#364611" title="List[String]">path</a>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(r: net.liftweb.http.Req)Boolean" id="364626">apply</a><span class="delimiter">(</span><a title="net.liftweb.http.Req" id="364630">r</a>: <a href="Req.scala.html#14573" title="net.liftweb.http.Req">Req</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
        <a href="#364630" title="net.liftweb.http.Req">r</a>.<a href="Req.scala.html#149137" title="=&gt; net.liftweb.http.ParsePath">path</a>.<a href="Req.scala.html#216847" title="=&gt; List[String]">partPath</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#364611" title="List[String]">path</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">val</span> <a title="net.liftweb.http.LiftRules.DispatchPF" id="364615">cssFixer</a>: LiftRules.<span title="net.liftweb.http.LiftRules.DispatchPF">DispatchPF</span> = <a href="#364650" title="java.lang.Object with PartialFunction[net.liftweb.http.Req,() =&gt; net.liftweb.common.Box[net.liftweb.http.LiftResponse]]{}" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with PartialFunction[net.liftweb.http.Req,() =&gt; net.liftweb.common.Box[net.liftweb.http.LiftResponse]]" id="364650">LiftRules</a>.<span title="PartialFunction[net.liftweb.http.Req,() =&gt; net.liftweb.common.Box[net.liftweb.http.LiftResponse]]">DispatchPF</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="364658">functionName</a> = <span title="java.lang.String(&quot;default css fixer&quot;)" class="string">&quot;default css fixer&quot;</span>

      <span class="keyword">def</span> <a title="(r: net.liftweb.http.Req)Boolean" id="364659">isDefinedAt</a><span class="delimiter">(</span><a title="net.liftweb.http.Req" id="364661">r</a>: <a href="Req.scala.html#14573" title="net.liftweb.http.Req">Req</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
        <a href="#364661" title="net.liftweb.http.Req">r</a>.<a href="Req.scala.html#149137" title="=&gt; net.liftweb.http.ParsePath">path</a>.<a href="Req.scala.html#216847" title="=&gt; List[String]">partPath</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#364611" title="List[String]">path</a>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(r: net.liftweb.http.Req)() =&gt; net.liftweb.common.Box[net.liftweb.http.LiftResponse]" id="364660">apply</a><span class="delimiter">(</span><a title="net.liftweb.http.Req" id="364664">r</a>: <a href="Req.scala.html#14573" title="net.liftweb.http.Req">Req</a><span class="delimiter">)</span>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Box<span class="delimiter">[</span>LiftResponse<span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="String" id="364678">cssPath</a> = <a href="#364611" title="List[String]">path</a>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span>, <span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span>, <span title="java.lang.String(&quot;.css&quot;)" class="string">&quot;.css&quot;</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="net.liftweb.common.Box[String]" id="364679">css</a> = <a href="#158817" title="implicit net.liftweb.http.LiftRulesMocker.toLiftRules : (in: net.liftweb.http.LiftRulesMocker)net.liftweb.http.LiftRules">LiftRules</a>.<a href="#159092" title="(name: String)net.liftweb.common.Box[String]">loadResourceAsString</a><span class="delimiter">(</span><a href="#364678" title="String">cssPath</a><span class="delimiter">)</span>;

        <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
          <a href="#364679" title="net.liftweb.common.Box[String]">css</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: String =&gt; net.liftweb.http.LiftResponse)net.liftweb.common.Box[net.liftweb.http.LiftResponse]">map</a><span class="delimiter">(</span><a title="String" id="364691">str</a> =&gt; <a href="../../../../util/net/liftweb/util/CSSHelpers.scala.html#13184" title="object net.liftweb.util.CSSHelpers">CSSHelpers</a>.<a href="../../../../util/net/liftweb/util/CSSHelpers.scala.html#284050" title="(in: java.io.Reader, rootPrefix: String)(net.liftweb.common.Box[String], String)">fixCSS</a><span class="delimiter">(</span><span title="(x$1: java.io.Reader)java.io.BufferedReader" class="keyword">new</span> <span title="java.io.BufferedReader">BufferedReader</span><span class="delimiter">(</span>
            <span title="java.io.StringReader" class="keyword">new</span> <span title="java.io.StringReader">StringReader</span><span class="delimiter">(</span><a href="#364691" title="String">str</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#364612" title="net.liftweb.common.Box[String]">prefix</a> <a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; String)String">openOr</a> <span class="delimiter">(</span><a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49480" title="=&gt; String">contextPath</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="net.liftweb.http.LiftResponse" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="net.liftweb.http.CSSResponse" class="delimiter">(</span>Full<span class="delimiter">(</span><a title="String" id="364702">c</a><span class="delimiter">)</span>, _<span class="delimiter">)</span> =&gt; <a href="LiftResponse.scala.html#355013" title="(text: String)net.liftweb.http.CSSResponse">CSSResponse</a><span class="delimiter">(</span><a href="#364702" title="String">c</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="net.liftweb.http.CSSResponse" class="delimiter">(</span>_, <a title="String" id="364711">input</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
              <a href="../../../../common/net/liftweb/common/Logging.scala.html#43091" title="=&gt; net.liftweb.common.Logger">logger</a>.<a href="../../../../common/net/liftweb/common/Logging.scala.html#31948" title="(msg: =&gt; AnyRef)Unit">info</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Fixing &quot;)" class="string">&quot;Fixing &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#364678" title="String">cssPath</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; failed&quot;)" class="string">&quot; failed&quot;</span><span class="delimiter">)</span>;
              <a href="LiftResponse.scala.html#355013" title="(text: String)net.liftweb.http.CSSResponse">CSSResponse</a><span class="delimiter">(</span><a href="#364711" title="String">input</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <a href="#158817" title="implicit net.liftweb.http.LiftRulesMocker.toLiftRules : (in: net.liftweb.http.LiftRulesMocker)net.liftweb.http.LiftRules">LiftRules</a>.<a href="#159095" title="=&gt; net.liftweb.http.LiftRules#RulesSeq[PartialFunction[net.liftweb.http.Req,() =&gt; net.liftweb.common.Box[net.liftweb.http.LiftResponse]]]">dispatch</a>.<a href="#185553" title="(r: PartialFunction[net.liftweb.http.Req,() =&gt; net.liftweb.common.Box[net.liftweb.http.LiftResponse]])net.liftweb.http.LiftRules#RulesSeq[PartialFunction[net.liftweb.http.Req,() =&gt; net.liftweb.common.Box[net.liftweb.http.LiftResponse]]]">prepend</a><span class="delimiter">(</span><a href="#364615" title="net.liftweb.http.LiftRules.DispatchPF">cssFixer</a><span class="delimiter">)</span>
    <a href="#158817" title="implicit net.liftweb.http.LiftRulesMocker.toLiftRules : (in: net.liftweb.http.LiftRulesMocker)net.liftweb.http.LiftRules">LiftRules</a>.<a href="#159093" title="=&gt; net.liftweb.http.LiftRules#RulesSeq[PartialFunction[net.liftweb.http.Req,Boolean]]">liftRequest</a>.<a href="#185555" title="(r: PartialFunction[net.liftweb.http.Req,Boolean])net.liftweb.http.LiftRules#RulesSeq[PartialFunction[net.liftweb.http.Req,Boolean]]">append</a><span title="Unit" class="delimiter">(</span><a href="#364614" title="net.liftweb.http.LiftRules.LiftRequestPF">liftReq</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Holds user function hooks when the request is about to be processed
   */</span>
  <span class="keyword">val</span> <a title="LiftRules.this.RulesSeq[net.liftweb.http.Req =&gt; Unit]" id="159145">onBeginServicing</a> = <a href="#185518" title="[T]=&gt; LiftRules.this.RulesSeq[T]">RulesSeq</a><span title="LiftRules.this.RulesSeq[net.liftweb.http.Req =&gt; Unit]" class="delimiter">[</span>Req =&gt; Unit<span class="delimiter">]</span>

  <span class="keyword">val</span> <a title="preAccessControlResponse_!! extends LiftRules.this.RulesSeq[net.liftweb.http.Req =&gt; net.liftweb.common.Box[net.liftweb.http.LiftResponse]] with LiftRules.this.FirstBox[net.liftweb.http.Req,net.liftweb.http.LiftResponse]" id="159147">preAccessControlResponse_!!</a> = <a href="#357150" title="LiftRules.this.RulesSeq[net.liftweb.http.Req =&gt; net.liftweb.common.Box[net.liftweb.http.LiftResponse]] with LiftRules.this.FirstBox[net.liftweb.http.Req,net.liftweb.http.LiftResponse]" class="keyword">new</a> <a title="anonymous class $anon extends LiftRules.this.RulesSeq[net.liftweb.http.Req =&gt; net.liftweb.common.Box[net.liftweb.http.LiftResponse]] with LiftRules.this.FirstBox[net.liftweb.http.Req,net.liftweb.http.LiftResponse]" id="357150">RulesSeq</a><span class="delimiter">[</span>Req =&gt; Box<span class="delimiter">[</span>LiftResponse<span class="delimiter">]</span><span class="delimiter">]</span> <span class="keyword">with</span> <a href="#159274" title="LiftRules.this.FirstBox[net.liftweb.http.Req,net.liftweb.http.LiftResponse]">FirstBox</a><span class="delimiter">[</span>Req, LiftResponse<span class="delimiter">]</span>

  <span class="keyword">val</span> <a title="earlyResponse extends LiftRules.this.RulesSeq[net.liftweb.http.Req =&gt; net.liftweb.common.Box[net.liftweb.http.LiftResponse]] with LiftRules.this.FirstBox[net.liftweb.http.Req,net.liftweb.http.LiftResponse]" id="159149">earlyResponse</a> = <a href="#357163" title="LiftRules.this.RulesSeq[net.liftweb.http.Req =&gt; net.liftweb.common.Box[net.liftweb.http.LiftResponse]] with LiftRules.this.FirstBox[net.liftweb.http.Req,net.liftweb.http.LiftResponse]" class="keyword">new</a> <a title="anonymous class $anon extends LiftRules.this.RulesSeq[net.liftweb.http.Req =&gt; net.liftweb.common.Box[net.liftweb.http.LiftResponse]] with LiftRules.this.FirstBox[net.liftweb.http.Req,net.liftweb.http.LiftResponse]" id="357163">RulesSeq</a><span class="delimiter">[</span>Req =&gt; Box<span class="delimiter">[</span>LiftResponse<span class="delimiter">]</span><span class="delimiter">]</span> <span class="keyword">with</span> <a href="#159274" title="LiftRules.this.FirstBox[net.liftweb.http.Req,net.liftweb.http.LiftResponse]">FirstBox</a><span class="delimiter">[</span>Req, LiftResponse<span class="delimiter">]</span>

  <span class="comment">/**
   * Holds user function hooks when the request was processed
   */</span>
  <span class="keyword">val</span> <a title="LiftRules.this.RulesSeq[(net.liftweb.http.Req, net.liftweb.common.Box[net.liftweb.http.LiftResponse]) =&gt; Unit]" id="159151">onEndServicing</a> = <a href="#185518" title="[T]=&gt; LiftRules.this.RulesSeq[T]">RulesSeq</a><span title="LiftRules.this.RulesSeq[(net.liftweb.http.Req, net.liftweb.common.Box[net.liftweb.http.LiftResponse]) =&gt; Unit]" class="delimiter">[</span><span class="delimiter">(</span>Req, Box<span class="delimiter">[</span>LiftResponse<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; Unit<span class="delimiter">]</span>

  <span class="comment">/**
   * Tells Lift if the Comet JavaScript shoukd be included. By default it is set to true.
   */</span>
  @volatile <span class="keyword">var</span> <a title="net.liftweb.http.LiftSession =&gt; Boolean" id="159154">autoIncludeComet</a>: LiftSession =&gt; Boolean = <a title="net.liftweb.http.LiftSession" id="364738">session</a> =&gt; <span title="Boolean(true)" class="keyword">true</span>

  <span class="comment">/**
   * Tells Lift if the Ajax JavaScript shoukd be included. By default it is set to true.
   */</span>
  @volatile <span class="keyword">var</span> <a title="net.liftweb.http.LiftSession =&gt; Boolean" id="159157">autoIncludeAjax</a>: LiftSession =&gt; Boolean = <a title="net.liftweb.http.LiftSession" id="364740">session</a> =&gt; <span title="Boolean(true)" class="keyword">true</span>

  <span class="comment">/**
   * Define the XHTML validator
   */</span>
  @volatile <span class="keyword">var</span> <a title="net.liftweb.common.Box[net.liftweb.http.XHtmlValidator]" id="159160">xhtmlValidator</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.http.XHtmlValidator]">Box</a><span class="delimiter">[</span>XHtmlValidator<span class="delimiter">]</span> = <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a> <span class="comment">// Full(TransitionalXHTML1_0Validator)</span>

  <span class="comment">/**
   * Returns the JavaScript that manages Ajax requests.
   */</span>
  @volatile <span class="keyword">var</span> <a title="net.liftweb.http.LiftSession =&gt; net.liftweb.http.js.JsCmd" id="159163">renderAjaxScript</a>: LiftSession =&gt; JsCmd = <a title="net.liftweb.http.LiftSession" id="364742">session</a> =&gt; <a href="js/ScriptRenderer.scala.html#14964" title="object net.liftweb.http.js.ScriptRenderer">ScriptRenderer</a>.<a href="js/ScriptRenderer.scala.html#364744" title="=&gt; net.liftweb.http.js.JsCmds.Run">ajaxScript</a>

  @volatile <span class="keyword">var</span> <a title="Int" id="159166">ajaxPostTimeout</a> = <span title="Int(5000)" class="int">5000</span>

  @volatile <span class="keyword">var</span> <a title="Int" id="159169">cometGetTimeout</a> = <span title="Int(140000)" class="int">140000</span>

  @volatile <span class="keyword">var</span> <a title="net.liftweb.http.provider.HTTPResponse =&gt; Unit" id="159172">supplimentalHeaders</a>: HTTPResponse =&gt; Unit = <a title="net.liftweb.http.provider.HTTPResponse" id="364963">s</a> =&gt; <a href="#364963" title="net.liftweb.http.provider.HTTPResponse">s</a>.<a href="provider/HTTPResponse.scala.html#364966" title="(headers: List[net.liftweb.http.provider.HTTPParam])Unit">addHeaders</a><span class="delimiter">(</span><span title="(xs: net.liftweb.http.provider.HTTPParam*)List[net.liftweb.http.provider.HTTPParam]">List</span><span class="delimiter">(</span><a href="provider/HTTPParam.scala.html#364987" title="(name: String, value: String)net.liftweb.http.provider.HTTPParam">HTTPParam</a><span class="delimiter">(</span><span title="java.lang.String(&quot;X-Lift-Version&quot;)" class="string">&quot;X-Lift-Version&quot;</span>, <a href="#158902" title="=&gt; String">liftVersion</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  @volatile <span class="keyword">var</span> <a title="() =&gt; Boolean" id="159175">calcIE6ForResponse</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Boolean = <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="S.scala.html#49309" title="=&gt; net.liftweb.common.Box[net.liftweb.http.Req]">request</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: net.liftweb.http.Req =&gt; Boolean)net.liftweb.common.Box[Boolean]">map</a><span class="delimiter">(</span><a href="#365020" title="net.liftweb.http.Req">_</a>.<a href="Req.scala.html#149249" title="=&gt; Boolean">isIE6</a><span class="delimiter">)</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; Boolean)Boolean">openOr</a> <span title="Boolean(false)" class="keyword">false</span>

  @volatile <span class="keyword">var</span> <a title="Boolean" id="159178">flipDocTypeForIE6</a> = <span title="Boolean(true)" class="keyword">true</span>

  <span class="comment">/**
   * By default lift uses a garbage-collection mechanism of removing unused bound functions from LiftSesssion.
   * Setting this to false will disable this mechanims and there will be no Ajax polling requests attempted.
   */</span>
  @volatile <span class="keyword">var</span> <a title="Boolean" id="159181">enableLiftGC</a> = <span title="Boolean(true)" class="keyword">true</span>;

  <span class="comment">/**
   * If Lift garbage collection is enabled, functions that are not seen in the page for this period of time
   * (given in milliseonds) will be discarded, hence eligibe for garbage collection.
   * The default value is 10 minutes.
   */</span>
  @volatile <span class="keyword">var</span> <a title="Long" id="159184">unusedFunctionsLifeTime</a>: <span title="Long">Long</span> = <a href="../../../../util/net/liftweb/util/TimeHelpers.scala.html#48777" title="implicit net.liftweb.util.TimeHelpers.intToTimeSpanBuilder : (in: Int)net.liftweb.util.Helpers.TimeSpanBuilder" class="int">10</a> <a href="../../../../util/net/liftweb/util/TimeHelpers.scala.html#188674" title="implicit net.liftweb.util.ConvertableToDate.toMillis : (in: net.liftweb.util.ConvertableToDate)Long">minutes</a>

  <span class="comment">/**
   * The polling interval for background Ajax requests to prevent functions of being garbage collected.
   * Default value is set to 75 seconds.
   */</span>
  @volatile <span class="keyword">var</span> <a title="Long" id="159187">liftGCPollingInterval</a>: <span title="Long">Long</span> = <a href="../../../../util/net/liftweb/util/TimeHelpers.scala.html#48777" title="implicit net.liftweb.util.TimeHelpers.intToTimeSpanBuilder : (in: Int)net.liftweb.util.Helpers.TimeSpanBuilder" class="int">75</a> <a href="../../../../util/net/liftweb/util/TimeHelpers.scala.html#188674" title="implicit net.liftweb.util.ConvertableToDate.toMillis : (in: net.liftweb.util.ConvertableToDate)Long">seconds</a>

  <span class="comment">/**
   * Put a test for being logged in into this function
   */</span>
  @volatile <span class="keyword">var</span> <a title="net.liftweb.common.Box[() =&gt; Boolean]" id="159190">loggedInTest</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[() =&gt; Boolean]">Box</a><span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Boolean<span class="delimiter">]</span> = <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>

  <span class="comment">/**
   * The polling interval for background Ajax requests to keep functions to not be garbage collected.
   * This will be applied if the Ajax request will fail. Default value is set to 15 seconds.
   */</span>
  @volatile <span class="keyword">var</span> <a title="Long" id="159193">liftGCFailureRetryTimeout</a>: <span title="Long">Long</span> = <a href="../../../../util/net/liftweb/util/TimeHelpers.scala.html#48777" title="implicit net.liftweb.util.TimeHelpers.intToTimeSpanBuilder : (in: Int)net.liftweb.util.Helpers.TimeSpanBuilder" class="int">15</a> <a href="../../../../util/net/liftweb/util/TimeHelpers.scala.html#188674" title="implicit net.liftweb.util.ConvertableToDate.toMillis : (in: net.liftweb.util.ConvertableToDate)Long">seconds</a>

  <span class="comment">/**
   * Returns the JavaScript that manages Comet requests.
   */</span>
  @volatile <span class="keyword">var</span> <a title="net.liftweb.http.LiftSession =&gt; net.liftweb.http.js.JsCmd" id="159196">renderCometScript</a>: LiftSession =&gt; JsCmd = <a title="net.liftweb.http.LiftSession" id="365039">session</a> =&gt; <a href="js/ScriptRenderer.scala.html#14964" title="object net.liftweb.http.js.ScriptRenderer">ScriptRenderer</a>.<a href="js/ScriptRenderer.scala.html#364745" title="=&gt; net.liftweb.http.js.JsCmds.Run">cometScript</a>

  <span class="comment">/**
   * Renders that JavaScript that holds Comet identification information
   */</span>
  @volatile <span class="keyword">var</span> <a title="(net.liftweb.http.LiftSession, Seq[net.liftweb.http.CometVersionPair]) =&gt; net.liftweb.http.js.JsCmd" id="159199">renderCometPageContents</a>: <span class="delimiter">(</span>LiftSession, Seq<span class="delimiter">[</span>CometVersionPair<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; JsCmd =
  <span class="delimiter">(</span><a title="net.liftweb.http.LiftSession" id="365083">session</a>, <a title="Seq[net.liftweb.http.CometVersionPair]" id="365084">vp</a><span class="delimiter">)</span> =&gt; <a href="js/JsCommands.scala.html#14916" title="object net.liftweb.http.js.JsCmds">JsCmds</a>.<a href="js/JsCommands.scala.html#196384" title="(text: String)net.liftweb.http.js.JsCmds.Run">Run</a><span class="delimiter">(</span>
    <span title="java.lang.String(&quot;var lift_toWatch = &quot;)" class="string">&quot;var lift_toWatch = &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#365084" title="Seq[net.liftweb.http.CometVersionPair]">vp</a>.<span title="(f: net.liftweb.http.CometVersionPair =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[net.liftweb.http.CometVersionPair],java.lang.String,Seq[java.lang.String]])Seq[java.lang.String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,java.lang.String,Seq[java.lang.String]]" class="delimiter">(</span><a title="net.liftweb.http.CometVersionPair" id="365102">p</a> =&gt; <a href="#365102" title="net.liftweb.http.CometVersionPair">p</a>.<a href="../../../../util/net/liftweb/util/StringHelpers.scala.html#48858" title="implicit net.liftweb.util.StringHelpers.stringToSuper : (in: String)net.liftweb.util.SuperString">guid</a>.<a href="../../../../util/net/liftweb/util/StringHelpers.scala.html#58436" title="=&gt; String">encJs</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#365102" title="net.liftweb.http.CometVersionPair">p</a>.<a href="#350543" title="=&gt; Long">version</a><span class="delimiter">)</span>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;{&quot;)" class="string">&quot;{&quot;</span>, <span title="java.lang.String(&quot; , &quot;)" class="string">&quot; , &quot;</span>, <span title="java.lang.String(&quot;}&quot;)" class="string">&quot;}&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;;&quot;)" class="string">&quot;;&quot;</span>
    <span class="delimiter">)</span>

  <span class="comment">/**
   * Holds the last update time of the Ajax request. Based on this server mayreturn HTTP 304 status
   * indicating the client to used the cached information.
   */</span>
  @volatile <span class="keyword">var</span> <a title="net.liftweb.http.LiftSession =&gt; Long" id="159202">ajaxScriptUpdateTime</a>: LiftSession =&gt; Long = <a title="net.liftweb.http.LiftSession" id="365128">session</a> =&gt; <span class="delimiter">{</span>
    <span class="keyword">object</span> <a title="object when" id="365129">when</a> <span title="ScalaObject" class="keyword">extends</span> <a href="Vars.scala.html#14760" title="net.liftweb.http.SessionVar[Long]">SessionVar</a><span class="delimiter">[</span>Long<span class="delimiter">]</span><span class="delimiter">(</span><a href="../../../../util/net/liftweb/util/TimeHelpers.scala.html#48788" title="=&gt; Long">millis</a><span class="delimiter">)</span>
    <a href="#365129" title="object when">when</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75375" title="=&gt; Long">is</a>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Determins the path parts and suffix from given path parts
   */</span>
  <span class="keyword">val</span> <a title="LiftRules.this.RulesSeq[net.liftweb.http.LiftRules.SplitSuffixPF]" id="159204">suffixSplitters</a> = <a href="#185518" title="[T]=&gt; LiftRules.this.RulesSeq[T]">RulesSeq</a><span title="LiftRules.this.RulesSeq[net.liftweb.http.LiftRules.SplitSuffixPF]" class="delimiter">[</span><span title="net.liftweb.http.LiftRules.SplitSuffixPF">SplitSuffixPF</span><span class="delimiter">]</span>.<a href="#185555" title="(r: net.liftweb.http.LiftRules.SplitSuffixPF)LiftRules.this.RulesSeq[net.liftweb.http.LiftRules.SplitSuffixPF]">append</a> <a href="#357191" title="(List[String], String)" class="delimiter">{</a>
    <span class="keyword">case</span> <a title="(List[String], String)" id="357192">parts</a> =&gt;
      <span class="keyword">val</span> <a title="String" id="357193">last</a> = <a href="#357192" title="List[String]">parts</a>.<span title="=&gt; String">last</span>
      <span class="keyword">val</span> <a title="Int" id="357194">idx</a>: <span title="Int">Int</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Int" id="357195">firstDot</a> = <a href="#357193" title="String">last</a>.<span title="(x$1: java.lang.String)Int">indexOf</span><span class="delimiter">(</span><span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Int" id="357196">len</a> = <a href="#357193" title="String">last</a>.<span title="()Int">length</span>
        <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#357195" title="Int">firstDot</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span> <span title="(x: Int)Boolean">==</span> <a href="#357196" title="Int">len</a><span class="delimiter">)</span> -<span title="Int(-1)" class="int">1</span> <span class="comment">// if the dot is the last character, don't split</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#357193" title="String">last</a>.<span title="(x$1: java.lang.String, x$2: Int)Int">indexOf</span><span class="delimiter">(</span><span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span>, <a href="#357195" title="Int">firstDot</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> -<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span> -<span title="Int(-1)" class="int">1</span> <span class="comment">// if there are multiple dots, don't split out</span>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="java.lang.String" id="357223">suffix</a> = <a href="#357193" title="String">last</a>.<span title="(x$1: Int)java.lang.String">substring</span><span class="delimiter">(</span><a href="#357195" title="Int">firstDot</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
            <span class="comment">// if the suffix isn't in the list of suffixes we care about, don't split it</span>
            <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#158817" title="implicit net.liftweb.http.LiftRulesMocker.toLiftRules : (in: net.liftweb.http.LiftRulesMocker)net.liftweb.http.LiftRules">LiftRules</a>.<a href="#159210" title="=&gt; Set[String]">explicitlyParsedSuffixes</a>.<span title="(elem: String)Boolean">contains</span><span class="delimiter">(</span><a href="#357223" title="java.lang.String">suffix</a>.<span title="()java.lang.String">toLowerCase</span><span class="delimiter">)</span><span class="delimiter">)</span> -<span title="Int(-1)" class="int">1</span>
            <span class="keyword">else</span> <a href="#357195" title="Int">firstDot</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span title="(List[String], String)" class="keyword">if</span> <span class="delimiter">(</span><a href="#357194" title="Int">idx</a> <span title="(x: Int)Boolean">==</span> -<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span> <span title="(_1: List[String], _2: java.lang.String)(List[String], java.lang.String)" class="delimiter">(</span><a href="#357192" title="List[String]">parts</a>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="(_1: List[java.lang.String], _2: java.lang.String)(List[java.lang.String], java.lang.String)" class="delimiter">(</span><a href="#357192" title="List[String]">parts</a>.<span title="(n: Int)List[String]">dropRight</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="#357254" title="(prefix: List[java.lang.String])List[java.lang.String]">:::</a> <span title="(xs: java.lang.String*)List[java.lang.String]">List</span><span class="delimiter">(</span><a href="#357193" title="String">last</a>.<span title="(x$1: Int, x$2: Int)java.lang.String">substring</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#357194" title="Int">idx</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#357193" title="String">last</a>.<span title="(x$1: Int)java.lang.String">substring</span><span class="delimiter">(</span><a href="#357194" title="Int">idx</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="delimiter">}</span>

  <span class="comment">/**
   * The list of suffixes that Lift looks for in templates.
   * By default, html, xhtml, and htm
   */</span>
  @volatile <span class="keyword">var</span> <a title="List[String]" id="159207">templateSuffixes</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span title="(xs: java.lang.String*)List[java.lang.String]">List</span><span class="delimiter">(</span><span title="java.lang.String(&quot;html&quot;)" class="string">&quot;html&quot;</span>, <span title="java.lang.String(&quot;xhtml&quot;)" class="string">&quot;xhtml&quot;</span>, <span title="java.lang.String(&quot;htm&quot;)" class="string">&quot;htm&quot;</span><span class="delimiter">)</span>

  <span class="comment">/**
   * When a request is parsed into a Req object, certain suffixes are explicitly split from
   * the last part of the request URI.  If the suffix is contained in this list, it is explicitly split.
   * The default list is: &quot;html&quot;, &quot;htm&quot;, &quot;jpg&quot;, &quot;png&quot;, &quot;gif&quot;, &quot;xml&quot;, &quot;rss&quot;, &quot;json&quot; ...
   */</span>
  @volatile <span class="keyword">var</span> <a title="Set[String]" id="159210">explicitlyParsedSuffixes</a>: <span title="Set[String]">Set</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="../../../../util/net/liftweb/util/HttpHelpers.scala.html#49040" title="=&gt; Set[String]">knownSuffixes</a>

  <span class="comment">/**
   * The global multipart progress listener:
   *    pBytesRead - The total number of bytes, which have been read so far.
   *    pContentLength - The total number of bytes, which are being read. May be -1, if this number is unknown.
   *    pItems - The number of the field, which is currently being read. (0 = no item so far, 1 = first item is being read, ...)
   */</span>
  @volatile <span class="keyword">var</span> <a title="(Long, Long, Int) =&gt; Unit" id="159213">progressListener</a>: <span class="delimiter">(</span>Long, Long, Int<span class="delimiter">)</span> =&gt; Unit = <span class="delimiter">(</span><a title="Long" id="365142">_</a>, <a title="Long" id="365143">_</a>, <a title="Int" id="365144">_</a><span class="delimiter">)</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>

  <span class="comment">/**
   * The function that converts a fieldName, contentType, fileName and an InputStream into
   * a FileParamHolder.  By default, create an in-memory instance.  Use OnDiskFileParamHolder
   * to create an on-disk version
   */</span>
  @volatile <span class="keyword">var</span> <a title="(String, String, String, java.io.InputStream) =&gt; net.liftweb.http.FileParamHolder" id="159216">handleMimeFile</a>: <span class="delimiter">(</span>String, String, String, InputStream<span class="delimiter">)</span> =&gt; FileParamHolder =
  <span class="delimiter">(</span><a title="String" id="365146">fieldName</a>, <a title="String" id="365147">contentType</a>, <a title="String" id="365148">fileName</a>, <a title="java.io.InputStream" id="365149">inputStream</a><span class="delimiter">)</span> =&gt;
          <span title="net.liftweb.http.InMemFileParamHolder" class="keyword">new</span> <a href="Req.scala.html#14549" title="net.liftweb.http.InMemFileParamHolder">InMemFileParamHolder</a><span class="delimiter">(</span><a href="#365146" title="String">fieldName</a>, <a href="#365147" title="String">contentType</a>, <a href="#365148" title="String">fileName</a>, <a href="../../../../util/net/liftweb/util/Helpers.scala.html#13346" title="object net.liftweb.util.Helpers">Helpers</a>.<a href="../../../../util/net/liftweb/util/IoHelpers.scala.html#49075" title="(in: java.io.InputStream)Array[Byte]">readWholeStream</a><span class="delimiter">(</span><a href="#365149" title="java.io.InputStream">inputStream</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">object</span> <a title="object LiftRules.this._mimeHeaders" id="159218">_mimeHeaders</a> <span title="ScalaObject" class="keyword">extends</span> <a href="Vars.scala.html#14776" title="net.liftweb.http.TransientRequestVar[net.liftweb.common.Box[Map[String,List[String]]]]">TransientRequestVar</a><span class="delimiter">[</span>Box<span class="delimiter">[</span>Map<span class="delimiter">[</span>String, List<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Returns any mimeHeaders for the currently invoked handleMimeFile.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; net.liftweb.common.Box[Map[String,List[String]]]" id="159220">mimeHeaders</a> = <a href="#159218" title="object LiftRules.this._mimeHeaders">_mimeHeaders</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75377" title="=&gt; net.liftweb.common.Box[Map[String,List[String]]]">get</a>

  <span class="keyword">private</span><span class="delimiter">[</span>http<span class="delimiter">]</span> <span class="keyword">def</span> <a title="[T](map: Map[String,List[String]])(f: =&gt; T)T" id="159221">withMimeHeaders</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="159223">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Map[String,List[String]]" id="365175">map</a>: <span title="Map[String,List[String]]">Map</span><span class="delimiter">[</span>String, List<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; T" id="365176">f</a>: =&gt; T<span class="delimiter">)</span>: <a href="#159223" title="T">T</a> = <a href="#159218" title="object LiftRules.this._mimeHeaders">_mimeHeaders</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75392" title="(newVal: net.liftweb.common.Box[Map[String,List[String]]])(f: =&gt; T)T">doWith</a><span class="delimiter">(</span><a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: Map[String,List[String]])net.liftweb.common.Full[Map[String,List[String]]]">Full</a><span class="delimiter">(</span><a href="#365175" title="Map[String,List[String]]">map</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#365176" title="=&gt; T">f</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Holds the last update time of the Comet request. Based on this server mayreturn HTTP 304 status
   * indicating the client to used the cached information.
   */</span>
  @volatile <span class="keyword">var</span> <a title="net.liftweb.http.LiftSession =&gt; Long" id="159225">cometScriptUpdateTime</a>: LiftSession =&gt; Long = <a title="net.liftweb.http.LiftSession" id="365190">session</a> =&gt; <span class="delimiter">{</span>
    <span class="keyword">object</span> <a title="object when" id="365191">when</a> <span title="ScalaObject" class="keyword">extends</span> <a href="Vars.scala.html#14760" title="net.liftweb.http.SessionVar[Long]">SessionVar</a><span class="delimiter">[</span>Long<span class="delimiter">]</span><span class="delimiter">(</span><a href="../../../../util/net/liftweb/util/TimeHelpers.scala.html#48788" title="=&gt; Long">millis</a><span class="delimiter">)</span>
    <a href="#365191" title="object when">when</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75375" title="=&gt; Long">is</a>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * The name of the Ajax script that manages Ajax requests.
   */</span>
  @volatile <span class="keyword">var</span> <a title="() =&gt; String" id="159228">ajaxScriptName</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; String = <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span title="java.lang.String(&quot;liftAjax.js&quot;)" class="string">&quot;liftAjax.js&quot;</span>

  <span class="comment">/**
   * The name of the Comet script that manages Comet requests.
   */</span>
  @volatile <span class="keyword">var</span> <a title="() =&gt; String" id="159231">cometScriptName</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; String = <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span title="java.lang.String(&quot;cometAjax.js&quot;)" class="string">&quot;cometAjax.js&quot;</span>

  <span class="comment">/**
   * Returns the Comet script as a JavaScript response
   */</span>
  @volatile <span class="keyword">var</span> <a title="(net.liftweb.http.LiftSession, net.liftweb.http.Req) =&gt; net.liftweb.common.Box[net.liftweb.http.LiftResponse]" id="159234">serveCometScript</a>: <span class="delimiter">(</span>LiftSession, Req<span class="delimiter">)</span> =&gt; Box<span class="delimiter">[</span>LiftResponse<span class="delimiter">]</span> =
  <span class="delimiter">(</span><a title="net.liftweb.http.LiftSession" id="365199">liftSession</a>, <a title="net.liftweb.http.Req" id="365200">requestState</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Long" id="365201">modTime</a> = <a href="#159225" title="(v1: net.liftweb.http.LiftSession)Long">cometScriptUpdateTime</a><span class="delimiter">(</span><a href="#365199" title="net.liftweb.http.LiftSession">liftSession</a><span class="delimiter">)</span>

    <a href="#365200" title="net.liftweb.http.Req">requestState</a>.<a href="Req.scala.html#149230" title="(lastModified: Long, headers: (String, String)*)net.liftweb.common.Box[net.liftweb.http.LiftResponse]">testFor304</a><span class="delimiter">(</span><a href="#365201" title="Long">modTime</a><span class="delimiter">)</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#27043" title="(alternative: =&gt; net.liftweb.common.Box[net.liftweb.http.LiftResponse])net.liftweb.common.Box[net.liftweb.http.LiftResponse]">or</a>
            <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: net.liftweb.http.JavaScriptResponse)net.liftweb.common.Full[net.liftweb.http.JavaScriptResponse]">Full</a><span class="delimiter">(</span><a href="LiftResponse.scala.html#353003" title="(js: net.liftweb.http.js.JsCmd, headers: List[(String, String)], cookies: List[net.liftweb.http.provider.HTTPCookie], code: Int)net.liftweb.http.JavaScriptResponse">JavaScriptResponse</a><span class="delimiter">(</span><a href="#159196" title="(v1: net.liftweb.http.LiftSession)net.liftweb.http.js.JsCmd">renderCometScript</a><span class="delimiter">(</span><a href="#365199" title="net.liftweb.http.LiftSession">liftSession</a><span class="delimiter">)</span>,
              <span title="(xs: net.liftweb.util.Helpers.TheStrBindParam*)List[net.liftweb.util.Helpers.TheStrBindParam]">List</span><span class="delimiter">(</span><a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;Last-Modified&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58380" title="(in: String)net.liftweb.util.Helpers.TheStrBindParam">-&gt;</a> <a href="../../../../util/net/liftweb/util/TimeHelpers.scala.html#48830" title="(in: Long)String">toInternetDate</a><span class="delimiter">(</span><a href="#365201" title="Long">modTime</a><span class="delimiter">)</span>,
                   <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;Expires&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58380" title="(in: String)net.liftweb.util.Helpers.TheStrBindParam">-&gt;</a> <a href="../../../../util/net/liftweb/util/TimeHelpers.scala.html#48830" title="(in: Long)String">toInternetDate</a><span class="delimiter">(</span><a href="#365201" title="Long">modTime</a> <span title="(x: Long)Long">+</span> <a href="../../../../util/net/liftweb/util/TimeHelpers.scala.html#48777" title="implicit net.liftweb.util.TimeHelpers.intToTimeSpanBuilder : (in: Int)net.liftweb.util.Helpers.TimeSpanBuilder" class="int">10</a>.<a href="../../../../util/net/liftweb/util/TimeHelpers.scala.html#188674" title="implicit net.liftweb.util.ConvertableToDate.toMillis : (in: net.liftweb.util.ConvertableToDate)Long">minutes</a><span class="delimiter">)</span>,
                   <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;Date&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58380" title="(in: String)net.liftweb.util.Helpers.TheStrBindParam">-&gt;</a> <a href="../../../../util/net/liftweb/util/Helpers.scala.html#13346" title="object net.liftweb.util.Helpers">Helpers</a>.<a href="../../../../util/net/liftweb/util/TimeHelpers.scala.html#48831" title="=&gt; String">nowAsInternetDate</a>,
                   <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;Pragma&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58380" title="(in: String)net.liftweb.util.Helpers.TheStrBindParam">-&gt;</a> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>,
                   <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;Cache-Control&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58380" title="(in: String)net.liftweb.util.Helpers.TheStrBindParam">-&gt;</a> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>,
              <span title="object Nil">Nil</span>, <span title="Int(200)" class="int">200</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns the Ajax script as a JavaScript response
   */</span>
  @volatile <span class="keyword">var</span> <a title="(net.liftweb.http.LiftSession, net.liftweb.http.Req) =&gt; net.liftweb.common.Box[net.liftweb.http.LiftResponse]" id="159237">serveAjaxScript</a>: <span class="delimiter">(</span>LiftSession, Req<span class="delimiter">)</span> =&gt; Box<span class="delimiter">[</span>LiftResponse<span class="delimiter">]</span> =
  <span class="delimiter">(</span><a title="net.liftweb.http.LiftSession" id="365449">liftSession</a>, <a title="net.liftweb.http.Req" id="365450">requestState</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Long" id="365451">modTime</a> = <a href="#159202" title="(v1: net.liftweb.http.LiftSession)Long">ajaxScriptUpdateTime</a><span class="delimiter">(</span><a href="#365449" title="net.liftweb.http.LiftSession">liftSession</a><span class="delimiter">)</span>

    <a href="#365450" title="net.liftweb.http.Req">requestState</a>.<a href="Req.scala.html#149230" title="(lastModified: Long, headers: (String, String)*)net.liftweb.common.Box[net.liftweb.http.LiftResponse]">testFor304</a><span class="delimiter">(</span><a href="#365451" title="Long">modTime</a><span class="delimiter">)</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#27043" title="(alternative: =&gt; net.liftweb.common.Box[net.liftweb.http.LiftResponse])net.liftweb.common.Box[net.liftweb.http.LiftResponse]">or</a>
            <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: net.liftweb.http.JavaScriptResponse)net.liftweb.common.Full[net.liftweb.http.JavaScriptResponse]">Full</a><span class="delimiter">(</span><a href="LiftResponse.scala.html#353003" title="(js: net.liftweb.http.js.JsCmd, headers: List[(String, String)], cookies: List[net.liftweb.http.provider.HTTPCookie], code: Int)net.liftweb.http.JavaScriptResponse">JavaScriptResponse</a><span class="delimiter">(</span><a href="#159163" title="(v1: net.liftweb.http.LiftSession)net.liftweb.http.js.JsCmd">renderAjaxScript</a><span class="delimiter">(</span><a href="#365449" title="net.liftweb.http.LiftSession">liftSession</a><span class="delimiter">)</span>,
              <span title="(xs: net.liftweb.util.Helpers.TheStrBindParam*)List[net.liftweb.util.Helpers.TheStrBindParam]">List</span><span class="delimiter">(</span><a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;Last-Modified&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58380" title="(in: String)net.liftweb.util.Helpers.TheStrBindParam">-&gt;</a> <a href="../../../../util/net/liftweb/util/TimeHelpers.scala.html#48830" title="(in: Long)String">toInternetDate</a><span class="delimiter">(</span><a href="#365451" title="Long">modTime</a><span class="delimiter">)</span>,
                <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;Expires&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58380" title="(in: String)net.liftweb.util.Helpers.TheStrBindParam">-&gt;</a> <a href="../../../../util/net/liftweb/util/TimeHelpers.scala.html#48830" title="(in: Long)String">toInternetDate</a><span class="delimiter">(</span><a href="#365451" title="Long">modTime</a> <span title="(x: Long)Long">+</span> <a href="../../../../util/net/liftweb/util/TimeHelpers.scala.html#48777" title="implicit net.liftweb.util.TimeHelpers.intToTimeSpanBuilder : (in: Int)net.liftweb.util.Helpers.TimeSpanBuilder" class="int">10</a>.<a href="../../../../util/net/liftweb/util/TimeHelpers.scala.html#188674" title="implicit net.liftweb.util.ConvertableToDate.toMillis : (in: net.liftweb.util.ConvertableToDate)Long">minutes</a><span class="delimiter">)</span><span class="delimiter">)</span>,
              <span title="object Nil">Nil</span>, <span title="Int(200)" class="int">200</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  @volatile <span class="keyword">var</span> <a title="net.liftweb.common.Box[net.liftweb.util.TemplateCache[(java.util.Locale, List[String]),scala.xml.NodeSeq]]" id="159240">templateCache</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.util.TemplateCache[(java.util.Locale, List[String]),scala.xml.NodeSeq]]">Box</a><span class="delimiter">[</span>TemplateCache<span class="delimiter">[</span><span class="delimiter">(</span>Locale, List<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>, NodeSeq<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>

  <span class="comment">/**
   * A function to format a Date... can be replaced by a function that is user-specific
   Replaced by dateTimeConverter
   */</span>
  @deprecated<span class="delimiter">(</span><span class="string">&quot;Replaced by dateTimeConverter&quot;</span><span class="delimiter">)</span>
  @volatile <span class="keyword">var</span> <a title="java.util.Date =&gt; String" id="159243">formatDate</a>: Date =&gt; String = <a title="java.util.Date" id="365571">date</a> =&gt; <a href="#365571" title="java.util.Date">date</a> <span title="String" class="keyword">match</span> <span class="delimiter">{</span><span class="keyword">case</span> <span title="String" class="keyword">null</span> =&gt; <a href="#158817" title="implicit net.liftweb.http.LiftRulesMocker.toLiftRules : (in: net.liftweb.http.LiftRulesMocker)net.liftweb.http.LiftRules">LiftRules</a>.<a href="#159243" title="(v1: java.util.Date)String">formatDate</a><span class="delimiter">(</span><span title="(x$1: Long)java.util.Date" class="keyword">new</span> <span title="java.util.Date">Date</span><span class="delimiter">(</span><span title="Long(0L)" class="long">0L</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">case</span> <a title="String" id="365581">s</a> =&gt; <a href="../../../../util/net/liftweb/util/TimeHelpers.scala.html#48829" title="(in: java.util.Date)String">toInternetDate</a><span class="delimiter">(</span><a href="#365581" title="java.util.Date">s</a><span class="delimiter">)</span><span class="delimiter">}</span>

  <span class="comment">/**
   * A function that parses a String into a Date... can be replaced by something that's user-specific
   Replaced by dateTimeConverter
   */</span>
  @deprecated<span class="delimiter">(</span><span class="string">&quot;Replaced by dateTimeConverter&quot;</span><span class="delimiter">)</span>
  @volatile <span class="keyword">var</span> <a title="String =&gt; net.liftweb.common.Box[java.util.Date]" id="159246">parseDate</a>: String =&gt; Box<span class="delimiter">[</span>Date<span class="delimiter">]</span> = <a title="String" id="365587">str</a> =&gt; <a href="#365587" title="String">str</a> <span title="net.liftweb.common.Box[java.util.Date]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="net.liftweb.common.Empty.type" class="keyword">null</span> =&gt; <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>
    <span class="keyword">case</span> <a title="net.liftweb.common.Box[java.util.Date]" id="365588">s</a> =&gt; <a href="../../../../util/net/liftweb/util/Helpers.scala.html#13346" title="object net.liftweb.util.Helpers">Helpers</a>.<a href="../../../../util/net/liftweb/util/TimeHelpers.scala.html#48832" title="(in: Any)net.liftweb.common.Box[java.util.Date]">toDate</a><span class="delimiter">(</span><a href="#365588" title="String">s</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">val</span> <a title="LiftRules.this.FactoryMaker[net.liftweb.util.DateTimeConverter]" id="159248">dateTimeConverter</a>: <a href="Factory.scala.html#147868" title="LiftRules.this.FactoryMaker[net.liftweb.util.DateTimeConverter]">FactoryMaker</a><span class="delimiter">[</span>DateTimeConverter<span class="delimiter">]</span> = <a href="#365589" title="LiftRules.this.FactoryMaker[net.liftweb.util.DateTimeConverter]" class="keyword">new</a> <a title="anonymous class $anon extends LiftRules.this.FactoryMaker[net.liftweb.util.DateTimeConverter]" id="365589">FactoryMaker</a><span class="delimiter">[</span>DateTimeConverter<span class="delimiter">]</span><span class="delimiter">(</span> <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="../../../../util/net/liftweb/util/DateTimeConverter.scala.html#13309" title="object net.liftweb.util.DefaultDateTimeConverter">DefaultDateTimeConverter</a> <span class="delimiter">)</span> <span class="delimiter">{</span><span class="delimiter">}</span>

  <span class="comment">/**
   * This variable controls whether RequestVars that have been set but not subsequently
   * read will be logged in Dev mode. Logging can be disabled at the per-RequestVar level
   * via RequestVar.logUnreadVal
   *
   * @see RequestVar#logUnreadVal
   */</span>
  @volatile <span class="keyword">var</span> <a title="Boolean" id="159251">logUnreadRequestVars</a> = <span title="Boolean(true)" class="keyword">true</span>

  <span class="comment">/** Controls whether or not the service handling timing messages (Service request (GET) ... took ... Milliseconds) are logged. Defaults to true. */</span>
  @volatile <span class="keyword">var</span> <a title="Boolean" id="159254">logServiceRequestTiming</a> = <span title="Boolean(true)" class="keyword">true</span>

  <span class="keyword">import</span> provider.servlet._
  <span class="keyword">import</span> containers._

  <span class="comment">/**
   * Provides the async provider instance responsible for suspending/resuming requests
   */</span>
  @deprecated<span class="delimiter">(</span><span class="string">&quot;Register your povider via addSyncProvider&quot;</span><span class="delimiter">)</span>
  <span class="keyword">var</span> <a title="net.liftweb.http.provider.HTTPRequest =&gt; net.liftweb.http.provider.servlet.ServletAsyncProvider" id="159259">servletAsyncProvider</a>: <span class="delimiter">(</span>HTTPRequest<span class="delimiter">)</span> =&gt; ServletAsyncProvider = <span title="Null(null)" class="keyword">null</span> <span class="comment">// (req) =&gt; new Jetty6AsyncProvider(req)</span>

  <span class="comment">/**
   * The meta for the detected AsyncProvider given the container we're running in
   */</span>
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="net.liftweb.common.Box[net.liftweb.http.provider.servlet.AsyncProviderMeta]" id="159262">asyncProviderMeta</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.http.provider.servlet.AsyncProviderMeta]">Box</a><span class="delimiter">[</span>AsyncProviderMeta<span class="delimiter">]</span> =
    <a href="#159266" title="=&gt; List[net.liftweb.http.provider.servlet.AsyncProviderMeta]">asyncMetaList</a>.<span title="(p: net.liftweb.http.provider.servlet.AsyncProviderMeta =&gt; Boolean)Option[net.liftweb.http.provider.servlet.AsyncProviderMeta]">find</span><a href="../../../../common/net/liftweb/common/Box.scala.html#28627" title="(in: Option[net.liftweb.http.provider.servlet.AsyncProviderMeta])net.liftweb.common.Box[net.liftweb.http.provider.servlet.AsyncProviderMeta]" class="delimiter">(</a><a href="#365629" title="net.liftweb.http.provider.servlet.AsyncProviderMeta">_</a>.<a href="provider/servlet/ServletAsyncProvider.scala.html#365630" title="=&gt; Boolean">suspendResumeSupport_?</a><span class="delimiter">)</span>

  <span class="comment">/**
   * A function that converts the current Request into an AsyncProvider.
   */</span>
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="net.liftweb.common.Box[net.liftweb.http.provider.HTTPRequest =&gt; net.liftweb.http.provider.servlet.ServletAsyncProvider]" id="159264">theServletAsyncProvider</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.http.provider.HTTPRequest =&gt; net.liftweb.http.provider.servlet.ServletAsyncProvider]">Box</a><span class="delimiter">[</span>HTTPRequest =&gt; ServletAsyncProvider<span class="delimiter">]</span> =
    <span class="delimiter">(</span><a href="../../../../common/net/liftweb/common/Box.scala.html#10572" title="object net.liftweb.common.Box">Box</a> <a href="../../../../common/net/liftweb/common/Box.scala.html#28636" title="(in: net.liftweb.http.provider.HTTPRequest =&gt; net.liftweb.http.provider.servlet.ServletAsyncProvider)net.liftweb.common.Box[net.liftweb.http.provider.HTTPRequest =&gt; net.liftweb.http.provider.servlet.ServletAsyncProvider]">!!</a> <a href="#159259" title="=&gt; net.liftweb.http.provider.HTTPRequest =&gt; net.liftweb.http.provider.servlet.ServletAsyncProvider">servletAsyncProvider</a><span class="delimiter">)</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#27043" title="(alternative: =&gt; net.liftweb.common.Box[net.liftweb.http.provider.HTTPRequest =&gt; net.liftweb.http.provider.servlet.ServletAsyncProvider])net.liftweb.common.Box[net.liftweb.http.provider.HTTPRequest =&gt; net.liftweb.http.provider.servlet.ServletAsyncProvider]">or</a> <a href="#159261" title="=&gt; net.liftweb.common.Box[net.liftweb.http.provider.servlet.AsyncProviderMeta]">asyncProviderMeta</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27023" title="(f: net.liftweb.http.provider.servlet.AsyncProviderMeta =&gt; net.liftweb.common.Box[net.liftweb.http.provider.HTTPRequest =&gt; net.liftweb.http.provider.servlet.ServletAsyncProvider])net.liftweb.common.Box[net.liftweb.http.provider.HTTPRequest =&gt; net.liftweb.http.provider.servlet.ServletAsyncProvider]">flatMap</a><span class="delimiter">(</span><a href="#365648" title="net.liftweb.http.provider.servlet.AsyncProviderMeta">_</a>.<a href="provider/servlet/ServletAsyncProvider.scala.html#365631" title="=&gt; net.liftweb.common.Box[net.liftweb.http.provider.HTTPRequest =&gt; net.liftweb.http.provider.servlet.ServletAsyncProvider]">providerFunction</a><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">var</span> <a title="List[net.liftweb.http.provider.servlet.AsyncProviderMeta]" id="159266">asyncMetaList</a>: <span title="List[net.liftweb.http.provider.servlet.AsyncProviderMeta]">List</span><span class="delimiter">[</span>AsyncProviderMeta<span class="delimiter">]</span> =
    <span title="(xs: ScalaObject with net.liftweb.http.provider.servlet.AsyncProviderMeta*)List[ScalaObject with net.liftweb.http.provider.servlet.AsyncProviderMeta]">List</span><span class="delimiter">(</span><a href="provider/servlet/containers/Servlet30AsyncProvider.scala.html#15196" title="object net.liftweb.http.provider.servlet.containers.Servlet30AsyncProvider">Servlet30AsyncProvider</a>, <a href="provider/servlet/containers/Jetty6AsyncProvider.scala.html#15169" title="object net.liftweb.http.provider.servlet.containers.Jetty6AsyncProvider">Jetty6AsyncProvider</a>, <a href="provider/servlet/containers/Jetty7AsyncProvider.scala.html#15182" title="object net.liftweb.http.provider.servlet.containers.Jetty7AsyncProvider">Jetty7AsyncProvider</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Register an AsyncMeta provider in addition to the default
   * Jetty6, Jetty7, and Servlet 3.0 providers
   */</span>
  <span class="keyword">def</span> <a title="(asyncMeta: net.liftweb.http.provider.servlet.AsyncProviderMeta)Unit" id="159268">addSyncProvider</a><span class="delimiter">(</span><a title="net.liftweb.http.provider.servlet.AsyncProviderMeta" id="365736">asyncMeta</a>: <a href="provider/servlet/ServletAsyncProvider.scala.html#15146" title="net.liftweb.http.provider.servlet.AsyncProviderMeta">AsyncProviderMeta</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#158830" title="=&gt; Boolean">doneBoot</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String)java.lang.IllegalStateException" class="keyword">new</span> <span title="java.lang.IllegalStateException">IllegalStateException</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Cannot modify after boot.&quot;)" class="string">&quot;Cannot modify after boot.&quot;</span><span class="delimiter">)</span>
    <a href="#159266" title="(x$1: List[net.liftweb.http.provider.servlet.AsyncProviderMeta])Unit">asyncMetaList</a> <span title="(x: net.liftweb.http.provider.servlet.AsyncProviderMeta)List[net.liftweb.http.provider.servlet.AsyncProviderMeta]">::=</span> <a href="#365736" title="net.liftweb.http.provider.servlet.AsyncProviderMeta">asyncMeta</a>
  <span class="delimiter">}</span>


  <span class="keyword">private</span> <span class="keyword">def</span> <a title="()Unit" id="159269">ctor</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#159286" title="(builder: net.liftweb.util.FormBuilderLocator[String])Unit">appendGlobalFormBuilder</a><span class="delimiter">(</span><a href="../../../../util/net/liftweb/util/Maker.scala.html#311672" title="[T](func: (T, T =&gt; Unit) =&gt; scala.xml.NodeSeq)(implicit manifest: scala.reflect.Manifest[T])net.liftweb.util.FormBuilderLocator[T]">FormBuilderLocator</a><span title="(func: (String, String =&gt; Unit) =&gt; scala.xml.NodeSeq)(implicit manifest: scala.reflect.Manifest[String])net.liftweb.util.FormBuilderLocator[String]" class="delimiter">[</span><span title="String">String</span><span class="delimiter">]</span><span title="(clazz: Class[_])scala.reflect.Manifest[String]" class="delimiter">(</span><span class="delimiter">(</span><a title="String" id="365759">value</a>, <a title="String =&gt; Unit" id="365760">setter</a><span class="delimiter">)</span> =&gt; <a href="SHtml.scala.html#14660" title="object net.liftweb.http.SHtml">SHtml</a>.<a href="SHtml.scala.html#152842" title="(value: String, func: String =&gt; Any, attrs: net.liftweb.http.SHtml.ElemAttr*)scala.xml.Elem">text</a><span class="delimiter">(</span><a href="#365759" title="String">value</a>, <a href="#365760" title="String =&gt; Unit">setter</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#159286" title="(builder: net.liftweb.util.FormBuilderLocator[Int])Unit">appendGlobalFormBuilder</a><span class="delimiter">(</span><a href="../../../../util/net/liftweb/util/Maker.scala.html#311672" title="[T](func: (T, T =&gt; Unit) =&gt; scala.xml.NodeSeq)(implicit manifest: scala.reflect.Manifest[T])net.liftweb.util.FormBuilderLocator[T]">FormBuilderLocator</a><span title="(func: (Int, Int =&gt; Unit) =&gt; scala.xml.NodeSeq)(implicit manifest: scala.reflect.Manifest[Int])net.liftweb.util.FormBuilderLocator[Int]" class="delimiter">[</span><span title="Int">Int</span><span class="delimiter">]</span><span title="=&gt; scala.reflect.AnyValManifest[Int]" class="delimiter">(</span><span class="delimiter">(</span><a title="Int" id="365777">value</a>, <a title="Int =&gt; Unit" id="365778">setter</a><span class="delimiter">)</span> =&gt; <a href="SHtml.scala.html#14660" title="object net.liftweb.http.SHtml">SHtml</a>.<a href="SHtml.scala.html#152842" title="(value: String, func: String =&gt; Any, attrs: net.liftweb.http.SHtml.ElemAttr*)scala.xml.Elem">text</a><span class="delimiter">(</span><a href="#365777" title="Int">value</a>.<span title="()java.lang.String">toString</span>, <a title="String" id="365780">s</a> =&gt; <a href="../../../../util/net/liftweb/util/Helpers.scala.html#13346" title="object net.liftweb.util.Helpers">Helpers</a>.<a href="../../../../util/net/liftweb/util/BasicTypesHelpers.scala.html#49096" title="(in: String)net.liftweb.common.Box[Int]">asInt</a><span class="delimiter">(</span><a href="#365780" title="String">s</a><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27031" title="(f: Int =&gt; Unit)Unit">foreach</a><span class="delimiter">(</span><span class="delimiter">(</span><a href="#365778" title="Int =&gt; Unit">setter</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#159286" title="(builder: net.liftweb.util.FormBuilderLocator[Boolean])Unit">appendGlobalFormBuilder</a><span class="delimiter">(</span><a href="../../../../util/net/liftweb/util/Maker.scala.html#311672" title="[T](func: (T, T =&gt; Unit) =&gt; scala.xml.NodeSeq)(implicit manifest: scala.reflect.Manifest[T])net.liftweb.util.FormBuilderLocator[T]">FormBuilderLocator</a><span title="(func: (Boolean, Boolean =&gt; Unit) =&gt; scala.xml.NodeSeq)(implicit manifest: scala.reflect.Manifest[Boolean])net.liftweb.util.FormBuilderLocator[Boolean]" class="delimiter">[</span><span title="Boolean">Boolean</span><span class="delimiter">]</span><span title="=&gt; scala.reflect.AnyValManifest[Boolean]" class="delimiter">(</span><span class="delimiter">(</span><a title="Boolean" id="365791">value</a>, <a title="Boolean =&gt; Unit" id="365792">setter</a><span class="delimiter">)</span> =&gt; <a href="SHtml.scala.html#14660" title="object net.liftweb.http.SHtml">SHtml</a>.<a href="SHtml.scala.html#152930" title="(value: Boolean, func: Boolean =&gt; Any, attrs: net.liftweb.http.SHtml.ElemAttr*)scala.xml.NodeSeq">checkbox</a><span class="delimiter">(</span><a href="#365791" title="Boolean">value</a>, <a title="Boolean" id="365801">s</a> =&gt; <a href="#365792" title="(v1: Boolean)Unit">setter</a><span class="delimiter">(</span><a href="#365801" title="Boolean">s</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">import</span> net.liftweb.builtin.snippet._

    <a href="#158963" title="=&gt; LiftRules.this.RulesSeq[net.liftweb.http.LiftRules.SnippetDispatchPF]">snippetDispatch</a>.<a href="#185555" title="(r: net.liftweb.http.LiftRules.SnippetDispatchPF)LiftRules.this.RulesSeq[net.liftweb.http.LiftRules.SnippetDispatchPF]">append</a><span title="Unit" class="delimiter">(</span>
      <span title="(elems: (String, ScalaObject with net.liftweb.http.DispatchSnippet)*)scala.collection.immutable.Map[String,ScalaObject with net.liftweb.http.DispatchSnippet]">Map</span><span class="delimiter">(</span><a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;CSS&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58395" title="(in: net.liftweb.builtin.snippet.CSS.type)(String, net.liftweb.builtin.snippet.CSS.type)">-&gt;</a> <a href="../builtin/snippet/CSS.scala.html#13829" title="object net.liftweb.builtin.snippet.CSS">CSS</a>, <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;Msgs&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58395" title="(in: net.liftweb.builtin.snippet.Msgs.type)(String, net.liftweb.builtin.snippet.Msgs.type)">-&gt;</a> <a href="../builtin/snippet/Msgs.scala.html#13958" title="object net.liftweb.builtin.snippet.Msgs">Msgs</a>, <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;Msg&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58395" title="(in: net.liftweb.builtin.snippet.Msg.type)(String, net.liftweb.builtin.snippet.Msg.type)">-&gt;</a> <a href="../builtin/snippet/Msg.scala.html#13941" title="object net.liftweb.builtin.snippet.Msg">Msg</a>,
        <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;Menu&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58395" title="(in: net.liftweb.builtin.snippet.Menu.type)(String, net.liftweb.builtin.snippet.Menu.type)">-&gt;</a> <a href="../builtin/snippet/Menu.scala.html#13928" title="object net.liftweb.builtin.snippet.Menu">Menu</a>, <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;css&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58395" title="(in: net.liftweb.builtin.snippet.CSS.type)(String, net.liftweb.builtin.snippet.CSS.type)">-&gt;</a> <a href="../builtin/snippet/CSS.scala.html#13829" title="object net.liftweb.builtin.snippet.CSS">CSS</a>, <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;msgs&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58395" title="(in: net.liftweb.builtin.snippet.Msgs.type)(String, net.liftweb.builtin.snippet.Msgs.type)">-&gt;</a> <a href="../builtin/snippet/Msgs.scala.html#13958" title="object net.liftweb.builtin.snippet.Msgs">Msgs</a>, <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;msg&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58395" title="(in: net.liftweb.builtin.snippet.Msg.type)(String, net.liftweb.builtin.snippet.Msg.type)">-&gt;</a> <a href="../builtin/snippet/Msg.scala.html#13941" title="object net.liftweb.builtin.snippet.Msg">Msg</a>,
        <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;menu&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58395" title="(in: net.liftweb.builtin.snippet.Menu.type)(String, net.liftweb.builtin.snippet.Menu.type)">-&gt;</a> <a href="../builtin/snippet/Menu.scala.html#13928" title="object net.liftweb.builtin.snippet.Menu">Menu</a>,
        <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;a&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58395" title="(in: net.liftweb.builtin.snippet.A.type)(String, net.liftweb.builtin.snippet.A.type)">-&gt;</a> <a href="../builtin/snippet/A.scala.html#13822" title="object net.liftweb.builtin.snippet.A">A</a>, <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;children&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58395" title="(in: net.liftweb.builtin.snippet.Children.type)(String, net.liftweb.builtin.snippet.Children.type)">-&gt;</a> <a href="../builtin/snippet/Children.scala.html#13836" title="object net.liftweb.builtin.snippet.Children">Children</a>,
        <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;comet&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58395" title="(in: net.liftweb.builtin.snippet.Comet.type)(String, net.liftweb.builtin.snippet.Comet.type)">-&gt;</a> <a href="../builtin/snippet/Comet.scala.html#13846" title="object net.liftweb.builtin.snippet.Comet">Comet</a>, <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;form&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58395" title="(in: net.liftweb.builtin.snippet.Form.type)(String, net.liftweb.builtin.snippet.Form.type)">-&gt;</a> <a href="../builtin/snippet/Form.scala.html#13869" title="object net.liftweb.builtin.snippet.Form">Form</a>, <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;ignore&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58395" title="(in: net.liftweb.builtin.snippet.Ignore.type)(String, net.liftweb.builtin.snippet.Ignore.type)">-&gt;</a> <a href="../builtin/snippet/Ignore.scala.html#13884" title="object net.liftweb.builtin.snippet.Ignore">Ignore</a>, <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;loc&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58395" title="(in: net.liftweb.builtin.snippet.Loc.type)(String, net.liftweb.builtin.snippet.Loc.type)">-&gt;</a> <a href="../builtin/snippet/Loc.scala.html#13914" title="object net.liftweb.builtin.snippet.Loc">Loc</a>,
        <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;surround&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58395" title="(in: net.liftweb.builtin.snippet.Surround.type)(String, net.liftweb.builtin.snippet.Surround.type)">-&gt;</a> <a href="../builtin/snippet/Surround.scala.html#13986" title="object net.liftweb.builtin.snippet.Surround">Surround</a>,
        <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;test_cond&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58395" title="(in: net.liftweb.builtin.snippet.TestCond.type)(String, net.liftweb.builtin.snippet.TestCond.type)">-&gt;</a> <a href="../builtin/snippet/TestCond.scala.html#14003" title="object net.liftweb.builtin.snippet.TestCond">TestCond</a>,
        <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;TestCond&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58395" title="(in: net.liftweb.builtin.snippet.TestCond.type)(String, net.liftweb.builtin.snippet.TestCond.type)">-&gt;</a> <a href="../builtin/snippet/TestCond.scala.html#14003" title="object net.liftweb.builtin.snippet.TestCond">TestCond</a>,
        <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;testcond&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58395" title="(in: net.liftweb.builtin.snippet.TestCond.type)(String, net.liftweb.builtin.snippet.TestCond.type)">-&gt;</a> <a href="../builtin/snippet/TestCond.scala.html#14003" title="object net.liftweb.builtin.snippet.TestCond">TestCond</a>,
        <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;embed&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58395" title="(in: net.liftweb.builtin.snippet.Embed.type)(String, net.liftweb.builtin.snippet.Embed.type)">-&gt;</a> <a href="../builtin/snippet/Embed.scala.html#13859" title="object net.liftweb.builtin.snippet.Embed">Embed</a>,
        <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;tail&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58395" title="(in: net.liftweb.builtin.snippet.Tail.type)(String, net.liftweb.builtin.snippet.Tail.type)">-&gt;</a> <a href="../builtin/snippet/Tail.scala.html#13994" title="object net.liftweb.builtin.snippet.Tail">Tail</a>,
        <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;head&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58395" title="(in: net.liftweb.builtin.snippet.Head.type)(String, net.liftweb.builtin.snippet.Head.type)">-&gt;</a> <a href="../builtin/snippet/Tail.scala.html#13996" title="object net.liftweb.builtin.snippet.Head">Head</a>,
        <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;Head&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58395" title="(in: net.liftweb.builtin.snippet.Head.type)(String, net.liftweb.builtin.snippet.Head.type)">-&gt;</a> <a href="../builtin/snippet/Tail.scala.html#13996" title="object net.liftweb.builtin.snippet.Head">Head</a>,
        <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;with-param&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58395" title="(in: net.liftweb.builtin.snippet.WithParam.type)(String, net.liftweb.builtin.snippet.WithParam.type)">-&gt;</a> <a href="../builtin/snippet/WithParam.scala.html#14021" title="object net.liftweb.builtin.snippet.WithParam">WithParam</a>,
        <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;withparam&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58395" title="(in: net.liftweb.builtin.snippet.WithParam.type)(String, net.liftweb.builtin.snippet.WithParam.type)">-&gt;</a> <a href="../builtin/snippet/WithParam.scala.html#14021" title="object net.liftweb.builtin.snippet.WithParam">WithParam</a>,
        <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;WithParam&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58395" title="(in: net.liftweb.builtin.snippet.WithParam.type)(String, net.liftweb.builtin.snippet.WithParam.type)">-&gt;</a> <a href="../builtin/snippet/WithParam.scala.html#14021" title="object net.liftweb.builtin.snippet.WithParam">WithParam</a>,
        <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;bind-at&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58395" title="(in: net.liftweb.builtin.snippet.WithParam.type)(String, net.liftweb.builtin.snippet.WithParam.type)">-&gt;</a> <a href="../builtin/snippet/WithParam.scala.html#14021" title="object net.liftweb.builtin.snippet.WithParam">WithParam</a>,
        <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;VersionInfo&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58395" title="(in: net.liftweb.builtin.snippet.VersionInfo.type)(String, net.liftweb.builtin.snippet.VersionInfo.type)">-&gt;</a> <a href="../builtin/snippet/VersionInfo.scala.html#14010" title="object net.liftweb.builtin.snippet.VersionInfo">VersionInfo</a>,
        <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;versioninfo&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58395" title="(in: net.liftweb.builtin.snippet.VersionInfo.type)(String, net.liftweb.builtin.snippet.VersionInfo.type)">-&gt;</a> <a href="../builtin/snippet/VersionInfo.scala.html#14010" title="object net.liftweb.builtin.snippet.VersionInfo">VersionInfo</a>,
        <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;version_info&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58395" title="(in: net.liftweb.builtin.snippet.VersionInfo.type)(String, net.liftweb.builtin.snippet.VersionInfo.type)">-&gt;</a> <a href="../builtin/snippet/VersionInfo.scala.html#14010" title="object net.liftweb.builtin.snippet.VersionInfo">VersionInfo</a>,
        <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;SkipDocType&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58395" title="(in: net.liftweb.builtin.snippet.SkipDocType.type)(String, net.liftweb.builtin.snippet.SkipDocType.type)">-&gt;</a> <a href="../builtin/snippet/SkipDocType.scala.html#13976" title="object net.liftweb.builtin.snippet.SkipDocType">SkipDocType</a>,
        <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;skipdoctype&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58395" title="(in: net.liftweb.builtin.snippet.SkipDocType.type)(String, net.liftweb.builtin.snippet.SkipDocType.type)">-&gt;</a> <a href="../builtin/snippet/SkipDocType.scala.html#13976" title="object net.liftweb.builtin.snippet.SkipDocType">SkipDocType</a>,
        <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;skip_doc_type&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58395" title="(in: net.liftweb.builtin.snippet.SkipDocType.type)(String, net.liftweb.builtin.snippet.SkipDocType.type)">-&gt;</a> <a href="../builtin/snippet/SkipDocType.scala.html#13976" title="object net.liftweb.builtin.snippet.SkipDocType">SkipDocType</a>,
        <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;xml_group&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58395" title="(in: net.liftweb.builtin.snippet.XmlGroup.type)(String, net.liftweb.builtin.snippet.XmlGroup.type)">-&gt;</a> <a href="../builtin/snippet/XmlGroup.scala.html#14038" title="object net.liftweb.builtin.snippet.XmlGroup">XmlGroup</a>,
        <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;XmlGroup&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58395" title="(in: net.liftweb.builtin.snippet.XmlGroup.type)(String, net.liftweb.builtin.snippet.XmlGroup.type)">-&gt;</a> <a href="../builtin/snippet/XmlGroup.scala.html#14038" title="object net.liftweb.builtin.snippet.XmlGroup">XmlGroup</a>,
        <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;xmlgroup&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58395" title="(in: net.liftweb.builtin.snippet.XmlGroup.type)(String, net.liftweb.builtin.snippet.XmlGroup.type)">-&gt;</a> <a href="../builtin/snippet/XmlGroup.scala.html#14038" title="object net.liftweb.builtin.snippet.XmlGroup">XmlGroup</a>,
        <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;lazy-load&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58395" title="(in: net.liftweb.builtin.snippet.LazyLoad.type)(String, net.liftweb.builtin.snippet.LazyLoad.type)">-&gt;</a> <a href="../builtin/snippet/LazyLoad.scala.html#13899" title="object net.liftweb.builtin.snippet.LazyLoad">LazyLoad</a>,
        <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;LazyLoad&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58395" title="(in: net.liftweb.builtin.snippet.LazyLoad.type)(String, net.liftweb.builtin.snippet.LazyLoad.type)">-&gt;</a> <a href="../builtin/snippet/LazyLoad.scala.html#13899" title="object net.liftweb.builtin.snippet.LazyLoad">LazyLoad</a>,
        <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;lazyload&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58395" title="(in: net.liftweb.builtin.snippet.LazyLoad.type)(String, net.liftweb.builtin.snippet.LazyLoad.type)">-&gt;</a> <a href="../builtin/snippet/LazyLoad.scala.html#13899" title="object net.liftweb.builtin.snippet.LazyLoad">LazyLoad</a>,
        <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;html5&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58395" title="(in: net.liftweb.builtin.snippet.HTML5.type)(String, net.liftweb.builtin.snippet.HTML5.type)">-&gt;</a> <a href="../builtin/snippet/HTML5.scala.html#13877" title="object net.liftweb.builtin.snippet.HTML5">HTML5</a>,
        <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;HTML5&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58395" title="(in: net.liftweb.builtin.snippet.HTML5.type)(String, net.liftweb.builtin.snippet.HTML5.type)">-&gt;</a> <a href="../builtin/snippet/HTML5.scala.html#13877" title="object net.liftweb.builtin.snippet.HTML5">HTML5</a>,
        <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc" class="string">&quot;with-resource-id&quot;</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58395" title="(in: net.liftweb.builtin.snippet.WithResourceId.type)(String, net.liftweb.builtin.snippet.WithResourceId.type)">-&gt;</a> <a href="../builtin/snippet/WithResourceId.scala.html#14031" title="object net.liftweb.builtin.snippet.WithResourceId">WithResourceId</a>
        <span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <a href="#159269" title="()Unit">ctor</a><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="keyword">object</span> <a title="object LiftRules.this.RulesSeq" id="159270">RulesSeq</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="keyword">def</span> <a title="[T]=&gt; LiftRules.this.RulesSeq[T]" id="185518">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="185520">T</a><span class="delimiter">]</span>: <a href="#159272" title="LiftRules.this.RulesSeq[T]">RulesSeq</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <span title="LiftRules.this.RulesSeq[T]" class="keyword">new</span> <a href="#159272" title="LiftRules.this.RulesSeq[T]">RulesSeq</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

<span class="comment">/**
 * Generic container used mainly for adding functions
 *
 */</span>
<span class="keyword">class</span> <a title="class RulesSeq[T] extends java.lang.Object with ScalaObject" id="159272">RulesSeq</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="159273">T</a><span class="delimiter">]</span> <a href="#159272" title="ScalaObject" class="delimiter">{</a>
  @volatile <span class="keyword">private</span> <span class="keyword">var</span> <a title="List[T]" id="185528">rules</a>: <span title="List[T]">List</span><span class="delimiter">[</span>T<span class="delimiter">]</span> = <span title="object Nil">Nil</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="net.liftweb.util.ThreadGlobal[List[T]]" id="185530">pre</a> = <span title="net.liftweb.util.ThreadGlobal[List[T]]" class="keyword">new</span> <a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#13699" title="net.liftweb.util.ThreadGlobal[List[T]]">ThreadGlobal</a><span class="delimiter">[</span>List<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="net.liftweb.util.ThreadGlobal[List[T]]" id="185532">app</a> = <span title="net.liftweb.util.ThreadGlobal[List[T]]" class="keyword">new</span> <a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#13699" title="net.liftweb.util.ThreadGlobal[List[T]]">ThreadGlobal</a><span class="delimiter">[</span>List<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="net.liftweb.util.ThreadGlobal[List[T]]" id="185534">cur</a> = <span title="net.liftweb.util.ThreadGlobal[List[T]]" class="keyword">new</span> <a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#13699" title="net.liftweb.util.ThreadGlobal[List[T]]">ThreadGlobal</a><span class="delimiter">[</span>List<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(f: =&gt; Any)Unit" id="185536">safe_?</a><span class="delimiter">(</span><a title="=&gt; Any" id="367462">f</a>: =&gt; Any<span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#158830" title="=&gt; Boolean">doneBoot</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Unit" class="keyword">false</span> =&gt; <a href="#367462" title="=&gt; Any">f</a>
      <span class="keyword">case</span> <span title="Nothing">_</span> =&gt; <span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String)java.lang.IllegalStateException" class="keyword">new</span> <span title="java.lang.IllegalStateException">IllegalStateException</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Cannot modify after boot.&quot;)" class="string">&quot;Cannot modify after boot.&quot;</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Sometimes it's useful to change the rule for the duration of
   * a thread... prepend a rule and execute the code within
   * a scope with the prepended rule
   */</span>
  <span class="keyword">def</span> <a title="[A](what: T)(f: =&gt; A)A" id="185537">prependWith</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="185539">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="367468">what</a>: <a href="#159273" title="T">T</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; A" id="367469">f</a>: =&gt; A<span class="delimiter">)</span>: <a href="#185539" title="A">A</a> = <a href="#185543" title="(what: List[T])(f: =&gt; A)A">prependWith</a><span class="delimiter">(</span><span title="(xs: T*)List[T]">List</span><span class="delimiter">(</span><a href="#367468" title="T">what</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#367469" title="=&gt; A">f</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Sometimes it's useful to change the rule for the duration of
   * a thread... append a rule and execute the code within
   * a scope with the appended rule
   */</span>
  <span class="keyword">def</span> <a title="[A](what: T)(f: =&gt; A)A" id="185540">appendWith</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="185542">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="367512">what</a>: <a href="#159273" title="T">T</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; A" id="367513">f</a>: =&gt; A<span class="delimiter">)</span>: <a href="#185542" title="A">A</a> = <a href="#185546" title="(what: List[T])(f: =&gt; A)A">appendWith</a><span class="delimiter">(</span><span title="(xs: T*)List[T]">List</span><span class="delimiter">(</span><a href="#367512" title="T">what</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#367513" title="=&gt; A">f</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Sometimes it's useful to change the rule for the duration of
   * a thread... prepend rules and execute the code within
   * a scope with the prepended rules
   */</span>
  <span class="keyword">def</span> <a title="[A](what: List[T])(f: =&gt; A)A" id="185543">prependWith</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="185545">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="List[T]" id="367476">what</a>: <span title="List[T]">List</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; A" id="367477">f</a>: =&gt; A<span class="delimiter">)</span>: <a href="#185545" title="A">A</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="List[T]" id="367554">newList</a> = <a href="#185530" title="=&gt; net.liftweb.util.ThreadGlobal[List[T]]">pre</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51270" title="=&gt; List[T]">value</a> <span title="List[T]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="List[T]" class="keyword">null</span> =&gt; <a href="#367476" title="List[T]">what</a>
      <span class="keyword">case</span> <span title="List[T]">Nil</span> =&gt; <a href="#367476" title="List[T]">what</a>
      <span class="keyword">case</span> <a title="List[T]" id="367555">x</a> =&gt; <a href="#367476" title="List[T]">what</a> <a href="#367556" title="(prefix: List[T])List[T]">:::</a> <a href="#367555" title="List[T]">x</a>
    <span class="delimiter">}</span>
    <a href="#185530" title="=&gt; net.liftweb.util.ThreadGlobal[List[T]]">pre</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51274" title="(x: List[T])(f: =&gt; A)A">doWith</a><span class="delimiter">(</span><a href="#367554" title="List[T]">newList</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#185549" title="(f: =&gt; A)A">doCur</a><span class="delimiter">(</span><a href="#367477" title="=&gt; A">f</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Sometimes it's useful to change the rules for the duration of
   * a thread... append rules and execute the code within
   * a scope with the appended rules
   */</span>
  <span class="keyword">def</span> <a title="[A](what: List[T])(f: =&gt; A)A" id="185546">appendWith</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="185548">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="List[T]" id="367520">what</a>: <span title="List[T]">List</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; A" id="367521">f</a>: =&gt; A<span class="delimiter">)</span>: <a href="#185548" title="A">A</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="List[T]" id="367577">newList</a> = <a href="#185530" title="=&gt; net.liftweb.util.ThreadGlobal[List[T]]">pre</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51270" title="=&gt; List[T]">value</a> <span title="List[T]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="List[T]" class="keyword">null</span> =&gt; <a href="#367520" title="List[T]">what</a>
      <span class="keyword">case</span> <span title="List[T]">Nil</span> =&gt; <a href="#367520" title="List[T]">what</a>
      <span class="keyword">case</span> <a title="List[T]" id="367578">x</a> =&gt; <a href="#367578" title="List[T]">x</a> <a href="#367579" title="(prefix: List[T])List[T]">:::</a> <a href="#367520" title="List[T]">what</a>
    <span class="delimiter">}</span>
    <a href="#185532" title="=&gt; net.liftweb.util.ThreadGlobal[List[T]]">app</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51274" title="(x: List[T])(f: =&gt; A)A">doWith</a><span class="delimiter">(</span><a href="#367577" title="List[T]">newList</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#185549" title="(f: =&gt; A)A">doCur</a><span class="delimiter">(</span><a href="#367521" title="=&gt; A">f</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Precompute the current rule set
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="[A](f: =&gt; A)A" id="185549">doCur</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="185551">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; A" id="367569">f</a>: =&gt; A<span class="delimiter">)</span>: <a href="#185551" title="A">A</a> = <span class="delimiter">{</span>
    <a href="#185534" title="=&gt; net.liftweb.util.ThreadGlobal[List[T]]">cur</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51274" title="(x: List[T])(f: =&gt; A)A">doWith</a><span class="delimiter">(</span><span title="(_1: List[T], _2: List[T])(List[T], List[T])" class="delimiter">(</span><a href="#185530" title="=&gt; net.liftweb.util.ThreadGlobal[List[T]]">pre</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51270" title="=&gt; List[T]">value</a>, <a href="#185532" title="=&gt; net.liftweb.util.ThreadGlobal[List[T]]">app</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51270" title="=&gt; List[T]">value</a><span class="delimiter">)</span> <span title="List[T]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="List[T]" class="delimiter">(</span><span title="Null(null)" class="keyword">null</span>, <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> | <span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span>, <span title="object Nil">Nil</span><span class="delimiter">)</span> | <span class="delimiter">(</span><span title="object Nil">Nil</span>, <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> | <span class="delimiter">(</span><span title="object Nil">Nil</span>, <span title="object Nil">Nil</span><span class="delimiter">)</span> =&gt; <a href="#185528" title="=&gt; List[T]">rules</a>
    <span class="keyword">case</span> <span title="List[T]" class="delimiter">(</span><span title="Null(null)" class="keyword">null</span>, <a title="List[T]" id="367617">xs</a><span class="delimiter">)</span> =&gt; <a href="#185528" title="=&gt; List[T]">rules</a> <a href="#367618" title="(prefix: List[T])List[T]">:::</a> <a href="#367617" title="List[T]">xs</a>
    <span class="keyword">case</span> <span title="List[T]" class="delimiter">(</span><a title="List[T]" id="367628">xs</a>, <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> =&gt; <a href="#367628" title="List[T]">xs</a> <a href="#367629" title="(prefix: List[T])List[T]">:::</a> <a href="#185528" title="=&gt; List[T]">rules</a>
    <span class="keyword">case</span> <span title="List[T]" class="delimiter">(</span><a title="List[T]" id="367639">p</a>, <a title="List[T]" id="367640">a</a><span class="delimiter">)</span> =&gt; <a href="#367639" title="List[T]">p</a> <a href="#367641" title="(prefix: List[T])List[T]">:::</a> <a href="#185528" title="=&gt; List[T]">rules</a> <a href="#367642" title="(prefix: List[T])List[T]">:::</a> <a href="#367640" title="List[T]">a</a>
  <span class="delimiter">}</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#367569" title="=&gt; A">f</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; List[T]" id="185552">toList</a> = <a href="#185534" title="=&gt; net.liftweb.util.ThreadGlobal[List[T]]">cur</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51270" title="=&gt; List[T]">value</a> <span title="List[T]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="List[T]" class="keyword">null</span> =&gt; <a href="#185528" title="=&gt; List[T]">rules</a>
    <span class="keyword">case</span> <a title="List[T]" id="358790">xs</a> =&gt; <a href="#358790" title="List[T]">xs</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(r: T)LiftRules.this.RulesSeq[T]" id="185553">prepend</a><span class="delimiter">(</span><a title="T" id="236284">r</a>: <a href="#159273" title="T">T</a><span class="delimiter">)</span>: <a href="#159272" title="LiftRules.this.RulesSeq[T]">RulesSeq</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#185536" title="(f: =&gt; Any)Unit">safe_?</a> <span class="delimiter">{</span>
      <a href="#185528" title="(x$1: List[T])Unit">rules</a> = <a href="#236284" title="T">r</a> <a href="#367660" title="(x: T)List[T]">::</a> <a href="#185528" title="=&gt; List[T]">rules</a>
    <span class="delimiter">}</span>
    <a href="#159272" title="LiftRules.this.RulesSeq[T]" class="keyword">this</a>
  <span class="delimiter">}</span>

  <span class="keyword">private</span><span class="delimiter">[</span>http<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(f: T =&gt; Boolean)Unit" id="185554">remove</a><span class="delimiter">(</span><a title="T =&gt; Boolean" id="360214">f</a>: T =&gt; Boolean<span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#185536" title="(f: =&gt; Any)Unit">safe_?</a> <span class="delimiter">{</span>
      <a href="#185528" title="(x$1: List[T])Unit">rules</a> = <a href="#185528" title="=&gt; List[T]">rules</a>.<span title="(p: T =&gt; Boolean)List[T]">filterNot</span><span class="delimiter">(</span><a href="#360214" title="T =&gt; Boolean">f</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(r: T)LiftRules.this.RulesSeq[T]" id="185555">append</a><span class="delimiter">(</span><a title="T" id="185556">r</a>: <a href="#159273" title="T">T</a><span class="delimiter">)</span>: <a href="#159272" title="LiftRules.this.RulesSeq[T]">RulesSeq</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#185536" title="(f: =&gt; Any)Unit">safe_?</a> <span class="delimiter">{</span>
      <a href="#185528" title="(x$1: List[T])Unit">rules</a> = <a href="#185528" title="=&gt; List[T]">rules</a> <a href="#367672" title="(prefix: List[T])List[T]">:::</a> <span title="(xs: T*)List[T]">List</span><span class="delimiter">(</span><a href="#185556" title="T">r</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#159272" title="LiftRules.this.RulesSeq[T]" class="keyword">this</a>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait FirstBox[F, T] extends java.lang.Object with ScalaObject" id="159274">FirstBox</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="159275">F</a>, <a title="&gt;: Nothing &lt;: Any" id="159276">T</a><span class="delimiter">]</span> <span title="ScalaObject" class="delimiter">{</span>
  self: RulesSeq<span class="delimiter">[</span>F =&gt; Box<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span> =&gt;

  <span class="keyword">def</span> <a title="(param: F)net.liftweb.common.Box[T]" id="357156">firstFull</a><span class="delimiter">(</span><a title="F" id="367689">param</a>: <a href="#159275" title="F">F</a><span class="delimiter">)</span>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[T]">Box</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(in: List[F =&gt; net.liftweb.common.Box[T]])net.liftweb.common.Box[T]" id="367691">finder</a><span class="delimiter">(</span><a title="List[F =&gt; net.liftweb.common.Box[T]]" id="367692">in</a>: <span title="List[F =&gt; net.liftweb.common.Box[T]]">List</span><span class="delimiter">[</span>F =&gt; Box<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[T]">Box</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="#367692" title="List[F =&gt; net.liftweb.common.Box[T]]">in</a> <span title="net.liftweb.common.Box[T]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="net.liftweb.common.Empty.type">Nil</span> =&gt; <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>
      <span class="keyword">case</span> <a title="net.liftweb.common.Box[T]" id="367699">x</a> :: <a title="List[F =&gt; net.liftweb.common.Box[T]]" id="367700">xs</a> =&gt; <a href="#367699" title="(v1: F)net.liftweb.common.Box[T]">x</a><span class="delimiter">(</span><a href="#367689" title="F">param</a><span class="delimiter">)</span> <span title="net.liftweb.common.Box[T]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="net.liftweb.common.Full[T]">Full</span><span class="delimiter">(</span><a title="T" id="367703">r</a><span class="delimiter">)</span> =&gt; <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: T)net.liftweb.common.Full[T]">Full</a><span class="delimiter">(</span><a href="#367703" title="T">r</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="net.liftweb.common.Box[T]">_</span> =&gt; <a href="#367691" title="(in: List[F =&gt; net.liftweb.common.Box[T]])net.liftweb.common.Box[T]">finder</a><span class="delimiter">(</span><a href="#367700" title="List[F =&gt; net.liftweb.common.Box[T]]">xs</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <a href="#367691" title="(in: List[F =&gt; net.liftweb.common.Box[T]])net.liftweb.common.Box[T]">finder</a><span class="delimiter">(</span><a href="#185552" title="=&gt; List[F =&gt; net.liftweb.common.Box[T]]">toList</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="delimiter">}</span>

<span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait NotFound extends java.lang.Object" id="14379">NotFound</a>

case <span class="keyword">object</span> <a href="#367718" title="object net.liftweb.http.DefaultNotFound" id="367723">DefaultNotFound</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#14379" title="net.liftweb.http.NotFound">NotFound</a>

<span class="keyword">final</span> case <span class="keyword">class</span> <a title="class NotFoundAsResponse extends java.lang.Object with net.liftweb.http.NotFound with ScalaObject with Product with Serializable" id="369478">NotFoundAsResponse</a><a href="#369478" title="ScalaObject" class="delimiter">(</a><a title="net.liftweb.http.LiftResponse" id="369475">response</a>: <a href="LiftResponse.scala.html#14269" title="net.liftweb.http.LiftResponse">LiftResponse</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#14379" title="net.liftweb.http.NotFound">NotFound</a>

<span class="keyword">final</span> case <span class="keyword">class</span> <a title="class NotFoundAsTemplate extends java.lang.Object with net.liftweb.http.NotFound with ScalaObject with Product with Serializable" id="369471">NotFoundAsTemplate</a><a href="#369471" title="ScalaObject" class="delimiter">(</a><a title="net.liftweb.http.ParsePath" id="369468">path</a>: <a href="Req.scala.html#14577" title="net.liftweb.http.ParsePath">ParsePath</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#14379" title="net.liftweb.http.NotFound">NotFound</a>

<span class="keyword">final</span> case <span class="keyword">class</span> <a title="class NotFoundAsNode extends java.lang.Object with net.liftweb.http.NotFound with ScalaObject with Product with Serializable" id="369464">NotFoundAsNode</a><a href="#369464" title="ScalaObject" class="delimiter">(</a><a title="scala.xml.NodeSeq" id="369461">node</a>: <span title="scala.xml.NodeSeq">NodeSeq</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#14379" title="net.liftweb.http.NotFound">NotFound</a>

<span class="keyword">final</span> case <span class="keyword">class</span> <a title="class BreakOut extends java.lang.Object with ScalaObject with Product with Serializable" id="369457">BreakOut</a><a href="#369457" title="ScalaObject" class="delimiter">(</a><span class="delimiter">)</span>

<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Bootable extends java.lang.Object with ScalaObject" id="14394">Bootable</a> <a href="#14394" title="ScalaObject" class="delimiter">{</a>
  <span class="keyword">def</span> <a title="()Unit" id="367897">boot</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span>;
<span class="delimiter">}</span>

<span class="comment">/*
/**
 * Factory object for RulesSeq instances
 */
object RulesSeq {
  def apply[T]: RulesSeq[T] = new RulesSeq[T]
}
*/</span>


<span class="keyword">private</span><span class="delimiter">[</span>http<span class="delimiter">]</span> case <span class="keyword">object</span> <a href="#367924" title="object net.liftweb.http.DefaultBootstrap" id="367929">DefaultBootstrap</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#14394" title="net.liftweb.http.Bootable">Bootable</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="()Unit" id="367901">boot</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="net.liftweb.common.Box[() =&gt; net.liftweb.common.Box[Any]]" id="367904">f</a> = <a href="../../../../util/net/liftweb/util/ClassHelpers.scala.html#48597" title="(name: String, on: AnyRef)net.liftweb.common.Box[() =&gt; net.liftweb.common.Box[Any]]">createInvoker</a><span class="delimiter">(</span><span title="java.lang.String(&quot;boot&quot;)" class="string">&quot;boot&quot;</span>, <span title="object java.lang.Class">Class</span>.<span title="(x$1: java.lang.String)java.lang.Class[_]">forName</span><span class="delimiter">(</span><span title="java.lang.String(&quot;bootstrap.liftweb.Boot&quot;)" class="string">&quot;bootstrap.liftweb.Boot&quot;</span><span class="delimiter">)</span>.<span title="()?0">newInstance</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="AnyRef" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span><span class="delimiter">)</span>
    <a href="#367904" title="net.liftweb.common.Box[() =&gt; net.liftweb.common.Box[Any]]">f</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: () =&gt; net.liftweb.common.Box[Any] =&gt; net.liftweb.common.Box[Any])net.liftweb.common.Box[net.liftweb.common.Box[Any]]">map</a> <span title="Unit" class="delimiter">{</span><a title="() =&gt; net.liftweb.common.Box[Any]" id="367917">f</a> =&gt; <a href="#367917" title="()net.liftweb.common.Box[Any]">f</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Holds the Comet identification information
 */</span>
<span class="keyword">trait</span> <a title="trait CometVersionPair extends java.lang.Object" id="14397">CometVersionPair</a> <span title="java.lang.Object" class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="350542">guid</a>: <span title="String">String</span>

  <span class="keyword">def</span> <a title="=&gt; Long" id="350543">version</a>: <span title="Long">Long</span>
<span class="delimiter">}</span>

case <span class="keyword">class</span> <a title="class CVP extends java.lang.Object with net.liftweb.http.CometVersionPair with ScalaObject with Product with Serializable" id="369453">CVP</a><a href="#369453" title="ScalaObject" class="delimiter">(</a><a title="String" id="350556">guid</a>: <span title="String">String</span>, <a title="Long" id="350557">version</a>: <span title="Long">Long</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#14397" title="net.liftweb.http.CometVersionPair">CometVersionPair</a>

case <span class="keyword">class</span> <a title="class XHTMLValidationError extends java.lang.Object with ScalaObject with Product with Serializable" id="369449">XHTMLValidationError</a><a href="#369449" title="ScalaObject" class="delimiter">(</a><a title="String" id="368553">msg</a>: <span title="String">String</span>, <a title="Int" id="368554">line</a>: <span title="Int">Int</span>, <a title="Int" id="368555">col</a>: <span title="Int">Int</span><span class="delimiter">)</span>

<span class="keyword">trait</span> <a title="trait XHtmlValidator extends java.lang.Object with scala.xml.Node =&gt; List[net.liftweb.http.XHTMLValidationError]" id="14404">XHtmlValidator</a> <span class="keyword">extends</span> <span title="scala.xml.Node =&gt; List[net.liftweb.http.XHTMLValidationError]">Function1</span><span class="delimiter">[</span>Node, List<span class="delimiter">[</span>XHTMLValidationError<span class="delimiter">]</span><span class="delimiter">]</span>

<span class="keyword">object</span> <a title="object net.liftweb.http.StrictXHTML1_0Validator" id="14405">StrictXHTML1_0Validator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#14407" title="net.liftweb.http.GenericValidator">GenericValidator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="368084">ngurl</a> = <span title="java.lang.String(&quot;http://www.w3.org/2002/08/xhtml/xhtml1-strict.xsd&quot;)" class="string">&quot;http://www.w3.org/2002/08/xhtml/xhtml1-strict.xsd&quot;</span>
<span class="delimiter">}</span>

<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class GenericValidator extends java.lang.Object with net.liftweb.http.XHtmlValidator with net.liftweb.common.Loggable with ScalaObject" id="14407">GenericValidator</a> <a href="#14407" title="ScalaObject" class="keyword">extends</a> <a href="#14404" title="net.liftweb.http.XHtmlValidator">XHtmlValidator</a> <span class="keyword">with</span> <a href="../../../../common/net/liftweb/common/Logging.scala.html#10717" title="net.liftweb.common.Loggable">Loggable</a> <span class="delimiter">{</span>
  <span class="keyword">import</span> javax.xml.validation._
  <span class="keyword">import</span> javax.xml._
  <span class="keyword">import</span> <span title="object javax.xml.XMLConstants">XMLConstants</span>._
  <span class="keyword">import</span> java.net.URL
  <span class="keyword">import</span> javax.xml.transform.dom._
  <span class="keyword">import</span> javax.xml.transform.stream._
  <span class="keyword">import</span> java.io.ByteArrayInputStream

  <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="javax.xml.validation.SchemaFactory" id="368078">sf</a> = <span title="object javax.xml.validation.SchemaFactory">SchemaFactory</span>.<span title="(x$1: java.lang.String)javax.xml.validation.SchemaFactory">newInstance</span><span class="delimiter">(</span><span title="java.lang.String(&quot;http://www.w3.org/2001/XMLSchema&quot;)">W3C_XML_SCHEMA_NS_URI</span><span class="delimiter">)</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; String" id="368079">ngurl</a>: <span title="String">String</span>

  <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="net.liftweb.common.Box[javax.xml.validation.Schema]" id="368081">schema</a> = <a href="../../../../util/net/liftweb/util/ControlHelpers.scala.html#48608" title="(f: =&gt; javax.xml.validation.Schema)net.liftweb.common.Box[javax.xml.validation.Schema]">tryo</a><span class="delimiter">(</span><a href="#368077" title="=&gt; javax.xml.validation.SchemaFactory">sf</a>.<span title="(x$1: java.net.URL)javax.xml.validation.Schema">newSchema</span><span class="delimiter">(</span><span title="(x$1: java.lang.String)java.net.URL" class="keyword">new</span> <span title="java.net.URL">URL</span><span class="delimiter">(</span><a href="#368079" title="=&gt; String">ngurl</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(in: scala.xml.Node)List[net.liftweb.http.XHTMLValidationError]" id="368082">apply</a><span class="delimiter">(</span><a title="scala.xml.Node" id="368368">in</a>: <span title="scala.xml.Node">Node</span><span class="delimiter">)</span>: <span title="List[net.liftweb.http.XHTMLValidationError]">List</span><span class="delimiter">[</span>XHTMLValidationError<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="delimiter">(</span><span class="keyword">for</span><span class="delimiter">{</span>
      <a title="javax.xml.validation.Schema" id="368375">sc</a> &lt;- <a href="../../../../common/net/liftweb/common/Box.scala.html#27023" title="(f: javax.xml.validation.Schema =&gt; net.liftweb.common.Box[List[net.liftweb.http.XHTMLValidationError]])net.liftweb.common.Box[List[net.liftweb.http.XHTMLValidationError]]">schema</a>
      <a title="javax.xml.validation.Validator" id="368498">v</a> &lt;- <a href="../../../../util/net/liftweb/util/ControlHelpers.scala.html#48608" title="(f: =&gt; javax.xml.validation.Validator)net.liftweb.common.Box[javax.xml.validation.Validator]">tryo</a><a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: javax.xml.validation.Validator =&gt; (javax.xml.validation.Validator, javax.xml.transform.stream.StreamSource))net.liftweb.common.Box[(javax.xml.validation.Validator, javax.xml.transform.stream.StreamSource)]" class="delimiter">(</a><a href="#368375" title="javax.xml.validation.Schema">sc</a>.<span title="()javax.xml.validation.Validator">newValidator</span><span class="delimiter">)</span>
      <a title="javax.xml.transform.stream.StreamSource" id="368499">source</a> = <span title="(x$1: java.io.InputStream)javax.xml.transform.stream.StreamSource" class="keyword">new</span> <span title="javax.xml.transform.stream.StreamSource">StreamSource</span><span class="delimiter">(</span><span title="java.io.ByteArrayInputStream" class="keyword">new</span> <span title="java.io.ByteArrayInputStream">ByteArrayInputStream</span><span class="delimiter">(</span><a href="#368368" title="scala.xml.Node">in</a>.<span title="()String">toString</span>.<span title="(x$1: java.lang.String)Array[Byte]">getBytes</span><span class="delimiter">(</span><span title="java.lang.String(&quot;UTF-8&quot;)" class="string">&quot;UTF-8&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">yield</span> <span class="keyword">try</span> <span class="delimiter">{</span>
        <a href="#368498" title="javax.xml.validation.Validator">v</a>.<span title="(x$1: javax.xml.transform.Source)Unit">validate</span><span class="delimiter">(</span><a href="#368499" title="javax.xml.transform.stream.StreamSource">source</a><span class="delimiter">)</span>
        <span title="object Nil">Nil</span>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="List[net.liftweb.http.XHTMLValidationError]" id="368507">e</a>: org.xml.sax.<span title="org.xml.sax.SAXParseException">SAXParseException</span> =&gt;
          <span title="(xs: net.liftweb.http.XHTMLValidationError*)List[net.liftweb.http.XHTMLValidationError]">List</span><span class="delimiter">(</span><a href="#369449" title="(msg: String, line: Int, col: Int)net.liftweb.http.XHTMLValidationError">XHTMLValidationError</a><span class="delimiter">(</span><a href="#368507" title="org.xml.sax.SAXParseException">e</a>.<span title="()java.lang.String">getMessage</span>, <a href="#368507" title="org.xml.sax.SAXParseException">e</a>.<span title="()Int">getLineNumber</span>, <a href="#368507" title="org.xml.sax.SAXParseException">e</a>.<span title="()Int">getColumnNumber</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span><span class="delimiter">)</span> <span title="List[net.liftweb.http.XHTMLValidationError]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="List[net.liftweb.http.XHTMLValidationError]">Full</span><span class="delimiter">(</span><a title="List[net.liftweb.http.XHTMLValidationError]" id="368569">x</a><span class="delimiter">)</span> =&gt; <a href="#368569" title="List[net.liftweb.http.XHTMLValidationError]">x</a>
      <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">Failure</span><span class="delimiter">(</span><a title="String" id="368570">msg</a>, _, _<span class="delimiter">)</span> =&gt;
        <a href="../../../../common/net/liftweb/common/Logging.scala.html#19845" title="=&gt; net.liftweb.common.Logger">logger</a>.<a href="../../../../common/net/liftweb/common/Logging.scala.html#31948" title="(msg: =&gt; AnyRef)Unit">info</a><span class="delimiter">(</span><span title="java.lang.String(&quot;XHTML Validation Failure: &quot;)" class="string">&quot;XHTML Validation Failure: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#368570" title="String">msg</a><span class="delimiter">)</span>
        <span title="object Nil">Nil</span>
      <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">_</span> =&gt; <span title="object Nil">Nil</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>


<span class="keyword">object</span> <a title="object net.liftweb.http.TransitionalXHTML1_0Validator" id="14408">TransitionalXHTML1_0Validator</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#14407" title="net.liftweb.http.GenericValidator">GenericValidator</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="368574">ngurl</a> = <span title="java.lang.String(&quot;http://www.w3.org/2002/08/xhtml/xhtml1-transitional.xsd&quot;)" class="string">&quot;http://www.w3.org/2002/08/xhtml/xhtml1-transitional.xsd&quot;</span>
<span class="delimiter">}</span>


<span class="keyword">trait</span> <a title="trait FormVendor extends java.lang.Object with ScalaObject" id="14410">FormVendor</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="comment">/**
   * Given a type manifest, vend a form
   */</span>
  <span class="keyword">def</span> <a title="[T](implicit man: scala.reflect.Manifest[T])net.liftweb.common.Box[(T, T =&gt; Any) =&gt; scala.xml.NodeSeq]" id="159278">vendForm</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="159280">T</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scala.reflect.Manifest[T]" id="368588">man</a>: <span title="scala.reflect.Manifest[T]">Manifest</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[(T, T =&gt; Any) =&gt; scala.xml.NodeSeq]">Box</a><span class="delimiter">[</span><span class="delimiter">(</span>T, T =&gt; Any<span class="delimiter">)</span> =&gt; NodeSeq<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.lang.String" id="368591">name</a> = <a href="#368588" title="scala.reflect.Manifest[T]">man</a>.<span title="()java.lang.String">toString</span>
    <span class="keyword">val</span> <a title="Option[List[net.liftweb.util.FormBuilderLocator[_]]]" id="368592">first</a>: <span title="Option[List[net.liftweb.util.FormBuilderLocator[_]]]">Option</span><span class="delimiter">[</span>List<span class="delimiter">[</span>FormBuilderLocator<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#159310" title="object FormVendor.this.requestForms">requestForms</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75375" title="=&gt; Map[String,List[net.liftweb.util.FormBuilderLocator[_]]]">is</a>.<span title="(key: String)Option[List[net.liftweb.util.FormBuilderLocator[_]]]">get</span><span class="delimiter">(</span><a href="#368591" title="java.lang.String">name</a><span class="delimiter">)</span> <span title="(alternative: =&gt; Option[List[net.liftweb.util.FormBuilderLocator[_]]])Option[List[net.liftweb.util.FormBuilderLocator[_]]]">orElse</span> <a href="#159308" title="object FormVendor.this.sessionForms">sessionForms</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75375" title="=&gt; Map[String,List[net.liftweb.util.FormBuilderLocator[_]]]">is</a>.<span title="(key: String)Option[List[net.liftweb.util.FormBuilderLocator[_]]]">get</span><span class="delimiter">(</span><a href="#368591" title="java.lang.String">name</a><span class="delimiter">)</span>

    <a href="#368592" title="Option[List[net.liftweb.util.FormBuilderLocator[_]]]">first</a> <span title="net.liftweb.common.Box[(T, T =&gt; Any) =&gt; scala.xml.NodeSeq]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="net.liftweb.common.Full[(T, T =&gt; Any) =&gt; scala.xml.NodeSeq]">Some</span><span class="delimiter">(</span><a title="net.liftweb.util.FormBuilderLocator[_]" id="368653">x</a> :: _<span class="delimiter">)</span> =&gt; <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: (T, T =&gt; Any) =&gt; scala.xml.NodeSeq)net.liftweb.common.Full[(T, T =&gt; Any) =&gt; scala.xml.NodeSeq]">Full</a><span class="delimiter">(</span><a href="#368653" title="net.liftweb.util.FormBuilderLocator[_]">x</a>.<a href="../../../../util/net/liftweb/util/Maker.scala.html#311633" title="(=&gt; (_0, _0 =&gt; Unit) =&gt; scala.xml.NodeSeq) forSome { type _0; type _0 }">func</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="(T, T =&gt; Any) =&gt; scala.xml.NodeSeq" class="delimiter">[</span><span class="delimiter">(</span>T, T =&gt; Any<span class="delimiter">)</span> =&gt; NodeSeq<span class="delimiter">]</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="net.liftweb.common.Box[(T, T =&gt; Any) =&gt; scala.xml.NodeSeq]">_</span> =&gt; <span title="net.liftweb.common.Box[(T, T =&gt; Any) =&gt; scala.xml.NodeSeq]" class="keyword">if</span> <span class="delimiter">(</span><a href="#159281" title="=&gt; java.util.concurrent.ConcurrentHashMap[String,List[net.liftweb.util.FormBuilderLocator[_]]]">globalForms</a>.<span title="(x$1: Any)Boolean">containsKey</span><span class="delimiter">(</span><a href="#368591" title="java.lang.String">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#159281" title="=&gt; java.util.concurrent.ConcurrentHashMap[String,List[net.liftweb.util.FormBuilderLocator[_]]]">globalForms</a>.<span title="(x$1: Any)List[net.liftweb.util.FormBuilderLocator[_]]">get</span><span class="delimiter">(</span><a href="#368591" title="java.lang.String">name</a><span class="delimiter">)</span>.<span title="=&gt; Option[net.liftweb.util.FormBuilderLocator[_]]">headOption</span>.<span title="(f: net.liftweb.util.FormBuilderLocator[_] =&gt; (T, T =&gt; Any) =&gt; scala.xml.NodeSeq)Option[(T, T =&gt; Any) =&gt; scala.xml.NodeSeq]">map</span><a href="../../../../common/net/liftweb/common/Box.scala.html#28627" title="(in: Option[(T, T =&gt; Any) =&gt; scala.xml.NodeSeq])net.liftweb.common.Box[(T, T =&gt; Any) =&gt; scala.xml.NodeSeq]" class="delimiter">(</a><a href="#368668" title="net.liftweb.util.FormBuilderLocator[_]">_</a>.<a href="../../../../util/net/liftweb/util/Maker.scala.html#311633" title="(=&gt; (_$2, _$2 =&gt; Unit) =&gt; scala.xml.NodeSeq) forSome { type _$2; type _$2 }">func</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="(T, T =&gt; Any) =&gt; scala.xml.NodeSeq" class="delimiter">[</span><span class="delimiter">(</span>T, T =&gt; Any<span class="delimiter">)</span> =&gt; NodeSeq<span class="delimiter">]</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="java.util.concurrent.ConcurrentHashMap[String,List[net.liftweb.util.FormBuilderLocator[_]]]" id="159281">globalForms</a>: <span title="java.util.concurrent.ConcurrentHashMap[String,List[net.liftweb.util.FormBuilderLocator[_]]]">CHash</span><span class="delimiter">[</span>String, List<span class="delimiter">[</span>FormBuilderLocator<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span> = <span title="()java.util.concurrent.ConcurrentHashMap[String,List[net.liftweb.util.FormBuilderLocator[_]]]" class="keyword">new</span> <span title="java.util.concurrent.ConcurrentHashMap[String,List[net.liftweb.util.FormBuilderLocator[_]]]">CHash</span>

  <span class="keyword">def</span> <a title="[T](builder: net.liftweb.util.FormBuilderLocator[T])Unit" id="159283">prependGlobalFormBuilder</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="159285">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="net.liftweb.util.FormBuilderLocator[T]" id="368802">builder</a>: <a href="../../../../util/net/liftweb/util/Maker.scala.html#13519" title="net.liftweb.util.FormBuilderLocator[T]">FormBuilderLocator</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#159281" title="=&gt; java.util.concurrent.ConcurrentHashMap[String,List[net.liftweb.util.FormBuilderLocator[_]]]">globalForms</a>.<span title="(x$1: List[net.liftweb.util.FormBuilderLocator[_]])List[net.liftweb.util.FormBuilderLocator[_]]">synchronized</span> <span title="Unit" class="delimiter">{</span>
      <span class="keyword">val</span> <a title="java.lang.String" id="368807">name</a> = <a href="#368802" title="net.liftweb.util.FormBuilderLocator[T]">builder</a>.<a href="../../../../util/net/liftweb/util/Maker.scala.html#311635" title="=&gt; scala.reflect.Manifest[T]">manifest</a>.<span title="()java.lang.String">toString</span>
      <span title="List[net.liftweb.util.FormBuilderLocator[_]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#159281" title="=&gt; java.util.concurrent.ConcurrentHashMap[String,List[net.liftweb.util.FormBuilderLocator[_]]]">globalForms</a>.<span title="(x$1: Any)Boolean">containsKey</span><span class="delimiter">(</span><a href="#368807" title="java.lang.String">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#159281" title="=&gt; java.util.concurrent.ConcurrentHashMap[String,List[net.liftweb.util.FormBuilderLocator[_]]]">globalForms</a>.<span title="(x$1: String, x$2: List[net.liftweb.util.FormBuilderLocator[_]])List[net.liftweb.util.FormBuilderLocator[_]]">put</span><span class="delimiter">(</span><a href="#368807" title="java.lang.String">name</a>, <a href="#368802" title="net.liftweb.util.FormBuilderLocator[T]">builder</a> <a href="#368814" title="(x: net.liftweb.util.FormBuilderLocator[_])List[net.liftweb.util.FormBuilderLocator[_]]">::</a> <a href="#159281" title="=&gt; java.util.concurrent.ConcurrentHashMap[String,List[net.liftweb.util.FormBuilderLocator[_]]]">globalForms</a>.<span title="(x$1: Any)List[net.liftweb.util.FormBuilderLocator[_]]">get</span><span class="delimiter">(</span><a href="#368807" title="java.lang.String">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="#159281" title="=&gt; java.util.concurrent.ConcurrentHashMap[String,List[net.liftweb.util.FormBuilderLocator[_]]]">globalForms</a>.<span title="(x$1: String, x$2: List[net.liftweb.util.FormBuilderLocator[_]])List[net.liftweb.util.FormBuilderLocator[_]]">put</span><span class="delimiter">(</span><a href="#368807" title="java.lang.String">name</a>, <span title="(xs: net.liftweb.util.FormBuilderLocator[T]*)List[net.liftweb.util.FormBuilderLocator[T]]">List</span><span class="delimiter">(</span><a href="#368802" title="net.liftweb.util.FormBuilderLocator[T]">builder</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[T](builder: net.liftweb.util.FormBuilderLocator[T])Unit" id="159286">appendGlobalFormBuilder</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="159288">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="net.liftweb.util.FormBuilderLocator[T]" id="365751">builder</a>: <a href="../../../../util/net/liftweb/util/Maker.scala.html#13519" title="net.liftweb.util.FormBuilderLocator[T]">FormBuilderLocator</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#159281" title="=&gt; java.util.concurrent.ConcurrentHashMap[String,List[net.liftweb.util.FormBuilderLocator[_]]]">globalForms</a>.<span title="(x$1: List[net.liftweb.util.FormBuilderLocator[_]])List[net.liftweb.util.FormBuilderLocator[_]]">synchronized</span> <span title="Unit" class="delimiter">{</span>
      <span class="keyword">val</span> <a title="java.lang.String" id="368849">name</a> = <a href="#365751" title="net.liftweb.util.FormBuilderLocator[T]">builder</a>.<a href="../../../../util/net/liftweb/util/Maker.scala.html#311635" title="=&gt; scala.reflect.Manifest[T]">manifest</a>.<span title="()java.lang.String">toString</span>
      <span title="List[net.liftweb.util.FormBuilderLocator[_]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#159281" title="=&gt; java.util.concurrent.ConcurrentHashMap[String,List[net.liftweb.util.FormBuilderLocator[_]]]">globalForms</a>.<span title="(x$1: Any)Boolean">containsKey</span><span class="delimiter">(</span><a href="#368849" title="java.lang.String">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#159281" title="=&gt; java.util.concurrent.ConcurrentHashMap[String,List[net.liftweb.util.FormBuilderLocator[_]]]">globalForms</a>.<span title="(x$1: String, x$2: List[net.liftweb.util.FormBuilderLocator[_]])List[net.liftweb.util.FormBuilderLocator[_]]">put</span><span class="delimiter">(</span><a href="#368849" title="java.lang.String">name</a>, <a href="#365751" title="net.liftweb.util.FormBuilderLocator[T]">builder</a> <a href="#368850" title="(x: net.liftweb.util.FormBuilderLocator[_])List[net.liftweb.util.FormBuilderLocator[_]]">::</a> <a href="#159281" title="=&gt; java.util.concurrent.ConcurrentHashMap[String,List[net.liftweb.util.FormBuilderLocator[_]]]">globalForms</a>.<span title="(x$1: Any)List[net.liftweb.util.FormBuilderLocator[_]]">get</span><span class="delimiter">(</span><a href="#368849" title="java.lang.String">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="#159281" title="=&gt; java.util.concurrent.ConcurrentHashMap[String,List[net.liftweb.util.FormBuilderLocator[_]]]">globalForms</a>.<span title="(x$1: String, x$2: List[net.liftweb.util.FormBuilderLocator[_]])List[net.liftweb.util.FormBuilderLocator[_]]">put</span><span class="delimiter">(</span><a href="#368849" title="java.lang.String">name</a>, <span title="(xs: net.liftweb.util.FormBuilderLocator[T]*)List[net.liftweb.util.FormBuilderLocator[T]]">List</span><span class="delimiter">(</span><a href="#365751" title="net.liftweb.util.FormBuilderLocator[T]">builder</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[T](builder: net.liftweb.util.FormBuilderLocator[T])Unit" id="159289">prependSessionFormBuilder</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="159291">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="net.liftweb.util.FormBuilderLocator[T]" id="368870">builder</a>: <a href="../../../../util/net/liftweb/util/Maker.scala.html#13519" title="net.liftweb.util.FormBuilderLocator[T]">FormBuilderLocator</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#159308" title="object FormVendor.this.sessionForms">sessionForms</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75378" title="(what: Map[String,List[net.liftweb.util.FormBuilderLocator[_]]])Map[String,List[net.liftweb.util.FormBuilderLocator[_]]]">set</a><span title="Unit" class="delimiter">(</span><a href="#159306" title="(builder: net.liftweb.util.FormBuilderLocator[_], to: Map[String,List[net.liftweb.util.FormBuilderLocator[_]]])Map[String,List[net.liftweb.util.FormBuilderLocator[_]]]">prependBuilder</a><span class="delimiter">(</span><a href="#368870" title="net.liftweb.util.FormBuilderLocator[T]">builder</a>, <a href="../../../../util/net/liftweb/util/AnyVar.scala.html#228423" title="(in: net.liftweb.util.AnyVar[Map[String,List[net.liftweb.util.FormBuilderLocator[_]]], _])Map[String,List[net.liftweb.util.FormBuilderLocator[_]]]">sessionForms</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[T](builder: net.liftweb.util.FormBuilderLocator[T])Unit" id="159292">appendSessionFormBuilder</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="159294">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="net.liftweb.util.FormBuilderLocator[T]" id="368909">builder</a>: <a href="../../../../util/net/liftweb/util/Maker.scala.html#13519" title="net.liftweb.util.FormBuilderLocator[T]">FormBuilderLocator</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#159308" title="object FormVendor.this.sessionForms">sessionForms</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75378" title="(what: Map[String,List[net.liftweb.util.FormBuilderLocator[_]]])Map[String,List[net.liftweb.util.FormBuilderLocator[_]]]">set</a><span title="Unit" class="delimiter">(</span><a href="#159307" title="(builder: net.liftweb.util.FormBuilderLocator[_], to: Map[String,List[net.liftweb.util.FormBuilderLocator[_]]])Map[String,List[net.liftweb.util.FormBuilderLocator[_]]]">appendBuilder</a><span class="delimiter">(</span><a href="#368909" title="net.liftweb.util.FormBuilderLocator[T]">builder</a>, <a href="../../../../util/net/liftweb/util/AnyVar.scala.html#228423" title="(in: net.liftweb.util.AnyVar[Map[String,List[net.liftweb.util.FormBuilderLocator[_]]], _])Map[String,List[net.liftweb.util.FormBuilderLocator[_]]]">sessionForms</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[T](builder: net.liftweb.util.FormBuilderLocator[T])Unit" id="159295">prependRequestFormBuilder</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="159297">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="net.liftweb.util.FormBuilderLocator[T]" id="368946">builder</a>: <a href="../../../../util/net/liftweb/util/Maker.scala.html#13519" title="net.liftweb.util.FormBuilderLocator[T]">FormBuilderLocator</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#159310" title="object FormVendor.this.requestForms">requestForms</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75378" title="(what: Map[String,List[net.liftweb.util.FormBuilderLocator[_]]])Map[String,List[net.liftweb.util.FormBuilderLocator[_]]]">set</a><span title="Unit" class="delimiter">(</span><a href="#159306" title="(builder: net.liftweb.util.FormBuilderLocator[_], to: Map[String,List[net.liftweb.util.FormBuilderLocator[_]]])Map[String,List[net.liftweb.util.FormBuilderLocator[_]]]">prependBuilder</a><span class="delimiter">(</span><a href="#368946" title="net.liftweb.util.FormBuilderLocator[T]">builder</a>, <a href="../../../../util/net/liftweb/util/AnyVar.scala.html#228423" title="(in: net.liftweb.util.AnyVar[Map[String,List[net.liftweb.util.FormBuilderLocator[_]]], _])Map[String,List[net.liftweb.util.FormBuilderLocator[_]]]">requestForms</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[T](builder: net.liftweb.util.FormBuilderLocator[T])Unit" id="159298">appendRequestFormBuilder</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="159300">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="net.liftweb.util.FormBuilderLocator[T]" id="368975">builder</a>: <a href="../../../../util/net/liftweb/util/Maker.scala.html#13519" title="net.liftweb.util.FormBuilderLocator[T]">FormBuilderLocator</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#159310" title="object FormVendor.this.requestForms">requestForms</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75378" title="(what: Map[String,List[net.liftweb.util.FormBuilderLocator[_]]])Map[String,List[net.liftweb.util.FormBuilderLocator[_]]]">set</a><span title="Unit" class="delimiter">(</span><a href="#159307" title="(builder: net.liftweb.util.FormBuilderLocator[_], to: Map[String,List[net.liftweb.util.FormBuilderLocator[_]]])Map[String,List[net.liftweb.util.FormBuilderLocator[_]]]">appendBuilder</a><span class="delimiter">(</span><a href="#368975" title="net.liftweb.util.FormBuilderLocator[T]">builder</a>, <a href="../../../../util/net/liftweb/util/AnyVar.scala.html#228423" title="(in: net.liftweb.util.AnyVar[Map[String,List[net.liftweb.util.FormBuilderLocator[_]]], _])Map[String,List[net.liftweb.util.FormBuilderLocator[_]]]">requestForms</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[F, T](builder: net.liftweb.util.FormBuilderLocator[T])(f: =&gt; F)F" id="159301">doWith</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="159304">F</a>, <a title="&gt;: Nothing &lt;: Any" id="159305">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="net.liftweb.util.FormBuilderLocator[T]" id="369002">builder</a>: <a href="../../../../util/net/liftweb/util/Maker.scala.html#13519" title="net.liftweb.util.FormBuilderLocator[T]">FormBuilderLocator</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; F" id="369003">f</a>: =&gt; F<span class="delimiter">)</span>: <a href="#159304" title="F">F</a> =
    <a href="#159310" title="object FormVendor.this.requestForms">requestForms</a>.<a href="../../../../util/net/liftweb/util/AnyVar.scala.html#75392" title="(newVal: Map[String,List[net.liftweb.util.FormBuilderLocator[_]]])(f: =&gt; F)F">doWith</a><span class="delimiter">(</span><a href="#159306" title="(builder: net.liftweb.util.FormBuilderLocator[_], to: Map[String,List[net.liftweb.util.FormBuilderLocator[_]]])Map[String,List[net.liftweb.util.FormBuilderLocator[_]]]">prependBuilder</a><span class="delimiter">(</span><a href="#369002" title="net.liftweb.util.FormBuilderLocator[T]">builder</a>, <a href="../../../../util/net/liftweb/util/AnyVar.scala.html#228423" title="(in: net.liftweb.util.AnyVar[Map[String,List[net.liftweb.util.FormBuilderLocator[_]]], _])Map[String,List[net.liftweb.util.FormBuilderLocator[_]]]">requestForms</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#369003" title="=&gt; F">f</a><span class="delimiter">)</span>


  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(builder: net.liftweb.util.FormBuilderLocator[_], to: Map[String,List[net.liftweb.util.FormBuilderLocator[_]]])Map[String,List[net.liftweb.util.FormBuilderLocator[_]]]" id="159306">prependBuilder</a><span class="delimiter">(</span><a title="net.liftweb.util.FormBuilderLocator[_]" id="368875">builder</a>: <a href="../../../../util/net/liftweb/util/Maker.scala.html#13519" title="net.liftweb.util.FormBuilderLocator[_]">FormBuilderLocator</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="Map[String,List[net.liftweb.util.FormBuilderLocator[_]]]" id="368876">to</a>: <span title="Map[String,List[net.liftweb.util.FormBuilderLocator[_]]]">Map</span><span class="delimiter">[</span>String, List<span class="delimiter">[</span>FormBuilderLocator<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>:
  <span title="Map[String,List[net.liftweb.util.FormBuilderLocator[_]]]">Map</span><span class="delimiter">[</span>String, List<span class="delimiter">[</span>FormBuilderLocator<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.lang.String" id="369065">name</a> = <a href="#368875" title="net.liftweb.util.FormBuilderLocator[_]">builder</a>.<a href="../../../../util/net/liftweb/util/Maker.scala.html#311635" title="(=&gt; scala.reflect.Manifest[_$3]) forSome { type _$3 }">manifest</a>.<span title="()java.lang.String">toString</span>
    <a href="#368876" title="Map[String,List[net.liftweb.util.FormBuilderLocator[_]]]">to</a> <span title="(kv: (String, List[net.liftweb.util.FormBuilderLocator[_]]))scala.collection.immutable.Map[String,List[net.liftweb.util.FormBuilderLocator[_]]]">+</span> <span class="delimiter">(</span><a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc">name</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58395" title="(in: List[net.liftweb.util.FormBuilderLocator[_]])(String, List[net.liftweb.util.FormBuilderLocator[_]])">-&gt;</a> <span class="delimiter">(</span><a href="#368875" title="net.liftweb.util.FormBuilderLocator[_]">builder</a> <a href="#369170" title="(x: net.liftweb.util.FormBuilderLocator[_])List[net.liftweb.util.FormBuilderLocator[_]]">::</a> <a href="#368876" title="Map[String,List[net.liftweb.util.FormBuilderLocator[_]]]">to</a>.<span title="(key: String, default: =&gt; List[net.liftweb.util.FormBuilderLocator[_]])List[net.liftweb.util.FormBuilderLocator[_]]">getOrElse</span><span class="delimiter">(</span><a href="#369065" title="java.lang.String">name</a>, <span title="object Nil">Nil</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(builder: net.liftweb.util.FormBuilderLocator[_], to: Map[String,List[net.liftweb.util.FormBuilderLocator[_]]])Map[String,List[net.liftweb.util.FormBuilderLocator[_]]]" id="159307">appendBuilder</a><span class="delimiter">(</span><a title="net.liftweb.util.FormBuilderLocator[_]" id="368912">builder</a>: <a href="../../../../util/net/liftweb/util/Maker.scala.html#13519" title="net.liftweb.util.FormBuilderLocator[_]">FormBuilderLocator</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="Map[String,List[net.liftweb.util.FormBuilderLocator[_]]]" id="368913">to</a>: <span title="Map[String,List[net.liftweb.util.FormBuilderLocator[_]]]">Map</span><span class="delimiter">[</span>String, List<span class="delimiter">[</span>FormBuilderLocator<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>:
  <span title="Map[String,List[net.liftweb.util.FormBuilderLocator[_]]]">Map</span><span class="delimiter">[</span>String, List<span class="delimiter">[</span>FormBuilderLocator<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.lang.String" id="369233">name</a> = <a href="#368912" title="net.liftweb.util.FormBuilderLocator[_]">builder</a>.<a href="../../../../util/net/liftweb/util/Maker.scala.html#311635" title="(=&gt; scala.reflect.Manifest[_$6]) forSome { type _$6 }">manifest</a>.<span title="()java.lang.String">toString</span>
    <a href="#368913" title="Map[String,List[net.liftweb.util.FormBuilderLocator[_]]]">to</a> <span title="(kv: (String, List[net.liftweb.util.FormBuilderLocator[_]]))scala.collection.immutable.Map[String,List[net.liftweb.util.FormBuilderLocator[_]]]">+</span> <span class="delimiter">(</span><a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc">name</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58395" title="(in: List[net.liftweb.util.FormBuilderLocator[_]])(String, List[net.liftweb.util.FormBuilderLocator[_]])">-&gt;</a> <span class="delimiter">(</span><a href="#368912" title="net.liftweb.util.FormBuilderLocator[_]">builder</a> <a href="#369338" title="(x: net.liftweb.util.FormBuilderLocator[_])List[net.liftweb.util.FormBuilderLocator[_]]">::</a> <a href="#368913" title="Map[String,List[net.liftweb.util.FormBuilderLocator[_]]]">to</a>.<span title="(key: String, default: =&gt; List[net.liftweb.util.FormBuilderLocator[_]])List[net.liftweb.util.FormBuilderLocator[_]]">getOrElse</span><span class="delimiter">(</span><a href="#369233" title="java.lang.String">name</a>, <span title="object Nil">Nil</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>


  <span class="keyword">private</span> <span class="keyword">object</span> <a title="object FormVendor.this.sessionForms" id="159308">sessionForms</a> <span title="ScalaObject" class="keyword">extends</span> <a href="Vars.scala.html#14760" title="net.liftweb.http.SessionVar[Map[String,List[net.liftweb.util.FormBuilderLocator[_]]]]">SessionVar</a><span class="delimiter">[</span>Map<span class="delimiter">[</span>String, List<span class="delimiter">[</span>FormBuilderLocator<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span title="(elems: (String, Nothing)*)scala.collection.immutable.Map[String,Nothing]">Map</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">object</span> <a title="object FormVendor.this.requestForms" id="159310">requestForms</a> <span title="ScalaObject" class="keyword">extends</span> <a href="Vars.scala.html#14760" title="net.liftweb.http.SessionVar[Map[String,List[net.liftweb.util.FormBuilderLocator[_]]]]">SessionVar</a><span class="delimiter">[</span>Map<span class="delimiter">[</span>String, List<span class="delimiter">[</span>FormBuilderLocator<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span title="(elems: (String, Nothing)*)scala.collection.immutable.Map[String,Nothing]">Map</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>


        </pre>
    </body>
</html>