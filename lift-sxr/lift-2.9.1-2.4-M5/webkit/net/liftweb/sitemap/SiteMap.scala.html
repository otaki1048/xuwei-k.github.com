<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>webkit/net/liftweb/sitemap/SiteMap.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*
 * Copyright 2007-2011 WorldWide Conferencing, LLC
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */</span>

<span class="keyword">package</span> net.liftweb
<span class="keyword">package</span> sitemap

<span class="keyword">import</span> http._
<span class="keyword">import</span> util._
<span class="keyword">import</span> common._
<span class="keyword">import</span> <a href="../../../../util/net/liftweb/util/Helpers.scala.html#13346" title="object net.liftweb.util.Helpers">Helpers</a>._

<span class="keyword">import</span> scala.xml.<span class="delimiter">{</span>NodeSeq, Text<span class="delimiter">}</span>

<span class="keyword">class</span> <a title="class SiteMapException extends java.lang.Exception with ScalaObject" id="15341">SiteMapException</a><a href="#15341" title="ScalaObject" class="delimiter">(</a><a title="String" id="481406">msg</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> <span title="java.lang.Exception">Exception</span><span class="delimiter">(</span><a href="#481406" title="String">msg</a><span class="delimiter">)</span>

case <span class="keyword">class</span> <a title="class SiteMap extends java.lang.Object with net.liftweb.sitemap.HasKids with ScalaObject with Product with Serializable" id="227698">SiteMap</a><a href="#227698" title="ScalaObject" class="delimiter">(</a><a title="List[PartialFunction[net.liftweb.common.Box[net.liftweb.http.Req],net.liftweb.sitemap.Loc.AnyLocParam]]" id="482356">globalParamFuncs</a>: <span title="List[PartialFunction[net.liftweb.common.Box[net.liftweb.http.Req],net.liftweb.sitemap.Loc.AnyLocParam]]">List</span><span class="delimiter">[</span>PartialFunction<span class="delimiter">[</span>Box<span class="delimiter">[</span>Req<span class="delimiter">]</span>, Loc.AnyLocParam<span class="delimiter">]</span><span class="delimiter">]</span>,
                   <span class="keyword">private</span> <span class="keyword">val</span> <a title="net.liftweb.sitemap.ConvertableToMenu*" id="482357">convertablekids</a>: <span title="net.liftweb.sitemap.ConvertableToMenu*">ConvertableToMenu</span>*<span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#15347" title="net.liftweb.sitemap.HasKids">HasKids</a>  <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="#483164" title="object net.liftweb.sitemap.SiteMap">SiteMap</a>._

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Seq[net.liftweb.sitemap.Menu]" id="227708">kids</a>: <span title="Seq[net.liftweb.sitemap.Menu]">Seq</span><span class="delimiter">[</span>Menu<span class="delimiter">]</span> = <a href="#482357" title="=&gt; net.liftweb.sitemap.ConvertableToMenu*">convertablekids</a>.<span title="(f: net.liftweb.sitemap.ConvertableToMenu =&gt; net.liftweb.sitemap.Menu)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[net.liftweb.sitemap.ConvertableToMenu],net.liftweb.sitemap.Menu,Seq[net.liftweb.sitemap.Menu]])Seq[net.liftweb.sitemap.Menu]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,net.liftweb.sitemap.Menu,Seq[net.liftweb.sitemap.Menu]]" class="delimiter">(</span><a href="#482311" title="net.liftweb.sitemap.ConvertableToMenu">_</a>.<a href="Menu.scala.html#148448" title="=&gt; net.liftweb.sitemap.Menu">toMenu</a><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">var</span> <a title="Map[String,net.liftweb.sitemap.Loc[_]]" id="227710">locs</a>: <span title="Map[String,net.liftweb.sitemap.Loc[_]]">Map</span><span class="delimiter">[</span>String, Loc<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span> = <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="scala.collection.immutable.Map[String,Nothing]">empty</span>

  <span class="keyword">private</span> <span class="keyword">var</span> <a title="Set[List[String]]" id="227713">locPath</a>: <span title="Set[List[String]]">Set</span><span class="delimiter">[</span>List<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">]</span> = <span title="(elems: List[String]*)scala.collection.immutable.Set[List[String]]">Set</span><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Create a new SiteMap by passing the current menu items
   * to a function.  This function can add to, remove, or
   * otherwise mutate the current menu items.
   */</span>
  <span class="keyword">def</span> <a title="(f: List[net.liftweb.sitemap.Menu] =&gt; List[net.liftweb.sitemap.Menu])net.liftweb.sitemap.SiteMap" id="227715">rebuild</a><span class="delimiter">(</span><a title="List[net.liftweb.sitemap.Menu] =&gt; List[net.liftweb.sitemap.Menu]" id="482353">f</a>: List<span class="delimiter">[</span>Menu<span class="delimiter">]</span> =&gt; List<span class="delimiter">[</span>Menu<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#227698" title="(globalParamFuncs: List[PartialFunction[net.liftweb.common.Box[net.liftweb.http.Req],net.liftweb.sitemap.Loc.AnyLocParam]], convertablekids: net.liftweb.sitemap.ConvertableToMenu*)net.liftweb.sitemap.SiteMap">SiteMap</a><span class="delimiter">(</span><a href="#482356" title="=&gt; List[PartialFunction[net.liftweb.common.Box[net.liftweb.http.Req],net.liftweb.sitemap.Loc.AnyLocParam]]">globalParamFuncs</a>, <a href="#482353" title="(v1: List[net.liftweb.sitemap.Menu])List[net.liftweb.sitemap.Menu]">f</a><span class="delimiter">(</span><a href="#227707" title="=&gt; Seq[net.liftweb.sitemap.Menu]">kids</a>.<span title="=&gt; List[net.liftweb.sitemap.Menu]">toList</span><span class="delimiter">)</span> :_*<span class="delimiter">)</span>

  <a href="#227707" title="=&gt; Seq[net.liftweb.sitemap.Menu]">kids</a>.<span title="(f: net.liftweb.sitemap.Menu =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#482387" title="net.liftweb.sitemap.Menu">_</a>.<a href="Menu.scala.html#148429" title="(x$1: net.liftweb.common.Box[net.liftweb.sitemap.HasKids])Unit">_parent</a> = <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: net.liftweb.sitemap.SiteMap)net.liftweb.common.Full[net.liftweb.sitemap.SiteMap]">Full</a><span class="delimiter">(</span><a href="#227698" title="net.liftweb.sitemap.SiteMap" class="keyword">this</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <a href="#227707" title="=&gt; Seq[net.liftweb.sitemap.Menu]">kids</a>.<span title="(f: net.liftweb.sitemap.Menu =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#482401" title="net.liftweb.sitemap.Menu">_</a>.<a href="Menu.scala.html#148434" title="(siteMap: net.liftweb.sitemap.SiteMap)Unit">init</a><span class="delimiter">(</span><a href="#227698" title="net.liftweb.sitemap.SiteMap" class="keyword">this</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <a href="#227707" title="=&gt; Seq[net.liftweb.sitemap.Menu]">kids</a>.<span title="(f: net.liftweb.sitemap.Menu =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#482412" title="net.liftweb.sitemap.Menu">_</a>.<a href="Menu.scala.html#148436" title="=&gt; Unit">validate</a><span class="delimiter">)</span>

  <span class="keyword">private</span><span class="delimiter">[</span>sitemap<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(in: net.liftweb.sitemap.Loc[_])Unit" id="227716">addLoc</a><span class="delimiter">(</span><a title="net.liftweb.sitemap.Loc[_]" id="476022">in</a>: <a href="Loc.scala.html#15287" title="net.liftweb.sitemap.Loc[_]">Loc</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="String" id="482415">name</a> = <a href="#476022" title="net.liftweb.sitemap.Loc[_]">in</a>.<a href="Loc.scala.html#215864" title="=&gt; String">name</a>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#227710" title="=&gt; Map[String,net.liftweb.sitemap.Loc[_]]">locs</a>.<span title="(key: String)Boolean">isDefinedAt</span><span class="delimiter">(</span><a href="#482415" title="String">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span title="Nothing" class="keyword">throw</span> <span title="net.liftweb.sitemap.SiteMapException" class="keyword">new</span> <a href="#15341" title="net.liftweb.sitemap.SiteMapException">SiteMapException</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Location &quot;)" class="string">&quot;Location &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#482415" title="String">name</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; defined twice &quot;)" class="string">&quot; defined twice &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
                               <a href="#227710" title="(key: String)net.liftweb.sitemap.Loc[_]">locs</a><span class="delimiter">(</span><a href="#482415" title="String">name</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; and &quot;)" class="string">&quot; and &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#476022" title="net.liftweb.sitemap.Loc[_]">in</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#227710" title="(x$1: Map[String,net.liftweb.sitemap.Loc[_]])Unit">locs</a> = <a href="#227710" title="=&gt; Map[String,net.liftweb.sitemap.Loc[_]]">locs</a> <span title="(kv: (String, net.liftweb.sitemap.Loc[_]))scala.collection.immutable.Map[String,net.liftweb.sitemap.Loc[_]]">+</span> <span class="delimiter">(</span><a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#49003" title="implicit net.liftweb.util.BindHelpers.strToSuperArrowAssoc : (in: String)net.liftweb.util.Helpers.SuperArrowAssoc">name</a> <a href="../../../../util/net/liftweb/util/BindHelpers.scala.html#58395" title="(in: net.liftweb.sitemap.Loc[_$3])(String, net.liftweb.sitemap.Loc[_$3])">-&gt;</a> <a href="#476022" title="net.liftweb.sitemap.Loc[_]">in</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="net.liftweb.sitemap.Loc[_$3]" class="delimiter">[</span><a href="Loc.scala.html#15287" title="net.liftweb.sitemap.Loc[_]">Loc</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>

    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#483164" title="object net.liftweb.sitemap.SiteMap">SiteMap</a>.<a href="#227681" title="=&gt; Boolean">enforceUniqueLinks</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#476022" title="net.liftweb.sitemap.Loc[_]">in</a>.<a href="Loc.scala.html#215865" title="(=&gt; net.liftweb.sitemap.Loc.Link[_$2]) forSome { type _$2 }">link</a>.<a href="Loc.scala.html#216002" title="=&gt; Boolean">external_?</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
	<a href="#227713" title="=&gt; Set[List[String]]">locPath</a>.<span title="(elem: List[String])Boolean">contains</span><span class="delimiter">(</span><a href="#476022" title="net.liftweb.sitemap.Loc[_]">in</a>.<a href="Loc.scala.html#215865" title="(=&gt; net.liftweb.sitemap.Loc.Link[_$2]) forSome { type _$2 }">link</a>.<a href="Loc.scala.html#215995" title="=&gt; List[String]">uriList</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span title="Nothing" class="keyword">throw</span> <span title="net.liftweb.sitemap.SiteMapException" class="keyword">new</span> <a href="#15341" title="net.liftweb.sitemap.SiteMapException">SiteMapException</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Location &quot;)" class="string">&quot;Location &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#482415" title="String">name</a><span title="(x$1: Any)java.lang.String">+</span>
              <span title="java.lang.String(&quot; defines a duplicate link &quot;)" class="string">&quot; defines a duplicate link &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
              <a href="#476022" title="net.liftweb.sitemap.Loc[_]">in</a>.<a href="Loc.scala.html#215865" title="(=&gt; net.liftweb.sitemap.Loc.Link[_$2]) forSome { type _$2 }">link</a>.<a href="Loc.scala.html#215995" title="=&gt; List[String]">uriList</a><span class="delimiter">)</span>

    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#476022" title="net.liftweb.sitemap.Loc[_]">in</a>.<a href="Loc.scala.html#215865" title="(=&gt; net.liftweb.sitemap.Loc.Link[_$2]) forSome { type _$2 }">link</a>.<a href="Loc.scala.html#216002" title="=&gt; Boolean">external_?</a><span class="delimiter">)</span> <a href="#227713" title="(x$1: Set[List[String]])Unit">locPath</a> <span title="(elem: List[String])scala.collection.immutable.Set[List[String]]">+=</span> <a href="#476022" title="net.liftweb.sitemap.Loc[_]">in</a>.<a href="Loc.scala.html#215865" title="(=&gt; net.liftweb.sitemap.Loc.Link[_$2]) forSome { type _$2 }">link</a>.<a href="Loc.scala.html#215995" title="=&gt; List[String]">uriList</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; List[net.liftweb.sitemap.Loc.AnyLocParam]" id="227717">globalParams</a>: <span title="List[net.liftweb.sitemap.Loc.AnyLocParam]">List</span><span class="delimiter">[</span>Loc.AnyLocParam<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="net.liftweb.common.Box[net.liftweb.http.Req]" id="482633">r</a> = <a href="../http/S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="../http/S.scala.html#49309" title="=&gt; net.liftweb.common.Box[net.liftweb.http.Req]">request</a>

    <a href="#482356" title="=&gt; List[PartialFunction[net.liftweb.common.Box[net.liftweb.http.Req],net.liftweb.sitemap.Loc.AnyLocParam]]">globalParamFuncs</a>.<span title="(f: PartialFunction[net.liftweb.common.Box[net.liftweb.http.Req],net.liftweb.sitemap.Loc.AnyLocParam] =&gt; scala.collection.GenTraversableOnce[net.liftweb.sitemap.Loc.AnyLocParam])(implicit bf: scala.collection.generic.CanBuildFrom[List[PartialFunction[net.liftweb.common.Box[net.liftweb.http.Req],net.liftweb.sitemap.Loc.AnyLocParam]],net.liftweb.sitemap.Loc.AnyLocParam,List[net.liftweb.sitemap.Loc.AnyLocParam]])List[net.liftweb.sitemap.Loc.AnyLocParam]">flatMap</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,net.liftweb.sitemap.Loc.AnyLocParam,List[net.liftweb.sitemap.Loc.AnyLocParam]]" class="delimiter">(</span><a title="PartialFunction[net.liftweb.common.Box[net.liftweb.http.Req],net.liftweb.sitemap.Loc.AnyLocParam]" id="482650">f</a> =&gt; <span title="List[net.liftweb.sitemap.Loc.AnyLocParam]" class="keyword">if</span> <span class="delimiter">(</span><a href="#482650" title="PartialFunction[net.liftweb.common.Box[net.liftweb.http.Req],net.liftweb.sitemap.Loc.AnyLocParam]">f</a>.<span title="(x: net.liftweb.common.Box[net.liftweb.http.Req])Boolean">isDefinedAt</span><span class="delimiter">(</span><a href="#482633" title="net.liftweb.common.Box[net.liftweb.http.Req]">r</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(xs: net.liftweb.sitemap.Loc.AnyLocParam*)List[net.liftweb.sitemap.Loc.AnyLocParam]">List</span><span class="delimiter">(</span><a href="#482650" title="(v1: net.liftweb.common.Box[net.liftweb.http.Req])net.liftweb.sitemap.Loc.AnyLocParam">f</a><span class="delimiter">(</span><a href="#482633" title="net.liftweb.common.Box[net.liftweb.http.Req]">r</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">else</span> <span title="object Nil">Nil</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(name: String)net.liftweb.common.Box[net.liftweb.sitemap.Loc[_]]" id="227718">findLoc</a><span class="delimiter">(</span><a title="String" id="329282">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.sitemap.Loc[_]]">Box</a><span class="delimiter">[</span>Loc<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="../../../../common/net/liftweb/common/Box.scala.html#28602" title="(in: Option[net.liftweb.sitemap.Loc[_]])net.liftweb.common.Box[net.liftweb.sitemap.Loc[_]] with Serializable">Box</a><span class="delimiter">(</span><a href="#227710" title="=&gt; Map[String,net.liftweb.sitemap.Loc[_]]">locs</a>.<span title="(key: String)Option[net.liftweb.sitemap.Loc[_]]">get</span><span class="delimiter">(</span><a href="#329282" title="String">name</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(req: net.liftweb.http.Req)net.liftweb.common.Box[net.liftweb.sitemap.Loc[_]]" id="227719">findLoc</a><span class="delimiter">(</span><a title="net.liftweb.http.Req" id="329277">req</a>: <a href="../http/Req.scala.html#14573" title="net.liftweb.http.Req">Req</a><span class="delimiter">)</span>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.sitemap.Loc[_]]">Box</a><span class="delimiter">[</span>Loc<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="../../../../util/net/liftweb/util/ListHelpers.scala.html#48877" title="(in: Seq[net.liftweb.sitemap.Menu])(_f: net.liftweb.sitemap.Menu =&gt; net.liftweb.common.Box[net.liftweb.sitemap.Loc[_]])net.liftweb.common.Box[net.liftweb.sitemap.Loc[_]]">first</a><span class="delimiter">(</span><a href="#227707" title="=&gt; Seq[net.liftweb.sitemap.Menu]">kids</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#482801" title="net.liftweb.sitemap.Menu">_</a>.<a href="Menu.scala.html#148440" title="(req: net.liftweb.http.Req)net.liftweb.common.Box[net.liftweb.sitemap.Loc[_]]">findLoc</a><span class="delimiter">(</span><a href="#329277" title="net.liftweb.http.Req">req</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
  * Find all the menu items for a given group.
  * This method returns a linear sequence of menu items
  */</span>
  <span class="keyword">def</span> <a title="(group: String)Seq[net.liftweb.sitemap.Loc[_]]" id="227720">locForGroup</a><span class="delimiter">(</span><a title="String" id="329563">group</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Seq[net.liftweb.sitemap.Loc[_]]">Seq</span><span class="delimiter">[</span>Loc<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span> =
    <a href="#227707" title="=&gt; Seq[net.liftweb.sitemap.Menu]">kids</a>.<span title="(f: net.liftweb.sitemap.Menu =&gt; scala.collection.GenTraversableOnce[net.liftweb.sitemap.Loc[_]])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[net.liftweb.sitemap.Menu],net.liftweb.sitemap.Loc[_],Seq[net.liftweb.sitemap.Loc[_]]])Seq[net.liftweb.sitemap.Loc[_]]">flatMap</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,net.liftweb.sitemap.Loc[_],Seq[net.liftweb.sitemap.Loc[_]]]" class="delimiter">(</span><a href="#482831" title="net.liftweb.sitemap.Menu">_</a>.<a href="Menu.scala.html#148441" title="(group: String)Seq[net.liftweb.sitemap.Loc[_]]">locForGroup</a><span class="delimiter">(</span><a href="#329563" title="String">group</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(p: net.liftweb.sitemap.Loc[_] =&gt; Boolean)Seq[net.liftweb.sitemap.Loc[_]]">filter</span><span class="delimiter">(</span>
      <a href="#482860" title="net.liftweb.sitemap.Loc[_]">_</a>.<a href="Loc.scala.html#215923" title="=&gt; Either[Boolean,net.liftweb.common.Box[() =&gt; net.liftweb.http.LiftResponse]]">testAccess</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Boolean(true)">Left</span><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span> =&gt; <span title="Boolean(true)" class="keyword">true</span> <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Find all the menu items for a given group.
   * This method returns menu tree
   */</span>
  <span class="keyword">def</span> <a title="(group: String)net.liftweb.sitemap.CompleteMenu" id="227721">menuForGroup</a><span class="delimiter">(</span><a title="String" id="482864">group</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="Loc.scala.html#15293" title="net.liftweb.sitemap.CompleteMenu">CompleteMenu</a> = <span class="delimiter">{</span>
    <a href="Loc.scala.html#411260" title="(lines: Seq[net.liftweb.sitemap.MenuItem])net.liftweb.sitemap.CompleteMenu">CompleteMenu</a><span class="delimiter">(</span><a href="#227707" title="=&gt; Seq[net.liftweb.sitemap.Menu]">kids</a>.<span title="(f: net.liftweb.sitemap.Menu =&gt; scala.collection.GenTraversableOnce[net.liftweb.sitemap.MenuItem])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[net.liftweb.sitemap.Menu],net.liftweb.sitemap.MenuItem,Seq[net.liftweb.sitemap.MenuItem]])Seq[net.liftweb.sitemap.MenuItem]">flatMap</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,net.liftweb.sitemap.MenuItem,Seq[net.liftweb.sitemap.MenuItem]]" class="delimiter">(</span><a href="#482877" title="net.liftweb.sitemap.Menu">_</a>.<a href="Menu.scala.html#148444" title="(path: List[net.liftweb.sitemap.Loc[_]], group: String)net.liftweb.common.Box[net.liftweb.sitemap.MenuItem]">makeMenuItem</a><a href="../../../../common/net/liftweb/common/Box.scala.html#28624" title="(in: net.liftweb.common.Box[net.liftweb.sitemap.MenuItem])Iterable[net.liftweb.sitemap.MenuItem]" class="delimiter">(</a><span title="object Nil">Nil</span>, <a href="#482864" title="String">group</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="List[net.liftweb.sitemap.Menu]" id="227723">menus</a>: <span title="List[net.liftweb.sitemap.Menu]">List</span><span class="delimiter">[</span>Menu<span class="delimiter">]</span> = <a href="#227710" title="=&gt; Map[String,net.liftweb.sitemap.Loc[_]]">locs</a>.<span title="=&gt; Iterator[net.liftweb.sitemap.Loc[_]]">valuesIterator</span>.<span title="(f: net.liftweb.sitemap.Loc[_] =&gt; net.liftweb.sitemap.Menu)Iterator[net.liftweb.sitemap.Menu]">map</span><span class="delimiter">(</span><a href="#482978" title="net.liftweb.sitemap.Loc[_]">_</a>.<a href="Loc.scala.html#215939" title="=&gt; net.liftweb.sitemap.Menu">menu</a><span class="delimiter">)</span>.<span title="=&gt; List[net.liftweb.sitemap.Menu]">toList</span>

  <span class="comment">/**
   * Build a menu based on the current location
   */</span>
  <span class="keyword">def</span> <a title="(current: net.liftweb.common.Box[net.liftweb.sitemap.Loc[_]])net.liftweb.sitemap.CompleteMenu" id="227724">buildMenu</a><span class="delimiter">(</span><a title="net.liftweb.common.Box[net.liftweb.sitemap.Loc[_]]" id="330177">current</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.sitemap.Loc[_]]">Box</a><span class="delimiter">[</span>Loc<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <a href="Loc.scala.html#15293" title="net.liftweb.sitemap.CompleteMenu">CompleteMenu</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="List[net.liftweb.sitemap.Loc[_]]" id="482982">path</a>: <span title="List[net.liftweb.sitemap.Loc[_]]">List</span><span class="delimiter">[</span>Loc<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#330177" title="net.liftweb.common.Box[net.liftweb.sitemap.Loc[_]]">current</a> <span title="List[net.liftweb.sitemap.Loc[_]]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="List[net.liftweb.sitemap.Loc[_]]">Full</span><span class="delimiter">(</span><a title="net.liftweb.sitemap.Loc[_]" id="482987">loc</a><span class="delimiter">)</span> =&gt; <a href="#482987" title="net.liftweb.sitemap.Loc[_]">loc</a>.<a href="Loc.scala.html#215942" title="=&gt; List[net.liftweb.sitemap.Loc[_]]">breadCrumbs</a>
      <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">_</span> =&gt; <span title="object Nil">Nil</span>
    <span class="delimiter">}</span>
    <a href="Loc.scala.html#411260" title="(lines: Seq[net.liftweb.sitemap.MenuItem])net.liftweb.sitemap.CompleteMenu">CompleteMenu</a><span class="delimiter">(</span><a href="#227707" title="=&gt; Seq[net.liftweb.sitemap.Menu]">kids</a>.<span title="(f: net.liftweb.sitemap.Menu =&gt; scala.collection.GenTraversableOnce[net.liftweb.sitemap.MenuItem])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[net.liftweb.sitemap.Menu],net.liftweb.sitemap.MenuItem,Seq[net.liftweb.sitemap.MenuItem]])Seq[net.liftweb.sitemap.MenuItem]">flatMap</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,net.liftweb.sitemap.MenuItem,Seq[net.liftweb.sitemap.MenuItem]]" class="delimiter">(</span><a href="#483008" title="net.liftweb.sitemap.Menu">_</a>.<a href="Menu.scala.html#148443" title="(path: List[net.liftweb.sitemap.Loc[_]])net.liftweb.common.Box[net.liftweb.sitemap.MenuItem]">makeMenuItem</a><a href="../../../../common/net/liftweb/common/Box.scala.html#28624" title="(in: net.liftweb.common.Box[net.liftweb.sitemap.MenuItem])Iterable[net.liftweb.sitemap.MenuItem]" class="delimiter">(</a><a href="#482982" title="List[net.liftweb.sitemap.Loc[_]]">path</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * The bridge to get the SiteMap singleton
 */</span>
<span class="keyword">final</span> <span class="keyword">class</span> <a title="class SiteMapJBridge extends java.lang.Object with ScalaObject" id="15345">SiteMapJBridge</a> <a href="#15345" title="ScalaObject" class="delimiter">{</a>
  <span class="keyword">def</span> <a title="()net.liftweb.sitemap.SiteMapSingleton" id="483160">siteMap</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="#15346" title="net.liftweb.sitemap.SiteMapSingleton">SiteMapSingleton</a> = <a href="#483164" title="object net.liftweb.sitemap.SiteMap">SiteMap</a>
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="object net.liftweb.sitemap.SiteMap" id="483164">SiteMap</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#15346" title="net.liftweb.sitemap.SiteMapSingleton">SiteMapSingleton</a>

<span class="keyword">sealed</span> <span class="keyword">class</span> <a title="class SiteMapSingleton extends java.lang.Object with ScalaObject" id="15346">SiteMapSingleton</a> <a href="#15346" title="ScalaObject" class="delimiter">{</a>
  <span class="comment">/**
   * By default, Lift enforced unique links in a SiteMap.  However, you
   * can disable this feature by setting enforceUniqueLinks to false
   */</span>
  @volatile <span class="keyword">var</span> <a title="Boolean" id="227681">enforceUniqueLinks</a> = <span title="Boolean(true)" class="keyword">true</span>

  <span class="keyword">def</span> <a title="(name: String)net.liftweb.common.Box[net.liftweb.sitemap.Loc[_]]" id="227683">findLoc</a><span class="delimiter">(</span><a title="String" id="483168">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.sitemap.Loc[_]]">Box</a><span class="delimiter">[</span>Loc<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="keyword">for</span> <span class="delimiter">(</span><a title="net.liftweb.sitemap.SiteMap" id="483180">sm</a> &lt;- <a href="../http/LiftRules.scala.html#158817" title="implicit net.liftweb.http.LiftRulesMocker.toLiftRules : (in: net.liftweb.http.LiftRulesMocker)net.liftweb.http.LiftRules">LiftRules</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27023" title="(f: net.liftweb.sitemap.SiteMap =&gt; net.liftweb.common.Box[net.liftweb.sitemap.Loc[_]])net.liftweb.common.Box[net.liftweb.sitemap.Loc[_]]">siteMap</a>; <a title="net.liftweb.sitemap.Loc[_]" id="483189">loc</a> &lt;- <a href="#483180" title="net.liftweb.sitemap.SiteMap">sm</a>.<a href="#227718" title="(name: String)net.liftweb.common.Box[net.liftweb.sitemap.Loc[_]]">findLoc</a><a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: net.liftweb.sitemap.Loc[_] =&gt; net.liftweb.sitemap.Loc[_])net.liftweb.common.Box[net.liftweb.sitemap.Loc[_]]" class="delimiter">(</a><a href="#483168" title="String">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">yield</span> <a href="#483189" title="net.liftweb.sitemap.Loc[_]">loc</a>

  <span class="comment">/**
   * Builds a function that successively tests the partial function against the Menu.  If the PartialFunction is
   * matched, it is applied and a new Menu is created.  This is generally used by modules to insert their menus
   * at locations in the menu hierarchy denoted by a marker Loc.LocParam.  If the function does not fire,
   * the 'or' function is applied, which allows trying alternative strategies (e.g., if the marker LocParam
   * is not found, append the menus to the root SiteMap.)  This method returns a function
   * so that the strategy can be returned from a module and chained: (module1 andThen module2 andThen module3)(baseSitemap).
   *
   * @param pf the partial function (pattern match) to test against the Menu, if it matches, apply it which causes menu mutation.
   * @param or the function to apply if none of the patterns match
   *
   * @returns a function which will apply the changes to a SiteMap
   */</span>
  <span class="keyword">def</span> <a title="(pf: PartialFunction[net.liftweb.sitemap.Menu,List[net.liftweb.sitemap.Menu]])(or: net.liftweb.sitemap.SiteMap =&gt; net.liftweb.sitemap.SiteMap)net.liftweb.sitemap.SiteMap =&gt; net.liftweb.sitemap.SiteMap" id="227684">sitemapMutator</a><span class="delimiter">(</span><a title="PartialFunction[net.liftweb.sitemap.Menu,List[net.liftweb.sitemap.Menu]]" id="229902">pf</a>: <span title="PartialFunction[net.liftweb.sitemap.Menu,List[net.liftweb.sitemap.Menu]]">PartialFunction</span><span class="delimiter">[</span>Menu, List<span class="delimiter">[</span>Menu<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="net.liftweb.sitemap.SiteMap =&gt; net.liftweb.sitemap.SiteMap" id="229903">or</a>: SiteMap =&gt; SiteMap<span class="delimiter">)</span>: SiteMap =&gt; SiteMap = 
    <span class="delimiter">(</span>sm: <a href="#227698" title="net.liftweb.sitemap.SiteMap">SiteMap</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Boolean" id="483213">fired</a> = <span title="Boolean(false)" class="keyword">false</span>

      <span class="keyword">def</span> <a title="=&gt; net.liftweb.sitemap.Menu =&gt; List[net.liftweb.sitemap.Menu]" id="483214">theFunc</a>: Menu =&gt; List<span class="delimiter">[</span>Menu<span class="delimiter">]</span> = 
        <span class="delimiter">(</span>menu: <a href="Menu.scala.html#15326" title="net.liftweb.sitemap.Menu">Menu</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
          <span title="List[net.liftweb.sitemap.Menu]" class="keyword">if</span> <span class="delimiter">(</span><a href="#483213" title="Boolean">fired</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="(xs: net.liftweb.sitemap.Menu*)List[net.liftweb.sitemap.Menu]">List</span><span class="delimiter">(</span><a href="#483218" title="net.liftweb.sitemap.Menu">menu</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="List[net.liftweb.sitemap.Menu]" class="keyword">if</span> <span class="delimiter">(</span><a href="#229902" title="PartialFunction[net.liftweb.sitemap.Menu,List[net.liftweb.sitemap.Menu]]">pf</a>.<span title="(x: net.liftweb.sitemap.Menu)Boolean">isDefinedAt</span><span class="delimiter">(</span><a href="#483218" title="net.liftweb.sitemap.Menu">menu</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#483213" title="Boolean">fired</a> = <span title="Boolean(true)" class="keyword">true</span>
            <a href="#229902" title="(v1: net.liftweb.sitemap.Menu)List[net.liftweb.sitemap.Menu]">pf</a><span class="delimiter">(</span><a href="#483218" title="net.liftweb.sitemap.Menu">menu</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="(xs: net.liftweb.sitemap.Menu*)List[net.liftweb.sitemap.Menu]">List</span><span class="delimiter">(</span><a href="#483218" title="net.liftweb.sitemap.Menu">menu</a>.<a href="Menu.scala.html#148435" title="(f: List[net.liftweb.sitemap.Menu] =&gt; List[net.liftweb.sitemap.Menu])net.liftweb.sitemap.Menu">rebuild</a><span class="delimiter">(</span><a href="#483215" title="(in: List[net.liftweb.sitemap.Menu])List[net.liftweb.sitemap.Menu]">doAMenuItem</a> _<span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        
      <span class="keyword">def</span> <a title="(in: List[net.liftweb.sitemap.Menu])List[net.liftweb.sitemap.Menu]" id="483215">doAMenuItem</a><span class="delimiter">(</span><a title="List[net.liftweb.sitemap.Menu]" id="483234">in</a>: <span title="List[net.liftweb.sitemap.Menu]">List</span><span class="delimiter">[</span>Menu<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[net.liftweb.sitemap.Menu]">List</span><span class="delimiter">[</span>Menu<span class="delimiter">]</span> = 
        <a href="#483234" title="List[net.liftweb.sitemap.Menu]">in</a>.<span title="(f: net.liftweb.sitemap.Menu =&gt; scala.collection.GenTraversableOnce[net.liftweb.sitemap.Menu])(implicit bf: scala.collection.generic.CanBuildFrom[List[net.liftweb.sitemap.Menu],net.liftweb.sitemap.Menu,List[net.liftweb.sitemap.Menu]])List[net.liftweb.sitemap.Menu]">flatMap</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,net.liftweb.sitemap.Menu,List[net.liftweb.sitemap.Menu]]" class="delimiter">(</span><a href="#483214" title="=&gt; net.liftweb.sitemap.Menu =&gt; List[net.liftweb.sitemap.Menu]">theFunc</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="net.liftweb.sitemap.SiteMap" id="483216">ret</a> = <a href="#483212" title="net.liftweb.sitemap.SiteMap">sm</a>.<a href="#227715" title="(f: List[net.liftweb.sitemap.Menu] =&gt; List[net.liftweb.sitemap.Menu])net.liftweb.sitemap.SiteMap">rebuild</a><span class="delimiter">(</span><a href="#483281" title="List[net.liftweb.sitemap.Menu]">_</a>.<span title="(f: net.liftweb.sitemap.Menu =&gt; scala.collection.GenTraversableOnce[net.liftweb.sitemap.Menu])(implicit bf: scala.collection.generic.CanBuildFrom[List[net.liftweb.sitemap.Menu],net.liftweb.sitemap.Menu,List[net.liftweb.sitemap.Menu]])List[net.liftweb.sitemap.Menu]">flatMap</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,net.liftweb.sitemap.Menu,List[net.liftweb.sitemap.Menu]]" class="delimiter">(</span><a href="#483214" title="=&gt; net.liftweb.sitemap.Menu =&gt; List[net.liftweb.sitemap.Menu]">theFunc</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <span title="net.liftweb.sitemap.SiteMap" class="keyword">if</span> <span class="delimiter">(</span><a href="#483213" title="Boolean">fired</a><span class="delimiter">)</span> <a href="#483216" title="net.liftweb.sitemap.SiteMap">ret</a> <span class="keyword">else</span> <a href="#229903" title="(v1: net.liftweb.sitemap.SiteMap)net.liftweb.sitemap.SiteMap">or</a><span class="delimiter">(</span><a href="#483212" title="net.liftweb.sitemap.SiteMap">sm</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="comment">/**
   * Builds a function that successively tests the partial function against the Menu.  If the PartialFunction is
   * matched, it is applied and a new Menu is created.  This is generally used by modules to insert their menus
   * at locations in the menu hierarchy denoted by a marker Loc.LocParam.  If the function does not fire,
   * a copy of the original sitemap is returned.
   *
   * @param pf the partial function (pattern match) to test against the Menu, if it matches, apply it which causes menu mutation.
   *
   * @returns a function which will apply the changes to a SiteMap
   */</span>
  <span class="keyword">def</span> <a title="(pf: PartialFunction[net.liftweb.sitemap.Menu,List[net.liftweb.sitemap.Menu]])net.liftweb.sitemap.SiteMap =&gt; net.liftweb.sitemap.SiteMap" id="227685">simpleSitemapMutator</a><span class="delimiter">(</span><a title="PartialFunction[net.liftweb.sitemap.Menu,List[net.liftweb.sitemap.Menu]]" id="483325">pf</a>: <span title="PartialFunction[net.liftweb.sitemap.Menu,List[net.liftweb.sitemap.Menu]]">PartialFunction</span><span class="delimiter">[</span>Menu, List<span class="delimiter">[</span>Menu<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#227684" title="(pf: PartialFunction[net.liftweb.sitemap.Menu,List[net.liftweb.sitemap.Menu]])(or: net.liftweb.sitemap.SiteMap =&gt; net.liftweb.sitemap.SiteMap)net.liftweb.sitemap.SiteMap =&gt; net.liftweb.sitemap.SiteMap">sitemapMutator</a><span class="delimiter">(</span><a href="#483325" title="PartialFunction[net.liftweb.sitemap.Menu,List[net.liftweb.sitemap.Menu]]">pf</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="net.liftweb.sitemap.SiteMap" id="483329">s</a> =&gt; <a href="#483329" title="net.liftweb.sitemap.SiteMap">s</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Create a mutator that simply appends the menus to the SiteMap at the end of the sitemap.  This is a good
   * default mutator that appends the menu items at the end of the sitemap
   */</span>
  <span class="keyword">def</span> <a title="(menus: List[net.liftweb.sitemap.Menu])net.liftweb.sitemap.SiteMap =&gt; net.liftweb.sitemap.SiteMap" id="227686">addMenusAtEndMutator</a><span class="delimiter">(</span><a title="List[net.liftweb.sitemap.Menu]" id="229938">menus</a>: <span title="List[net.liftweb.sitemap.Menu]">List</span><span class="delimiter">[</span>Menu<span class="delimiter">]</span><span class="delimiter">)</span>: SiteMap =&gt; SiteMap =
    <span class="delimiter">(</span>sm: <a href="#227698" title="net.liftweb.sitemap.SiteMap">SiteMap</a><span class="delimiter">)</span> =&gt; <a href="#483331" title="net.liftweb.sitemap.SiteMap">sm</a>.<a href="#227715" title="(f: List[net.liftweb.sitemap.Menu] =&gt; List[net.liftweb.sitemap.Menu])net.liftweb.sitemap.SiteMap">rebuild</a><span class="delimiter">(</span><a href="#483333" title="List[net.liftweb.sitemap.Menu]">_</a> <a href="#483334" title="(prefix: List[net.liftweb.sitemap.Menu])List[net.liftweb.sitemap.Menu]">:::</a> <a href="#229938" title="List[net.liftweb.sitemap.Menu]">menus</a><span class="delimiter">)</span>

  <span class="comment">/**
   * &lt;p&gt;
   * In the PartialFunction for sitemapMutator, you may want to look for a particular Loc in the menu to determine
   * if you want to (1) replace it, (2) add your menus after it or (3) insert your menus under it.  You can create
   * a pattern matcher via buildMenuMatcher which returns an instance of UnapplyLocMatcher.
   * &lt;/p&gt;
   *
   * &lt;p&gt;
   * For example:&lt;br/&gt;
   * &lt;code class=&quot;scala&quot;&gt;&lt;pre&gt;
   * val MyMarkerLocParam = new Loc.LocParam[Any]
   * val MyMatcher = SiteMap.buildMenuMatcher(_ == MyMarkerLocParam)
   * &lt;/pre&gt;&lt;/code&gt;
   * &lt;/p&gt;
   */</span>
  <span class="keyword">trait</span> <a title="trait UnapplyLocMatcher extends java.lang.Object" id="227687">UnapplyLocMatcher</a> <span title="java.lang.Object" class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(menu: net.liftweb.sitemap.Menu)Option[net.liftweb.sitemap.Menu]" id="229899">unapply</a><span class="delimiter">(</span><a title="net.liftweb.sitemap.Menu" id="229907">menu</a>: <a href="Menu.scala.html#15326" title="net.liftweb.sitemap.Menu">Menu</a><span class="delimiter">)</span>: <span title="Option[net.liftweb.sitemap.Menu]">Option</span><span class="delimiter">[</span>Menu<span class="delimiter">]</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * &lt;p&gt;
   * Builds an UnapplyLocMatcher
   * &lt;/p&gt;
   *
   * &lt;p&gt;
   * For example:&lt;br/&gt;
   * &lt;code class=&quot;scala&quot;&gt;&lt;pre&gt;
   * val MyMarkerLocParam = new Loc.LocParam[Any]
   * val MyMatcher = SiteMap.buildMenuMatcher(_ == MyMarkerLocParam)
   * &lt;/pre&gt;&lt;/code&gt;
   * &lt;/p&gt;
   */</span>
  <span class="keyword">def</span> <a title="(matchFunc: net.liftweb.sitemap.Loc.LocParam[_] =&gt; Boolean)SiteMapSingleton.this.UnapplyLocMatcher" id="227688">buildMenuMatcher</a><span class="delimiter">(</span><a title="net.liftweb.sitemap.Loc.LocParam[_] =&gt; Boolean" id="227726">matchFunc</a>: Loc.LocParam<span class="delimiter">[</span>_<span class="delimiter">]</span> =&gt; Boolean<span class="delimiter">)</span>: <a href="#227687" title="SiteMapSingleton.this.UnapplyLocMatcher">UnapplyLocMatcher</a> = <a href="#483344" title="java.lang.Object with SiteMapSingleton.this.UnapplyLocMatcher" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with SiteMapSingleton.this.UnapplyLocMatcher" id="483344">UnapplyLocMatcher</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(menu: net.liftweb.sitemap.Menu)Option[net.liftweb.sitemap.Menu]" id="483348">unapply</a><span class="delimiter">(</span><a title="net.liftweb.sitemap.Menu" id="483349">menu</a>: <a href="Menu.scala.html#15326" title="net.liftweb.sitemap.Menu">Menu</a><span class="delimiter">)</span>: <span title="Option[net.liftweb.sitemap.Menu]">Option</span><span class="delimiter">[</span>Menu<span class="delimiter">]</span> =
      <a href="#483349" title="net.liftweb.sitemap.Menu">menu</a>.<a href="Menu.scala.html#148421" title="=&gt; net.liftweb.sitemap.Loc[_]">loc</a>.<a href="Loc.scala.html#215891" title="(=&gt; List[net.liftweb.sitemap.Loc.LocParam[_$3]]) forSome { type _$3 }">params</a>.<span title="(p: net.liftweb.sitemap.Loc.LocParam[_$3] =&gt; Boolean)Option[net.liftweb.sitemap.Loc.LocParam[_$3]]">find</span><span class="delimiter">(</span><a href="#227726" title="net.liftweb.sitemap.Loc.LocParam[_] =&gt; Boolean">matchFunc</a><span class="delimiter">)</span>.<span title="(f: net.liftweb.sitemap.Loc.LocParam[_$3] =&gt; net.liftweb.sitemap.Menu)Option[net.liftweb.sitemap.Menu]">map</span><span class="delimiter">(</span><a title="net.liftweb.sitemap.Loc.LocParam[_$3]" id="483370">ignore</a> =&gt; <a href="#483349" title="net.liftweb.sitemap.Menu">menu</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
                       

  <span class="keyword">def</span> <a title="(name: String)net.liftweb.common.Box[net.liftweb.sitemap.Loc[_]]" id="227689">findAndTestLoc</a><span class="delimiter">(</span><a title="String" id="331713">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.sitemap.Loc[_]]">Box</a><span class="delimiter">[</span>Loc<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span> =
  <a href="#227683" title="(name: String)net.liftweb.common.Box[net.liftweb.sitemap.Loc[_]]">findLoc</a><span class="delimiter">(</span><a href="#331713" title="String">name</a><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27023" title="(f: net.liftweb.sitemap.Loc[_] =&gt; net.liftweb.common.Box[net.liftweb.sitemap.Loc[_]])net.liftweb.common.Box[net.liftweb.sitemap.Loc[_]]">flatMap</a><span class="delimiter">(</span><a title="net.liftweb.sitemap.Loc[_]" id="483377">l</a> =&gt; <a href="#483377" title="net.liftweb.sitemap.Loc[_]">l</a>.<a href="Loc.scala.html#215923" title="=&gt; Either[Boolean,net.liftweb.common.Box[() =&gt; net.liftweb.http.LiftResponse]]">testAccess</a> <span title="net.liftweb.common.Box[net.liftweb.sitemap.Loc[_]]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="net.liftweb.common.Full[net.liftweb.sitemap.Loc[_$9]]">Left</span><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span> =&gt; <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: net.liftweb.sitemap.Loc[_$9])net.liftweb.common.Full[net.liftweb.sitemap.Loc[_$9]]">Full</a><span class="delimiter">(</span><a href="#483377" title="net.liftweb.sitemap.Loc[_]">l</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="net.liftweb.common.Empty.type">_</span> =&gt; <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>
    <span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(name: String, text: scala.xml.NodeSeq)scala.xml.NodeSeq" id="227690">buildLink</a><span class="delimiter">(</span><a title="String" id="331666">name</a>: <span title="String">String</span>, <a title="scala.xml.NodeSeq" id="331667">text</a>: <span title="scala.xml.NodeSeq">NodeSeq</span><span class="delimiter">)</span>: <span title="scala.xml.NodeSeq">NodeSeq</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="List[scala.xml.Elem]" id="483390">options</a> = <span class="keyword">for</span> <span class="delimiter">{</span>
        <a title="net.liftweb.sitemap.Loc[_]" id="483414">loc</a> &lt;- <a href="#227689" title="(name: String)net.liftweb.common.Box[net.liftweb.sitemap.Loc[_]]">findAndTestLoc</a><span class="delimiter">(</span><a href="#331666" title="String">name</a><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27051" title="(f: net.liftweb.sitemap.Loc[_] =&gt; scala.collection.GenTraversableOnce[scala.xml.Elem])(implicit bf: scala.collection.generic.CanBuildFrom[List[net.liftweb.sitemap.Loc[_]],scala.xml.Elem,List[scala.xml.Elem]])List[scala.xml.Elem]">toList</a>
        <a title="scala.xml.NodeSeq" id="483419">link</a> &lt;- <a href="#483414" title="net.liftweb.sitemap.Loc[_]">loc</a>.<a href="Loc.scala.html#215901" title="(f: scala.xml.NodeSeq =&gt; scala.xml.Elem)Option[scala.xml.Elem]">createDefaultLink</a>
      <span class="delimiter">}</span> <span class="keyword">yield</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.xml.NodeSeq" id="483420">linkText</a> = <a href="#331667" title="scala.xml.NodeSeq">text</a> <span title="scala.xml.NodeSeq" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="scala.xml.NodeSeq" id="483421">x</a> <span class="keyword">if</span> <a href="#483421" title="scala.xml.NodeSeq">x</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span> =&gt; <a href="#483421" title="scala.xml.NodeSeq">x</a>
          <span class="keyword">case</span> <span title="scala.xml.NodeSeq">_</span> =&gt; <a href="#483414" title="net.liftweb.sitemap.Loc[_]">loc</a>.<a href="Loc.scala.html#215934" title="=&gt; net.liftweb.common.Box[scala.xml.NodeSeq]">linkText</a> <a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; scala.xml.NodeSeq)scala.xml.NodeSeq">openOr</a> <span title="(_data: String)scala.xml.Text">Text</span><span class="delimiter">(</span><a href="#483414" title="net.liftweb.sitemap.Loc[_]">loc</a>.<a href="Loc.scala.html#215864" title="=&gt; String">name</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        &lt;<a title="scala.xml.MetaData" id="483453">a</a> href=<span class="delimiter">{</span><a href="#483419" title="scala.xml.NodeSeq">link</a><span class="delimiter">}</span>&gt;<span class="delimiter">{</span><a href="#483420" title="scala.xml.NodeSeq">linkText</a><span class="delimiter">}</span>&lt;/a&gt;
    <span class="delimiter">}</span>

    <a href="#483390" title="List[scala.xml.Elem]">options</a>.<span title="=&gt; Option[scala.xml.Elem]">headOption</span> <span title="(default: =&gt; scala.xml.NodeSeq)scala.xml.NodeSeq">getOrElse</span> <span title="object scala.xml.NodeSeq">NodeSeq</span>.<span title="=&gt; scala.xml.NodeSeq">Empty</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(name: String)scala.xml.NodeSeq" id="227691">buildLink</a><span class="delimiter">(</span><a title="String" id="331664">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="scala.xml.NodeSeq">NodeSeq</span> = <a href="#227690" title="(name: String, text: scala.xml.NodeSeq)scala.xml.NodeSeq">buildLink</a><span class="delimiter">(</span><a href="#331664" title="String">name</a>, <span title="implicit scala.xml.NodeSeq.seqToNodeSeq : (s: Seq[scala.xml.Node])scala.xml.NodeSeq">Nil</span><span class="delimiter">)</span>

  <span class="comment">/**
   * A Java-callable method that builds a SiteMap
   */</span>
  <span class="keyword">def</span> <a title="(kids: Array[net.liftweb.sitemap.ConvertableToMenu])net.liftweb.sitemap.SiteMap" id="227692">build</a><span class="delimiter">(</span><a title="Array[net.liftweb.sitemap.ConvertableToMenu]" id="483562">kids</a>: <span title="Array[net.liftweb.sitemap.ConvertableToMenu]">Array</span><span class="delimiter">[</span>ConvertableToMenu<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#227698" title="net.liftweb.sitemap.SiteMap">SiteMap</a> = 
    <a href="#15346" title="SiteMapSingleton.this.type" class="keyword">this</a>.<a href="#227693" title="(kids: net.liftweb.sitemap.ConvertableToMenu*)net.liftweb.sitemap.SiteMap">apply</a><span class="delimiter">(</span><a href="#483562" title="Array[net.liftweb.sitemap.ConvertableToMenu]">kids</a> :_*<span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(kids: net.liftweb.sitemap.ConvertableToMenu*)net.liftweb.sitemap.SiteMap" id="227693">apply</a><span class="delimiter">(</span><a title="net.liftweb.sitemap.ConvertableToMenu*" id="482359">kids</a>: <span title="net.liftweb.sitemap.ConvertableToMenu*">ConvertableToMenu</span> *<span class="delimiter">)</span> = <span title="net.liftweb.sitemap.SiteMap" class="keyword">new</span> <a href="#227698" title="net.liftweb.sitemap.SiteMap">SiteMap</a><span class="delimiter">(</span><span title="object Nil">Nil</span>, <a href="#482359" title="net.liftweb.sitemap.ConvertableToMenu*">kids</a> :_*<span class="delimiter">)</span>

  <span class="comment">/**
   * Should the top level /index path be rendered as /  By default this value is false.
   * You may set it to true, but this may confuse some application servers when the application
   * is not running in the root context.
   */</span>
  @volatile <span class="keyword">var</span> <a title="Boolean" id="227695">rawIndex_?</a> = <span title="Boolean(false)" class="keyword">false</span>
<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait HasKids extends java.lang.Object with ScalaObject" id="15347">HasKids</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; Seq[net.liftweb.sitemap.Menu]" id="148415">kids</a>: <span title="Seq[net.liftweb.sitemap.Menu]">Seq</span><span class="delimiter">[</span>Menu<span class="delimiter">]</span>
  <span class="keyword">def</span> <a title="(pathAt: net.liftweb.sitemap.HasKids, actual: net.liftweb.sitemap.Menu, populate: List[net.liftweb.sitemap.MenuItem])List[net.liftweb.sitemap.MenuItem]" id="148416">buildUpperLines</a><span class="delimiter">(</span><a title="net.liftweb.sitemap.HasKids" id="476445">pathAt</a>: <a href="#15347" title="net.liftweb.sitemap.HasKids">HasKids</a>, <a title="net.liftweb.sitemap.Menu" id="476446">actual</a>: <a href="Menu.scala.html#15326" title="net.liftweb.sitemap.Menu">Menu</a>, <a title="List[net.liftweb.sitemap.MenuItem]" id="476447">populate</a>: <span title="List[net.liftweb.sitemap.MenuItem]">List</span><span class="delimiter">[</span>MenuItem<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[net.liftweb.sitemap.MenuItem]">List</span><span class="delimiter">[</span>MenuItem<span class="delimiter">]</span> = <a href="#476447" title="List[net.liftweb.sitemap.MenuItem]">populate</a>

  <span class="keyword">def</span> <a title="=&gt; Boolean" id="148417">isRoot_?</a> = <span title="Boolean(false)" class="keyword">false</span>

  <span class="keyword">private</span><span class="delimiter">[</span>sitemap<span class="delimiter">]</span> <span class="keyword">def</span> <a title="=&gt; Either[Boolean,net.liftweb.common.Box[() =&gt; net.liftweb.http.LiftResponse]]" id="148418">testAccess</a>: <span title="Either[Boolean,net.liftweb.common.Box[() =&gt; net.liftweb.http.LiftResponse]]">Either</span><span class="delimiter">[</span>Boolean, Box<span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; LiftResponse<span class="delimiter">]</span><span class="delimiter">]</span> = <span title="(a: Boolean)Left[Boolean,Nothing]">Left</span><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
<span class="delimiter">}</span>


        </pre>
    </body>
</html>