<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>webkit/net/liftweb/sitemap/Menu.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*
 * Copyright 2007-2011 WorldWide Conferencing, LLC
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */</span>

<span class="keyword">package</span> net.liftweb 
<span class="keyword">package</span> sitemap 

<span class="keyword">import</span> scala.annotation._
<span class="keyword">import</span> net.liftweb.http._
<span class="keyword">import</span> net.liftweb.common._
<span class="keyword">import</span> net.liftweb.util._
<span class="keyword">import</span> <a href="../../../../util/net/liftweb/util/Helpers.scala.html#13346" title="object net.liftweb.util.Helpers">Helpers</a>._

<span class="comment">/**
 * A common trait between Menu and something that can be converted to a Menu.
 * This makes building Lists of things that can be converted to Menu instance
 * easier because there's a common trait.
 */</span>
<span class="keyword">trait</span> <a title="trait ConvertableToMenu extends java.lang.Object" id="15307">ConvertableToMenu</a> <span title="java.lang.Object" class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; net.liftweb.sitemap.Menu" id="148448">toMenu</a>: <a href="#482079" title="net.liftweb.sitemap.Menu">Menu</a>
<span class="delimiter">}</span>

<span class="comment">/**
 * A common trait that defines a portion of a Menu's Link URI path. This allows
 * us to constrain how people construct paths using the DSL by restricting it to
 * Strings or to the &lt;pre&gt;**&lt;/pre&gt; object.
 */</span>
<span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait MenuPath extends java.lang.Object" id="15308">MenuPath</a> <span title="java.lang.Object" class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="479806">pathItem</a>: <span title="String">String</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * This object may be appended to a Menu DSL path, with the syntax
 * &lt;pre&gt;Menu(&quot;Foo&quot;) / &quot;test&quot; / **&lt;/pre&gt; to match anything starting with
 * a given path. For more info, see Loc.Link.matchHead_?
 *
 * @see Loc.Link
 */</span>
<span class="keyword">object</span> <a title="object net.liftweb.sitemap.**" id="15309">**</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#15308" title="net.liftweb.sitemap.MenuPath">MenuPath</a> <span class="delimiter">{</span><span class="keyword">def</span> <a title="=&gt; java.lang.String" id="479809">pathItem</a> = <span title="java.lang.String(&quot;**&quot;)" class="string">&quot;**&quot;</span><span class="delimiter">}</span>


<span class="comment">/**
 * Defines a single path element for a Menu's Link URI. Typically users will
 * not utilize this case class, but will use the WithSlash trait's &quot;/&quot; method
 * that takes Strings.
 */</span>
<span class="keyword">final</span> case <span class="keyword">class</span> <a title="class AMenuPath extends java.lang.Object with net.liftweb.sitemap.MenuPath with ScalaObject with Product with Serializable" id="482269">AMenuPath</a><a href="#482269" title="ScalaObject" class="delimiter">(</a><a title="String" id="482266">pathItem</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#15308" title="net.liftweb.sitemap.MenuPath">MenuPath</a>

<span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait LocPath extends java.lang.Object" id="15314">LocPath</a> <span title="java.lang.Object" class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="479866">pathItem</a>: <span title="String">String</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="479867">wildcard_?</a> : <span title="Boolean">Boolean</span>
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="object net.liftweb.sitemap.LocPath" id="15315">LocPath</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit net.liftweb.sitemap.LocPath.stringToLocPath : (in: String)net.liftweb.sitemap.LocPath" id="479870">stringToLocPath</a><span class="delimiter">(</span><a title="String" id="479872">in</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#15314" title="net.liftweb.sitemap.LocPath">LocPath</a> =
    <span title="net.liftweb.sitemap.NormalLocPath" class="keyword">new</span> <a href="#482262" title="net.liftweb.sitemap.NormalLocPath">NormalLocPath</a><span class="delimiter">(</span><a href="#479872" title="String">in</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

case <span class="keyword">object</span> <a href="#479898" title="object net.liftweb.sitemap.*" id="479903">*</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#15314" title="net.liftweb.sitemap.LocPath">LocPath</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="479882">pathItem</a> = <span title="java.lang.String(&quot;star&quot;)" class="string">&quot;star&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="479883">wildcard_?</a> = <span title="Boolean(true)" class="keyword">true</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="479884">toString</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span title="java.lang.String(&quot;WildcardLocPath()&quot;)" class="string">&quot;WildcardLocPath()&quot;</span>
<span class="delimiter">}</span>

<span class="keyword">final</span> case <span class="keyword">class</span> <a title="class NormalLocPath extends java.lang.Object with net.liftweb.sitemap.LocPath with ScalaObject with Product with Serializable" id="482262">NormalLocPath</a><a href="#482262" title="ScalaObject" class="delimiter">(</a><a title="String" id="480178">pathItem</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#15314" title="net.liftweb.sitemap.LocPath">LocPath</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="479878">wildcard_?</a> = <span title="Boolean(false)" class="keyword">false</span>
<span class="delimiter">}</span>


<span class="comment">/**
 * The bridge from the Menu singleton to Java-land
 */</span>
<span class="keyword">final</span> <span class="keyword">class</span> <a title="class MenuJBridge extends java.lang.Object with ScalaObject" id="15322">MenuJBridge</a> <a href="#15322" title="ScalaObject" class="delimiter">{</a>
  <span class="keyword">def</span> <a title="()net.liftweb.sitemap.MenuSingleton" id="479954">menu</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="#15325" title="net.liftweb.sitemap.MenuSingleton">MenuSingleton</a> = <a href="#481251" title="object net.liftweb.sitemap.Menu">Menu</a>
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="object net.liftweb.sitemap.Menu" id="481251">Menu</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#15325" title="net.liftweb.sitemap.MenuSingleton">MenuSingleton</a> <span class="delimiter">{</span>
  <span class="comment">/**
   * An intermediate class that holds the basic stuff that's needed to make a Menu item for SiteMap.
   * You must include at least one URI path element by calling the / method
   */</span>
  <span class="keyword">class</span> <a title="class PreParamMenu[T &lt;: AnyRef] extends java.lang.Object with ScalaObject" id="215822">PreParamMenu</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: AnyRef" id="215823">T</a>&lt;:AnyRef<span class="delimiter">]</span><a href="#215822" title="ScalaObject" class="delimiter">(</a><a title="String" id="479978">name</a>: <span title="String">String</span>, <a title="net.liftweb.sitemap.Loc.LinkText[T]" id="479979">linkText</a>: Loc.<a href="Loc.scala.html#146642" title="net.liftweb.sitemap.Loc.LinkText[T]">LinkText</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="String =&gt; net.liftweb.common.Box[T]" id="479980">parser</a>: String =&gt; Box<span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="T =&gt; String" id="479981">encoder</a>: T =&gt; String<span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="comment">/**
     * The method to add a path element to the URL representing this menu item
     */</span>
    <span class="keyword">def</span> <a title="(pathElement: net.liftweb.sitemap.LocPath)net.liftweb.sitemap.Menu.ParamMenuable[T] with net.liftweb.sitemap.Menu.WithSlash" id="479971">/</a><span class="delimiter">(</span><a title="net.liftweb.sitemap.LocPath" id="479982">pathElement</a>: <a href="#15314" title="net.liftweb.sitemap.LocPath">LocPath</a><span class="delimiter">)</span>: <a href="#479983" title="PreParamMenu extends net.liftweb.sitemap.Menu.ParamMenuable[T] with net.liftweb.sitemap.Menu.WithSlash">ParamMenuable</a><span class="delimiter">[</span>T<span class="delimiter">]</span> <span class="keyword">with</span> WithSlash = 
      <a href="#480026" title="net.liftweb.sitemap.Menu.ParamMenuable[T] with net.liftweb.sitemap.Menu.WithSlash" class="keyword">new</a> <a title="anonymous class $anon extends net.liftweb.sitemap.Menu.ParamMenuable[T] with net.liftweb.sitemap.Menu.WithSlash" id="480026">ParamMenuable</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">(</span><a href="#479978" title="String">name</a>, <a href="#479979" title="net.liftweb.sitemap.Loc.LinkText[T]">linkText</a>, <a href="#479980" title="String =&gt; net.liftweb.common.Box[T]">parser</a>, <a href="#479981" title="T =&gt; String">encoder</a>, <a href="#479982" title="net.liftweb.sitemap.LocPath">pathElement</a> <a href="#480078" title="(x: net.liftweb.sitemap.LocPath)List[net.liftweb.sitemap.LocPath]">::</a> <span title="object Nil">Nil</span>, <span title="Boolean(false)" class="keyword">false</span>, <span title="object Nil">Nil</span>, <span title="object Nil">Nil</span><span class="delimiter">)</span> <span class="keyword">with</span> <a href="#215839" title="net.liftweb.sitemap.Menu.WithSlash">WithSlash</a>

    <span class="comment">/**
     * The Java way of building menus.  Put the path String here,
     * for example &quot;/foo/bar&quot; or &quot;/foo/ * /bar&quot;
     */</span>
    <span class="keyword">def</span> <a title="(pathElement: String)net.liftweb.sitemap.Menu.ParamMenuable[T]" id="479972">path</a><span class="delimiter">(</span><a title="String" id="480084">pathElement</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#215824" title="net.liftweb.sitemap.Menu.ParamMenuable[T]">ParamMenuable</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =
      <span title="net.liftweb.sitemap.Menu.ParamMenuable[T]" class="keyword">new</span> <a href="#215824" title="net.liftweb.sitemap.Menu.ParamMenuable[T]">ParamMenuable</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">(</span><a href="#479978" title="String">name</a>, <a href="#479979" title="net.liftweb.sitemap.Loc.LinkText[T]">linkText</a>, <a href="#479980" title="String =&gt; net.liftweb.common.Box[T]">parser</a>, <a href="#479981" title="T =&gt; String">encoder</a>, 
                           <a href="../../../../util/net/liftweb/util/StringHelpers.scala.html#48858" title="implicit net.liftweb.util.StringHelpers.stringToSuper : (in: String)net.liftweb.util.SuperString">pathElement</a>.<a href="../../../../util/net/liftweb/util/StringHelpers.scala.html#58434" title="(sep: Char)List[String]">charSplit</a><span class="delimiter">(</span><span title="Char(\'/\')" class="char">'/'</span><span class="delimiter">)</span>.
                           <span title="(n: Int)List[String]">drop</span><span class="delimiter">(</span><span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#480084" title="String">pathElement</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Int(1)" class="int">1</span>
                                <span class="keyword">else</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>.
                           <span title="(f: String =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[List[String],java.lang.String,List[java.lang.String]])List[java.lang.String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,java.lang.String,List[java.lang.String]]" class="delimiter">(</span><a href="#480120" title="String">_</a>.<span title="()java.lang.String">trim</span><span class="delimiter">)</span>.
                           <span title="(p: java.lang.String =&gt; Boolean)List[java.lang.String]">filter</span><span class="delimiter">(</span><a href="#480153" title="java.lang.String">_</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="java.lang.String(&quot;**&quot;)" class="string">&quot;**&quot;</span><span class="delimiter">)</span>.
                           <span title="(f: java.lang.String =&gt; Product with Serializable with net.liftweb.sitemap.LocPath)(implicit bf: scala.collection.generic.CanBuildFrom[List[java.lang.String],Product with Serializable with net.liftweb.sitemap.LocPath,List[Product with Serializable with net.liftweb.sitemap.LocPath]])List[Product with Serializable with net.liftweb.sitemap.LocPath]">map</span> <a href="#480177" title="&lt;none&gt; extends Product with Serializable with net.liftweb.sitemap.LocPath" class="delimiter">{</a>
                             <span class="keyword">case</span> <span title="net.liftweb.sitemap.*.type" class="string">&quot;*&quot;</span> =&gt; <a href="#479903" title="object net.liftweb.sitemap.*">*</a>
                             <span class="keyword">case</span> <span title="net.liftweb.sitemap.NormalLocPath" class="string">&quot;&quot;</span> =&gt; <a href="#482262" title="(pathItem: String)net.liftweb.sitemap.NormalLocPath">NormalLocPath</a><span class="delimiter">(</span><span title="java.lang.String(&quot;index&quot;)" class="string">&quot;index&quot;</span><span class="delimiter">)</span>
                             <span class="keyword">case</span> <a title="net.liftweb.sitemap.NormalLocPath" id="480182">str</a> =&gt; <a href="#482262" title="(pathItem: String)net.liftweb.sitemap.NormalLocPath">NormalLocPath</a><span class="delimiter">(</span><a href="#480182" title="java.lang.String">str</a><span class="delimiter">)</span>
                             <span class="delimiter">}</span> <span title="List[net.liftweb.sitemap.LocPath]" class="keyword">match</span> <span class="delimiter">{</span>
                               <span class="keyword">case</span> <span title="List[net.liftweb.sitemap.NormalLocPath]">Nil</span> =&gt; <span title="(xs: net.liftweb.sitemap.NormalLocPath*)List[net.liftweb.sitemap.NormalLocPath]">List</span><span class="delimiter">(</span><a href="#482262" title="(pathItem: String)net.liftweb.sitemap.NormalLocPath">NormalLocPath</a><span class="delimiter">(</span><span title="java.lang.String(&quot;index&quot;)" class="string">&quot;index&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
                               <span class="keyword">case</span> <a title="List[Product with Serializable with net.liftweb.sitemap.LocPath]" id="480228">xs</a> =&gt; <a href="#480228" title="List[Product with Serializable with net.liftweb.sitemap.LocPath]">xs</a>
                               <span class="delimiter">}</span>,
                           <a href="#480084" title="String">pathElement</a>.<span title="(x$1: java.lang.String)Boolean">endsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;**&quot;)" class="string">&quot;**&quot;</span><span class="delimiter">)</span>, <span title="object Nil">Nil</span>, <span title="object Nil">Nil</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">class</span> <a title="class ParamMenuable[T] extends java.lang.Object with net.liftweb.sitemap.ConvertableToMenu with net.liftweb.sitemap.Menu.BaseMenuable with ScalaObject" id="215824">ParamMenuable</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="215825">T</a><span class="delimiter">]</span><a href="#215824" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="String" id="480035">name</a>: <span title="String">String</span>,<span class="keyword">val</span> <a title="net.liftweb.sitemap.Loc.LinkText[T]" id="480036">linkText</a>: Loc.<a href="Loc.scala.html#146642" title="net.liftweb.sitemap.Loc.LinkText[T]">LinkText</a><span class="delimiter">[</span>T<span class="delimiter">]</span>,
                         <span class="keyword">val</span> <a title="String =&gt; net.liftweb.common.Box[T]" id="480037">parser</a>: String =&gt; Box<span class="delimiter">[</span>T<span class="delimiter">]</span>,
                         <span class="keyword">val</span> <a title="T =&gt; String" id="480038">encoder</a>: T =&gt; String,
                         <span class="keyword">val</span> <a title="List[net.liftweb.sitemap.LocPath]" id="480039">path</a>: <span title="List[net.liftweb.sitemap.LocPath]">List</span><span class="delimiter">[</span>LocPath<span class="delimiter">]</span>,
                         <span class="keyword">val</span> <a title="Boolean" id="480040">headMatch</a>: <span title="Boolean">Boolean</span>,
                         <span class="keyword">val</span> <a title="List[net.liftweb.sitemap.Loc.LocParam[T]]" id="480041">params</a>: <span title="List[net.liftweb.sitemap.Loc.LocParam[T]]">List</span><span class="delimiter">[</span>Loc.LocParam<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span>,<span class="keyword">val</span> <a title="List[net.liftweb.sitemap.ConvertableToMenu]" id="480042">submenus</a>: <span title="List[net.liftweb.sitemap.ConvertableToMenu]">List</span><span class="delimiter">[</span>ConvertableToMenu<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#15307" title="net.liftweb.sitemap.ConvertableToMenu">ConvertableToMenu</a> <span class="keyword">with</span> <a href="#215838" title="net.liftweb.sitemap.Menu.BaseMenuable">BaseMenuable</a>
  <span class="delimiter">{</span>
    <span class="keyword">type</span> <a title="net.liftweb.sitemap.Menu.ParamMenuable[T]" id="480010">BuiltType</a> = <a href="#215824" title="net.liftweb.sitemap.Menu.ParamMenuable[T]">ParamMenuable</a><span class="delimiter">[</span>T<span class="delimiter">]</span>

    <span class="keyword">def</span> <a title="(newPath: List[net.liftweb.sitemap.LocPath], newHead: Boolean)ParamMenuable.this.BuiltType" id="480011">buildOne</a><span class="delimiter">(</span><a title="List[net.liftweb.sitemap.LocPath]" id="480063">newPath</a>: <span title="List[net.liftweb.sitemap.LocPath]">List</span><span class="delimiter">[</span>LocPath<span class="delimiter">]</span>, <a title="Boolean" id="480064">newHead</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <a href="#215824" title="ParamMenuable.this.BuiltType">BuiltType</a> = <span title="net.liftweb.sitemap.Menu.ParamMenuable[T]" class="keyword">new</span> <a href="#215824" title="net.liftweb.sitemap.Menu.ParamMenuable[T]">ParamMenuable</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">(</span><a href="#480035" title="=&gt; String">name</a>, <a href="#480036" title="=&gt; net.liftweb.sitemap.Loc.LinkText[T]">linkText</a>, <a href="#480037" title="=&gt; String =&gt; net.liftweb.common.Box[T]">parser</a>, <a href="#480038" title="=&gt; T =&gt; String">encoder</a>, <a href="#480063" title="List[net.liftweb.sitemap.LocPath]">newPath</a>, <a href="#480064" title="Boolean">newHead</a>, <a href="#480041" title="=&gt; List[net.liftweb.sitemap.Loc.LocParam[T]]">params</a>, <a href="#480042" title="=&gt; List[net.liftweb.sitemap.ConvertableToMenu]">submenus</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(newPath: List[net.liftweb.sitemap.LocPath], newHead: Boolean)ParamMenuable.this.BuiltType with net.liftweb.sitemap.Menu.WithSlash" id="480012">buildSlashOne</a><span class="delimiter">(</span><a title="List[net.liftweb.sitemap.LocPath]" id="480055">newPath</a>: <span title="List[net.liftweb.sitemap.LocPath]">List</span><span class="delimiter">[</span>LocPath<span class="delimiter">]</span>, <a title="Boolean" id="480056">newHead</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <a href="#480057" title="ParamMenuable extends ParamMenuable.this.BuiltType with net.liftweb.sitemap.Menu.WithSlash">BuiltType</a> <span class="keyword">with</span> WithSlash = <a href="#480247" title="net.liftweb.sitemap.Menu.ParamMenuable[T] with net.liftweb.sitemap.Menu.WithSlash" class="keyword">new</a> <a title="anonymous class $anon extends net.liftweb.sitemap.Menu.ParamMenuable[T] with net.liftweb.sitemap.Menu.WithSlash" id="480247">ParamMenuable</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">(</span><a href="#480035" title="=&gt; String">name</a>, <a href="#480036" title="=&gt; net.liftweb.sitemap.Loc.LinkText[T]">linkText</a>, <a href="#480037" title="=&gt; String =&gt; net.liftweb.common.Box[T]">parser</a>, <a href="#480038" title="=&gt; T =&gt; String">encoder</a>, <a href="#480055" title="List[net.liftweb.sitemap.LocPath]">newPath</a>, <a href="#480056" title="Boolean">newHead</a>, <a href="#480041" title="=&gt; List[net.liftweb.sitemap.Loc.LocParam[T]]">params</a>, <a href="#480042" title="=&gt; List[net.liftweb.sitemap.ConvertableToMenu]">submenus</a><span class="delimiter">)</span> <span class="keyword">with</span> <a href="#215839" title="net.liftweb.sitemap.Menu.WithSlash">WithSlash</a>


    <span class="comment">/**
     * Append a LocParam to the Menu item
     */</span>
    <span class="keyword">def</span> <a title="(param: net.liftweb.sitemap.Loc.LocParam[T])net.liftweb.sitemap.Menu.ParamMenuable[T]" id="480013">rule</a><span class="delimiter">(</span><a title="net.liftweb.sitemap.Loc.LocParam[T]" id="480258">param</a>: Loc.<a href="Loc.scala.html#146543" title="net.liftweb.sitemap.Loc.LocParam[T]">LocParam</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#215824" title="net.liftweb.sitemap.Menu.ParamMenuable[T]">ParamMenuable</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="#480014" title="(param: net.liftweb.sitemap.Loc.LocParam[T])net.liftweb.sitemap.Menu.ParamMenuable[T]">&gt;&gt;</a><span class="delimiter">(</span><a href="#480258" title="net.liftweb.sitemap.Loc.LocParam[T]">param</a><span class="delimiter">)</span>

    <span class="comment">/**
     * Append a LocParam to the Menu item
     */</span>
    <span class="keyword">def</span> <a title="(param: net.liftweb.sitemap.Loc.LocParam[T])net.liftweb.sitemap.Menu.ParamMenuable[T]" id="480014">&gt;&gt;</a><span class="delimiter">(</span><a title="net.liftweb.sitemap.Loc.LocParam[T]" id="480260">param</a>: Loc.<a href="Loc.scala.html#146543" title="net.liftweb.sitemap.Loc.LocParam[T]">LocParam</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#215824" title="net.liftweb.sitemap.Menu.ParamMenuable[T]">ParamMenuable</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =
    <span title="net.liftweb.sitemap.Menu.ParamMenuable[T]" class="keyword">new</span> <a href="#215824" title="net.liftweb.sitemap.Menu.ParamMenuable[T]">ParamMenuable</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">(</span><a href="#480035" title="=&gt; String">name</a>, <a href="#480036" title="=&gt; net.liftweb.sitemap.Loc.LinkText[T]">linkText</a>, <a href="#480037" title="=&gt; String =&gt; net.liftweb.common.Box[T]">parser</a>, <a href="#480038" title="=&gt; T =&gt; String">encoder</a>, <a href="#480039" title="=&gt; List[net.liftweb.sitemap.LocPath]">path</a>, <a href="#480040" title="=&gt; Boolean">headMatch</a>, <a href="#480041" title="=&gt; List[net.liftweb.sitemap.Loc.LocParam[T]]">params</a> <a href="#480262" title="(prefix: List[net.liftweb.sitemap.Loc.LocParam[T]])List[net.liftweb.sitemap.Loc.LocParam[T]]">:::</a> <span title="(xs: net.liftweb.sitemap.Loc.LocParam[T]*)List[net.liftweb.sitemap.Loc.LocParam[T]]">List</span><span class="delimiter">(</span><a href="#480260" title="net.liftweb.sitemap.Loc.LocParam[T]">param</a><span class="delimiter">)</span>, <a href="#480042" title="=&gt; List[net.liftweb.sitemap.ConvertableToMenu]">submenus</a><span class="delimiter">)</span>
    
    <span class="comment">/**
     * Define the submenus of this menu item
     */</span>
    <span class="keyword">def</span> <a title="(subs: net.liftweb.sitemap.ConvertableToMenu*)net.liftweb.sitemap.Menu.ParamMenuable[T]" id="480015">submenus</a><span class="delimiter">(</span><a title="net.liftweb.sitemap.ConvertableToMenu*" id="480245">subs</a>: <span title="net.liftweb.sitemap.ConvertableToMenu*">ConvertableToMenu</span>*<span class="delimiter">)</span>: <a href="#215824" title="net.liftweb.sitemap.Menu.ParamMenuable[T]">ParamMenuable</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="#480016" title="(subs: List[net.liftweb.sitemap.ConvertableToMenu])net.liftweb.sitemap.Menu.ParamMenuable[T]">submenus</a><span class="delimiter">(</span><a href="#480245" title="net.liftweb.sitemap.ConvertableToMenu*">subs</a>.<span title="=&gt; List[net.liftweb.sitemap.ConvertableToMenu]">toList</span><span class="delimiter">)</span>

    <span class="comment">/**
     * Define the submenus of this menu item
     */</span>
    <span class="keyword">def</span> <a title="(subs: List[net.liftweb.sitemap.ConvertableToMenu])net.liftweb.sitemap.Menu.ParamMenuable[T]" id="480016">submenus</a><span class="delimiter">(</span><a title="List[net.liftweb.sitemap.ConvertableToMenu]" id="480243">subs</a>: <span title="List[net.liftweb.sitemap.ConvertableToMenu]">List</span><span class="delimiter">[</span>ConvertableToMenu<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#215824" title="net.liftweb.sitemap.Menu.ParamMenuable[T]">ParamMenuable</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =
      <span title="net.liftweb.sitemap.Menu.ParamMenuable[T]" class="keyword">new</span> <a href="#215824" title="net.liftweb.sitemap.Menu.ParamMenuable[T]">ParamMenuable</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">(</span><a href="#480035" title="=&gt; String">name</a>, <a href="#480036" title="=&gt; net.liftweb.sitemap.Loc.LinkText[T]">linkText</a>, <a href="#480037" title="=&gt; String =&gt; net.liftweb.common.Box[T]">parser</a>, <a href="#480038" title="=&gt; T =&gt; String">encoder</a>, <a href="#480039" title="=&gt; List[net.liftweb.sitemap.LocPath]">path</a>, <a href="#480040" title="=&gt; Boolean">headMatch</a>, <a href="#480041" title="=&gt; List[net.liftweb.sitemap.Loc.LocParam[T]]">params</a>, <a href="#480042" title="=&gt; List[net.liftweb.sitemap.ConvertableToMenu]">submenus</a> <a href="#480317" title="(prefix: List[net.liftweb.sitemap.ConvertableToMenu])List[net.liftweb.sitemap.ConvertableToMenu]">:::</a> <a href="#480243" title="List[net.liftweb.sitemap.ConvertableToMenu]">subs</a><span class="delimiter">)</span>

    <span class="comment">// FIXME... do the right thing so that in development mode</span>
    <span class="comment">// the menu and loc are recalculated when the menu is reloaded</span>

    <span class="comment">/**
     * Convert the Menuable into a Menu instance
     */</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="net.liftweb.sitemap.Menu" id="480018">toMenu</a>: <a href="#482079" title="net.liftweb.sitemap.Menu">Menu</a> = <a href="#482079" title="(loc: net.liftweb.sitemap.Loc[_], convertableKids: net.liftweb.sitemap.ConvertableToMenu*)net.liftweb.sitemap.Menu">Menu</a><span class="delimiter">(</span><a href="#480019" title="=&gt; net.liftweb.sitemap.Loc[T]">toLoc</a>, <a href="#480042" title="=&gt; List[net.liftweb.sitemap.ConvertableToMenu]">submenus</a> :_*<span class="delimiter">)</span>

    <span class="comment">/**
     * Convert the ParamMenuable into a Loc so you can access
     * the well typed currentValue
     */</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="net.liftweb.sitemap.Loc[T]" id="480020">toLoc</a>: <a href="Loc.scala.html#15287" title="net.liftweb.sitemap.Loc[T]">Loc</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="#480352" title="java.lang.Object with net.liftweb.sitemap.Loc[T] with net.liftweb.sitemap.Menu.ParamExtractor[String,T]{}" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with net.liftweb.sitemap.Loc[T] with net.liftweb.sitemap.Menu.ParamExtractor[String,T]" id="480352">Loc</a><span class="delimiter">[</span>T<span class="delimiter">]</span> <span class="keyword">with</span> <a href="#215835" title="net.liftweb.sitemap.Menu.ParamExtractor[String,T]">ParamExtractor</a><span class="delimiter">[</span>String, T<span class="delimiter">]</span> <span class="delimiter">{</span>
      <span class="keyword">import</span> scala.xml._

      <span class="keyword">def</span> <a title="=&gt; Boolean" id="480357">headMatch</a>: <span title="Boolean">Boolean</span> = <a href="#215824" title="ParamMenuable.this.type">ParamMenuable</a>.<span class="keyword">this</span>.<a href="#480040" title="=&gt; Boolean">headMatch</a>
      
      <span class="comment">// the name of the page</span>
      <span class="keyword">def</span> <a title="=&gt; String" id="480358">name</a> = <a href="#215824" title="ParamMenuable.this.type">ParamMenuable</a>.<span class="keyword">this</span>.<a href="#480035" title="=&gt; String">name</a>
      
      <span class="comment">// the default parameters (used for generating the menu listing)</span>
      <span class="keyword">def</span> <a title="=&gt; net.liftweb.common.Empty.type" id="480359">defaultValue</a> = <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>
      
      <span class="comment">// no extra parameters</span>
      <span class="keyword">def</span> <a title="=&gt; List[net.liftweb.sitemap.Loc.LocParam[T]]" id="480360">params</a> = <a href="#215824" title="ParamMenuable.this.type">ParamMenuable</a>.<span class="keyword">this</span>.<a href="#480041" title="=&gt; List[net.liftweb.sitemap.Loc.LocParam[T]]">params</a>
      
      <span class="comment">/**
       * What's the text of the link?
       */</span>
      <span class="keyword">def</span> <a title="=&gt; net.liftweb.sitemap.Loc.LinkText[T]" id="480361">text</a> = <a href="#215824" title="ParamMenuable.this.type">ParamMenuable</a>.<span class="keyword">this</span>.<a href="#480036" title="=&gt; net.liftweb.sitemap.Loc.LinkText[T]">linkText</a>

      <span class="keyword">def</span> <a title="=&gt; List[net.liftweb.sitemap.LocPath]" id="480362">locPath</a>: <span title="List[net.liftweb.sitemap.LocPath]">List</span><span class="delimiter">[</span>LocPath<span class="delimiter">]</span> = <a href="#215824" title="ParamMenuable.this.type">ParamMenuable</a>.<span class="keyword">this</span>.<a href="#480039" title="=&gt; List[net.liftweb.sitemap.LocPath]">path</a>
      
      <span class="keyword">def</span> <a title="=&gt; String =&gt; net.liftweb.common.Box[T]" id="480363">parser</a> = <a href="#215824" title="ParamMenuable.this.type">ParamMenuable</a>.<span class="keyword">this</span>.<a href="#480037" title="=&gt; String =&gt; net.liftweb.common.Box[T]">parser</a>

      <span class="keyword">def</span> <a title="(in: List[String])net.liftweb.common.Box[String]" id="480364">listToFrom</a><span class="delimiter">(</span><a title="List[String]" id="480404">in</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[String]">Box</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="#480404" title="List[String]">in</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#28627" title="(in: Option[String])net.liftweb.common.Box[String]">headOption</a>

      <span class="keyword">val</span> <a title="net.liftweb.sitemap.ParamLocLink[T]" id="480365">link</a> = <span title="net.liftweb.sitemap.ParamLocLink[T]" class="keyword">new</span> <a href="#15327" title="net.liftweb.sitemap.ParamLocLink[T]">ParamLocLink</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">(</span><a href="#215824" title="ParamMenuable.this.type">ParamMenuable</a>.<span class="keyword">this</span>.<a href="#480039" title="=&gt; List[net.liftweb.sitemap.LocPath]">path</a>,
                                     <a href="#215824" title="ParamMenuable.this.type">ParamMenuable</a>.<span class="keyword">this</span>.<a href="#480040" title="=&gt; Boolean">headMatch</a>,
                                     <a title="T" id="480425">t</a> =&gt; <span title="(xs: String*)List[String]">List</span><span class="delimiter">(</span><a href="#480038" title="(v1: T)String">encoder</a><span class="delimiter">(</span><a href="#480425" title="T">t</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * The companion object to Menuable that has convenience methods
   */</span>
  <span class="keyword">object</span> <a title="object net.liftweb.sitemap.Menu.ParamMenuable" id="215826">ParamMenuable</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="comment">/**
     * Convert a Menuable into a Menu when you need a Menu.
     */</span>
    <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit net.liftweb.sitemap.Menu.ParamMenuable.toMenu : (able: net.liftweb.sitemap.Menu.ParamMenuable[_])net.liftweb.sitemap.Menu" id="480303">toMenu</a><span class="delimiter">(</span><a title="net.liftweb.sitemap.Menu.ParamMenuable[_]" id="480311">able</a>: <a href="#215824" title="net.liftweb.sitemap.Menu.ParamMenuable[_]">ParamMenuable</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#482079" title="net.liftweb.sitemap.Menu">Menu</a> = <a href="#480311" title="net.liftweb.sitemap.Menu.ParamMenuable[_]">able</a>.<a href="#480017" title="=&gt; net.liftweb.sitemap.Menu">toMenu</a>

    <span class="comment">/**
     * Convert a Menuable into a Loc[T]
     */</span>
    <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[T](able: net.liftweb.sitemap.Menu.ParamMenuable[T])net.liftweb.sitemap.Loc[T]" id="480304">toLoc</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="480306">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="net.liftweb.sitemap.Menu.ParamMenuable[T]" id="480308">able</a>: <a href="#215824" title="net.liftweb.sitemap.Menu.ParamMenuable[T]">ParamMenuable</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="Loc.scala.html#15287" title="net.liftweb.sitemap.Loc[T]">Loc</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = 
      <a href="#480308" title="net.liftweb.sitemap.Menu.ParamMenuable[T]">able</a>.<a href="#480017" title="=&gt; net.liftweb.sitemap.Menu">toMenu</a>.<a href="#479957" title="=&gt; net.liftweb.sitemap.Loc[_]">loc</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="net.liftweb.sitemap.Loc[T]" class="delimiter">[</span><a href="Loc.scala.html#15287" title="net.liftweb.sitemap.Loc[T]">Loc</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span>

  <span class="delimiter">}</span>

  <span class="comment">/**
   * An intermediate class that holds the basic stuff that's needed to make a Menu item for SiteMap.
   * You must include at least one URI path element by calling the / method
   */</span>
  <span class="keyword">class</span> <a title="class PreParamsMenu[T &lt;: AnyRef] extends java.lang.Object with ScalaObject" id="215828">PreParamsMenu</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: AnyRef" id="215829">T</a>&lt;:AnyRef<span class="delimiter">]</span><a href="#215828" title="ScalaObject" class="delimiter">(</a><a title="String" id="480460">name</a>: <span title="String">String</span>, <a title="net.liftweb.sitemap.Loc.LinkText[T]" id="480461">linkText</a>: Loc.<a href="Loc.scala.html#146642" title="net.liftweb.sitemap.Loc.LinkText[T]">LinkText</a><span class="delimiter">[</span>T<span class="delimiter">]</span>,
                         <a title="List[String] =&gt; net.liftweb.common.Box[T]" id="480462">parser</a>: List<span class="delimiter">[</span>String<span class="delimiter">]</span> =&gt; Box<span class="delimiter">[</span>T<span class="delimiter">]</span>,
                         <a title="T =&gt; List[String]" id="480463">encoder</a>: T =&gt; List<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="comment">/**
     * The method to add a path element to the URL representing this menu item
     */</span>
    <span class="keyword">def</span> <a title="(pathElement: net.liftweb.sitemap.LocPath)net.liftweb.sitemap.Menu.ParamsMenuable[T] with net.liftweb.sitemap.Menu.WithSlash" id="480453">/</a><span class="delimiter">(</span><a title="net.liftweb.sitemap.LocPath" id="480464">pathElement</a>: <a href="#15314" title="net.liftweb.sitemap.LocPath">LocPath</a><span class="delimiter">)</span>: <a href="#480465" title="PreParamsMenu extends net.liftweb.sitemap.Menu.ParamsMenuable[T] with net.liftweb.sitemap.Menu.WithSlash">ParamsMenuable</a><span class="delimiter">[</span>T<span class="delimiter">]</span> <span class="keyword">with</span> WithSlash = 
      <a href="#480503" title="net.liftweb.sitemap.Menu.ParamsMenuable[T] with net.liftweb.sitemap.Menu.WithSlash" class="keyword">new</a> <a title="anonymous class $anon extends net.liftweb.sitemap.Menu.ParamsMenuable[T] with net.liftweb.sitemap.Menu.WithSlash" id="480503">ParamsMenuable</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">(</span><a href="#480460" title="String">name</a>, <a href="#480461" title="net.liftweb.sitemap.Loc.LinkText[T]">linkText</a>, <a href="#480462" title="List[String] =&gt; net.liftweb.common.Box[T]">parser</a>, <a href="#480463" title="T =&gt; List[String]">encoder</a>, 
                            <a href="#480464" title="net.liftweb.sitemap.LocPath">pathElement</a> <a href="#480542" title="(x: net.liftweb.sitemap.LocPath)List[net.liftweb.sitemap.LocPath]">::</a> <span title="object Nil">Nil</span>, <span title="Boolean(false)" class="keyword">false</span>, <span title="object Nil">Nil</span>, <span title="object Nil">Nil</span><span class="delimiter">)</span> <span class="keyword">with</span> <a href="#215839" title="net.liftweb.sitemap.Menu.WithSlash">WithSlash</a>

    <span class="keyword">def</span> <a title="(pathElement: String)net.liftweb.sitemap.Menu.ParamsMenuable[T] with net.liftweb.sitemap.Menu.WithSlash" id="480454">path</a><span class="delimiter">(</span><a title="String" id="480546">pathElement</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#480547" title="PreParamsMenu extends net.liftweb.sitemap.Menu.ParamsMenuable[T] with net.liftweb.sitemap.Menu.WithSlash">ParamsMenuable</a><span class="delimiter">[</span>T<span class="delimiter">]</span> <span class="keyword">with</span> WithSlash = 
      <a href="#480549" title="net.liftweb.sitemap.Menu.ParamsMenuable[T] with net.liftweb.sitemap.Menu.WithSlash" class="keyword">new</a> <a title="anonymous class $anon extends net.liftweb.sitemap.Menu.ParamsMenuable[T] with net.liftweb.sitemap.Menu.WithSlash" id="480549">ParamsMenuable</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">(</span><a href="#480460" title="String">name</a>, <a href="#480461" title="net.liftweb.sitemap.Loc.LinkText[T]">linkText</a>, <a href="#480462" title="List[String] =&gt; net.liftweb.common.Box[T]">parser</a>, <a href="#480463" title="T =&gt; List[String]">encoder</a>, 
                            <a href="#480546" title="String">pathElement</a> <a href="#479870" title="(x: net.liftweb.sitemap.LocPath)List[net.liftweb.sitemap.LocPath]">::</a> <span title="object Nil">Nil</span>, <span title="Boolean(false)" class="keyword">false</span>, <span title="object Nil">Nil</span>, <span title="object Nil">Nil</span><span class="delimiter">)</span> <span class="keyword">with</span> <a href="#215839" title="net.liftweb.sitemap.Menu.WithSlash">WithSlash</a>
  <span class="delimiter">}</span>

  <span class="keyword">class</span> <a title="class ParamsMenuable[T] extends java.lang.Object with net.liftweb.sitemap.ConvertableToMenu with net.liftweb.sitemap.Menu.BaseMenuable with ScalaObject" id="215830">ParamsMenuable</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="215831">T</a><span class="delimiter">]</span><a href="#215830" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="String" id="480504">name</a>: <span title="String">String</span>,
                          <span class="keyword">val</span> <a title="net.liftweb.sitemap.Loc.LinkText[T]" id="480505">linkText</a>: Loc.<a href="Loc.scala.html#146642" title="net.liftweb.sitemap.Loc.LinkText[T]">LinkText</a><span class="delimiter">[</span>T<span class="delimiter">]</span>,
                          <span class="keyword">val</span> <a title="List[String] =&gt; net.liftweb.common.Box[T]" id="480506">parser</a>: List<span class="delimiter">[</span>String<span class="delimiter">]</span> =&gt; Box<span class="delimiter">[</span>T<span class="delimiter">]</span>,
                          <span class="keyword">val</span> <a title="T =&gt; List[String]" id="480507">encoder</a>: T =&gt; List<span class="delimiter">[</span>String<span class="delimiter">]</span>,
                          <span class="keyword">val</span> <a title="List[net.liftweb.sitemap.LocPath]" id="480508">path</a>: <span title="List[net.liftweb.sitemap.LocPath]">List</span><span class="delimiter">[</span>LocPath<span class="delimiter">]</span>,
                          <span class="keyword">val</span> <a title="Boolean" id="480509">headMatch</a>: <span title="Boolean">Boolean</span>,
                          <span class="keyword">val</span> <a title="List[net.liftweb.sitemap.Loc.LocParam[T]]" id="480510">params</a>: <span title="List[net.liftweb.sitemap.Loc.LocParam[T]]">List</span><span class="delimiter">[</span>Loc.LocParam<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span>,
                          <span class="keyword">val</span> <a title="List[net.liftweb.sitemap.ConvertableToMenu]" id="480511">submenus</a>: <span title="List[net.liftweb.sitemap.ConvertableToMenu]">List</span><span class="delimiter">[</span>ConvertableToMenu<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#15307" title="net.liftweb.sitemap.ConvertableToMenu">ConvertableToMenu</a> <span class="keyword">with</span> <a href="#215838" title="net.liftweb.sitemap.Menu.BaseMenuable">BaseMenuable</a>
  <span class="delimiter">{</span>
    <span class="keyword">type</span> <a title="net.liftweb.sitemap.Menu.ParamsMenuable[T]" id="480492">BuiltType</a> = <a href="#215830" title="net.liftweb.sitemap.Menu.ParamsMenuable[T]">ParamsMenuable</a><span class="delimiter">[</span>T<span class="delimiter">]</span>

    <span class="keyword">def</span> <a title="(newPath: List[net.liftweb.sitemap.LocPath], newHead: Boolean)ParamsMenuable.this.BuiltType" id="480493">buildOne</a><span class="delimiter">(</span><a title="List[net.liftweb.sitemap.LocPath]" id="480527">newPath</a>: <span title="List[net.liftweb.sitemap.LocPath]">List</span><span class="delimiter">[</span>LocPath<span class="delimiter">]</span>, <a title="Boolean" id="480528">newHead</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <a href="#215830" title="ParamsMenuable.this.BuiltType">BuiltType</a> = <span title="net.liftweb.sitemap.Menu.ParamsMenuable[T]" class="keyword">new</span> <a href="#215830" title="net.liftweb.sitemap.Menu.ParamsMenuable[T]">ParamsMenuable</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">(</span><a href="#480504" title="=&gt; String">name</a>, <a href="#480505" title="=&gt; net.liftweb.sitemap.Loc.LinkText[T]">linkText</a>, <a href="#480506" title="=&gt; List[String] =&gt; net.liftweb.common.Box[T]">parser</a>, <a href="#480507" title="=&gt; T =&gt; List[String]">encoder</a>, <a href="#480527" title="List[net.liftweb.sitemap.LocPath]">newPath</a>, <a href="#480528" title="Boolean">newHead</a>, <a href="#480510" title="=&gt; List[net.liftweb.sitemap.Loc.LocParam[T]]">params</a>, <a href="#480511" title="=&gt; List[net.liftweb.sitemap.ConvertableToMenu]">submenus</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(newPath: List[net.liftweb.sitemap.LocPath], newHead: Boolean)ParamsMenuable.this.BuiltType with net.liftweb.sitemap.Menu.WithSlash" id="480494">buildSlashOne</a><span class="delimiter">(</span><a title="List[net.liftweb.sitemap.LocPath]" id="480521">newPath</a>: <span title="List[net.liftweb.sitemap.LocPath]">List</span><span class="delimiter">[</span>LocPath<span class="delimiter">]</span>, <a title="Boolean" id="480522">newHead</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <a href="#480523" title="ParamsMenuable extends ParamsMenuable.this.BuiltType with net.liftweb.sitemap.Menu.WithSlash">BuiltType</a> <span class="keyword">with</span> WithSlash = <a href="#480594" title="net.liftweb.sitemap.Menu.ParamsMenuable[T] with net.liftweb.sitemap.Menu.WithSlash" class="keyword">new</a> <a title="anonymous class $anon extends net.liftweb.sitemap.Menu.ParamsMenuable[T] with net.liftweb.sitemap.Menu.WithSlash" id="480594">ParamsMenuable</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">(</span><a href="#480504" title="=&gt; String">name</a>, <a href="#480505" title="=&gt; net.liftweb.sitemap.Loc.LinkText[T]">linkText</a>, <a href="#480506" title="=&gt; List[String] =&gt; net.liftweb.common.Box[T]">parser</a>, <a href="#480507" title="=&gt; T =&gt; List[String]">encoder</a>, <a href="#480521" title="List[net.liftweb.sitemap.LocPath]">newPath</a>, <a href="#480522" title="Boolean">newHead</a>, <a href="#480510" title="=&gt; List[net.liftweb.sitemap.Loc.LocParam[T]]">params</a>, <a href="#480511" title="=&gt; List[net.liftweb.sitemap.ConvertableToMenu]">submenus</a><span class="delimiter">)</span> <span class="keyword">with</span> <a href="#215839" title="net.liftweb.sitemap.Menu.WithSlash">WithSlash</a>


    <span class="comment">/**
     * Append a LocParam to the Menu item
     */</span>
    <span class="keyword">def</span> <a title="(param: net.liftweb.sitemap.Loc.LocParam[T])net.liftweb.sitemap.Menu.ParamsMenuable[T]" id="480495">rule</a><span class="delimiter">(</span><a title="net.liftweb.sitemap.Loc.LocParam[T]" id="480605">param</a>: Loc.<a href="Loc.scala.html#146543" title="net.liftweb.sitemap.Loc.LocParam[T]">LocParam</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#215830" title="net.liftweb.sitemap.Menu.ParamsMenuable[T]">ParamsMenuable</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="#480496" title="(param: net.liftweb.sitemap.Loc.LocParam[T])net.liftweb.sitemap.Menu.ParamsMenuable[T]">&gt;&gt;</a><span class="delimiter">(</span><a href="#480605" title="net.liftweb.sitemap.Loc.LocParam[T]">param</a><span class="delimiter">)</span>

    <span class="comment">/**
     * Append a LocParam to the Menu item
     */</span>
    <span class="keyword">def</span> <a title="(param: net.liftweb.sitemap.Loc.LocParam[T])net.liftweb.sitemap.Menu.ParamsMenuable[T]" id="480496">&gt;&gt;</a><span class="delimiter">(</span><a title="net.liftweb.sitemap.Loc.LocParam[T]" id="480607">param</a>: Loc.<a href="Loc.scala.html#146543" title="net.liftweb.sitemap.Loc.LocParam[T]">LocParam</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#215830" title="net.liftweb.sitemap.Menu.ParamsMenuable[T]">ParamsMenuable</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =
    <span title="net.liftweb.sitemap.Menu.ParamsMenuable[T]" class="keyword">new</span> <a href="#215830" title="net.liftweb.sitemap.Menu.ParamsMenuable[T]">ParamsMenuable</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">(</span><a href="#480504" title="=&gt; String">name</a>, <a href="#480505" title="=&gt; net.liftweb.sitemap.Loc.LinkText[T]">linkText</a>, <a href="#480506" title="=&gt; List[String] =&gt; net.liftweb.common.Box[T]">parser</a>, <a href="#480507" title="=&gt; T =&gt; List[String]">encoder</a>, <a href="#480508" title="=&gt; List[net.liftweb.sitemap.LocPath]">path</a>, <a href="#480509" title="=&gt; Boolean">headMatch</a>, <a href="#480510" title="=&gt; List[net.liftweb.sitemap.Loc.LocParam[T]]">params</a> <a href="#480609" title="(prefix: List[net.liftweb.sitemap.Loc.LocParam[T]])List[net.liftweb.sitemap.Loc.LocParam[T]]">:::</a> <span title="(xs: net.liftweb.sitemap.Loc.LocParam[T]*)List[net.liftweb.sitemap.Loc.LocParam[T]]">List</span><span class="delimiter">(</span><a href="#480607" title="net.liftweb.sitemap.Loc.LocParam[T]">param</a><span class="delimiter">)</span>, <a href="#480511" title="=&gt; List[net.liftweb.sitemap.ConvertableToMenu]">submenus</a><span class="delimiter">)</span>
    
    <span class="comment">/**
     * Define the submenus of this menu item
     */</span>
    <span class="keyword">def</span> <a title="(subs: net.liftweb.sitemap.ConvertableToMenu*)net.liftweb.sitemap.Menu.ParamsMenuable[T]" id="480497">submenus</a><span class="delimiter">(</span><a title="net.liftweb.sitemap.ConvertableToMenu*" id="480592">subs</a>: <span title="net.liftweb.sitemap.ConvertableToMenu*">ConvertableToMenu</span>*<span class="delimiter">)</span>: <a href="#215830" title="net.liftweb.sitemap.Menu.ParamsMenuable[T]">ParamsMenuable</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="#480498" title="(subs: List[net.liftweb.sitemap.ConvertableToMenu])net.liftweb.sitemap.Menu.ParamsMenuable[T]">submenus</a><span class="delimiter">(</span><a href="#480592" title="net.liftweb.sitemap.ConvertableToMenu*">subs</a>.<span title="=&gt; List[net.liftweb.sitemap.ConvertableToMenu]">toList</span><span class="delimiter">)</span>

    <span class="comment">/**
     * Define the submenus of this menu item
     */</span>
    <span class="keyword">def</span> <a title="(subs: List[net.liftweb.sitemap.ConvertableToMenu])net.liftweb.sitemap.Menu.ParamsMenuable[T]" id="480498">submenus</a><span class="delimiter">(</span><a title="List[net.liftweb.sitemap.ConvertableToMenu]" id="480590">subs</a>: <span title="List[net.liftweb.sitemap.ConvertableToMenu]">List</span><span class="delimiter">[</span>ConvertableToMenu<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#215830" title="net.liftweb.sitemap.Menu.ParamsMenuable[T]">ParamsMenuable</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =
      <span title="net.liftweb.sitemap.Menu.ParamsMenuable[T]" class="keyword">new</span> <a href="#215830" title="net.liftweb.sitemap.Menu.ParamsMenuable[T]">ParamsMenuable</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">(</span><a href="#480504" title="=&gt; String">name</a>, <a href="#480505" title="=&gt; net.liftweb.sitemap.Loc.LinkText[T]">linkText</a>, <a href="#480506" title="=&gt; List[String] =&gt; net.liftweb.common.Box[T]">parser</a>, <a href="#480507" title="=&gt; T =&gt; List[String]">encoder</a>, <a href="#480508" title="=&gt; List[net.liftweb.sitemap.LocPath]">path</a>, <a href="#480509" title="=&gt; Boolean">headMatch</a>, <a href="#480510" title="=&gt; List[net.liftweb.sitemap.Loc.LocParam[T]]">params</a>, <a href="#480511" title="=&gt; List[net.liftweb.sitemap.ConvertableToMenu]">submenus</a> <a href="#480660" title="(prefix: List[net.liftweb.sitemap.ConvertableToMenu])List[net.liftweb.sitemap.ConvertableToMenu]">:::</a> <a href="#480590" title="List[net.liftweb.sitemap.ConvertableToMenu]">subs</a><span class="delimiter">)</span>

    <span class="comment">// FIXME... do the right thing so that in development mode</span>
    <span class="comment">// the menu and loc are recalculated when the menu is reloaded</span>

    <span class="comment">/**
     * Convert the Menuable into a Menu instance
     */</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="net.liftweb.sitemap.Menu" id="480500">toMenu</a>: <a href="#482079" title="net.liftweb.sitemap.Menu">Menu</a> = <a href="#482079" title="(loc: net.liftweb.sitemap.Loc[_], convertableKids: net.liftweb.sitemap.ConvertableToMenu*)net.liftweb.sitemap.Menu">Menu</a><span class="delimiter">(</span><a href="#480501" title="=&gt; net.liftweb.sitemap.Loc[T]">toLoc</a>, <a href="#480511" title="=&gt; List[net.liftweb.sitemap.ConvertableToMenu]">submenus</a> :_*<span class="delimiter">)</span>

    <span class="comment">/**
     * Convert the ParamsMenuable into a Loc so you can access
     * the well typed currentValue
     */</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="net.liftweb.sitemap.Loc[T]" id="480502">toLoc</a>: <a href="Loc.scala.html#15287" title="net.liftweb.sitemap.Loc[T]">Loc</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="#480684" title="java.lang.Object with net.liftweb.sitemap.Loc[T] with net.liftweb.sitemap.Menu.ParamExtractor[List[String],T]{}" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with net.liftweb.sitemap.Loc[T] with net.liftweb.sitemap.Menu.ParamExtractor[List[String],T]" id="480684">Loc</a><span class="delimiter">[</span>T<span class="delimiter">]</span> <span class="keyword">with</span> <a href="#215835" title="net.liftweb.sitemap.Menu.ParamExtractor[List[String],T]">ParamExtractor</a><span class="delimiter">[</span>List<span class="delimiter">[</span>String<span class="delimiter">]</span>, T<span class="delimiter">]</span> <span class="delimiter">{</span>
      <span class="comment">// the name of the page</span>
      <span class="keyword">def</span> <a title="=&gt; String" id="480688">name</a> = <a href="#215830" title="ParamsMenuable.this.type">ParamsMenuable</a>.<span class="keyword">this</span>.<a href="#480504" title="=&gt; String">name</a>
     
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="480689">headMatch</a>: <span title="Boolean">Boolean</span> = <a href="#215830" title="ParamsMenuable.this.type">ParamsMenuable</a>.<span class="keyword">this</span>.<a href="#480509" title="=&gt; Boolean">headMatch</a>


      <span class="comment">// the default parameters (used for generating the menu listing)</span>
      <span class="keyword">def</span> <a title="=&gt; net.liftweb.common.Empty.type" id="480690">defaultValue</a> = <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>

      <span class="comment">// no extra parameters</span>
      <span class="keyword">def</span> <a title="=&gt; List[net.liftweb.sitemap.Loc.LocParam[T]]" id="480691">params</a> = <a href="#215830" title="ParamsMenuable.this.type">ParamsMenuable</a>.<span class="keyword">this</span>.<a href="#480510" title="=&gt; List[net.liftweb.sitemap.Loc.LocParam[T]]">params</a>

      <span class="comment">/**
       * What's the text of the link?
       */</span>
      <span class="keyword">def</span> <a title="=&gt; net.liftweb.sitemap.Loc.LinkText[T]" id="480692">text</a> = <a href="#215830" title="ParamsMenuable.this.type">ParamsMenuable</a>.<span class="keyword">this</span>.<a href="#480505" title="=&gt; net.liftweb.sitemap.Loc.LinkText[T]">linkText</a>

      <span class="keyword">val</span> <a title="net.liftweb.sitemap.ParamLocLink[T]" id="480693">link</a> = <span title="net.liftweb.sitemap.ParamLocLink[T]" class="keyword">new</span> <a href="#15327" title="net.liftweb.sitemap.ParamLocLink[T]">ParamLocLink</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">(</span><a href="#215830" title="ParamsMenuable.this.type">ParamsMenuable</a>.<span class="keyword">this</span>.<a href="#480508" title="=&gt; List[net.liftweb.sitemap.LocPath]">path</a>,
                                     <a href="#215830" title="ParamsMenuable.this.type">ParamsMenuable</a>.<span class="keyword">this</span>.<a href="#480509" title="=&gt; Boolean">headMatch</a>,
                                     <a href="#480507" title="=&gt; T =&gt; List[String]">encoder</a><span class="delimiter">)</span>
      
      <span class="keyword">def</span> <a title="=&gt; List[net.liftweb.sitemap.LocPath]" id="480695">locPath</a>: <span title="List[net.liftweb.sitemap.LocPath]">List</span><span class="delimiter">[</span>LocPath<span class="delimiter">]</span> = <a href="#215830" title="ParamsMenuable.this.type">ParamsMenuable</a>.<span class="keyword">this</span>.<a href="#480508" title="=&gt; List[net.liftweb.sitemap.LocPath]">path</a>
      
      <span class="keyword">def</span> <a title="=&gt; List[String] =&gt; net.liftweb.common.Box[T]" id="480696">parser</a> = <a href="#215830" title="ParamsMenuable.this.type">ParamsMenuable</a>.<span class="keyword">this</span>.<a href="#480506" title="=&gt; List[String] =&gt; net.liftweb.common.Box[T]">parser</a>

      <span class="keyword">def</span> <a title="(in: List[String])net.liftweb.common.Box[List[String]]" id="480697">listToFrom</a><span class="delimiter">(</span><a title="List[String]" id="480722">in</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[List[String]]">Box</a><span class="delimiter">[</span>List<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: List[String])net.liftweb.common.Full[List[String]]">Full</a><span class="delimiter">(</span><a href="#480722" title="List[String]">in</a><span class="delimiter">)</span>
      
      <span class="keyword">val</span> <a title="Int" id="480698">pathLen</a> = <a href="#215830" title="ParamsMenuable.this.type">ParamsMenuable</a>.<span class="keyword">this</span>.<a href="#480508" title="=&gt; List[net.liftweb.sitemap.LocPath]">path</a>.<span title="=&gt; Int">length</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * The companion object to Menuable that has convenience methods
   */</span>
  <span class="keyword">object</span> <a title="object net.liftweb.sitemap.Menu.ParamsMenuable" id="215832">ParamsMenuable</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="comment">/**
     * Convert a Menuable into a Menu when you need a Menu.
     */</span>
    <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit net.liftweb.sitemap.Menu.ParamsMenuable.toMenu : (able: net.liftweb.sitemap.Menu.ParamsMenuable[_])net.liftweb.sitemap.Menu" id="480646">toMenu</a><span class="delimiter">(</span><a title="net.liftweb.sitemap.Menu.ParamsMenuable[_]" id="480654">able</a>: <a href="#215830" title="net.liftweb.sitemap.Menu.ParamsMenuable[_]">ParamsMenuable</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#482079" title="net.liftweb.sitemap.Menu">Menu</a> = <a href="#480654" title="net.liftweb.sitemap.Menu.ParamsMenuable[_]">able</a>.<a href="#480499" title="=&gt; net.liftweb.sitemap.Menu">toMenu</a>

    <span class="comment">/**
     * Convert a Menuable into a Loc[T]
     */</span>
    <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[T](able: net.liftweb.sitemap.Menu.ParamsMenuable[T])net.liftweb.sitemap.Loc[T]" id="480647">toLoc</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="480649">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="net.liftweb.sitemap.Menu.ParamsMenuable[T]" id="480651">able</a>: <a href="#215830" title="net.liftweb.sitemap.Menu.ParamsMenuable[T]">ParamsMenuable</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="Loc.scala.html#15287" title="net.liftweb.sitemap.Loc[T]">Loc</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = 
      <a href="#480651" title="net.liftweb.sitemap.Menu.ParamsMenuable[T]">able</a>.<a href="#480499" title="=&gt; net.liftweb.sitemap.Menu">toMenu</a>.<a href="#479957" title="=&gt; net.liftweb.sitemap.Loc[_]">loc</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="net.liftweb.sitemap.Loc[T]" class="delimiter">[</span><a href="Loc.scala.html#15287" title="net.liftweb.sitemap.Loc[T]">Loc</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span>

  <span class="delimiter">}</span>


  <span class="comment">/**
   * An intermediate class that holds the basic stuff that's needed to make a Menu item for SiteMap.
   * You must include at least one URI path element by calling the / method
   */</span>
  <span class="keyword">class</span> <a title="class PreMenu extends java.lang.Object with ScalaObject" id="215834">PreMenu</a><a href="#215834" title="ScalaObject" class="delimiter">(</a><a title="String" id="480735">name</a>: <span title="String">String</span>, <a title="net.liftweb.sitemap.Loc.LinkText[Unit]" id="480736">linkText</a>: Loc.<a href="Loc.scala.html#146642" title="net.liftweb.sitemap.Loc.LinkText[Unit]">LinkText</a><span class="delimiter">[</span>Unit<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="comment">/**
     * The method to add a path element to the URL representing this menu item
     */</span>
    <span class="keyword">def</span> <a title="(pathElement: net.liftweb.sitemap.LocPath)net.liftweb.sitemap.Menu.Menuable with net.liftweb.sitemap.Menu.WithSlash" id="215967">/</a><span class="delimiter">(</span><a title="net.liftweb.sitemap.LocPath" id="480737">pathElement</a>: <a href="#15314" title="net.liftweb.sitemap.LocPath">LocPath</a><span class="delimiter">)</span>: <a href="#480738" title="PreMenu extends net.liftweb.sitemap.Menu.Menuable with net.liftweb.sitemap.Menu.WithSlash">Menuable</a> <span class="keyword">with</span> WithSlash = 
      <a href="#480767" title="net.liftweb.sitemap.Menu.Menuable with net.liftweb.sitemap.Menu.WithSlash" class="keyword">new</a> <a href="#215840" title="anonymous class $anon extends net.liftweb.sitemap.Menu.Menuable with net.liftweb.sitemap.Menu.WithSlash" id="480767">Menuable</a><span class="delimiter">(</span><a href="#480735" title="String">name</a>, <a href="#480736" title="net.liftweb.sitemap.Loc.LinkText[Unit]">linkText</a>, <a href="#480737" title="net.liftweb.sitemap.LocPath">pathElement</a> <a href="#480790" title="(x: net.liftweb.sitemap.LocPath)List[net.liftweb.sitemap.LocPath]">::</a> <span title="object Nil">Nil</span>, <span title="Boolean(false)" class="keyword">false</span>, <span title="object Nil">Nil</span>, <span title="object Nil">Nil</span><span class="delimiter">)</span> <span class="keyword">with</span> <a href="#215839" title="net.liftweb.sitemap.Menu.WithSlash">WithSlash</a>

    <span class="keyword">def</span> <a title="(pathElement: String)net.liftweb.sitemap.Menu.Menuable with net.liftweb.sitemap.Menu.WithSlash" id="215968">path</a><span class="delimiter">(</span><a title="String" id="480794">pathElement</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#480795" title="PreMenu extends net.liftweb.sitemap.Menu.Menuable with net.liftweb.sitemap.Menu.WithSlash">Menuable</a> <span class="keyword">with</span> WithSlash = 
      <a href="#480797" title="net.liftweb.sitemap.Menu.Menuable with net.liftweb.sitemap.Menu.WithSlash" class="keyword">new</a> <a href="#215840" title="anonymous class $anon extends net.liftweb.sitemap.Menu.Menuable with net.liftweb.sitemap.Menu.WithSlash" id="480797">Menuable</a><span class="delimiter">(</span><a href="#480735" title="String">name</a>, <a href="#480736" title="net.liftweb.sitemap.Loc.LinkText[Unit]">linkText</a>, <a href="#480794" title="String">pathElement</a> <a href="#479870" title="(x: net.liftweb.sitemap.LocPath)List[net.liftweb.sitemap.LocPath]">::</a> <span title="object Nil">Nil</span>, <span title="Boolean(false)" class="keyword">false</span>, <span title="object Nil">Nil</span>, <span title="object Nil">Nil</span><span class="delimiter">)</span> <span class="keyword">with</span> <a href="#215839" title="net.liftweb.sitemap.Menu.WithSlash">WithSlash</a>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * This trait contains helper method that will extract
   * parameters and convert path items based on
   * the locPath
   */</span>
  <span class="keyword">trait</span> <a title="trait ParamExtractor[ConvertFrom, ConvertTo] extends java.lang.Object with ScalaObject" id="215835">ParamExtractor</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="215836">ConvertFrom</a>, <a title="&gt;: Nothing &lt;: Any" id="215837">ConvertTo</a><span class="delimiter">]</span> <span title="ScalaObject" class="delimiter">{</span>
    self: Loc<span class="delimiter">[</span>ConvertTo<span class="delimiter">]</span> =&gt; 
    <span class="comment">/**
     * What's the path we're extracting against?
     */</span>
    <span class="keyword">def</span> <a title="=&gt; List[net.liftweb.sitemap.LocPath]" id="480369">locPath</a>: <span title="List[net.liftweb.sitemap.LocPath]">List</span><span class="delimiter">[</span>LocPath<span class="delimiter">]</span>

    <span class="comment">/**
     * A function to convert the ConvertFrom (a String or
     * List[String]) to the target type
     */</span>
    <span class="keyword">def</span> <a title="=&gt; ConvertFrom =&gt; net.liftweb.common.Box[ConvertTo]" id="480370">parser</a>: ConvertFrom =&gt; Box<span class="delimiter">[</span>ConvertTo<span class="delimiter">]</span>

    <span class="comment">/**
     * Convert the List[String] extracted from the
     * parse params into whatever is necessary to convert
     * to a ConvertTo
     */</span>
    <span class="keyword">def</span> <a title="(in: List[String])net.liftweb.common.Box[ConvertFrom]" id="480371">listToFrom</a><span class="delimiter">(</span><a title="List[String]" id="480406">in</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[ConvertFrom]">Box</a><span class="delimiter">[</span>ConvertFrom<span class="delimiter">]</span>

    <span class="keyword">object</span> <a title="object ParamExtractor.this.ExtractSan" id="480372">ExtractSan</a> <span title="ScalaObject" class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(in: List[String])Option[(List[String], ConvertTo)]" id="480811">unapply</a><span class="delimiter">(</span><a title="List[String]" id="480813">in</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Option[(List[String], ConvertTo)]">Option</span><span class="delimiter">[</span><span class="delimiter">(</span>List<span class="delimiter">[</span>String<span class="delimiter">]</span>, ConvertTo<span class="delimiter">)</span><span class="delimiter">]</span> 
      = <span class="delimiter">{</span>
        <span class="keyword">for</span> <span class="delimiter">{</span>
          <span class="delimiter">(</span><a title="List[String]" id="480831">path</a>, <a title="List[String]" id="480832">paramList</a><span class="delimiter">)</span> &lt;- <a href="#480377" title="(org: List[String])net.liftweb.common.Box[(List[String], List[String])]">extractAndConvertPath</a><a href="../../../../common/net/liftweb/common/Box.scala.html#27023" title="(f: (List[String], List[String]) =&gt; net.liftweb.common.Box[(List[String], ConvertTo)])net.liftweb.common.Box[(List[String], ConvertTo)]" class="delimiter">(</a><a href="#480813" title="List[String]">in</a><span class="delimiter">)</span>
          <a title="ConvertFrom" id="480837">toConvert</a> &lt;- <a href="#480371" title="(in: List[String])net.liftweb.common.Box[ConvertFrom]">listToFrom</a><a href="../../../../common/net/liftweb/common/Box.scala.html#27023" title="(f: ConvertFrom =&gt; net.liftweb.common.Box[(List[String], ConvertTo)])net.liftweb.common.Box[(List[String], ConvertTo)]" class="delimiter">(</a><a href="#480832" title="List[String]">paramList</a><span class="delimiter">)</span>
          <a title="ConvertTo" id="480843">param</a> &lt;- <a href="#480370" title="(v1: ConvertFrom)net.liftweb.common.Box[ConvertTo]">parser</a><a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: ConvertTo =&gt; (List[String], ConvertTo))net.liftweb.common.Box[(List[String], ConvertTo)]" class="delimiter">(</a><a href="#480837" title="ConvertFrom">toConvert</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">yield</span> <a href="#480831" title="(x: List[String])ArrowAssoc[List[String]]">path</a> <span title="(y: ConvertTo)(List[String], ConvertTo)">-&gt;</span> <a href="#480843" title="ConvertTo">param</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Rewrite the request and emit the type-safe parameter
     */</span>
    <span class="keyword">override</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParamExtractor.this.LocRewrite" id="480375">rewrite</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="ParamExtractor.this.LocRewrite">LocRewrite</a> =
      <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: net.liftweb.util.NamedPartialFunction[net.liftweb.http.RewriteRequest,(net.liftweb.http.RewriteResponse, ConvertTo)])net.liftweb.common.Full[net.liftweb.util.NamedPartialFunction[net.liftweb.http.RewriteRequest,(net.liftweb.http.RewriteResponse, ConvertTo)]]">Full</a><span class="delimiter">(</span><a href="../../../../util/net/liftweb/util/NamedPartialFunction.scala.html#185565" title="(name: String)(f: PartialFunction[net.liftweb.http.RewriteRequest,(net.liftweb.http.RewriteResponse, ConvertTo)])net.liftweb.util.NamedPartialFunction[net.liftweb.http.RewriteRequest,(net.liftweb.http.RewriteResponse, ConvertTo)]">NamedPF</a><span class="delimiter">(</span><a href="#480369" title="=&gt; List[net.liftweb.sitemap.LocPath]">locPath</a>.<span title="()String">toString</span><span class="delimiter">)</span> <a href="#480893" title="(net.liftweb.http.RewriteResponse, ConvertTo)" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="(net.liftweb.http.RewriteResponse, ConvertTo)">RewriteRequest</span><span class="delimiter">(</span>ParsePath<span class="delimiter">(</span><a href="#480811" title="(in: List[String])Option[(List[String], ConvertTo)]">ExtractSan</a><span class="delimiter">(</span><a title="List[String]" id="480895">path</a>, <a title="ConvertTo" id="480896">param</a><span class="delimiter">)</span>,
                                      _, _,_<span class="delimiter">)</span>, _, _<span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
          <a href="../http/Req.scala.html#216937" title="(path: List[String], stopRewriting: Boolean)net.liftweb.http.RewriteResponse">RewriteResponse</a><span title="(x: net.liftweb.http.RewriteResponse)ArrowAssoc[net.liftweb.http.RewriteResponse]" class="delimiter">(</span><a href="#480895" title="List[String]">path</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span> <span title="(y: ConvertTo)(net.liftweb.http.RewriteResponse, ConvertTo)">-&gt;</span> <a href="#480896" title="ConvertTo">param</a>
        <span class="delimiter">}</span><span class="delimiter">}</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; Boolean" id="480376">headMatch</a>: <span title="Boolean">Boolean</span>

    <span class="comment">/**
     * Given an incoming request path, match the path and
     * extract the parameters. If the path is matched, return
     * all the extracted parameters.
     * If the path matches, the return Full box will contain
     * the rewritten path and the extracted path parameter
     */</span>
    <span class="keyword">def</span> <a title="(org: List[String])net.liftweb.common.Box[(List[String], List[String])]" id="480377">extractAndConvertPath</a><span class="delimiter">(</span><a title="List[String]" id="480815">org</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[(List[String], List[String])]">Box</a><span class="delimiter">[</span><span class="delimiter">(</span>List<span class="delimiter">[</span>String<span class="delimiter">]</span>, List<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">import</span> scala.collection.mutable._
      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[String]" id="480925">retPath</a> = <span title="scala.collection.mutable.ListBuffer[String]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[String]">ListBuffer</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[String]" id="480926">retParams</a> = <span title="scala.collection.mutable.ListBuffer[String]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[String]">ListBuffer</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Boolean" id="480927">gotStar</a> = <span title="Boolean(false)" class="keyword">false</span>

      @tailrec
      <span class="keyword">def</span> <a title="(op: List[String], mp: List[net.liftweb.sitemap.LocPath])Boolean" id="480928">doExtract</a><span class="delimiter">(</span><a title="List[String]" id="480929">op</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span>, <a title="List[net.liftweb.sitemap.LocPath]" id="480930">mp</a>: <span title="List[net.liftweb.sitemap.LocPath]">List</span><span class="delimiter">[</span>LocPath<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
        <span title="(_1: List[String], _2: List[net.liftweb.sitemap.LocPath])(List[String], List[net.liftweb.sitemap.LocPath])" class="delimiter">(</span><a href="#480929" title="List[String]">op</a>, <a href="#480930" title="List[net.liftweb.sitemap.LocPath]">mp</a><span class="delimiter">)</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Boolean(true)" class="delimiter">(</span><span title="object Nil">Nil</span>, <span title="object Nil">Nil</span><span class="delimiter">)</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>
          <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span><a title="String" id="480956">o</a> :: <span title="object Nil">Nil</span>, <span title="object Nil">Nil</span><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
            <a href="#480926" title="scala.collection.mutable.ListBuffer[String]">retParams</a> <span title="(x: String)retParams.type">+=</span> <a href="#480956" title="String">o</a> 
            <a href="#480376" title="=&gt; Boolean">headMatch</a> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#480927" title="Boolean">gotStar</a>
          <span class="delimiter">}</span>

          <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span><a title="List[String]" id="480968">op</a>, <span title="object Nil">Nil</span><span class="delimiter">)</span> =&gt; <a href="#480926" title="scala.collection.mutable.ListBuffer[String]">retParams</a> <span title="(xs: scala.collection.TraversableOnce[String])retParams.type">++=</span> <a href="#480968" title="List[String]">op</a>; <a href="#480376" title="=&gt; Boolean">headMatch</a>
          <span class="keyword">case</span> <span title="Boolean(false)" class="delimiter">(</span><span title="object Nil">Nil</span>, _<span class="delimiter">)</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
          <span class="keyword">case</span> <span title="Boolean(false)" class="delimiter">(</span><a title="String" id="480984">o</a> :: _, NormalLocPath<span class="delimiter">(</span><a title="String" id="480991">str</a><span class="delimiter">)</span> :: _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#480984" title="String">o</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#480991" title="String">str</a> =&gt; <span title="Boolean(false)" class="keyword">false</span>
          <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span><a title="String" id="481002">o</a> :: <a title="List[String]" id="481003">os</a>, <a href="#479903" title="object net.liftweb.sitemap.*">*</a> :: <a title="List[net.liftweb.sitemap.LocPath]" id="481008">ms</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
            <a href="#480927" title="Boolean">gotStar</a> = <span title="Boolean(true)" class="keyword">true</span>
            <a href="#480926" title="scala.collection.mutable.ListBuffer[String]">retParams</a> <span title="(x: String)retParams.type">+=</span> <a href="#481002" title="String">o</a>
            <a href="#480925" title="scala.collection.mutable.ListBuffer[String]">retPath</a> <span title="(x: String)retPath.type">+=</span> <a href="#479903" title="object net.liftweb.sitemap.*">*</a>.<a href="#479882" title="=&gt; java.lang.String">pathItem</a>
            <a href="#480928" title="(op: List[String], mp: List[net.liftweb.sitemap.LocPath])Boolean">doExtract</a><span class="delimiter">(</span><a href="#481003" title="List[String]">os</a>, <a href="#481008" title="List[net.liftweb.sitemap.LocPath]">ms</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span><a title="String" id="481026">o</a> :: <a title="List[String]" id="481027">os</a>, _ :: <a title="List[net.liftweb.sitemap.LocPath]" id="481032">ms</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
            <a href="#480925" title="scala.collection.mutable.ListBuffer[String]">retPath</a> <span title="(x: String)retPath.type">+=</span> <a href="#481026" title="String">o</a>
            <a href="#480928" title="(op: List[String], mp: List[net.liftweb.sitemap.LocPath])Boolean">doExtract</a><span class="delimiter">(</span><a href="#481027" title="List[String]">os</a>, <a href="#481032" title="List[net.liftweb.sitemap.LocPath]">ms</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

      <span title="net.liftweb.common.Box[(List[String], List[String])]" class="keyword">if</span> <span class="delimiter">(</span><a href="#480928" title="(op: List[String], mp: List[net.liftweb.sitemap.LocPath])Boolean">doExtract</a><span class="delimiter">(</span><a href="#480815" title="List[String]">org</a>, <a href="#480369" title="=&gt; List[net.liftweb.sitemap.LocPath]">locPath</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: (List[String], List[String]))net.liftweb.common.Full[(List[String], List[String])]">Full</a><span class="delimiter">(</span><span title="(_1: List[String], _2: List[String])(List[String], List[String])" class="delimiter">(</span><a href="#480925" title="scala.collection.mutable.ListBuffer[String]">retPath</a>.<span title="=&gt; List[String]">toList</span>, <a href="#480926" title="scala.collection.mutable.ListBuffer[String]">retParams</a>.<span title="=&gt; List[String]">toList</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">trait</span> <a title="trait BaseMenuable extends java.lang.Object" id="215838">BaseMenuable</a> <span title="java.lang.Object" class="delimiter">{</span>
    <span class="keyword">type</span> <a title="&gt;: Nothing &lt;: Any" id="480027">BuiltType</a>

    <span class="keyword">def</span> <a title="=&gt; List[net.liftweb.sitemap.LocPath]" id="480028">path</a>: <span title="List[net.liftweb.sitemap.LocPath]">List</span><span class="delimiter">[</span>LocPath<span class="delimiter">]</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="480029">headMatch</a>: <span title="Boolean">Boolean</span>

    <span class="keyword">def</span> <a title="(newPath: List[net.liftweb.sitemap.LocPath], newHead: Boolean)BaseMenuable.this.BuiltType" id="480030">buildOne</a><span class="delimiter">(</span><a title="List[net.liftweb.sitemap.LocPath]" id="480061">newPath</a>: <span title="List[net.liftweb.sitemap.LocPath]">List</span><span class="delimiter">[</span>LocPath<span class="delimiter">]</span>, <a title="Boolean" id="480062">newHead</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <a href="#480027" title="BaseMenuable.this.BuiltType">BuiltType</a>
    <span class="keyword">def</span> <a title="(newPath: List[net.liftweb.sitemap.LocPath], newHead: Boolean)BaseMenuable.this.BuiltType with net.liftweb.sitemap.Menu.WithSlash" id="480031">buildSlashOne</a><span class="delimiter">(</span><a title="List[net.liftweb.sitemap.LocPath]" id="480051">newPath</a>: <span title="List[net.liftweb.sitemap.LocPath]">List</span><span class="delimiter">[</span>LocPath<span class="delimiter">]</span>, <a title="Boolean" id="480052">newHead</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <a href="#480053" title="BaseMenuable extends BaseMenuable.this.BuiltType with net.liftweb.sitemap.Menu.WithSlash">BuiltType</a> <span class="keyword">with</span> WithSlash
  <span class="delimiter">}</span>

  <span class="keyword">trait</span> <a title="trait WithSlash extends java.lang.Object with ScalaObject" id="215839">WithSlash</a> <span title="ScalaObject" class="delimiter">{</span>
    self: BaseMenuable =&gt;
      <span class="comment">/**
       * The method to add a path element to the URL representing this menu item. This method is
       * typically only used to allow the &lt;pre&gt;**&lt;/pre&gt; object mechanism for specifying head match.
       */</span>
      <span class="keyword">def</span> <a title="(pathElement: net.liftweb.sitemap.MenuPath)WithSlash.this.BuiltType" id="480023">/</a><span class="delimiter">(</span><a title="net.liftweb.sitemap.MenuPath" id="481047">pathElement</a>: <a href="#15308" title="net.liftweb.sitemap.MenuPath">MenuPath</a><span class="delimiter">)</span>: <a href="#480027" title="WithSlash.this.BuiltType">BuiltType</a> = <a href="#481047" title="net.liftweb.sitemap.MenuPath">pathElement</a> <span title="WithSlash.this.BuiltType" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="#15309" title="WithSlash.this.BuiltType">**</a> =&gt; <a href="#480030" title="(newPath: List[net.liftweb.sitemap.LocPath], newHead: Boolean)WithSlash.this.BuiltType">buildOne</a><span class="delimiter">(</span><a href="#480028" title="=&gt; List[net.liftweb.sitemap.LocPath]">path</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="WithSlash.this.BuiltType">AMenuPath</span><span class="delimiter">(</span><a title="String" id="481053">pathItem</a><span class="delimiter">)</span> =&gt; 
          <a href="#480030" title="(newPath: List[net.liftweb.sitemap.LocPath], newHead: Boolean)WithSlash.this.BuiltType">buildOne</a><span class="delimiter">(</span><a href="#480028" title="=&gt; List[net.liftweb.sitemap.LocPath]">path</a> <a href="#481054" title="(prefix: List[net.liftweb.sitemap.LocPath])List[net.liftweb.sitemap.LocPath]">:::</a> <span title="(xs: net.liftweb.sitemap.NormalLocPath*)List[net.liftweb.sitemap.NormalLocPath]">List</span><span class="delimiter">(</span><a href="#482262" title="(pathItem: String)net.liftweb.sitemap.NormalLocPath">NormalLocPath</a><span class="delimiter">(</span><a href="#481053" title="String">pathItem</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#480029" title="=&gt; Boolean">headMatch</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>


      <span class="keyword">def</span> <a title="(pathElement: net.liftweb.sitemap.MenuPath)WithSlash.this.BuiltType" id="480024">path</a><span class="delimiter">(</span><a title="net.liftweb.sitemap.MenuPath" id="480032">pathElement</a>: <a href="#15308" title="net.liftweb.sitemap.MenuPath">MenuPath</a><span class="delimiter">)</span>: <a href="#480027" title="WithSlash.this.BuiltType">BuiltType</a> = <a href="#215839" title="WithSlash.this.type" class="keyword">this</a>.<a href="#480023" title="(pathElement: net.liftweb.sitemap.MenuPath)WithSlash.this.BuiltType">/</a><span class="delimiter">(</span><a href="#480032" title="net.liftweb.sitemap.MenuPath">pathElement</a><span class="delimiter">)</span>

      <span class="comment">/**
       * The method to add a path element to the URL representing this menu item
       */</span>
      <span class="keyword">def</span> <a title="(pathElement: net.liftweb.sitemap.LocPath)WithSlash.this.BuiltType with net.liftweb.sitemap.Menu.WithSlash" id="480025">/</a><span class="delimiter">(</span><a title="net.liftweb.sitemap.LocPath" id="481076">pathElement</a>: <a href="#15314" title="net.liftweb.sitemap.LocPath">LocPath</a><span class="delimiter">)</span>: <a href="#481077" title="WithSlash extends WithSlash.this.BuiltType with net.liftweb.sitemap.Menu.WithSlash">BuiltType</a> <span class="keyword">with</span> WithSlash = <a href="#480031" title="(newPath: List[net.liftweb.sitemap.LocPath], newHead: Boolean)WithSlash.this.BuiltType with net.liftweb.sitemap.Menu.WithSlash">buildSlashOne</a><span class="delimiter">(</span><a href="#480028" title="=&gt; List[net.liftweb.sitemap.LocPath]">path</a> <a href="#481082" title="(prefix: List[net.liftweb.sitemap.LocPath])List[net.liftweb.sitemap.LocPath]">:::</a> <span title="(xs: net.liftweb.sitemap.LocPath*)List[net.liftweb.sitemap.LocPath]">List</span><span class="delimiter">(</span><a href="#481076" title="net.liftweb.sitemap.LocPath">pathElement</a><span class="delimiter">)</span>, <a href="#480029" title="=&gt; Boolean">headMatch</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">class</span> <a title="class Menuable extends java.lang.Object with net.liftweb.sitemap.ConvertableToMenu with net.liftweb.sitemap.Menu.BaseMenuable with ScalaObject" id="215840">Menuable</a><a href="#215840" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="String" id="480768">name</a>: <span title="String">String</span>,<span class="keyword">val</span> <a title="net.liftweb.sitemap.Loc.LinkText[Unit]" id="480769">linkText</a>: Loc.<a href="Loc.scala.html#146642" title="net.liftweb.sitemap.Loc.LinkText[Unit]">LinkText</a><span class="delimiter">[</span>Unit<span class="delimiter">]</span>,
                 <span class="keyword">val</span> <a title="List[net.liftweb.sitemap.LocPath]" id="480770">path</a>: <span title="List[net.liftweb.sitemap.LocPath]">List</span><span class="delimiter">[</span>LocPath<span class="delimiter">]</span>,
                 <span class="keyword">val</span> <a title="Boolean" id="480771">headMatch</a>: <span title="Boolean">Boolean</span>,
                 <span class="keyword">val</span> <a title="List[net.liftweb.sitemap.Loc.LocParam[Unit]]" id="480772">params</a>: <span title="List[net.liftweb.sitemap.Loc.LocParam[Unit]]">List</span><span class="delimiter">[</span>Loc.LocParam<span class="delimiter">[</span>Unit<span class="delimiter">]</span><span class="delimiter">]</span>,<span class="keyword">val</span> <a title="List[net.liftweb.sitemap.ConvertableToMenu]" id="480773">submenus</a>: <span title="List[net.liftweb.sitemap.ConvertableToMenu]">List</span><span class="delimiter">[</span>ConvertableToMenu<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#15307" title="net.liftweb.sitemap.ConvertableToMenu">ConvertableToMenu</a> <span class="keyword">with</span> <a href="#215838" title="net.liftweb.sitemap.Menu.BaseMenuable">BaseMenuable</a>
  <span class="delimiter">{</span>

    <span class="keyword">type</span> <a title="net.liftweb.sitemap.Menu.Menuable" id="480759">BuiltType</a> = <a href="#215840" title="net.liftweb.sitemap.Menu.Menuable">Menuable</a>

    <span class="keyword">def</span> <a title="(newPath: List[net.liftweb.sitemap.LocPath], newHead: Boolean)Menuable.this.BuiltType" id="480760">buildOne</a><span class="delimiter">(</span><a title="List[net.liftweb.sitemap.LocPath]" id="480781">newPath</a>: <span title="List[net.liftweb.sitemap.LocPath]">List</span><span class="delimiter">[</span>LocPath<span class="delimiter">]</span>, <a title="Boolean" id="480782">newHead</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <a href="#215840" title="Menuable.this.BuiltType">BuiltType</a> = <span title="net.liftweb.sitemap.Menu.Menuable" class="keyword">new</span> <a href="#215840" title="net.liftweb.sitemap.Menu.Menuable">Menuable</a><span class="delimiter">(</span><a href="#480768" title="=&gt; String">name</a>, <a href="#480769" title="=&gt; net.liftweb.sitemap.Loc.LinkText[Unit]">linkText</a>, <a href="#480781" title="List[net.liftweb.sitemap.LocPath]">newPath</a>, <a href="#480782" title="Boolean">newHead</a>, <a href="#480772" title="=&gt; List[net.liftweb.sitemap.Loc.LocParam[Unit]]">params</a>, <a href="#480773" title="=&gt; List[net.liftweb.sitemap.ConvertableToMenu]">submenus</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(newPath: List[net.liftweb.sitemap.LocPath], newHead: Boolean)Menuable.this.BuiltType with net.liftweb.sitemap.Menu.WithSlash" id="480761">buildSlashOne</a><span class="delimiter">(</span><a title="List[net.liftweb.sitemap.LocPath]" id="480775">newPath</a>: <span title="List[net.liftweb.sitemap.LocPath]">List</span><span class="delimiter">[</span>LocPath<span class="delimiter">]</span>, <a title="Boolean" id="480776">newHead</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <a href="#480777" title="Menuable extends Menuable.this.BuiltType with net.liftweb.sitemap.Menu.WithSlash">BuiltType</a> <span class="keyword">with</span> WithSlash = <a href="#481117" title="net.liftweb.sitemap.Menu.Menuable with net.liftweb.sitemap.Menu.WithSlash" class="keyword">new</a> <a href="#215840" title="anonymous class $anon extends net.liftweb.sitemap.Menu.Menuable with net.liftweb.sitemap.Menu.WithSlash" id="481117">Menuable</a><span class="delimiter">(</span><a href="#480768" title="=&gt; String">name</a>, <a href="#480769" title="=&gt; net.liftweb.sitemap.Loc.LinkText[Unit]">linkText</a>, <a href="#480775" title="List[net.liftweb.sitemap.LocPath]">newPath</a>, <a href="#480776" title="Boolean">newHead</a>, <a href="#480772" title="=&gt; List[net.liftweb.sitemap.Loc.LocParam[Unit]]">params</a>, <a href="#480773" title="=&gt; List[net.liftweb.sitemap.ConvertableToMenu]">submenus</a><span class="delimiter">)</span> <span class="keyword">with</span> <a href="#215839" title="net.liftweb.sitemap.Menu.WithSlash">WithSlash</a>


    <span class="comment">/**
     * Append a LocParam to the Menu item
     */</span>
    <span class="keyword">def</span> <a title="(param: net.liftweb.sitemap.Loc.LocParam[Unit])net.liftweb.sitemap.Menu.Menuable" id="480762">rule</a><span class="delimiter">(</span><a title="net.liftweb.sitemap.Loc.LocParam[Unit]" id="481128">param</a>: Loc.<a href="Loc.scala.html#146543" title="net.liftweb.sitemap.Loc.LocParam[Unit]">LocParam</a><span class="delimiter">[</span>Unit<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#215840" title="net.liftweb.sitemap.Menu.Menuable">Menuable</a> = <a href="#480763" title="(param: net.liftweb.sitemap.Loc.LocParam[Unit])net.liftweb.sitemap.Menu.Menuable">&gt;&gt;</a><span class="delimiter">(</span><a href="#481128" title="net.liftweb.sitemap.Loc.LocParam[Unit]">param</a><span class="delimiter">)</span>

    <span class="comment">/**
     * Append a LocParam to the Menu item
     */</span>
    <span class="keyword">def</span> <a title="(param: net.liftweb.sitemap.Loc.LocParam[Unit])net.liftweb.sitemap.Menu.Menuable" id="480763">&gt;&gt;</a><span class="delimiter">(</span><a title="net.liftweb.sitemap.Loc.LocParam[Unit]" id="481130">param</a>: Loc.<a href="Loc.scala.html#146543" title="net.liftweb.sitemap.Loc.LocParam[Unit]">LocParam</a><span class="delimiter">[</span>Unit<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#215840" title="net.liftweb.sitemap.Menu.Menuable">Menuable</a> =
    <span title="net.liftweb.sitemap.Menu.Menuable" class="keyword">new</span> <a href="#215840" title="net.liftweb.sitemap.Menu.Menuable">Menuable</a><span class="delimiter">(</span><a href="#480768" title="=&gt; String">name</a>, <a href="#480769" title="=&gt; net.liftweb.sitemap.Loc.LinkText[Unit]">linkText</a>, <a href="#480770" title="=&gt; List[net.liftweb.sitemap.LocPath]">path</a>, <a href="#480771" title="=&gt; Boolean">headMatch</a>, <a href="#480772" title="=&gt; List[net.liftweb.sitemap.Loc.LocParam[Unit]]">params</a> <a href="#481132" title="(prefix: List[net.liftweb.sitemap.Loc.LocParam[Unit]])List[net.liftweb.sitemap.Loc.LocParam[Unit]]">:::</a> <span title="(xs: net.liftweb.sitemap.Loc.LocParam[Unit]*)List[net.liftweb.sitemap.Loc.LocParam[Unit]]">List</span><span class="delimiter">(</span><a href="#481130" title="net.liftweb.sitemap.Loc.LocParam[Unit]">param</a><span class="delimiter">)</span>, <a href="#480773" title="=&gt; List[net.liftweb.sitemap.ConvertableToMenu]">submenus</a><span class="delimiter">)</span>
    
    <span class="comment">/**
     * Define the submenus of this menu item
     */</span>
    <span class="keyword">def</span> <a title="(subs: net.liftweb.sitemap.ConvertableToMenu*)net.liftweb.sitemap.Menu.Menuable" id="480764">submenus</a><span class="delimiter">(</span><a title="net.liftweb.sitemap.ConvertableToMenu*" id="481115">subs</a>: <span title="net.liftweb.sitemap.ConvertableToMenu*">ConvertableToMenu</span>*<span class="delimiter">)</span>: <a href="#215840" title="net.liftweb.sitemap.Menu.Menuable">Menuable</a> = <a href="#480765" title="(subs: List[net.liftweb.sitemap.ConvertableToMenu])net.liftweb.sitemap.Menu.Menuable">submenus</a><span class="delimiter">(</span><a href="#481115" title="net.liftweb.sitemap.ConvertableToMenu*">subs</a>.<span title="=&gt; List[net.liftweb.sitemap.ConvertableToMenu]">toList</span><span class="delimiter">)</span>

    <span class="comment">/**
     * Define the submenus of this menu item
     */</span>
    <span class="keyword">def</span> <a title="(subs: List[net.liftweb.sitemap.ConvertableToMenu])net.liftweb.sitemap.Menu.Menuable" id="480765">submenus</a><span class="delimiter">(</span><a title="List[net.liftweb.sitemap.ConvertableToMenu]" id="481113">subs</a>: <span title="List[net.liftweb.sitemap.ConvertableToMenu]">List</span><span class="delimiter">[</span>ConvertableToMenu<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#215840" title="net.liftweb.sitemap.Menu.Menuable">Menuable</a> =
    <span title="net.liftweb.sitemap.Menu.Menuable" class="keyword">new</span> <a href="#215840" title="net.liftweb.sitemap.Menu.Menuable">Menuable</a><span class="delimiter">(</span><a href="#480768" title="=&gt; String">name</a>, <a href="#480769" title="=&gt; net.liftweb.sitemap.Loc.LinkText[Unit]">linkText</a>, <a href="#480770" title="=&gt; List[net.liftweb.sitemap.LocPath]">path</a>, <a href="#480771" title="=&gt; Boolean">headMatch</a>, <a href="#480772" title="=&gt; List[net.liftweb.sitemap.Loc.LocParam[Unit]]">params</a>, <a href="#480773" title="=&gt; List[net.liftweb.sitemap.ConvertableToMenu]">submenus</a> <a href="#481174" title="(prefix: List[net.liftweb.sitemap.ConvertableToMenu])List[net.liftweb.sitemap.ConvertableToMenu]">:::</a> <a href="#481113" title="List[net.liftweb.sitemap.ConvertableToMenu]">subs</a><span class="delimiter">)</span>

    <span class="comment">/**
     * Convert the Menuable into a Menu instance
     */</span>
    <span class="keyword">def</span> <a title="=&gt; net.liftweb.sitemap.Menu" id="480766">toMenu</a>: <a href="#482079" title="net.liftweb.sitemap.Menu">Menu</a> = <a href="#215841" title="object net.liftweb.sitemap.Menu.Menuable">Menuable</a>.<a href="#481169" title="implicit net.liftweb.sitemap.Menu.Menuable.toMenu : (able: net.liftweb.sitemap.Menu.Menuable)net.liftweb.sitemap.Menu">toMenu</a><span class="delimiter">(</span><a href="#215840" title="net.liftweb.sitemap.Menu.Menuable" class="keyword">this</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * The companion object to Menuable that has convenience methods
   */</span>
  <span class="keyword">object</span> <a title="object net.liftweb.sitemap.Menu.Menuable" id="215841">Menuable</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="comment">/**
     * Convert a Menuable into a Menu when you need a Menu.
     */</span>
    <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit net.liftweb.sitemap.Menu.Menuable.toMenu : (able: net.liftweb.sitemap.Menu.Menuable)net.liftweb.sitemap.Menu" id="481169">toMenu</a><span class="delimiter">(</span><a title="net.liftweb.sitemap.Menu.Menuable" id="481170">able</a>: <a href="#215840" title="net.liftweb.sitemap.Menu.Menuable">Menuable</a><span class="delimiter">)</span>: <a href="#482079" title="net.liftweb.sitemap.Menu">Menu</a> =
      <a href="#482079" title="(loc: net.liftweb.sitemap.Loc[_], convertableKids: net.liftweb.sitemap.ConvertableToMenu*)net.liftweb.sitemap.Menu">Menu</a><span class="delimiter">(</span><a href="Loc.scala.html#146535" title="(name: String, link: net.liftweb.sitemap.Loc.Link[Unit], text: net.liftweb.sitemap.Loc.LinkText[Unit], params: List[net.liftweb.sitemap.Loc.LocParam[Unit]])net.liftweb.sitemap.Loc[Unit]">Loc</a><span class="delimiter">(</span><a href="#481170" title="net.liftweb.sitemap.Menu.Menuable">able</a>.<a href="#480768" title="=&gt; String">name</a>,
               <span title="net.liftweb.sitemap.ParamLocLink[Unit]" class="keyword">new</span> <a href="#15327" title="net.liftweb.sitemap.ParamLocLink[Unit]">ParamLocLink</a><span class="delimiter">[</span>Unit<span class="delimiter">]</span><span class="delimiter">(</span><a href="#481170" title="net.liftweb.sitemap.Menu.Menuable">able</a>.<a href="#480770" title="=&gt; List[net.liftweb.sitemap.LocPath]">path</a>, <a href="#481170" title="net.liftweb.sitemap.Menu.Menuable">able</a>.<a href="#480771" title="=&gt; Boolean">headMatch</a>,
                                      <a title="Unit" id="481216">ignore</a> =&gt; <span title="object Nil">Nil</span><span class="delimiter">)</span>,
               <a href="#481170" title="net.liftweb.sitemap.Menu.Menuable">able</a>.<a href="#480769" title="=&gt; net.liftweb.sitemap.Loc.LinkText[Unit]">linkText</a>, <a href="#481170" title="net.liftweb.sitemap.Menu.Menuable">able</a>.<a href="#480772" title="=&gt; List[net.liftweb.sitemap.Loc.LocParam[Unit]]">params</a><span class="delimiter">)</span>, <a href="#481170" title="net.liftweb.sitemap.Menu.Menuable">able</a>.<a href="#480773" title="=&gt; List[net.liftweb.sitemap.ConvertableToMenu]">submenus</a> :_*<span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * A DSL for building menus.
 */</span>
<span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait MenuSingleton extends java.lang.Object with ScalaObject" id="15325">MenuSingleton</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">import</span> <a href="#481251" title="object net.liftweb.sitemap.Menu">Menu</a>._

  <span class="comment">/**
   * A Menu can be created with the syntax &lt;pre&gt;Menu(&quot;Home&quot;) / &quot;index&quot;&lt;/pre&gt;
   * The first parameter is the LinkText which calculates how Links are presented.  The
   * parameter to Menu will be treated as call-by-name such that it is re-evaluated each time
   * the menu link is needed.  That means you can do &lt;pre&gt;Menu(S ? &quot;Home&quot;) / &quot;index&quot;&lt;/pre&gt;
   * and the menu link will be localized for each display.
   */</span>
  <span class="keyword">def</span> <a title="(linkText: net.liftweb.sitemap.Loc.LinkText[Unit])net.liftweb.sitemap.Menu.PreMenu" id="215812">apply</a><span class="delimiter">(</span><a title="net.liftweb.sitemap.Loc.LinkText[Unit]" id="215854">linkText</a>: Loc.<a href="Loc.scala.html#146642" title="net.liftweb.sitemap.Loc.LinkText[Unit]">LinkText</a><span class="delimiter">[</span>Unit<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#215834" title="net.liftweb.sitemap.Menu.PreMenu">PreMenu</a> = <a href="#15325" title="MenuSingleton.this.type" class="keyword">this</a>.<a href="#215813" title="(name: String, linkText: net.liftweb.sitemap.Loc.LinkText[Unit])net.liftweb.sitemap.Menu.PreMenu">apply</a><span class="delimiter">(</span><a href="../../../../util/net/liftweb/util/Helpers.scala.html#13346" title="object net.liftweb.util.Helpers">Helpers</a>.<a href="../../../../util/net/liftweb/util/StringHelpers.scala.html#48846" title="(size: Int)String">randomString</a><span class="delimiter">(</span><span title="Int(20)" class="int">20</span><span class="delimiter">)</span>, <a href="#215854" title="net.liftweb.sitemap.Loc.LinkText[Unit]">linkText</a><span class="delimiter">)</span>

  <span class="comment">/**
   * A Menu can be created with the syntax &lt;pre&gt;Menu(&quot;home_page&quot;, &quot;Home&quot;) / &quot;index&quot;&lt;/pre&gt;
   * The first parameter is the name of the page and the second is the LinkText which calculates how Links are presented.
   * The LinkText
   * parameter to Menu will be treated as call-by-name such that it is re-evaluated each time
   * the menu link is needed.  That means you can do &lt;pre&gt;Menu(&quot;home_page&quot;, S ? &quot;Home&quot;) / &quot;index&quot;&lt;/pre&gt;
   * and the menu link will be localized for each display.  You can look up a Menu item by
   * name as well as using the &amp;lt;lift:menu.item name=&quot;home_page&quot;&amp;gt; snippet.
   */</span>
  <span class="keyword">def</span> <a title="(name: String, linkText: net.liftweb.sitemap.Loc.LinkText[Unit])net.liftweb.sitemap.Menu.PreMenu" id="215813">apply</a><span class="delimiter">(</span><a title="String" id="215849">name</a>: <span title="String">String</span>,<a title="net.liftweb.sitemap.Loc.LinkText[Unit]" id="215850">linkText</a>: Loc.<a href="Loc.scala.html#146642" title="net.liftweb.sitemap.Loc.LinkText[Unit]">LinkText</a><span class="delimiter">[</span>Unit<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#215834" title="net.liftweb.sitemap.Menu.PreMenu">PreMenu</a> = <span title="net.liftweb.sitemap.Menu.PreMenu" class="keyword">new</span> <a href="#215834" title="net.liftweb.sitemap.Menu.PreMenu">PreMenu</a><span class="delimiter">(</span><a href="#215849" title="String">name</a>, <a href="#215850" title="net.liftweb.sitemap.Loc.LinkText[Unit]">linkText</a><span class="delimiter">)</span>

  <span class="comment">/**
   * A convenient way to define a Menu items that's got the same name as it does it's localized LinkText.
   * &lt;pre&gt;Menu.i(&quot;Home&quot;) / &quot;index&quot;&lt;/pre&gt; is short-hand for &lt;pre&gt;Menu(&quot;Home&quot;, S ? &quot;Home&quot;) / &quot;index&quot;&lt;/pre&gt;
   */</span>
  <span class="keyword">def</span> <a title="(nameAndLink: String)net.liftweb.sitemap.Menu.PreMenu" id="215814">i</a><span class="delimiter">(</span><a title="String" id="481256">nameAndLink</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#215834" title="net.liftweb.sitemap.Menu.PreMenu">PreMenu</a> = <a href="#481251" title="object net.liftweb.sitemap.Menu">Menu</a>.<a href="#215813" title="(name: String, linkText: net.liftweb.sitemap.Loc.LinkText[Unit])net.liftweb.sitemap.Menu.PreMenu">apply</a><span class="delimiter">(</span><a href="#481256" title="String">nameAndLink</a>, <a href="../http/S.scala.html#14641" title="object net.liftweb.http.S">S</a> <a href="Loc.scala.html#216088" title="(in: =&gt; String)net.liftweb.sitemap.Loc.LinkText[Unit]">?</a> <a href="#481256" title="String">nameAndLink</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="[T &lt;: AnyRef](name: String, linkText: net.liftweb.sitemap.Loc.LinkText[T], parser: String =&gt; net.liftweb.common.Box[T], encoder: T =&gt; String)net.liftweb.sitemap.Menu.PreParamMenu[T]" id="215815">param</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: AnyRef" id="215817">T</a>&lt;:AnyRef<span class="delimiter">]</span><span class="delimiter">(</span><a title="String" id="481268">name</a>: <span title="String">String</span>, <a title="net.liftweb.sitemap.Loc.LinkText[T]" id="481269">linkText</a>: Loc.<a href="Loc.scala.html#146642" title="net.liftweb.sitemap.Loc.LinkText[T]">LinkText</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="String =&gt; net.liftweb.common.Box[T]" id="481270">parser</a>: String =&gt; Box<span class="delimiter">[</span>T<span class="delimiter">]</span>,
               <a title="T =&gt; String" id="481271">encoder</a>: T =&gt; String<span class="delimiter">)</span>: <a href="#215822" title="net.liftweb.sitemap.Menu.PreParamMenu[T]">PreParamMenu</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =
    <span title="net.liftweb.sitemap.Menu.PreParamMenu[T]" class="keyword">new</span> <a href="#215822" title="net.liftweb.sitemap.Menu.PreParamMenu[T]">PreParamMenu</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">(</span><a href="#481268" title="String">name</a>, <a href="#481269" title="net.liftweb.sitemap.Loc.LinkText[T]">linkText</a>, <a href="#481270" title="String =&gt; net.liftweb.common.Box[T]">parser</a>, <a href="#481271" title="T =&gt; String">encoder</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="[T &lt;: AnyRef](name: String, linkText: net.liftweb.sitemap.Loc.LinkText[T], parser: List[String] =&gt; net.liftweb.common.Box[T], encoder: T =&gt; List[String])net.liftweb.sitemap.Menu.PreParamsMenu[T]" id="215818">params</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: AnyRef" id="215820">T</a>&lt;:AnyRef<span class="delimiter">]</span><span class="delimiter">(</span><a title="String" id="481281">name</a>: <span title="String">String</span>, <a title="net.liftweb.sitemap.Loc.LinkText[T]" id="481282">linkText</a>: Loc.<a href="Loc.scala.html#146642" title="net.liftweb.sitemap.Loc.LinkText[T]">LinkText</a><span class="delimiter">[</span>T<span class="delimiter">]</span>,
                <a title="List[String] =&gt; net.liftweb.common.Box[T]" id="481283">parser</a>: List<span class="delimiter">[</span>String<span class="delimiter">]</span> =&gt; Box<span class="delimiter">[</span>T<span class="delimiter">]</span>,
                <a title="T =&gt; List[String]" id="481284">encoder</a>: T =&gt; List<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#215828" title="net.liftweb.sitemap.Menu.PreParamsMenu[T]">PreParamsMenu</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =
    <span title="net.liftweb.sitemap.Menu.PreParamsMenu[T]" class="keyword">new</span> <a href="#215828" title="net.liftweb.sitemap.Menu.PreParamsMenu[T]">PreParamsMenu</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">(</span><a href="#481281" title="String">name</a>, <a href="#481282" title="net.liftweb.sitemap.Loc.LinkText[T]">linkText</a>, <a href="#481283" title="List[String] =&gt; net.liftweb.common.Box[T]">parser</a>, <a href="#481284" title="T =&gt; List[String]">encoder</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

case <span class="keyword">class</span> <a title="(x$0: net.liftweb.sitemap.Menu)Option[(net.liftweb.sitemap.Loc[_$3], Seq[net.liftweb.sitemap.ConvertableToMenu])] forSome { type _$3 }" id="482079">Menu</a><a href="#482079" title="ScalaObject" class="delimiter">(</a><a title="net.liftweb.sitemap.Loc[_]" id="479957">loc</a>: <a href="Loc.scala.html#15287" title="net.liftweb.sitemap.Loc[_]">Loc</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <span class="keyword">private</span> <span class="keyword">val</span> <a title="net.liftweb.sitemap.ConvertableToMenu*" id="482053">convertableKids</a>: <span title="net.liftweb.sitemap.ConvertableToMenu*">ConvertableToMenu</span>*<span class="delimiter">)</span> <span class="keyword">extends</span> <a href="SiteMap.scala.html#15347" title="net.liftweb.sitemap.HasKids">HasKids</a> <span class="keyword">with</span> <a href="#15307" title="net.liftweb.sitemap.ConvertableToMenu">ConvertableToMenu</a> <span class="delimiter">{</span>
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Seq[net.liftweb.sitemap.Menu]" id="148427">kids</a>: <span title="Seq[net.liftweb.sitemap.Menu]">Seq</span><span class="delimiter">[</span>Menu<span class="delimiter">]</span> = <a href="#482053" title="=&gt; net.liftweb.sitemap.ConvertableToMenu*">convertableKids</a>.<span title="(f: net.liftweb.sitemap.ConvertableToMenu =&gt; net.liftweb.sitemap.Menu)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[net.liftweb.sitemap.ConvertableToMenu],net.liftweb.sitemap.Menu,Seq[net.liftweb.sitemap.Menu]])Seq[net.liftweb.sitemap.Menu]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,net.liftweb.sitemap.Menu,Seq[net.liftweb.sitemap.Menu]]" class="delimiter">(</span><a href="#481329" title="net.liftweb.sitemap.ConvertableToMenu">_</a>.<a href="#148448" title="=&gt; net.liftweb.sitemap.Menu">toMenu</a><span class="delimiter">)</span>
  <span class="keyword">private</span><span class="delimiter">[</span>sitemap<span class="delimiter">]</span> <span class="keyword">var</span> <a title="net.liftweb.common.Box[net.liftweb.sitemap.HasKids]" id="148429">_parent</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.sitemap.HasKids]">Box</a><span class="delimiter">[</span>HasKids<span class="delimiter">]</span> = <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>
  <span class="keyword">private</span><span class="delimiter">[</span>sitemap<span class="delimiter">]</span> <span class="keyword">var</span> <a title="net.liftweb.sitemap.SiteMap" id="148432">siteMap</a>: <a href="SiteMap.scala.html#15342" title="net.liftweb.sitemap.SiteMap">SiteMap</a> = _

  <span class="keyword">private</span><span class="delimiter">[</span>sitemap<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(siteMap: net.liftweb.sitemap.SiteMap)Unit" id="148434">init</a><span class="delimiter">(</span><a title="net.liftweb.sitemap.SiteMap" id="481349">siteMap</a>: <a href="SiteMap.scala.html#15342" title="net.liftweb.sitemap.SiteMap">SiteMap</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#482079" title="Menu.this.type" class="keyword">this</a>.<a href="#148432" title="(x$1: net.liftweb.sitemap.SiteMap)Unit">siteMap</a> = <a href="#481349" title="net.liftweb.sitemap.SiteMap">siteMap</a>
    <a href="#148426" title="=&gt; Seq[net.liftweb.sitemap.Menu]">kids</a>.<span title="(f: net.liftweb.sitemap.Menu =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#481367" title="net.liftweb.sitemap.Menu">_</a>.<a href="#148429" title="(x$1: net.liftweb.common.Box[net.liftweb.sitemap.HasKids])Unit">_parent</a> = <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: net.liftweb.sitemap.Menu)net.liftweb.common.Full[net.liftweb.sitemap.Menu]">Full</a><span class="delimiter">(</span><a href="#482079" title="net.liftweb.sitemap.Menu" class="keyword">this</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#148426" title="=&gt; Seq[net.liftweb.sitemap.Menu]">kids</a>.<span title="(f: net.liftweb.sitemap.Menu =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#481381" title="net.liftweb.sitemap.Menu">_</a>.<a href="#148434" title="(siteMap: net.liftweb.sitemap.SiteMap)Unit">init</a><span class="delimiter">(</span><a href="#481349" title="net.liftweb.sitemap.SiteMap">siteMap</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#479957" title="=&gt; net.liftweb.sitemap.Loc[_]">loc</a>.<a href="Loc.scala.html#215938" title="(m: net.liftweb.sitemap.Menu)Unit">menu</a> = <a href="#482079" title="net.liftweb.sitemap.Menu" class="keyword">this</a>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Rebuild the menu by mutating the child menu items.
   * This mutation can be changing, adding or removing
   */</span>
  <span class="keyword">def</span> <a title="(f: List[net.liftweb.sitemap.Menu] =&gt; List[net.liftweb.sitemap.Menu])net.liftweb.sitemap.Menu" id="148435">rebuild</a><span class="delimiter">(</span><a title="List[net.liftweb.sitemap.Menu] =&gt; List[net.liftweb.sitemap.Menu]" id="229925">f</a>: List<span class="delimiter">[</span>Menu<span class="delimiter">]</span> =&gt; List<span class="delimiter">[</span>Menu<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#482079" title="net.liftweb.sitemap.Menu">Menu</a> = <a href="#482079" title="(loc: net.liftweb.sitemap.Loc[_], convertableKids: net.liftweb.sitemap.ConvertableToMenu*)net.liftweb.sitemap.Menu">Menu</a><span class="delimiter">(</span><a href="#479957" title="=&gt; net.liftweb.sitemap.Loc[_]">loc</a>, <a href="#229925" title="(v1: List[net.liftweb.sitemap.Menu])List[net.liftweb.sitemap.Menu]">f</a><span class="delimiter">(</span><a href="#148426" title="=&gt; Seq[net.liftweb.sitemap.Menu]">kids</a>.<span title="=&gt; List[net.liftweb.sitemap.Menu]">toList</span><span class="delimiter">)</span> :_*<span class="delimiter">)</span>

  <span class="keyword">private</span><span class="delimiter">[</span>sitemap<span class="delimiter">]</span> <span class="keyword">def</span> <a title="=&gt; Unit" id="148436">validate</a> <span class="delimiter">{</span>
    <a href="#148429" title="=&gt; net.liftweb.common.Box[net.liftweb.sitemap.HasKids]">_parent</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27031" title="(f: net.liftweb.sitemap.HasKids =&gt; Unit)Unit">foreach</a><span class="delimiter">(</span><a title="net.liftweb.sitemap.HasKids" id="481399">p</a> =&gt; <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#481399" title="net.liftweb.sitemap.HasKids">p</a>.<a href="SiteMap.scala.html#148417" title="=&gt; Boolean">isRoot_?</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">throw</span> <span title="net.liftweb.sitemap.SiteMapException" class="keyword">new</span> <a href="SiteMap.scala.html#15341" title="net.liftweb.sitemap.SiteMapException">SiteMapException</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Menu items with root location (\&quot;/\&quot;) cannot have children&quot;)" class="string">&quot;Menu items with root location (\&quot;/\&quot;) cannot have children&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#148426" title="=&gt; Seq[net.liftweb.sitemap.Menu]">kids</a>.<span title="(f: net.liftweb.sitemap.Menu =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#481417" title="net.liftweb.sitemap.Menu">_</a>.<a href="#148436" title="=&gt; Unit">validate</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span><span class="delimiter">[</span>sitemap<span class="delimiter">]</span> <span class="keyword">def</span> <a title="=&gt; Either[Boolean,net.liftweb.common.Box[() =&gt; net.liftweb.http.LiftResponse]]" id="148437">testParentAccess</a>: <span title="Either[Boolean,net.liftweb.common.Box[() =&gt; net.liftweb.http.LiftResponse]]">Either</span><span class="delimiter">[</span>Boolean, Box<span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; LiftResponse<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#148429" title="=&gt; net.liftweb.common.Box[net.liftweb.sitemap.HasKids]">_parent</a> <span title="Either[Boolean,net.liftweb.common.Box[() =&gt; net.liftweb.http.LiftResponse]]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Either[Boolean,net.liftweb.common.Box[() =&gt; net.liftweb.http.LiftResponse]]">Full</span><span class="delimiter">(</span><a title="net.liftweb.sitemap.HasKids" id="481420">p</a><span class="delimiter">)</span> =&gt; <a href="#481420" title="net.liftweb.sitemap.HasKids">p</a>.<a href="SiteMap.scala.html#148418" title="=&gt; Either[Boolean,net.liftweb.common.Box[() =&gt; net.liftweb.http.LiftResponse]]">testAccess</a>
    <span class="keyword">case</span> <span title="Left[Boolean,Nothing]">_</span> =&gt; <span title="(a: Boolean)Left[Boolean,Nothing]">Left</span><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">private</span><span class="delimiter">[</span>sitemap<span class="delimiter">]</span> <span class="keyword">def</span> <a title="=&gt; Either[Boolean,net.liftweb.common.Box[() =&gt; net.liftweb.http.LiftResponse]]" id="148438">testAccess</a>: <span title="Either[Boolean,net.liftweb.common.Box[() =&gt; net.liftweb.http.LiftResponse]]">Either</span><span class="delimiter">[</span>Boolean, Box<span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; LiftResponse<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#479957" title="=&gt; net.liftweb.sitemap.Loc[_]">loc</a>.<a href="Loc.scala.html#215923" title="=&gt; Either[Boolean,net.liftweb.common.Box[() =&gt; net.liftweb.http.LiftResponse]]">testAccess</a>

  <span class="keyword">def</span> <a title="=&gt; net.liftweb.sitemap.Menu" id="148439">toMenu</a> = <a href="#482079" title="net.liftweb.sitemap.Menu" class="keyword">this</a>

  <span class="keyword">def</span> <a title="(req: net.liftweb.http.Req)net.liftweb.common.Box[net.liftweb.sitemap.Loc[_]]" id="148440">findLoc</a><span class="delimiter">(</span><a title="net.liftweb.http.Req" id="481432">req</a>: <a href="../http/Req.scala.html#14573" title="net.liftweb.http.Req">Req</a><span class="delimiter">)</span>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.sitemap.Loc[_]]">Box</a><span class="delimiter">[</span>Loc<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span> =
  <span title="net.liftweb.common.Box[net.liftweb.sitemap.Loc[_]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#479957" title="=&gt; net.liftweb.sitemap.Loc[_]">loc</a>.<a href="Loc.scala.html#215941" title="(req: net.liftweb.http.Req)Boolean">doesMatch_?</a><span class="delimiter">(</span><a href="#481432" title="net.liftweb.http.Req">req</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: net.liftweb.sitemap.Loc[_$3])net.liftweb.common.Full[net.liftweb.sitemap.Loc[_$3]]">Full</a><span class="delimiter">(</span><a href="#479957" title="=&gt; net.liftweb.sitemap.Loc[_]">loc</a><span class="delimiter">)</span>
  <span class="keyword">else</span> <a href="../../../../util/net/liftweb/util/ListHelpers.scala.html#48877" title="(in: Seq[net.liftweb.sitemap.Menu])(_f: net.liftweb.sitemap.Menu =&gt; net.liftweb.common.Box[net.liftweb.sitemap.Loc[_]])net.liftweb.common.Box[net.liftweb.sitemap.Loc[_]]">first</a><span class="delimiter">(</span><a href="#148426" title="=&gt; Seq[net.liftweb.sitemap.Menu]">kids</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#481463" title="net.liftweb.sitemap.Menu">_</a>.<a href="#148440" title="(req: net.liftweb.http.Req)net.liftweb.common.Box[net.liftweb.sitemap.Loc[_]]">findLoc</a><span class="delimiter">(</span><a href="#481432" title="net.liftweb.http.Req">req</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(group: String)Seq[net.liftweb.sitemap.Loc[_]]" id="148441">locForGroup</a><span class="delimiter">(</span><a title="String" id="481476">group</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Seq[net.liftweb.sitemap.Loc[_]]">Seq</span><span class="delimiter">[</span>Loc<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span> =
  <span class="delimiter">(</span><span title="List[net.liftweb.sitemap.Loc[_]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#479957" title="=&gt; net.liftweb.sitemap.Loc[_]">loc</a>.<a href="Loc.scala.html#215953" title="(group: String)Boolean">inGroup_?</a><span class="delimiter">(</span><a href="#481476" title="String">group</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="[A](xs: A*)List[A]">List</span><span title="(xs: net.liftweb.sitemap.Loc[_]*)List[net.liftweb.sitemap.Loc[_]]" class="delimiter">[</span><a href="Loc.scala.html#15287" title="net.liftweb.sitemap.Loc[_]">Loc</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#479957" title="=&gt; net.liftweb.sitemap.Loc[_]">loc</a><span class="delimiter">)</span> <span class="keyword">else</span> <span title="object Nil">Nil</span><span class="delimiter">)</span> <span title="(that: scala.collection.GenTraversableOnce[net.liftweb.sitemap.Loc[_]])(implicit bf: scala.collection.generic.CanBuildFrom[List[net.liftweb.sitemap.Loc[_]],net.liftweb.sitemap.Loc[_],Seq[net.liftweb.sitemap.Loc[_]]])Seq[net.liftweb.sitemap.Loc[_]]">++</span>
  <a href="#148426" title="=&gt; Seq[net.liftweb.sitemap.Menu]">kids</a>.<span title="(f: net.liftweb.sitemap.Menu =&gt; scala.collection.GenTraversableOnce[net.liftweb.sitemap.Loc[_]])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[net.liftweb.sitemap.Menu],net.liftweb.sitemap.Loc[_],Seq[net.liftweb.sitemap.Loc[_]]])Seq[net.liftweb.sitemap.Loc[_]]">flatMap</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,net.liftweb.sitemap.Loc[_],Seq[net.liftweb.sitemap.Loc[_]]]" class="delimiter">(</span><a href="#481555" title="net.liftweb.sitemap.Menu">_</a>.<a href="#148441" title="(group: String)Seq[net.liftweb.sitemap.Loc[_]]">locForGroup</a><span class="delimiter">(</span><a href="#481476" title="String">group</a><span class="delimiter">)</span><span class="delimiter">)</span>


  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(pathAt: net.liftweb.sitemap.HasKids, actual: net.liftweb.sitemap.Menu, populate: List[net.liftweb.sitemap.MenuItem])List[net.liftweb.sitemap.MenuItem]" id="148442">buildUpperLines</a><span class="delimiter">(</span><a title="net.liftweb.sitemap.HasKids" id="476441">pathAt</a>: <a href="SiteMap.scala.html#15347" title="net.liftweb.sitemap.HasKids">HasKids</a>, <a title="net.liftweb.sitemap.Menu" id="476442">actual</a>: <a href="#482079" title="net.liftweb.sitemap.Menu">Menu</a>, <a title="List[net.liftweb.sitemap.MenuItem]" id="476443">populate</a>: <span title="List[net.liftweb.sitemap.MenuItem]">List</span><span class="delimiter">[</span>MenuItem<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[net.liftweb.sitemap.MenuItem]">List</span><span class="delimiter">[</span>MenuItem<span class="delimiter">]</span>
  = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="List[net.liftweb.sitemap.MenuItem]" id="481655">kids</a>: <span title="List[net.liftweb.sitemap.MenuItem]">List</span><span class="delimiter">[</span>MenuItem<span class="delimiter">]</span> =
    <a href="#148429" title="=&gt; net.liftweb.common.Box[net.liftweb.sitemap.HasKids]">_parent</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27051" title="=&gt; List[net.liftweb.sitemap.HasKids]">toList</a>.<span title="(f: net.liftweb.sitemap.HasKids =&gt; scala.collection.GenTraversableOnce[net.liftweb.sitemap.MenuItem])(implicit bf: scala.collection.generic.CanBuildFrom[List[net.liftweb.sitemap.HasKids],net.liftweb.sitemap.MenuItem,List[net.liftweb.sitemap.MenuItem]])List[net.liftweb.sitemap.MenuItem]">flatMap</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,net.liftweb.sitemap.MenuItem,List[net.liftweb.sitemap.MenuItem]]" class="delimiter">(</span><a href="#481679" title="net.liftweb.sitemap.HasKids">_</a>.<a href="SiteMap.scala.html#148415" title="=&gt; Seq[net.liftweb.sitemap.Menu]">kids</a>.<span title="=&gt; List[net.liftweb.sitemap.Menu]">toList</span>.<span title="(f: net.liftweb.sitemap.Menu =&gt; scala.collection.GenTraversableOnce[net.liftweb.sitemap.MenuItem])(implicit bf: scala.collection.generic.CanBuildFrom[List[net.liftweb.sitemap.Menu],net.liftweb.sitemap.MenuItem,List[net.liftweb.sitemap.MenuItem]])List[net.liftweb.sitemap.MenuItem]">flatMap</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,net.liftweb.sitemap.MenuItem,List[net.liftweb.sitemap.MenuItem]]" class="delimiter">(</span><a title="net.liftweb.sitemap.Menu" id="481700">m</a> =&gt; <a href="#481700" title="net.liftweb.sitemap.Menu">m</a>.<a href="#479957" title="=&gt; net.liftweb.sitemap.Loc[_]">loc</a>.<a href="Loc.scala.html#215946" title="(kids: List[net.liftweb.sitemap.MenuItem], current: Boolean, path: Boolean)net.liftweb.common.Box[net.liftweb.sitemap.MenuItem]">buildItem</a><a href="../../../../common/net/liftweb/common/Box.scala.html#28624" title="(in: net.liftweb.common.Box[net.liftweb.sitemap.MenuItem])Iterable[net.liftweb.sitemap.MenuItem]" class="delimiter">(</a><span title="List[net.liftweb.sitemap.MenuItem]" class="keyword">if</span> <span class="delimiter">(</span><a href="#481700" title="net.liftweb.sitemap.Menu">m</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#482079" title="net.liftweb.sitemap.Menu" class="keyword">this</a><span class="delimiter">)</span>
                                                                      <a href="#476443" title="List[net.liftweb.sitemap.MenuItem]">populate</a> <span class="keyword">else</span>
                                                                      <span title="object Nil">Nil</span>, <a href="#481700" title="net.liftweb.sitemap.Menu">m</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#476442" title="net.liftweb.sitemap.Menu">actual</a>, <a href="#481700" title="net.liftweb.sitemap.Menu">m</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#476441" title="net.liftweb.sitemap.HasKids">pathAt</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

    <a href="#148429" title="=&gt; net.liftweb.common.Box[net.liftweb.sitemap.HasKids]">_parent</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27051" title="=&gt; List[net.liftweb.sitemap.HasKids]">toList</a>.<span title="(f: net.liftweb.sitemap.HasKids =&gt; scala.collection.GenTraversableOnce[net.liftweb.sitemap.MenuItem])(implicit bf: scala.collection.generic.CanBuildFrom[List[net.liftweb.sitemap.HasKids],net.liftweb.sitemap.MenuItem,List[net.liftweb.sitemap.MenuItem]])List[net.liftweb.sitemap.MenuItem]">flatMap</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,net.liftweb.sitemap.MenuItem,List[net.liftweb.sitemap.MenuItem]]" class="delimiter">(</span><a title="net.liftweb.sitemap.HasKids" id="481823">p</a> =&gt; <a href="#481823" title="net.liftweb.sitemap.HasKids">p</a>.<a href="SiteMap.scala.html#148416" title="(pathAt: net.liftweb.sitemap.HasKids, actual: net.liftweb.sitemap.Menu, populate: List[net.liftweb.sitemap.MenuItem])List[net.liftweb.sitemap.MenuItem]">buildUpperLines</a><span class="delimiter">(</span><a href="#481823" title="net.liftweb.sitemap.HasKids">p</a>, <a href="#476442" title="net.liftweb.sitemap.Menu">actual</a>, <a href="#481655" title="List[net.liftweb.sitemap.MenuItem]">kids</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(path: List[net.liftweb.sitemap.Loc[_]])net.liftweb.common.Box[net.liftweb.sitemap.MenuItem]" id="148443">makeMenuItem</a><span class="delimiter">(</span><a title="List[net.liftweb.sitemap.Loc[_]]" id="481851">path</a>: <span title="List[net.liftweb.sitemap.Loc[_]]">List</span><span class="delimiter">[</span>Loc<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.sitemap.MenuItem]">Box</a><span class="delimiter">[</span>MenuItem<span class="delimiter">]</span> =
    <a href="#479957" title="=&gt; net.liftweb.sitemap.Loc[_]">loc</a>.<a href="Loc.scala.html#215946" title="(kids: List[net.liftweb.sitemap.MenuItem], current: Boolean, path: Boolean)net.liftweb.common.Box[net.liftweb.sitemap.MenuItem]">buildItem</a><span class="delimiter">(</span><a href="#148426" title="=&gt; Seq[net.liftweb.sitemap.Menu]">kids</a>.<span title="=&gt; List[net.liftweb.sitemap.Menu]">toList</span>.<span title="(f: net.liftweb.sitemap.Menu =&gt; scala.collection.GenTraversableOnce[net.liftweb.sitemap.MenuItem])(implicit bf: scala.collection.generic.CanBuildFrom[List[net.liftweb.sitemap.Menu],net.liftweb.sitemap.MenuItem,List[net.liftweb.sitemap.MenuItem]])List[net.liftweb.sitemap.MenuItem]">flatMap</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,net.liftweb.sitemap.MenuItem,List[net.liftweb.sitemap.MenuItem]]" class="delimiter">(</span><a href="#481876" title="net.liftweb.sitemap.Menu">_</a>.<a href="#148443" title="(path: List[net.liftweb.sitemap.Loc[_]])net.liftweb.common.Box[net.liftweb.sitemap.MenuItem]">makeMenuItem</a><a href="../../../../common/net/liftweb/common/Box.scala.html#28624" title="(in: net.liftweb.common.Box[net.liftweb.sitemap.MenuItem])Iterable[net.liftweb.sitemap.MenuItem]" class="delimiter">(</a><a href="#481851" title="List[net.liftweb.sitemap.Loc[_]]">path</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#481856" title="(prefix: List[net.liftweb.sitemap.MenuItem])List[net.liftweb.sitemap.MenuItem]">:::</a> <a href="#479957" title="=&gt; net.liftweb.sitemap.Loc[_]">loc</a>.<a href="Loc.scala.html#215944" title="=&gt; List[net.liftweb.sitemap.MenuItem]">supplimentalKidMenuItems</a>, <a href="#148446" title="(path: List[net.liftweb.sitemap.Loc[_]])Boolean">_lastInPath</a><span class="delimiter">(</span><a href="#481851" title="List[net.liftweb.sitemap.Loc[_]]">path</a><span class="delimiter">)</span>, <a href="#148445" title="(in: List[net.liftweb.sitemap.Loc[_]])Boolean">_inPath</a><span class="delimiter">(</span><a href="#481851" title="List[net.liftweb.sitemap.Loc[_]]">path</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Make a menu item only of the current loc is in the given group
   */</span>
  <span class="keyword">def</span> <a title="(path: List[net.liftweb.sitemap.Loc[_]], group: String)net.liftweb.common.Box[net.liftweb.sitemap.MenuItem]" id="148444">makeMenuItem</a><span class="delimiter">(</span><a title="List[net.liftweb.sitemap.Loc[_]]" id="481879">path</a>: <span title="List[net.liftweb.sitemap.Loc[_]]">List</span><span class="delimiter">[</span>Loc<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="String" id="481880">group</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.sitemap.MenuItem]">Box</a><span class="delimiter">[</span>MenuItem<span class="delimiter">]</span> =
    <span title="net.liftweb.common.Box[net.liftweb.sitemap.MenuItem]" class="keyword">if</span> <span class="delimiter">(</span><a href="#479957" title="=&gt; net.liftweb.sitemap.Loc[_]">loc</a>.<a href="Loc.scala.html#215953" title="(group: String)Boolean">inGroup_?</a><span class="delimiter">(</span><a href="#481880" title="String">group</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#148443" title="(path: List[net.liftweb.sitemap.Loc[_]])net.liftweb.common.Box[net.liftweb.sitemap.MenuItem]">makeMenuItem</a><span class="delimiter">(</span><a href="#481879" title="List[net.liftweb.sitemap.Loc[_]]">path</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(in: List[net.liftweb.sitemap.Loc[_]])Boolean" id="148445">_inPath</a><span class="delimiter">(</span><a title="List[net.liftweb.sitemap.Loc[_]]" id="481998">in</a>: <span title="List[net.liftweb.sitemap.Loc[_]]">List</span><span class="delimiter">[</span>Loc<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#481998" title="List[net.liftweb.sitemap.Loc[_]]">in</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Boolean(false)">Nil</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">case</span> <a title="Boolean(true)" id="482019">x</a> :: <a title="List[net.liftweb.sitemap.Loc[_]]" id="482027">xs</a> <span class="keyword">if</span> <a href="#482019" title="net.liftweb.sitemap.Loc[_]">x</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#479957" title="=&gt; net.liftweb.sitemap.Loc[_]">loc</a> =&gt; <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">case</span> <a title="Boolean" id="482033">x</a> :: <a title="List[net.liftweb.sitemap.Loc[_]]" id="482041">xs</a> =&gt; <a href="#148445" title="(in: List[net.liftweb.sitemap.Loc[_]])Boolean">_inPath</a><span class="delimiter">(</span><a href="#482041" title="List[net.liftweb.sitemap.Loc[_]]">xs</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(path: List[net.liftweb.sitemap.Loc[_]])Boolean" id="148446">_lastInPath</a><span class="delimiter">(</span><a title="List[net.liftweb.sitemap.Loc[_]]" id="481992">path</a>: <span title="List[net.liftweb.sitemap.Loc[_]]">List</span><span class="delimiter">[</span>Loc<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#481992" title="List[net.liftweb.sitemap.Loc[_]]">path</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Boolean(false)">Nil</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">case</span> <a title="Boolean" id="482044">xs</a> =&gt; <a href="#482044" title="List[net.liftweb.sitemap.Loc[_]]">xs</a>.<span title="=&gt; net.liftweb.sitemap.Loc[_]">last</span> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#479957" title="=&gt; net.liftweb.sitemap.Loc[_]">loc</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; List[net.liftweb.sitemap.Loc[_]]" id="148447">breadCrumbs</a>: <span title="List[net.liftweb.sitemap.Loc[_]]">List</span><span class="delimiter">[</span>Loc<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#148429" title="=&gt; net.liftweb.common.Box[net.liftweb.sitemap.HasKids]">_parent</a> <span title="List[net.liftweb.sitemap.Loc[_]]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="List[net.liftweb.sitemap.Loc[_]]">Full</span><span class="delimiter">(</span><a title="net.liftweb.sitemap.Menu" id="482049">m</a>: <a href="#482079" title="net.liftweb.sitemap.Menu">Menu</a><span class="delimiter">)</span> =&gt; <a href="#482049" title="net.liftweb.sitemap.Menu">m</a>.<a href="#479957" title="=&gt; net.liftweb.sitemap.Loc[_]">loc</a>.<a href="Loc.scala.html#215942" title="=&gt; List[net.liftweb.sitemap.Loc[_]]">breadCrumbs</a>
    <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">_</span> =&gt; <span title="object Nil">Nil</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">final</span> <span class="keyword">class</span> <a title="class ParamLocLink[T] extends net.liftweb.sitemap.Loc.Link[T] with ScalaObject" id="15327">ParamLocLink</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="15328">T</a><span class="delimiter">]</span><a href="#15327" title="ScalaObject" class="delimiter">(</a><a title="List[net.liftweb.sitemap.LocPath]" id="480418">path</a>: <span title="List[net.liftweb.sitemap.LocPath]">List</span><span class="delimiter">[</span>LocPath<span class="delimiter">]</span>, <a title="Boolean" id="480419">headMatch</a>: <span title="Boolean">Boolean</span>, <a title="T =&gt; List[String]" id="480420">backToList</a>: T =&gt; List<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> Loc.<a href="Loc.scala.html#146646" title="net.liftweb.sitemap.Loc.Link[T]">Link</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">(</span><a href="#480418" title="List[net.liftweb.sitemap.LocPath]">path</a>.<span title="(f: net.liftweb.sitemap.LocPath =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[net.liftweb.sitemap.LocPath],String,List[String]])List[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,String,List[String]]" class="delimiter">(</span><a href="#482103" title="net.liftweb.sitemap.LocPath">_</a>.<a href="#479866" title="=&gt; String">pathItem</a><span class="delimiter">)</span>, <a href="#480419" title="Boolean">headMatch</a><span class="delimiter">)</span> <span class="delimiter">{</span>

  @tailrec
  <span class="keyword">def</span> <a title="(toTest: List[String], path: List[net.liftweb.sitemap.LocPath])Boolean" id="480415">test</a><span class="delimiter">(</span><a title="List[String]" id="482132">toTest</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span>, <a title="List[net.liftweb.sitemap.LocPath]" id="482133">path</a>: <span title="List[net.liftweb.sitemap.LocPath]">List</span><span class="delimiter">[</span>LocPath<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
    <span title="(_1: List[String], _2: List[net.liftweb.sitemap.LocPath])(List[String], List[net.liftweb.sitemap.LocPath])" class="delimiter">(</span><a href="#482132" title="List[String]">toTest</a>, <a href="#482133" title="List[net.liftweb.sitemap.LocPath]">path</a><span class="delimiter">)</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean(true)" class="delimiter">(</span><span title="object Nil">Nil</span>, <span title="object Nil">Nil</span><span class="delimiter">)</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>
      <span class="keyword">case</span> <span title="Boolean(false)" class="delimiter">(</span><span title="object Nil">Nil</span>, _<span class="delimiter">)</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
      <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span>_, <span title="object Nil">Nil</span><span class="delimiter">)</span> =&gt; <a href="Loc.scala.html#215997" title="=&gt; Boolean">matchHead_?</a>
      <span class="keyword">case</span> <span title="Boolean(false)" class="delimiter">(</span><a title="String" id="482153">str</a> :: _, NormalLocPath<span class="delimiter">(</span><a title="String" id="482158">p</a><span class="delimiter">)</span> :: _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#482153" title="String">str</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#482158" title="String">p</a> =&gt; <span title="Boolean(false)" class="keyword">false</span>
      <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span>_ :: <a title="List[String]" id="482169">ts</a>, <a href="#479903" title="object net.liftweb.sitemap.*">*</a> :: <a title="List[net.liftweb.sitemap.LocPath]" id="482174">ps</a><span class="delimiter">)</span> =&gt; <a href="#480415" title="(toTest: List[String], path: List[net.liftweb.sitemap.LocPath])Boolean">test</a><span class="delimiter">(</span><a href="#482169" title="List[String]">ts</a>, <a href="#482174" title="List[net.liftweb.sitemap.LocPath]">ps</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span>_ :: <a title="List[String]" id="482181">ts</a>, _ :: <a title="List[net.liftweb.sitemap.LocPath]" id="482186">ps</a><span class="delimiter">)</span> =&gt; <a href="#480415" title="(toTest: List[String], path: List[net.liftweb.sitemap.LocPath])Boolean">test</a><span class="delimiter">(</span><a href="#482181" title="List[String]">ts</a>, <a href="#482186" title="List[net.liftweb.sitemap.LocPath]">ps</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(req: net.liftweb.http.Req)Boolean" id="480416">isDefinedAt</a><span class="delimiter">(</span><a title="net.liftweb.http.Req" id="482187">req</a>: <a href="../http/Req.scala.html#14573" title="net.liftweb.http.Req">Req</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
    <a href="#480415" title="(toTest: List[String], path: List[net.liftweb.sitemap.LocPath])Boolean">test</a><span class="delimiter">(</span><a href="#482187" title="net.liftweb.http.Req">req</a>.<a href="../http/Req.scala.html#149137" title="=&gt; net.liftweb.http.ParsePath">path</a>.<a href="../http/Req.scala.html#216847" title="=&gt; List[String]">partPath</a>, <a href="#480418" title="List[net.liftweb.sitemap.LocPath]">path</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Override this method to modify the uriList with data from the Loc's value
   */</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(value: T)List[String]" id="480417">pathList</a><span class="delimiter">(</span><a title="T" id="482192">value</a>: <a href="#15328" title="T">T</a><span class="delimiter">)</span>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">import</span> scala.collection.mutable.ListBuffer
    <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[String]" id="482196">ret</a> = <span title="scala.collection.mutable.ListBuffer[String]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[String]">ListBuffer</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
    
    @tailrec
    <span class="keyword">def</span> <a title="(path: List[net.liftweb.sitemap.LocPath], params: List[String])Unit" id="482197">merge</a><span class="delimiter">(</span><a title="List[net.liftweb.sitemap.LocPath]" id="482198">path</a>: <span title="List[net.liftweb.sitemap.LocPath]">List</span><span class="delimiter">[</span>LocPath<span class="delimiter">]</span>, <a title="List[String]" id="482199">params</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="(_1: List[net.liftweb.sitemap.LocPath], _2: List[String])(List[net.liftweb.sitemap.LocPath], List[String])" class="delimiter">(</span><a href="#482198" title="List[net.liftweb.sitemap.LocPath]">path</a>, <a href="#482199" title="List[String]">params</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><span title="object Nil">Nil</span>, <a title="List[String]" id="482208">p</a><span class="delimiter">)</span> =&gt; <a href="#482196" title="scala.collection.mutable.ListBuffer[String]">ret</a> <span title="(xs: scala.collection.TraversableOnce[String])ret.type">++=</span> <a href="#482208" title="List[String]">p</a>
        <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="#479903" title="object net.liftweb.sitemap.*">*</a> :: <a title="List[net.liftweb.sitemap.LocPath]" id="482222">ps</a>, <span title="object Nil">Nil</span><span class="delimiter">)</span> =&gt; <a href="#482196" title="scala.collection.mutable.ListBuffer[String]">ret</a> <span title="(x: String)ret.type">+=</span> <span title="java.lang.String(&quot;?&quot;)" class="string">&quot;?&quot;</span> ; <a href="#482197" title="(path: List[net.liftweb.sitemap.LocPath], params: List[String])Unit">merge</a><span class="delimiter">(</span><a href="#482222" title="List[net.liftweb.sitemap.LocPath]">ps</a>, <span title="object Nil">Nil</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="#479903" title="object net.liftweb.sitemap.*">*</a> :: <a title="List[net.liftweb.sitemap.LocPath]" id="482238">ps</a>, <a title="String" id="482243">r</a> :: <a title="List[String]" id="482244">rs</a><span class="delimiter">)</span> =&gt; <a href="#482196" title="scala.collection.mutable.ListBuffer[String]">ret</a> <span title="(x: String)ret.type">+=</span> <a href="#482243" title="String">r</a> ; <a href="#482197" title="(path: List[net.liftweb.sitemap.LocPath], params: List[String])Unit">merge</a><span class="delimiter">(</span><a href="#482238" title="List[net.liftweb.sitemap.LocPath]">ps</a>, <a href="#482244" title="List[String]">rs</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span>NormalLocPath<span class="delimiter">(</span><a title="String" id="482253">p</a><span class="delimiter">)</span> :: <a title="List[net.liftweb.sitemap.LocPath]" id="482254">ps</a>, <a title="List[String]" id="482255">rs</a><span class="delimiter">)</span> =&gt;
          <a href="#482196" title="scala.collection.mutable.ListBuffer[String]">ret</a> <span title="(x: String)ret.type">+=</span> <a href="#482253" title="String">p</a> ; <a href="#482197" title="(path: List[net.liftweb.sitemap.LocPath], params: List[String])Unit">merge</a><span class="delimiter">(</span><a href="#482254" title="List[net.liftweb.sitemap.LocPath]">ps</a>, <a href="#482255" title="List[String]">rs</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <a href="#482197" title="(path: List[net.liftweb.sitemap.LocPath], params: List[String])Unit">merge</a><span class="delimiter">(</span><a href="#480418" title="List[net.liftweb.sitemap.LocPath]">path</a>, <a href="#480420" title="(v1: T)List[String]">backToList</a><span class="delimiter">(</span><a href="#482192" title="T">value</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <a href="#482196" title="scala.collection.mutable.ListBuffer[String]">ret</a>.<span title="=&gt; List[String]">toList</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>