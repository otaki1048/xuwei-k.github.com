<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>webkit/net/liftweb/mockweb/WebSpec.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*
 * Copyright 2011 WorldWide Conferencing, LLC
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */</span>
<span class="keyword">package</span> net.liftweb
<span class="keyword">package</span> mockweb

<span class="keyword">import</span> javax.servlet.http.HttpServletRequest

<span class="keyword">import</span> scala.xml.NodeSeq

<span class="keyword">import</span> org.specs._

<span class="keyword">import</span> common.<span class="delimiter">{</span>Box,Empty,Full<span class="delimiter">}</span>
<span class="keyword">import</span> http._
<span class="keyword">import</span> json.<a href="../../../../json/net/liftweb/json/JsonAST.scala.html#11132" title="object net.liftweb.json.JsonAST">JsonAST</a>._
<span class="keyword">import</span> mocks.MockHttpServletRequest
<span class="keyword">import</span> specification.Example


<span class="comment">/**
 * This trait provides Lift-specific extensions to the Specification
 * base trait to simplify unit testing of your code. In addition to
 * the Scaladoc, Please see the
 * source to WebSpecSpec.scala for an example of how to use this. This class
 * allows you to optionally configure LiftRules for your spec. LiftRules rules
 * are always used, so if you don't want that to happen you can just use MockWeb directly
 * in your own custom spec and simply omit any LiftRules setup.
 *
 * @param boot defines a method that is called prior to
 * testing to set up the Lift environment. This is where you'll
 * initialize LiftRules, Mapper, etc. The simplest approach
 * is to just point this at your Boostrap.boot method.
 */</span>
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class WebSpec extends org.specs.Specification with ScalaObject" id="15274">WebSpec</a><a href="#15274" title="ScalaObject" class="delimiter">(</a><a title="() =&gt; Any" id="472617">boot</a> : <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Any = <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span title="Unit" class="delimiter">{</span><span class="delimiter">}</span><span class="delimiter">)</span> <span class="keyword">extends</span> <span title="org.specs.Specification">Specification</span> <span class="delimiter">{</span>
  <span class="comment">/**
   * This is our private spec instance of Liftrules. Everything we run will
   * use this instance instead of the global instance
   */</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="net.liftweb.http.LiftRules" id="467530">liftRules</a> = <span title="net.liftweb.http.LiftRules" class="keyword">new</span> <a href="../http/LiftRules.scala.html#14378" title="net.liftweb.http.LiftRules">LiftRules</a><span class="delimiter">(</span><span class="delimiter">)</span>

  <a href="../http/LiftRules.scala.html#14371" title="object net.liftweb.http.LiftRulesMocker">LiftRulesMocker</a>.<a href="../http/LiftRules.scala.html#158818" title="object net.liftweb.http.LiftRulesMocker.devTestLiftRulesInstance">devTestLiftRulesInstance</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51274" title="(x: net.liftweb.http.LiftRules)(f: =&gt; Any)Any">doWith</a><span class="delimiter">(</span><a href="#467530" title="=&gt; net.liftweb.http.LiftRules">liftRules</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#472617" title="()Any">boot</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * A class that bridges between the description string
   * and classes that provide the Lift-specific wrapping
   * of the Expectation code. The method names here
   * should be self-explanatory. For methods that take a
   * Box[LiftSession], an Empty Box will result in the
   * creation of a new Session.
   */</span>
  <span class="keyword">class</span> <a title="class WebSpecBridge extends java.lang.Object with ScalaObject" id="467532">WebSpecBridge</a> <a href="#467532" title="ScalaObject" class="delimiter">(</a><a title="String" id="472883">description</a> : <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(url: String, session: net.liftweb.common.Box[net.liftweb.http.LiftSession], contextPath: String)WebSpec.this.SessionSpecification" id="472869">withSFor</a> <span class="delimiter">(</span><a title="String" id="472884">url</a> : <span title="String">String</span>, <a title="net.liftweb.common.Box[net.liftweb.http.LiftSession]" id="472889">session</a> : <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.http.LiftSession]">Box</a><span class="delimiter">[</span>LiftSession<span class="delimiter">]</span> = <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>, <a title="String" id="472890">contextPath</a> : <span title="String">String</span> = <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> =
      <a href="#472909" title="(description: String, url: String, session: net.liftweb.common.Box[net.liftweb.http.LiftSession], contextPath: String)WebSpec.this.SessionSpecification" class="keyword">new</a> <a href="#467536" title="WebSpec.this.SessionSpecification">SessionSpecification</a><span class="delimiter">(</span><a href="#472883" title="String">description</a>, <a href="#472884" title="String">url</a>, <a href="#472889" title="net.liftweb.common.Box[net.liftweb.http.LiftSession]">session</a>, <a href="#472890" title="String">contextPath</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(url: String, session: net.liftweb.http.LiftSession)WebSpec.this.SessionSpecification" id="472870">withSFor</a> <span class="delimiter">(</span><a title="String" id="472922">url</a> : <span title="String">String</span>, <a title="net.liftweb.http.LiftSession" id="472923">session</a> : <a href="../http/LiftSession.scala.html#14496" title="net.liftweb.http.LiftSession">LiftSession</a><span class="delimiter">)</span> : <a href="#467536" title="WebSpec.this.SessionSpecification">SessionSpecification</a> =
      <a href="#472909" title="(description: String, url: String, session: net.liftweb.common.Box[net.liftweb.http.LiftSession], contextPath: String)WebSpec.this.SessionSpecification" class="keyword">new</a> <a href="#467536" title="WebSpec.this.SessionSpecification">SessionSpecification</a><span class="delimiter">(</span><a href="#472883" title="String">description</a>, <a href="#472922" title="String">url</a>, <a href="../../../../common/net/liftweb/common/Box.scala.html#10572" title="object net.liftweb.common.Box">Box</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#28636" title="(in: net.liftweb.http.LiftSession)net.liftweb.common.Box[net.liftweb.http.LiftSession]">!!</a><span class="delimiter">(</span><a href="#472923" title="net.liftweb.http.LiftSession">session</a><span class="delimiter">)</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(req: javax.servlet.http.HttpServletRequest)WebSpec.this.SessionSpecification" id="472871">withSFor</a> <span class="delimiter">(</span><a title="javax.servlet.http.HttpServletRequest" id="472930">req</a> : <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span><span class="delimiter">)</span> =
      <span title="WebSpec.this.SessionSpecification" class="keyword">new</span> <a href="#467536" title="WebSpec.this.SessionSpecification">SessionSpecification</a><span class="delimiter">(</span><a href="#472883" title="String">description</a>, <a href="#472930" title="javax.servlet.http.HttpServletRequest">req</a>, <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(req: javax.servlet.http.HttpServletRequest, session: net.liftweb.common.Box[net.liftweb.http.LiftSession])WebSpec.this.SessionSpecification" id="472872">withSFor</a> <span class="delimiter">(</span><a title="javax.servlet.http.HttpServletRequest" id="472935">req</a> : <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span>, <a title="net.liftweb.common.Box[net.liftweb.http.LiftSession]" id="472936">session</a> : <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.http.LiftSession]">Box</a><span class="delimiter">[</span>LiftSession<span class="delimiter">]</span><span class="delimiter">)</span>  =
      <span title="WebSpec.this.SessionSpecification" class="keyword">new</span> <a href="#467536" title="WebSpec.this.SessionSpecification">SessionSpecification</a><span class="delimiter">(</span><a href="#472883" title="String">description</a>, <a href="#472935" title="javax.servlet.http.HttpServletRequest">req</a>, <a href="#472936" title="net.liftweb.common.Box[net.liftweb.http.LiftSession]">session</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(req: javax.servlet.http.HttpServletRequest, session: net.liftweb.http.LiftSession)WebSpec.this.SessionSpecification" id="472873">withSFor</a> <span class="delimiter">(</span><a title="javax.servlet.http.HttpServletRequest" id="472941">req</a> : <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span>, <a title="net.liftweb.http.LiftSession" id="472942">session</a> : <a href="../http/LiftSession.scala.html#14496" title="net.liftweb.http.LiftSession">LiftSession</a><span class="delimiter">)</span> =
      <span title="WebSpec.this.SessionSpecification" class="keyword">new</span> <a href="#467536" title="WebSpec.this.SessionSpecification">SessionSpecification</a><span class="delimiter">(</span><a href="#472883" title="String">description</a>, <a href="#472941" title="javax.servlet.http.HttpServletRequest">req</a>, <a href="../../../../common/net/liftweb/common/Box.scala.html#10572" title="object net.liftweb.common.Box">Box</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#28636" title="(in: net.liftweb.http.LiftSession)net.liftweb.common.Box[net.liftweb.http.LiftSession]">!!</a><span class="delimiter">(</span><a href="#472942" title="net.liftweb.http.LiftSession">session</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(url: String, contextPath: String)WebSpec.this.ReqSpecification" id="472874">withReqFor</a> <span class="delimiter">(</span><a title="String" id="472950">url</a> : <span title="String">String</span>, <a title="String" id="472954">contextPath</a> : <span title="String">String</span> = <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> =
      <a href="#472961" title="(description: String, url: String, contextPath: String)WebSpec.this.ReqSpecification" class="keyword">new</a> <a href="#467537" title="WebSpec.this.ReqSpecification">ReqSpecification</a><span class="delimiter">(</span><a href="#472883" title="String">description</a>, <a href="#472950" title="String">url</a>, <a href="#472954" title="String">contextPath</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(req: javax.servlet.http.HttpServletRequest)WebSpec.this.ReqSpecification" id="472875">withReqFor</a> <span class="delimiter">(</span><a title="javax.servlet.http.HttpServletRequest" id="472972">req</a> : <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span><span class="delimiter">)</span> = 
      <span title="WebSpec.this.ReqSpecification" class="keyword">new</span> <a href="#467537" title="WebSpec.this.ReqSpecification">ReqSpecification</a><span class="delimiter">(</span><a href="#472883" title="String">description</a>, <a href="#472972" title="javax.servlet.http.HttpServletRequest">req</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(url: String, session: net.liftweb.common.Box[net.liftweb.http.LiftSession], contextPath: String)WebSpec.this.TemplateSpecification" id="472876">withTemplateFor</a> <span class="delimiter">(</span><a title="String" id="472977">url</a> : <span title="String">String</span>, <a title="net.liftweb.common.Box[net.liftweb.http.LiftSession]" id="472982">session</a> : <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.http.LiftSession]">Box</a><span class="delimiter">[</span>LiftSession<span class="delimiter">]</span> = <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>, <a title="String" id="472983">contextPath</a> : <span title="String">String</span> = <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> =
      <a href="#472992" title="(description: String, url: String, session: net.liftweb.common.Box[net.liftweb.http.LiftSession], contextPath: String)WebSpec.this.TemplateSpecification" class="keyword">new</a> <a href="#467538" title="WebSpec.this.TemplateSpecification">TemplateSpecification</a><span class="delimiter">(</span><a href="#472883" title="String">description</a>, <a href="#472977" title="String">url</a>, <a href="#472982" title="net.liftweb.common.Box[net.liftweb.http.LiftSession]">session</a>, <a href="#472983" title="String">contextPath</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(url: String, session: net.liftweb.http.LiftSession)WebSpec.this.TemplateSpecification" id="472877">withTemplateFor</a> <span class="delimiter">(</span><a title="String" id="473005">url</a> : <span title="String">String</span>, <a title="net.liftweb.http.LiftSession" id="473006">session</a> : <a href="../http/LiftSession.scala.html#14496" title="net.liftweb.http.LiftSession">LiftSession</a><span class="delimiter">)</span> =
      <a href="#472992" title="(description: String, url: String, session: net.liftweb.common.Box[net.liftweb.http.LiftSession], contextPath: String)WebSpec.this.TemplateSpecification" class="keyword">new</a> <a href="#467538" title="WebSpec.this.TemplateSpecification">TemplateSpecification</a><span class="delimiter">(</span><a href="#472883" title="String">description</a>, <a href="#473005" title="String">url</a>, <a href="../../../../common/net/liftweb/common/Box.scala.html#10572" title="object net.liftweb.common.Box">Box</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#28636" title="(in: net.liftweb.http.LiftSession)net.liftweb.common.Box[net.liftweb.http.LiftSession]">!!</a><span class="delimiter">(</span><a href="#473006" title="net.liftweb.http.LiftSession">session</a><span class="delimiter">)</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(req: javax.servlet.http.HttpServletRequest)WebSpec.this.TemplateSpecification" id="472878">withTemplateFor</a> <span class="delimiter">(</span><a title="javax.servlet.http.HttpServletRequest" id="473014">req</a> : <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span><span class="delimiter">)</span> =
      <span title="WebSpec.this.TemplateSpecification" class="keyword">new</span> <a href="#467538" title="WebSpec.this.TemplateSpecification">TemplateSpecification</a><span class="delimiter">(</span><a href="#472883" title="String">description</a>, <a href="#473014" title="javax.servlet.http.HttpServletRequest">req</a>, <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(req: javax.servlet.http.HttpServletRequest, session: net.liftweb.common.Box[net.liftweb.http.LiftSession])WebSpec.this.TemplateSpecification" id="472879">withTemplateFor</a> <span class="delimiter">(</span><a title="javax.servlet.http.HttpServletRequest" id="473019">req</a> : <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span>, <a title="net.liftweb.common.Box[net.liftweb.http.LiftSession]" id="473020">session</a> : <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.http.LiftSession]">Box</a><span class="delimiter">[</span>LiftSession<span class="delimiter">]</span><span class="delimiter">)</span>  =
      <span title="WebSpec.this.TemplateSpecification" class="keyword">new</span> <a href="#467538" title="WebSpec.this.TemplateSpecification">TemplateSpecification</a><span class="delimiter">(</span><a href="#472883" title="String">description</a>, <a href="#473019" title="javax.servlet.http.HttpServletRequest">req</a>, <a href="#473020" title="net.liftweb.common.Box[net.liftweb.http.LiftSession]">session</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(req: javax.servlet.http.HttpServletRequest, session: net.liftweb.http.LiftSession)WebSpec.this.TemplateSpecification" id="472880">withTemplateFor</a> <span class="delimiter">(</span><a title="javax.servlet.http.HttpServletRequest" id="473025">req</a> : <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span>, <a title="net.liftweb.http.LiftSession" id="473026">session</a> : <a href="../http/LiftSession.scala.html#14496" title="net.liftweb.http.LiftSession">LiftSession</a><span class="delimiter">)</span> =
      <span title="WebSpec.this.TemplateSpecification" class="keyword">new</span> <a href="#467538" title="WebSpec.this.TemplateSpecification">TemplateSpecification</a><span class="delimiter">(</span><a href="#472883" title="String">description</a>, <a href="#473025" title="javax.servlet.http.HttpServletRequest">req</a>, <a href="../../../../common/net/liftweb/common/Box.scala.html#10572" title="object net.liftweb.common.Box">Box</a>.<a href="../../../../common/net/liftweb/common/Box.scala.html#28636" title="(in: net.liftweb.http.LiftSession)net.liftweb.common.Box[net.liftweb.http.LiftSession]">!!</a><span class="delimiter">(</span><a href="#473026" title="net.liftweb.http.LiftSession">session</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Converts a String description into a WebSpecBridge that can
   * then be used to set up either an S or Req instance.
   */</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit net.liftweb.mockweb.WebSpec.strToWebSpecBridge : (description: String)WebSpec.this.WebSpecBridge" id="467533">strToWebSpecBridge</a> <span class="delimiter">(</span><a title="String" id="473044">description</a> : <span title="String">String</span><span class="delimiter">)</span> =
    <span title="WebSpec.this.WebSpecBridge" class="keyword">new</span> <a href="#467532" title="WebSpec.this.WebSpecBridge">WebSpecBridge</a><span class="delimiter">(</span><a href="#473044" title="String">description</a><span class="delimiter">)</span>

  <span class="comment">/**
   * A comon trait to provide utility methods for mutating the
   * underlying HttpServletRequest.
   */</span>
  <span class="keyword">trait</span> <a title="trait ModifiableRequest[T &lt;: WebSpec.this.ModifiableRequest[T]] extends java.lang.Object with ScalaObject" id="467534">ModifiableRequest</a> <span class="delimiter">[</span><a title="&gt;: Nothing &lt;: WebSpec.this.ModifiableRequest[T]" id="467535">T</a> &lt;: ModifiableRequest<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span> <span title="ScalaObject" class="delimiter">{</span>
    <span class="comment">// Make sure that our return values are for the supertype, not ModifiableRequest</span>
    self : T =&gt;

    <span class="keyword">val</span> <a title="=&gt; javax.servlet.http.HttpServletRequest" id="472893">req</a> : <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span>

    <span class="comment">/**
     * Modifies the request to POST the given request body text. Optionally,
     * you can set the content type (defaults to &quot;text/plain&quot;)
     */</span>
    <span class="keyword">def</span> <a title="(text: String, contentType: String)T" id="472894">withPost</a> <span class="delimiter">(</span><a title="String" id="473049">text</a> : <span title="String">String</span>, <a title="String" id="473052">contentType</a> : <span title="String">String</span> = <span title="java.lang.String(&quot;text/plain&quot;)" class="string">&quot;text/plain&quot;</span><span class="delimiter">)</span> : <a href="#467535" title="T">T</a> =
      <a href="#472900" title="(f: net.liftweb.mocks.MockHttpServletRequest =&gt; Unit)T">withMods</a> <span class="delimiter">{</span> <a title="net.liftweb.mocks.MockHttpServletRequest" id="473056">mockReq</a> =&gt;
        <a href="#473056" title="net.liftweb.mocks.MockHttpServletRequest">mockReq</a>.<a href="../../../../testkit/net/liftweb/mocks/MockHttpServletRequest.scala.html#264521" title="(s: String)Unit">body</a> = <a href="#473049" title="String">text</a>
        <a href="#473056" title="net.liftweb.mocks.MockHttpServletRequest">mockReq</a>.<a href="../../../../testkit/net/liftweb/mocks/MockHttpServletRequest.scala.html#264528" title="(x$1: String)Unit">contentType</a> = <a href="#473052" title="String">contentType</a>
        <a href="#473056" title="net.liftweb.mocks.MockHttpServletRequest">mockReq</a>.<a href="../../../../testkit/net/liftweb/mocks/MockHttpServletRequest.scala.html#264549" title="(x$1: String)Unit">method</a> = <span title="java.lang.String(&quot;POST&quot;)" class="string">&quot;POST&quot;</span>
      <span class="delimiter">}</span>

    <span class="comment">/**
     * Modifies the request to POST the given request body JSON.
     */</span>
    <span class="keyword">def</span> <a title="(jval: net.liftweb.json.JsonAST.JValue)T" id="472895">withPost</a> <span class="delimiter">(</span><a title="net.liftweb.json.JsonAST.JValue" id="473061">jval</a> : <a href="../../../../json/net/liftweb/json/JsonAST.scala.html#48510" title="net.liftweb.json.JsonAST.JValue">JValue</a><span class="delimiter">)</span> = <a href="#472900" title="(f: net.liftweb.mocks.MockHttpServletRequest =&gt; Unit)T">withMods</a> <span class="delimiter">{</span> <a title="net.liftweb.mocks.MockHttpServletRequest" id="473065">mockReq</a> =&gt;
      <a href="#473065" title="net.liftweb.mocks.MockHttpServletRequest">mockReq</a>.<a href="../../../../testkit/net/liftweb/mocks/MockHttpServletRequest.scala.html#264525" title="(jval: net.liftweb.json.JsonAST.JValue)Unit">body</a> = <a href="#473061" title="net.liftweb.json.JsonAST.JValue">jval</a>
      <a href="#473065" title="net.liftweb.mocks.MockHttpServletRequest">mockReq</a>.<a href="../../../../testkit/net/liftweb/mocks/MockHttpServletRequest.scala.html#264549" title="(x$1: String)Unit">method</a> = <span title="java.lang.String(&quot;POST&quot;)" class="string">&quot;POST&quot;</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Modifies the request to POST the given request body XML.
     */</span>    
    <span class="keyword">def</span> <a title="(node: scala.xml.NodeSeq)T" id="472896">withPost</a> <span class="delimiter">(</span><a title="scala.xml.NodeSeq" id="473070">node</a> : <span title="scala.xml.NodeSeq">NodeSeq</span><span class="delimiter">)</span> = <a href="#472900" title="(f: net.liftweb.mocks.MockHttpServletRequest =&gt; Unit)T">withMods</a> <span class="delimiter">{</span> <a title="net.liftweb.mocks.MockHttpServletRequest" id="473074">mockReq</a> =&gt;
      <a href="#473074" title="net.liftweb.mocks.MockHttpServletRequest">mockReq</a>.<a href="../../../../testkit/net/liftweb/mocks/MockHttpServletRequest.scala.html#264523" title="(nodes: scala.xml.NodeSeq)Unit">body</a> = <a href="#473070" title="scala.xml.NodeSeq">node</a>
      <a href="#473074" title="net.liftweb.mocks.MockHttpServletRequest">mockReq</a>.<a href="../../../../testkit/net/liftweb/mocks/MockHttpServletRequest.scala.html#264549" title="(x$1: String)Unit">method</a> = <span title="java.lang.String(&quot;POST&quot;)" class="string">&quot;POST&quot;</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Modifies the request to PUT the given request body text. Optionally,
     * you can set the content type (defaults to &quot;text/plain&quot;)
     */</span>
    <span class="keyword">def</span> <a title="(text: String, contentType: String)T" id="472897">withPut</a> <span class="delimiter">(</span><a title="String" id="473079">text</a> : <span title="String">String</span>, <a title="String" id="473083">contentType</a> : <span title="String">String</span> = <span title="java.lang.String(&quot;text/plain&quot;)" class="string">&quot;text/plain&quot;</span><span class="delimiter">)</span> =
      <a href="#472900" title="(f: net.liftweb.mocks.MockHttpServletRequest =&gt; Unit)T">withMods</a> <span class="delimiter">{</span> <a title="net.liftweb.mocks.MockHttpServletRequest" id="473085">mockReq</a> =&gt;
        <a href="#473085" title="net.liftweb.mocks.MockHttpServletRequest">mockReq</a>.<a href="../../../../testkit/net/liftweb/mocks/MockHttpServletRequest.scala.html#264521" title="(s: String)Unit">body</a> = <a href="#473079" title="String">text</a>
        <a href="#473085" title="net.liftweb.mocks.MockHttpServletRequest">mockReq</a>.<a href="../../../../testkit/net/liftweb/mocks/MockHttpServletRequest.scala.html#264528" title="(x$1: String)Unit">contentType</a> = <a href="#473083" title="String">contentType</a>
        <a href="#473085" title="net.liftweb.mocks.MockHttpServletRequest">mockReq</a>.<a href="../../../../testkit/net/liftweb/mocks/MockHttpServletRequest.scala.html#264549" title="(x$1: String)Unit">method</a> = <span title="java.lang.String(&quot;PUT&quot;)" class="string">&quot;PUT&quot;</span>
      <span class="delimiter">}</span>

    <span class="comment">/**
     * Modifies the request to PUT the given request body JSON.
     */</span>
    <span class="keyword">def</span> <a title="(jval: net.liftweb.json.JsonAST.JValue)T" id="472898">withPut</a> <span class="delimiter">(</span><a title="net.liftweb.json.JsonAST.JValue" id="473090">jval</a> : <a href="../../../../json/net/liftweb/json/JsonAST.scala.html#48510" title="net.liftweb.json.JsonAST.JValue">JValue</a><span class="delimiter">)</span> = <a href="#472900" title="(f: net.liftweb.mocks.MockHttpServletRequest =&gt; Unit)T">withMods</a> <span class="delimiter">{</span> <a title="net.liftweb.mocks.MockHttpServletRequest" id="473094">mockReq</a> =&gt;
      <a href="#473094" title="net.liftweb.mocks.MockHttpServletRequest">mockReq</a>.<a href="../../../../testkit/net/liftweb/mocks/MockHttpServletRequest.scala.html#264525" title="(jval: net.liftweb.json.JsonAST.JValue)Unit">body</a> = <a href="#473090" title="net.liftweb.json.JsonAST.JValue">jval</a>
      <a href="#473094" title="net.liftweb.mocks.MockHttpServletRequest">mockReq</a>.<a href="../../../../testkit/net/liftweb/mocks/MockHttpServletRequest.scala.html#264549" title="(x$1: String)Unit">method</a> = <span title="java.lang.String(&quot;PUT&quot;)" class="string">&quot;PUT&quot;</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Modifies the request to PUT the given request body XML.
     */</span>    
    <span class="keyword">def</span> <a title="(node: scala.xml.NodeSeq)T" id="472899">withPut</a> <span class="delimiter">(</span><a title="scala.xml.NodeSeq" id="473099">node</a> : <span title="scala.xml.NodeSeq">NodeSeq</span><span class="delimiter">)</span> = <a href="#472900" title="(f: net.liftweb.mocks.MockHttpServletRequest =&gt; Unit)T">withMods</a> <span class="delimiter">{</span> <a title="net.liftweb.mocks.MockHttpServletRequest" id="473103">mockReq</a> =&gt;
      <a href="#473103" title="net.liftweb.mocks.MockHttpServletRequest">mockReq</a>.<a href="../../../../testkit/net/liftweb/mocks/MockHttpServletRequest.scala.html#264523" title="(nodes: scala.xml.NodeSeq)Unit">body</a> = <a href="#473099" title="scala.xml.NodeSeq">node</a>
      <a href="#473103" title="net.liftweb.mocks.MockHttpServletRequest">mockReq</a>.<a href="../../../../testkit/net/liftweb/mocks/MockHttpServletRequest.scala.html#264549" title="(x$1: String)Unit">method</a> = <span title="java.lang.String(&quot;PUT&quot;)" class="string">&quot;PUT&quot;</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Allows you to specify your own modification function for the servlet request
     * prior to initialization.
     */</span>
    <span class="keyword">def</span> <a title="(f: net.liftweb.mocks.MockHttpServletRequest =&gt; Unit)T" id="472900">withMods</a> <span class="delimiter">(</span><a title="net.liftweb.mocks.MockHttpServletRequest =&gt; Unit" id="473053">f</a> : MockHttpServletRequest =&gt; Unit<span class="delimiter">)</span> : <a href="#467535" title="T">T</a> = <a href="#472893" title="=&gt; javax.servlet.http.HttpServletRequest">req</a> <span title="T" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="T" id="473108">r</a> : <a href="../../../../testkit/net/liftweb/mocks/MockHttpServletRequest.scala.html#12996" title="net.liftweb.mocks.MockHttpServletRequest">MockHttpServletRequest</a> =&gt; <a href="#473053" title="(v1: net.liftweb.mocks.MockHttpServletRequest)Unit">f</a><span class="delimiter">(</span><a href="#473108" title="net.liftweb.mocks.MockHttpServletRequest">r</a><span class="delimiter">)</span>; <a href="#467534" title="T" class="keyword">this</a>
      <span class="keyword">case</span> <span title="Nothing">_</span> =&gt; <span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String)java.lang.IllegalArgumentException" class="keyword">new</span> <span title="java.lang.IllegalArgumentException">IllegalArgumentException</span><span class="delimiter">(</span><span title="java.lang.String(&quot;We can only mutate MockHttpServletRequest instances&quot;)" class="string">&quot;We can only mutate MockHttpServletRequest instances&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * This class provides a wrapper to test methods that require an
   * initialized S.
   */</span>
  <span class="keyword">class</span> <a title="class SessionSpecification extends java.lang.Object with WebSpec.this.ModifiableRequest[WebSpec.this.SessionSpecification] with ScalaObject" id="467536">SessionSpecification</a> <a href="#467536" title="ScalaObject" class="delimiter">(</a><a title="String" id="472919">description</a> : <span title="String">String</span>, 
                              <span class="keyword">val</span> <a title="javax.servlet.http.HttpServletRequest" id="472920">req</a> : <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span>, 
                              <a title="net.liftweb.common.Box[net.liftweb.http.LiftSession]" id="472921">session</a> : <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.http.LiftSession]">Box</a><span class="delimiter">[</span>LiftSession<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#467534" title="WebSpec.this.ModifiableRequest[WebSpec.this.SessionSpecification]">ModifiableRequest</a><span class="delimiter">[</span>SessionSpecification<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(description: String, url: String, session: net.liftweb.common.Box[net.liftweb.http.LiftSession], contextPath: String)WebSpec.this.SessionSpecification" id="472909" class="keyword">this</a> <span class="delimiter">(</span><a title="String" id="472915">description</a> : <span title="String">String</span>, <a title="String" id="472916">url</a> : <span title="String">String</span>, <a title="net.liftweb.common.Box[net.liftweb.http.LiftSession]" id="472917">session</a> : <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.http.LiftSession]">Box</a><span class="delimiter">[</span>LiftSession<span class="delimiter">]</span>, <a title="String" id="472918">contextPath</a> : <span title="String">String</span><span class="delimiter">)</span> =
      <a href="#467536" title="SessionSpecification.this.type" class="keyword">this</a><span class="delimiter">(</span><a href="#472915" title="String">description</a>, <span title="net.liftweb.mocks.MockHttpServletRequest" class="keyword">new</span> <a href="../../../../testkit/net/liftweb/mocks/MockHttpServletRequest.scala.html#12996" title="net.liftweb.mocks.MockHttpServletRequest">MockHttpServletRequest</a><span class="delimiter">(</span><a href="#472916" title="String">url</a>, <a href="#472918" title="String">contextPath</a><span class="delimiter">)</span>, <a href="#472917" title="net.liftweb.common.Box[net.liftweb.http.LiftSession]">session</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="[T](expectations: =&gt; T)(implicit m: scala.reflect.ClassManifest[T])org.specs.specification.Example" id="472910">in</a> <span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="472912">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; T" id="473136">expectations</a> : =&gt; T<span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scala.reflect.ClassManifest[T]" id="473137">m</a> : scala.reflect.<span title="scala.reflect.ClassManifest[T]">ClassManifest</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="org.specs.specification.Example" id="473140">example</a> = <a href="#15274" title="=&gt; org.specs.specification.Examples">exampleContainer</a>.<span title="(desc: String)org.specs.specification.Example">createExample</span><span class="delimiter">(</span><a href="#472919" title="String">description</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#15274" title="=&gt; Boolean">sequential</a><span class="delimiter">)</span> <a href="#473140" title="org.specs.specification.Example">example</a>.<span title="()Unit">setSequential</span><span class="delimiter">(</span><span class="delimiter">)</span>

      <a href="#473140" title="org.specs.specification.Example">example</a>.<span title="(expectations: =&gt; T)(implicit m: scala.reflect.ClassManifest[T])example.type">in</span> <span class="delimiter">{</span>
        <a href="../http/LiftRules.scala.html#14371" title="object net.liftweb.http.LiftRulesMocker">LiftRulesMocker</a>.<a href="../http/LiftRules.scala.html#158818" title="object net.liftweb.http.LiftRulesMocker.devTestLiftRulesInstance">devTestLiftRulesInstance</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51274" title="(x: net.liftweb.http.LiftRules)(f: =&gt; T)T">doWith</a><span class="delimiter">(</span><a href="#467530" title="=&gt; net.liftweb.http.LiftRules">liftRules</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="MockWeb.scala.html#15258" title="object net.liftweb.mockweb.MockWeb">MockWeb</a>.<a href="MockWeb.scala.html#465295" title="object net.liftweb.mockweb.MockWeb.useLiftRules">useLiftRules</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51274" title="(x: Boolean)(f: =&gt; T)T">doWith</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="MockWeb.scala.html#15258" title="object net.liftweb.mockweb.MockWeb">MockWeb</a>.<a href="MockWeb.scala.html#465310" title="(request: javax.servlet.http.HttpServletRequest, session: net.liftweb.common.Box[net.liftweb.http.LiftSession])(testFunc: =&gt; T)T">testS</a><span class="delimiter">(</span><a href="#472920" title="=&gt; javax.servlet.http.HttpServletRequest">req</a>, <a href="#472921" title="net.liftweb.common.Box[net.liftweb.http.LiftSession]">session</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#473136" title="=&gt; T">expectations</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span><span class="delimiter">(</span><a href="#473137" title="scala.reflect.ClassManifest[T]">m</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * This class provides a wrapper to test methods that require an
   * initialized Req.
   */</span>
  <span class="keyword">class</span> <a title="class ReqSpecification extends java.lang.Object with WebSpec.this.ModifiableRequest[WebSpec.this.ReqSpecification] with ScalaObject" id="467537">ReqSpecification</a> <a href="#467537" title="ScalaObject" class="delimiter">(</a><a title="String" id="472970">description</a> : <span title="String">String</span>, 
                          <span class="keyword">val</span> <a title="javax.servlet.http.HttpServletRequest" id="472971">req</a> : <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#467534" title="WebSpec.this.ModifiableRequest[WebSpec.this.ReqSpecification]">ModifiableRequest</a><span class="delimiter">[</span>ReqSpecification<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(description: String, url: String, contextPath: String)WebSpec.this.ReqSpecification" id="472961" class="keyword">this</a> <span class="delimiter">(</span><a title="String" id="472967">description</a> : <span title="String">String</span>, <a title="String" id="472968">url</a> : <span title="String">String</span>, <a title="String" id="472969">contextPath</a> : <span title="String">String</span><span class="delimiter">)</span> =
      <a href="#467537" title="ReqSpecification.this.type" class="keyword">this</a><span class="delimiter">(</span><a href="#472967" title="String">description</a>, <span title="net.liftweb.mocks.MockHttpServletRequest" class="keyword">new</span> <a href="../../../../testkit/net/liftweb/mocks/MockHttpServletRequest.scala.html#12996" title="net.liftweb.mocks.MockHttpServletRequest">MockHttpServletRequest</a><span class="delimiter">(</span><a href="#472968" title="String">url</a>, <a href="#472969" title="String">contextPath</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="[T](expectations: net.liftweb.http.Req =&gt; T)(implicit m: scala.reflect.ClassManifest[T])org.specs.specification.Example" id="472962">in</a> <span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="472964">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="net.liftweb.http.Req =&gt; T" id="473391">expectations</a> : Req =&gt; T<span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scala.reflect.ClassManifest[T]" id="473392">m</a> : scala.reflect.<span title="scala.reflect.ClassManifest[T]">ClassManifest</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="org.specs.specification.Example" id="473395">example</a> = <a href="#15274" title="=&gt; org.specs.specification.Examples">exampleContainer</a>.<span title="(desc: String)org.specs.specification.Example">createExample</span><span class="delimiter">(</span><a href="#472970" title="String">description</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#15274" title="=&gt; Boolean">sequential</a><span class="delimiter">)</span> <a href="#473395" title="org.specs.specification.Example">example</a>.<span title="()Unit">setSequential</span><span class="delimiter">(</span><span class="delimiter">)</span>

      <a href="#473395" title="org.specs.specification.Example">example</a>.<span title="(expectations: =&gt; T)(implicit m: scala.reflect.ClassManifest[T])example.type">in</span> <span class="delimiter">{</span>
        <a href="../http/LiftRules.scala.html#14371" title="object net.liftweb.http.LiftRulesMocker">LiftRulesMocker</a>.<a href="../http/LiftRules.scala.html#158818" title="object net.liftweb.http.LiftRulesMocker.devTestLiftRulesInstance">devTestLiftRulesInstance</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51274" title="(x: net.liftweb.http.LiftRules)(f: =&gt; T)T">doWith</a><span class="delimiter">(</span><a href="#467530" title="=&gt; net.liftweb.http.LiftRules">liftRules</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="MockWeb.scala.html#15258" title="object net.liftweb.mockweb.MockWeb">MockWeb</a>.<a href="MockWeb.scala.html#465295" title="object net.liftweb.mockweb.MockWeb.useLiftRules">useLiftRules</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51274" title="(x: Boolean)(f: =&gt; T)T">doWith</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="MockWeb.scala.html#15258" title="object net.liftweb.mockweb.MockWeb">MockWeb</a>.<a href="MockWeb.scala.html#465304" title="(request: javax.servlet.http.HttpServletRequest)(f: net.liftweb.http.Req =&gt; T)T">testReq</a><span class="delimiter">(</span><a href="#472971" title="=&gt; javax.servlet.http.HttpServletRequest">req</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#473391" title="net.liftweb.http.Req =&gt; T">expectations</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span><span class="delimiter">(</span><a href="#473392" title="scala.reflect.ClassManifest[T]">m</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * This class provides a wrapper to test methods that require
   * a processed template.
   */</span>
  <span class="keyword">class</span> <a title="class TemplateSpecification extends java.lang.Object with WebSpec.this.ModifiableRequest[WebSpec.this.TemplateSpecification] with ScalaObject" id="467538">TemplateSpecification</a> <a href="#467538" title="ScalaObject" class="delimiter">(</a><a title="String" id="473002">description</a> : <span title="String">String</span>,
                               <span class="keyword">val</span> <a title="javax.servlet.http.HttpServletRequest" id="473003">req</a> : <span title="javax.servlet.http.HttpServletRequest">HttpServletRequest</span>,
                               <a title="net.liftweb.common.Box[net.liftweb.http.LiftSession]" id="473004">session</a> : <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.http.LiftSession]">Box</a><span class="delimiter">[</span>LiftSession<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#467534" title="WebSpec.this.ModifiableRequest[WebSpec.this.TemplateSpecification]">ModifiableRequest</a><span class="delimiter">[</span>TemplateSpecification<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(description: String, url: String, session: net.liftweb.common.Box[net.liftweb.http.LiftSession], contextPath: String)WebSpec.this.TemplateSpecification" id="472992" class="keyword">this</a> <span class="delimiter">(</span><a title="String" id="472998">description</a> : <span title="String">String</span>, <a title="String" id="472999">url</a> : <span title="String">String</span>, <a title="net.liftweb.common.Box[net.liftweb.http.LiftSession]" id="473000">session</a> : <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.http.LiftSession]">Box</a><span class="delimiter">[</span>LiftSession<span class="delimiter">]</span>, <a title="String" id="473001">contextPath</a> : <span title="String">String</span><span class="delimiter">)</span> =
      <a href="#467538" title="TemplateSpecification.this.type" class="keyword">this</a><span class="delimiter">(</span><a href="#472998" title="String">description</a>, <span title="net.liftweb.mocks.MockHttpServletRequest" class="keyword">new</span> <a href="../../../../testkit/net/liftweb/mocks/MockHttpServletRequest.scala.html#12996" title="net.liftweb.mocks.MockHttpServletRequest">MockHttpServletRequest</a><span class="delimiter">(</span><a href="#472999" title="String">url</a>, <a href="#473001" title="String">contextPath</a><span class="delimiter">)</span>, <a href="#473000" title="net.liftweb.common.Box[net.liftweb.http.LiftSession]">session</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="[T](expectations: net.liftweb.common.Box[scala.xml.NodeSeq] =&gt; T)(implicit m: scala.reflect.ClassManifest[T])org.specs.specification.Example" id="472993">in</a> <span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="472995">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="net.liftweb.common.Box[scala.xml.NodeSeq] =&gt; T" id="473466">expectations</a> : Box<span class="delimiter">[</span>NodeSeq<span class="delimiter">]</span> =&gt; T<span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scala.reflect.ClassManifest[T]" id="473467">m</a> : scala.reflect.<span title="scala.reflect.ClassManifest[T]">ClassManifest</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="org.specs.specification.Example" id="473470">example</a> = <a href="#15274" title="=&gt; org.specs.specification.Examples">exampleContainer</a>.<span title="(desc: String)org.specs.specification.Example">createExample</span><span class="delimiter">(</span><a href="#473002" title="String">description</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#15274" title="=&gt; Boolean">sequential</a><span class="delimiter">)</span> <a href="#473470" title="org.specs.specification.Example">example</a>.<span title="()Unit">setSequential</span><span class="delimiter">(</span><span class="delimiter">)</span>

      <a href="#473470" title="org.specs.specification.Example">example</a>.<span title="(expectations: =&gt; T)(implicit m: scala.reflect.ClassManifest[T])example.type">in</span> <span class="delimiter">{</span>
        <a href="../http/LiftRules.scala.html#14371" title="object net.liftweb.http.LiftRulesMocker">LiftRulesMocker</a>.<a href="../http/LiftRules.scala.html#158818" title="object net.liftweb.http.LiftRulesMocker.devTestLiftRulesInstance">devTestLiftRulesInstance</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51274" title="(x: net.liftweb.http.LiftRules)(f: =&gt; T)T">doWith</a><span class="delimiter">(</span><a href="#467530" title="=&gt; net.liftweb.http.LiftRules">liftRules</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="MockWeb.scala.html#15258" title="object net.liftweb.mockweb.MockWeb">MockWeb</a>.<a href="MockWeb.scala.html#465295" title="object net.liftweb.mockweb.MockWeb.useLiftRules">useLiftRules</a>.<a href="../../../../util/net/liftweb/util/ThreadGlobal.scala.html#51274" title="(x: Boolean)(f: =&gt; T)T">doWith</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="MockWeb.scala.html#15258" title="object net.liftweb.mockweb.MockWeb">MockWeb</a>.<a href="MockWeb.scala.html#465310" title="(request: javax.servlet.http.HttpServletRequest, session: net.liftweb.common.Box[net.liftweb.http.LiftSession])(testFunc: =&gt; T)T">testS</a><span class="delimiter">(</span><a href="#473003" title="=&gt; javax.servlet.http.HttpServletRequest">req</a>, <a href="#473004" title="net.liftweb.common.Box[net.liftweb.http.LiftSession]">session</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="../http/S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="../http/S.scala.html#49309" title="=&gt; net.liftweb.common.Box[net.liftweb.http.Req]">request</a> <span title="T" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <span title="T">Full</span><span class="delimiter">(</span><a title="net.liftweb.http.Req" id="473513">sReq</a><span class="delimiter">)</span> =&gt; <a href="#473466" title="(v1: net.liftweb.common.Box[scala.xml.NodeSeq])T">expectations</a><span class="delimiter">(</span><a href="../http/S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="../http/S.scala.html#49447" title="(path: List[String], snips: (String, scala.xml.NodeSeq =&gt; scala.xml.NodeSeq)*)net.liftweb.common.Box[scala.xml.NodeSeq]">runTemplate</a><span class="delimiter">(</span><a href="#473513" title="net.liftweb.http.Req">sReq</a>.<a href="../http/Req.scala.html#149137" title="=&gt; net.liftweb.http.ParsePath">path</a>.<a href="../http/Req.scala.html#216847" title="=&gt; List[String]">partPath</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <a title="Nothing" id="473517">other</a> =&gt; <a href="#15274" title="(m: String)Nothing">fail</a><span class="delimiter">(</span><span class="string">&quot;Error: withTemplateFor call did not result in &quot;</span> <span title="java.lang.String(&quot;Error: withTemplateFor call did not result in request initialization (S.request = &quot;)">+</span>
                  <span class="string">&quot;request initialization (S.request = &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#473517" title="net.liftweb.common.Box[net.liftweb.http.Req]">other</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span><span class="delimiter">(</span><a href="#473467" title="scala.reflect.ClassManifest[T]">m</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>