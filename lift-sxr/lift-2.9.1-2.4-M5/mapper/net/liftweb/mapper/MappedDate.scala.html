<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>mapper/net/liftweb/mapper/MappedDate.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*
 * Copyright 2009-2011 WorldWide Conferencing, LLC
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */</span>

<span class="keyword">package</span> net.liftweb
<span class="keyword">package</span> mapper

<span class="keyword">import</span> java.sql.<span class="delimiter">{</span>ResultSet, Types<span class="delimiter">}</span>
<span class="keyword">import</span> java.util.Date
<span class="keyword">import</span> java.lang.reflect.Method

<span class="keyword">import</span> net.liftweb._
<span class="keyword">import</span> util._
<span class="keyword">import</span> common._
<span class="keyword">import</span> <a href="../../../../util/net/liftweb/util/Helpers.scala.html#13346" title="object net.liftweb.util.Helpers">Helpers</a>._
<span class="keyword">import</span> http._
<span class="keyword">import</span> <a href="../../../../webkit/net/liftweb/http/S.scala.html#14641" title="object net.liftweb.http.S">S</a>._
<span class="keyword">import</span> js._
<span class="keyword">import</span> json._
<span class="keyword">import</span> scala.xml.<span class="delimiter">{</span>NodeSeq<span class="delimiter">}</span>

<span class="comment">/**
 * Represents a date without hour, minute or second fields. The underlying type is
 * java.util.Date to keep things simple, but be aware that the hour, minute and second
 * values will most likely be discarded when this is saved to the database.
 *
 * @see MappedDateTime
 * @see MappedTime
 */</span>
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class MappedDate[T &lt;: net.liftweb.mapper.Mapper[T]] extends java.lang.Object with net.liftweb.mapper.MappedField[java.util.Date,T] with ScalaObject" id="11342">MappedDate</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: net.liftweb.mapper.Mapper[T]" id="11343">T</a>&lt;:Mapper<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span><a href="#11342" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="T" id="158781">fieldOwner</a>: <a href="#11343" title="T">T</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="MappedField.scala.html#11427" title="net.liftweb.mapper.MappedField[java.util.Date,T]">MappedField</a><span class="delimiter">[</span>Date, T<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="net.liftweb.util.FatLazy[java.util.Date]" id="158738">data</a> = <a href="../../../../util/net/liftweb/util/FatLazy.scala.html#154877" title="(f: =&gt; java.util.Date)net.liftweb.util.FatLazy[java.util.Date]">FatLazy</a><span class="delimiter">(</span><a href="#158750" title="=&gt; java.util.Date">defaultValue</a><span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="net.liftweb.util.FatLazy[java.util.Date]" id="158740">orgData</a> = <a href="../../../../util/net/liftweb/util/FatLazy.scala.html#154877" title="(f: =&gt; java.util.Date)net.liftweb.util.FatLazy[java.util.Date]">FatLazy</a><span class="delimiter">(</span><a href="#158750" title="=&gt; java.util.Date">defaultValue</a><span class="delimiter">)</span>
  
  <span class="comment">/**
   * This defines the string parsing semantics of this field. Used in setFromAny.
   * By default uses LiftRules.dateTimeConverter's parseDate; override for field-specific behavior
   */</span>
  <span class="keyword">def</span> <a title="(s: String)net.liftweb.common.Box[java.util.Date]" id="158742">parse</a><span class="delimiter">(</span><a title="String" id="158782">s</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[java.util.Date]">Box</a><span class="delimiter">[</span>Date<span class="delimiter">]</span> = <a href="../../../../webkit/net/liftweb/http/LiftRules.scala.html#158817" title="implicit net.liftweb.http.LiftRulesMocker.toLiftRules : (in: net.liftweb.http.LiftRulesMocker)net.liftweb.http.LiftRules">LiftRules</a>.<a href="../../../../util/net/liftweb/util/Maker.scala.html#150935" title="()net.liftweb.util.DateTimeConverter">dateTimeConverter</a><span class="delimiter">(</span><span class="delimiter">)</span>.<a href="../../../../util/net/liftweb/util/DateTimeConverter.scala.html#159344" title="(s: String)net.liftweb.common.Box[java.util.Date]">parseDate</a><span class="delimiter">(</span><a href="#158782" title="String">s</a><span class="delimiter">)</span>
  <span class="comment">/**
   * This method defines the string parsing semantics of this field. Used in toString, _toForm.
   * By default uses LiftRules.dateTimeConverter's formatDate; override for field-specific behavior
   */</span>
  <span class="keyword">def</span> <a title="(d: java.util.Date)String" id="158743">format</a><span class="delimiter">(</span><a title="java.util.Date" id="159347">d</a>: <span title="java.util.Date">Date</span><span class="delimiter">)</span>: <span title="String">String</span> = <a href="../../../../webkit/net/liftweb/http/LiftRules.scala.html#158817" title="implicit net.liftweb.http.LiftRulesMocker.toLiftRules : (in: net.liftweb.http.LiftRulesMocker)net.liftweb.http.LiftRules">LiftRules</a>.<a href="../../../../util/net/liftweb/util/Maker.scala.html#150935" title="()net.liftweb.util.DateTimeConverter">dateTimeConverter</a><span class="delimiter">(</span><span class="delimiter">)</span>.<a href="../../../../util/net/liftweb/util/DateTimeConverter.scala.html#159341" title="(d: java.util.Date)String">formatDate</a><span class="delimiter">(</span><a href="#159347" title="java.util.Date">d</a><span class="delimiter">)</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(value: java.util.Date)java.util.Date" id="158744">real_i_set_!</a><span class="delimiter">(</span><a title="java.util.Date" id="159356">value</a>: <span title="java.util.Date">Date</span><span class="delimiter">)</span>: <span title="java.util.Date">Date</span> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#159356" title="java.util.Date">value</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#158738" title="=&gt; net.liftweb.util.FatLazy[java.util.Date]">data</a>.<a href="../../../../util/net/liftweb/util/FatLazy.scala.html#147758" title="=&gt; java.util.Date">get</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../../../../util/net/liftweb/util/FatLazy.scala.html#147762" title="(v: java.util.Date)Unit">data</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#159356" title="java.util.Date">value</a>
      <a href="#11342" title="MappedDate.this.type" class="keyword">this</a>.<a href="MappedField.scala.html#147402" title="(b: Boolean)Unit">dirty_?</a><span class="delimiter">(</span> <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#158738" title="=&gt; net.liftweb.util.FatLazy[java.util.Date]">data</a>.<a href="../../../../util/net/liftweb/util/FatLazy.scala.html#147758" title="=&gt; java.util.Date">get</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; java.lang.Class[java.util.Date]" id="158745">dbFieldClass</a> = classOf<span title="java.lang.Class[java.util.Date](classOf[java.util.Date])" class="delimiter">[</span>Date<span class="delimiter">]</span>


  <span class="keyword">def</span> <a title="=&gt; Long" id="158746">toLong</a>: <span title="Long">Long</span> = <a href="MappedField.scala.html#147450" title="=&gt; java.util.Date">is</a> <span title="Long" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Long(0L)" class="keyword">null</span> =&gt; <span title="Long(0L)" class="long">0L</span>
    <span class="keyword">case</span> <a title="Long" id="159371">d</a>: <span title="java.util.Date">Date</span> =&gt; <a href="#159371" title="java.util.Date">d</a>.<span title="()Long">getTime</span> <span title="(x: Long)Long">/</span> <span title="Long(1000L)" class="long">1000L</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; net.liftweb.http.js.JsExp" id="158747">asJsExp</a>: <a href="../../../../webkit/net/liftweb/http/js/JsCommands.scala.html#14908" title="net.liftweb.http.js.JsExp">JsExp</a> = <a href="../../../../webkit/net/liftweb/http/js/JsCommands.scala.html#14910" title="object net.liftweb.http.js.JE">JE</a>.<a href="../../../../webkit/net/liftweb/http/js/JsCommands.scala.html#159380" title="(lng: Long)net.liftweb.http.js.JE.Num">Num</a><span class="delimiter">(</span><a href="#158746" title="=&gt; Long">toLong</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="=&gt; net.liftweb.common.Box[net.liftweb.json.JsonAST.JValue]" id="158748">asJsonValue</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.json.JsonAST.JValue]">Box</a><span class="delimiter">[</span>JsonAST.JValue<span class="delimiter">]</span> = <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: net.liftweb.json.JsonAST.JValue)net.liftweb.common.Full[net.liftweb.json.JsonAST.JValue]">Full</a><span class="delimiter">(</span><a href="MappedField.scala.html#147450" title="=&gt; java.util.Date">is</a> <span title="net.liftweb.json.JsonAST.JValue" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="net.liftweb.json.JsonAST.JNull.type" class="keyword">null</span> =&gt; <a href="../../../../json/net/liftweb/json/JsonAST.scala.html#11132" title="object net.liftweb.json.JsonAST">JsonAST</a>.<a href="../../../../json/net/liftweb/json/JsonAST.scala.html#48513" title="object net.liftweb.json.JsonAST.JNull">JNull</a>
    <span class="keyword">case</span> <a title="net.liftweb.json.JsonAST.JInt" id="159413">v</a> =&gt; <a href="../../../../json/net/liftweb/json/JsonAST.scala.html#11132" title="object net.liftweb.json.JsonAST">JsonAST</a>.<a href="../../../../json/net/liftweb/json/JsonAST.scala.html#51543" title="(num: BigInt)net.liftweb.json.JsonAST.JInt">JInt</a><span class="delimiter">(</span><a href="#159413" title="java.util.Date">v</a>.<span title="implicit scala.math.BigInt.long2bigInt : (l: Long)scala.math.BigInt">getTime</span><span class="delimiter">)</span>
  <span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Get the JDBC SQL Type for this field
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Int" id="158749">targetSQLType</a> = Types.<span title="Int(91)">DATE</span>

  <span class="keyword">def</span> <a title="=&gt; java.util.Date" id="158750">defaultValue</a>: <span title="java.util.Date">Date</span> = <span title="Null(null)" class="keyword">null</span>
  <span class="comment">// private val defaultValue_i = new Date</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="158751">writePermission_?</a> = <span title="Boolean(true)" class="keyword">true</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="158752">readPermission_?</a> = <span title="Boolean(true)" class="keyword">true</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; java.util.Date" id="158753">i_is_!</a> = <a href="#158738" title="=&gt; net.liftweb.util.FatLazy[java.util.Date]">data</a>.<a href="../../../../util/net/liftweb/util/FatLazy.scala.html#147758" title="=&gt; java.util.Date">get</a>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; java.util.Date" id="158754">i_was_!</a> = <a href="#158740" title="=&gt; net.liftweb.util.FatLazy[java.util.Date]">orgData</a>.<a href="../../../../util/net/liftweb/util/FatLazy.scala.html#147758" title="=&gt; java.util.Date">get</a>
  <span class="keyword">protected</span><span class="delimiter">[</span>mapper<span class="delimiter">]</span> <span class="keyword">def</span> <a title="()Unit" id="158755">doneWithSave</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span><a href="#158740" title="=&gt; net.liftweb.util.FatLazy[java.util.Date]">orgData</a>.<a href="../../../../util/net/liftweb/util/FatLazy.scala.html#147761" title="(other: net.liftweb.util.FatLazy[java.util.Date])Unit">setFrom</a><span class="delimiter">(</span><a href="#158738" title="=&gt; net.liftweb.util.FatLazy[java.util.Date]">data</a><span class="delimiter">)</span><span class="delimiter">}</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(in: java.util.Date)java.util.Date" id="158756">i_obscure_!</a><span class="delimiter">(</span><a title="java.util.Date" id="159436">in</a> : <span title="java.util.Date">Date</span><span class="delimiter">)</span> : <span title="java.util.Date">Date</span> = <span class="delimiter">{</span>
    <span title="(x$1: Long)java.util.Date" class="keyword">new</span> <span title="java.util.Date">Date</span><span class="delimiter">(</span><span title="Long(0L)" class="long">0L</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Create an input field for the item
   */</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; net.liftweb.common.Box[scala.xml.NodeSeq]" id="158757">_toForm</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[scala.xml.NodeSeq]">Box</a><span class="delimiter">[</span>NodeSeq<span class="delimiter">]</span> =
  <a href="../../../../webkit/net/liftweb/http/S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="../../../../webkit/net/liftweb/http/S.scala.html#49525" title="(in: net.liftweb.http.S.AFuncHolder)(f: String =&gt; net.liftweb.common.Full[scala.xml.Elem])net.liftweb.common.Full[scala.xml.Elem]">fmapFunc</a><span class="delimiter">(</span><span class="delimiter">{</span>s: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> =&gt; <a href="#11342" title="MappedDate.this.type" class="keyword">this</a>.<a href="#158758" title="(f: Any)java.util.Date">setFromAny</a><span class="delimiter">(</span><a href="#159464" title="List[String]">s</a><span class="delimiter">)</span><span class="delimiter">}</span><span class="delimiter">)</span><span class="delimiter">{</span><a title="String" id="159484">funcName</a> =&gt;
  <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: scala.xml.Elem)net.liftweb.common.Full[scala.xml.Elem]">Full</a><span class="delimiter">(</span><a href="MappedField.scala.html#147437" title="(in: scala.xml.Elem)scala.xml.Elem">appendFieldId</a><span class="delimiter">(</span>&lt;<a title="scala.xml.MetaData" id="159489">input</a> <span class="keyword">type</span>=<span class="delimiter">{</span><a href="MappedField.scala.html#147436" title="=&gt; java.lang.String">formInputType</a><span class="delimiter">}</span>
                     name=<span class="delimiter">{</span><a href="#159484" title="String">funcName</a><span class="delimiter">}</span>
                     value=<span class="delimiter">{</span><a href="MappedField.scala.html#147450" title="=&gt; java.util.Date">is</a> <span title="java.lang.String" class="keyword">match</span> <span class="delimiter">{</span><span class="keyword">case</span> <span title="java.lang.String(&quot;&quot;)" class="keyword">null</span> =&gt; <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">case</span> <a title="String" id="159494">s</a> =&gt; <a href="#158743" title="(d: java.util.Date)String">format</a><span class="delimiter">(</span><a href="#159494" title="java.util.Date">s</a><span class="delimiter">)</span><span class="delimiter">}</span><span class="delimiter">}</span>/&gt;<span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(f: Any)java.util.Date" id="158758">setFromAny</a><span class="delimiter">(</span><a title="Any" id="159465">f</a> : <span title="Any">Any</span><span class="delimiter">)</span>: <span title="java.util.Date">Date</span> = <a href="#159465" title="Any">f</a> <span title="java.util.Date" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a href="../../../../json/net/liftweb/json/JsonAST.scala.html#11132" title="java.util.Date">JsonAST</a>.<a href="../../../../json/net/liftweb/json/JsonAST.scala.html#48513" title="object net.liftweb.json.JsonAST.JNull">JNull</a> =&gt; <a href="#11342" title="MappedDate.this.type" class="keyword">this</a>.<a href="MappedField.scala.html#147418" title="(value: java.util.Date)java.util.Date">set</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="java.util.Date">JsonAST</span>.JInt<span class="delimiter">(</span><a title="BigInt" id="159511">v</a><span class="delimiter">)</span> =&gt; <a href="#11342" title="MappedDate.this.type" class="keyword">this</a>.<a href="MappedField.scala.html#147418" title="(value: java.util.Date)java.util.Date">set</a><span class="delimiter">(</span><span title="(x$1: Long)java.util.Date" class="keyword">new</span> <span title="java.util.Date">Date</span><span class="delimiter">(</span><a href="#159511" title="BigInt">v</a>.<span title="()Long">longValue</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="java.util.Date" id="159516">n</a>: <span title="java.lang.Number">Number</span> =&gt; <a href="#11342" title="MappedDate.this.type" class="keyword">this</a>.<a href="MappedField.scala.html#147418" title="(value: java.util.Date)java.util.Date">set</a><span class="delimiter">(</span><span title="(x$1: Long)java.util.Date" class="keyword">new</span> <span title="java.util.Date">Date</span><span class="delimiter">(</span><a href="#159516" title="java.lang.Number">n</a>.<span title="()Long">longValue</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="java.util.Date" class="string">&quot;&quot;</span> | <span title="Null(null)" class="keyword">null</span> =&gt; <a href="#11342" title="MappedDate.this.type" class="keyword">this</a>.<a href="MappedField.scala.html#147418" title="(value: java.util.Date)java.util.Date">set</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="java.util.Date" id="159521">s</a>: <span title="String">String</span> =&gt; <a href="#158742" title="(s: String)net.liftweb.common.Box[java.util.Date]">parse</a><span class="delimiter">(</span><a href="#159521" title="String">s</a><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: java.util.Date =&gt; java.util.Date)net.liftweb.common.Box[java.util.Date]">map</a><span class="delimiter">(</span><a title="java.util.Date" id="159526">d</a> =&gt; <a href="#11342" title="MappedDate.this.type" class="keyword">this</a>.<a href="MappedField.scala.html#147418" title="(value: java.util.Date)java.util.Date">set</a><span class="delimiter">(</span><a href="#159526" title="java.util.Date">d</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; java.util.Date)java.util.Date">openOr</a><span class="delimiter">(</span><a href="#11342" title="MappedDate.this.type" class="keyword">this</a>.<a href="MappedField.scala.html#147450" title="=&gt; java.util.Date">is</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="java.util.Date" class="delimiter">(</span><a title="String" id="159537">s</a>: <span title="String">String</span><span class="delimiter">)</span> :: _ =&gt; <a href="#158742" title="(s: String)net.liftweb.common.Box[java.util.Date]">parse</a><span class="delimiter">(</span><a href="#159537" title="String">s</a><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: java.util.Date =&gt; java.util.Date)net.liftweb.common.Box[java.util.Date]">map</a><span class="delimiter">(</span><a title="java.util.Date" id="159541">d</a> =&gt; <a href="#11342" title="MappedDate.this.type" class="keyword">this</a>.<a href="MappedField.scala.html#147418" title="(value: java.util.Date)java.util.Date">set</a><span class="delimiter">(</span><a href="#159541" title="java.util.Date">d</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; java.util.Date)java.util.Date">openOr</a><span class="delimiter">(</span><a href="#11342" title="MappedDate.this.type" class="keyword">this</a>.<a href="MappedField.scala.html#147450" title="=&gt; java.util.Date">is</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="java.util.Date" id="159546">d</a>: <span title="java.util.Date">Date</span> =&gt; <a href="#11342" title="MappedDate.this.type" class="keyword">this</a>.<a href="MappedField.scala.html#147418" title="(value: java.util.Date)java.util.Date">set</a><span class="delimiter">(</span><a href="#159546" title="java.util.Date">d</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="java.util.Date">Some</span><span class="delimiter">(</span><a title="java.util.Date" id="159548">d</a>: <span title="java.util.Date">Date</span><span class="delimiter">)</span> =&gt; <a href="#11342" title="MappedDate.this.type" class="keyword">this</a>.<a href="MappedField.scala.html#147418" title="(value: java.util.Date)java.util.Date">set</a><span class="delimiter">(</span><a href="#159548" title="java.util.Date">d</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="java.util.Date">Full</span><span class="delimiter">(</span><a title="java.util.Date" id="159550">d</a>: <span title="java.util.Date">Date</span><span class="delimiter">)</span> =&gt; <a href="#11342" title="MappedDate.this.type" class="keyword">this</a>.<a href="MappedField.scala.html#147418" title="(value: java.util.Date)java.util.Date">set</a><span class="delimiter">(</span><a href="#159550" title="java.util.Date">d</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="java.util.Date">None</span> | <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a> | Failure<span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> =&gt; <a href="#11342" title="MappedDate.this.type" class="keyword">this</a>.<a href="MappedField.scala.html#147418" title="(value: java.util.Date)java.util.Date">set</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="java.util.Date">_</span> =&gt; <a href="#11342" title="MappedDate.this.type" class="keyword">this</a>.<a href="MappedField.scala.html#147450" title="=&gt; java.util.Date">is</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(field: String)java.lang.Object" id="158759">jdbcFriendly</a><span class="delimiter">(</span><a title="String" id="159551">field</a> : <span title="String">String</span><span class="delimiter">)</span> : <span title="java.lang.Object">Object</span> = <a href="MappedField.scala.html#147450" title="=&gt; java.util.Date">is</a> <span title="java.lang.Object" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Null(null)" class="keyword">null</span> =&gt; <span title="Null(null)" class="keyword">null</span>
    <span class="keyword">case</span> <a title="java.sql.Date" id="159554">d</a> =&gt; <span title="(x$1: Long)java.sql.Date" class="keyword">new</span> java.sql.<span title="java.sql.Date">Date</span><span class="delimiter">(</span><a href="#159554" title="java.util.Date">d</a>.<span title="()Long">getTime</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(value: java.util.Date)java.lang.Object" id="158760">real_convertToJDBCFriendly</a><span class="delimiter">(</span><a title="java.util.Date" id="159557">value</a>: <span title="java.util.Date">Date</span><span class="delimiter">)</span>: <span title="java.lang.Object">Object</span> = <span title="java.lang.Object" class="keyword">if</span> <span class="delimiter">(</span><a href="#159557" title="java.util.Date">value</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="Null(null)" class="keyword">null</span> <span class="keyword">else</span> <span title="(x$1: Long)java.sql.Date" class="keyword">new</span> java.sql.<span title="java.sql.Date">Date</span><span class="delimiter">(</span><a href="#159557" title="java.util.Date">value</a>.<span title="()Long">getTime</span><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(in: net.liftweb.common.Box[java.util.Date])Unit" id="158761">st</a><span class="delimiter">(</span><a title="net.liftweb.common.Box[java.util.Date]" id="159566">in</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[java.util.Date]">Box</a><span class="delimiter">[</span>Date<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
  <a href="#159566" title="net.liftweb.common.Box[java.util.Date]">in</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Unit">Full</span><span class="delimiter">(</span><a title="java.util.Date" id="159569">d</a><span class="delimiter">)</span> =&gt; <a href="#158738" title="=&gt; net.liftweb.util.FatLazy[java.util.Date]">data</a>.<a href="../../../../util/net/liftweb/util/FatLazy.scala.html#147760" title="(v: java.util.Date)java.util.Date">set</a><span class="delimiter">(</span><a href="#159569" title="java.util.Date">d</a><span class="delimiter">)</span>; <a href="#158740" title="=&gt; net.liftweb.util.FatLazy[java.util.Date]">orgData</a>.<a href="../../../../util/net/liftweb/util/FatLazy.scala.html#147760" title="(v: java.util.Date)java.util.Date">set</a><span title="Unit" class="delimiter">(</span><a href="#159569" title="java.util.Date">d</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <a href="#158738" title="=&gt; net.liftweb.util.FatLazy[java.util.Date]">data</a>.<a href="../../../../util/net/liftweb/util/FatLazy.scala.html#147760" title="(v: java.util.Date)java.util.Date">set</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>; <a href="#158740" title="=&gt; net.liftweb.util.FatLazy[java.util.Date]">orgData</a>.<a href="../../../../util/net/liftweb/util/FatLazy.scala.html#147760" title="(v: java.util.Date)java.util.Date">set</a><span title="Unit" class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(accessor: java.lang.reflect.Method, v: AnyRef, columnName: String)(T, AnyRef) =&gt; Unit" id="158762">buildSetActualValue</a><span class="delimiter">(</span><a title="java.lang.reflect.Method" id="159576">accessor</a>: <span title="java.lang.reflect.Method">Method</span>, <a title="AnyRef" id="159577">v</a>: <span title="AnyRef">AnyRef</span>, <a title="String" id="159578">columnName</a>: <span title="String">String</span><span class="delimiter">)</span>: <span class="delimiter">(</span>T, AnyRef<span class="delimiter">)</span> =&gt; Unit =
  <span class="delimiter">(</span><a title="T" id="159581">inst</a>, <a title="AnyRef" id="159582">v</a><span class="delimiter">)</span> =&gt; <a href="MappedField.scala.html#147449" title="(inst: T, meth: java.lang.reflect.Method, func: PartialFunction[net.liftweb.mapper.MappedField[java.util.Date,T],Unit])Unit">doField</a><span class="delimiter">(</span><a href="#159581" title="T">inst</a>, <a href="#159576" title="java.lang.reflect.Method">accessor</a>, <a href="#159587" title="Unit" class="delimiter">{</a><span class="keyword">case</span> <a title="Unit" id="159588">f</a>: <a href="#11342" title="net.liftweb.mapper.MappedDate[_]">MappedDate</a><span class="delimiter">[</span>_<span class="delimiter">]</span> =&gt; <a href="#159588" title="&lt;none&gt; extends net.liftweb.mapper.MappedField[java.util.Date,T] with net.liftweb.mapper.MappedDate[_]">f</a>.<a href="#158761" title="(in: net.liftweb.common.Box[java.util.Date])Unit">st</a><span class="delimiter">(</span><a href="../../../../util/net/liftweb/util/TimeHelpers.scala.html#48832" title="(in: Any)net.liftweb.common.Box[java.util.Date]">toDate</a><span class="delimiter">(</span><a href="#159582" title="AnyRef">v</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(accessor: java.lang.reflect.Method, columnName: String)(T, Long, Boolean) =&gt; Unit" id="158763">buildSetLongValue</a><span class="delimiter">(</span><a title="java.lang.reflect.Method" id="159595">accessor</a>: <span title="java.lang.reflect.Method">Method</span>, <a title="String" id="159596">columnName</a>: <span title="String">String</span><span class="delimiter">)</span>: <span class="delimiter">(</span>T, Long, Boolean<span class="delimiter">)</span> =&gt; Unit =
  <span class="delimiter">(</span><a title="T" id="159599">inst</a>, <a title="Long" id="159600">v</a>, <a title="Boolean" id="159601">isNull</a><span class="delimiter">)</span> =&gt; <a href="MappedField.scala.html#147449" title="(inst: T, meth: java.lang.reflect.Method, func: PartialFunction[net.liftweb.mapper.MappedField[java.util.Date,T],Unit])Unit">doField</a><span class="delimiter">(</span><a href="#159599" title="T">inst</a>, <a href="#159595" title="java.lang.reflect.Method">accessor</a>, <a href="#159603" title="Unit" class="delimiter">{</a><span class="keyword">case</span> <a title="Unit" id="159604">f</a>: <a href="#11342" title="net.liftweb.mapper.MappedDate[_]">MappedDate</a><span class="delimiter">[</span>_<span class="delimiter">]</span> =&gt; <a href="#159604" title="&lt;none&gt; extends net.liftweb.mapper.MappedField[java.util.Date,T] with net.liftweb.mapper.MappedDate[_]">f</a>.<a href="#158761" title="(in: net.liftweb.common.Box[java.util.Date])Unit">st</a><span class="delimiter">(</span><span title="net.liftweb.common.Box[java.util.Date]" class="keyword">if</span> <span class="delimiter">(</span><a href="#159601" title="Boolean">isNull</a><span class="delimiter">)</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a> <span class="keyword">else</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: java.util.Date)net.liftweb.common.Full[java.util.Date]">Full</a><span class="delimiter">(</span><span title="(x$1: Long)java.util.Date" class="keyword">new</span> <span title="java.util.Date">Date</span><span class="delimiter">(</span><a href="#159600" title="Long">v</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(accessor: java.lang.reflect.Method, columnName: String)(T, String) =&gt; Unit" id="158764">buildSetStringValue</a><span class="delimiter">(</span><a title="java.lang.reflect.Method" id="159616">accessor</a>: <span title="java.lang.reflect.Method">Method</span>, <a title="String" id="159617">columnName</a>: <span title="String">String</span><span class="delimiter">)</span>: <span class="delimiter">(</span>T, String<span class="delimiter">)</span> =&gt; Unit =
  <span class="delimiter">(</span><a title="T" id="159620">inst</a>, <a title="String" id="159621">v</a><span class="delimiter">)</span> =&gt; <a href="MappedField.scala.html#147449" title="(inst: T, meth: java.lang.reflect.Method, func: PartialFunction[net.liftweb.mapper.MappedField[java.util.Date,T],Unit])Unit">doField</a><span class="delimiter">(</span><a href="#159620" title="T">inst</a>, <a href="#159616" title="java.lang.reflect.Method">accessor</a>, <a href="#159623" title="Unit" class="delimiter">{</a><span class="keyword">case</span> <a title="Unit" id="159624">f</a>: <a href="#11342" title="net.liftweb.mapper.MappedDate[_]">MappedDate</a><span class="delimiter">[</span>_<span class="delimiter">]</span> =&gt; <a href="#159624" title="&lt;none&gt; extends net.liftweb.mapper.MappedField[java.util.Date,T] with net.liftweb.mapper.MappedDate[_]">f</a>.<a href="#158761" title="(in: net.liftweb.common.Box[java.util.Date])Unit">st</a><span class="delimiter">(</span><a href="../../../../util/net/liftweb/util/TimeHelpers.scala.html#48832" title="(in: Any)net.liftweb.common.Box[java.util.Date]">toDate</a><span class="delimiter">(</span><a href="#159621" title="String">v</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(accessor: java.lang.reflect.Method, columnName: String)(T, java.util.Date) =&gt; Unit" id="158765">buildSetDateValue</a><span class="delimiter">(</span><a title="java.lang.reflect.Method" id="159629">accessor</a>: <span title="java.lang.reflect.Method">Method</span>, <a title="String" id="159630">columnName</a>: <span title="String">String</span><span class="delimiter">)</span>: <span class="delimiter">(</span>T, Date<span class="delimiter">)</span> =&gt; Unit =
  <span class="delimiter">(</span><a title="T" id="159633">inst</a>, <a title="java.util.Date" id="159634">v</a><span class="delimiter">)</span> =&gt; <a href="MappedField.scala.html#147449" title="(inst: T, meth: java.lang.reflect.Method, func: PartialFunction[net.liftweb.mapper.MappedField[java.util.Date,T],Unit])Unit">doField</a><span class="delimiter">(</span><a href="#159633" title="T">inst</a>, <a href="#159629" title="java.lang.reflect.Method">accessor</a>, <a href="#159636" title="Unit" class="delimiter">{</a><span class="keyword">case</span> <a title="Unit" id="159637">f</a>: <a href="#11342" title="net.liftweb.mapper.MappedDate[_]">MappedDate</a><span class="delimiter">[</span>_<span class="delimiter">]</span> =&gt; <a href="#159637" title="&lt;none&gt; extends net.liftweb.mapper.MappedField[java.util.Date,T] with net.liftweb.mapper.MappedDate[_]">f</a>.<a href="#158761" title="(in: net.liftweb.common.Box[java.util.Date])Unit">st</a><span class="delimiter">(</span><a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: java.util.Date)net.liftweb.common.Full[java.util.Date]">Full</a><span class="delimiter">(</span><a href="#159634" title="java.util.Date">v</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(accessor: java.lang.reflect.Method, columnName: String)(T, Boolean, Boolean) =&gt; Unit" id="158766">buildSetBooleanValue</a><span class="delimiter">(</span><a title="java.lang.reflect.Method" id="159645">accessor</a>: <span title="java.lang.reflect.Method">Method</span>, <a title="String" id="159646">columnName</a>: <span title="String">String</span><span class="delimiter">)</span>: <span class="delimiter">(</span>T, Boolean, Boolean<span class="delimiter">)</span> =&gt; Unit =
  <span class="delimiter">(</span><a title="T" id="159649">inst</a>, <a title="Boolean" id="159650">v</a>, <a title="Boolean" id="159651">isNull</a><span class="delimiter">)</span> =&gt; <a href="MappedField.scala.html#147449" title="(inst: T, meth: java.lang.reflect.Method, func: PartialFunction[net.liftweb.mapper.MappedField[java.util.Date,T],Unit])Unit">doField</a><span class="delimiter">(</span><a href="#159649" title="T">inst</a>, <a href="#159645" title="java.lang.reflect.Method">accessor</a>, <a href="#159653" title="Unit" class="delimiter">{</a><span class="keyword">case</span> <a title="Unit" id="159654">f</a>: <a href="#11342" title="net.liftweb.mapper.MappedDate[_]">MappedDate</a><span class="delimiter">[</span>_<span class="delimiter">]</span> =&gt; <a href="#159654" title="&lt;none&gt; extends net.liftweb.mapper.MappedField[java.util.Date,T] with net.liftweb.mapper.MappedDate[_]">f</a>.<a href="#158761" title="(in: net.liftweb.common.Box[java.util.Date])Unit">st</a><span class="delimiter">(</span><a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a><span class="delimiter">)</span><span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Given the driver type, return the string required to create the column in the database
   */</span>
  <span class="keyword">def</span> <a title="(dbType: net.liftweb.mapper.package.DriverType, colName: String)String" id="158767">fieldCreatorString</a><span class="delimiter">(</span><a title="net.liftweb.mapper.package.DriverType" id="159659">dbType</a>: <a href="../../../../db/net/liftweb/db/Driver.scala.html#10921" title="net.liftweb.mapper.package.DriverType">DriverType</a>, <a title="String" id="159660">colName</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#159660" title="String">colName</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#159659" title="net.liftweb.mapper.package.DriverType">dbType</a>.<a href="../../../../db/net/liftweb/db/Driver.scala.html#66504" title="=&gt; String">dateColumnType</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="MappedField.scala.html#147397" title="()java.lang.String">notNullAppender</a><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="=&gt; Boolean" id="158768">inFuture_?</a> = <a href="#158738" title="=&gt; net.liftweb.util.FatLazy[java.util.Date]">data</a>.<a href="../../../../util/net/liftweb/util/FatLazy.scala.html#147758" title="=&gt; java.util.Date">get</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Boolean(false)" class="keyword">null</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">case</span> <a title="Boolean" id="159666">d</a> =&gt; <a href="#159666" title="java.util.Date">d</a>.<span title="()Long">getTime</span> <span title="(x: Long)Boolean">&gt;</span> <a href="../../../../util/net/liftweb/util/TimeHelpers.scala.html#48788" title="=&gt; Long">millis</a>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="158769">inPast_?</a> = <a href="#158738" title="=&gt; net.liftweb.util.FatLazy[java.util.Date]">data</a>.<a href="../../../../util/net/liftweb/util/FatLazy.scala.html#147758" title="=&gt; java.util.Date">get</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Boolean(false)" class="keyword">null</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">case</span> <a title="Boolean" id="159674">d</a> =&gt; <a href="#159674" title="java.util.Date">d</a>.<span title="()Long">getTime</span> <span title="(x: Long)Boolean">&lt;</span> <a href="../../../../util/net/liftweb/util/TimeHelpers.scala.html#48788" title="=&gt; Long">millis</a>
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="158770">toString</a>: <span title="String">String</span> = <span title="String" class="keyword">if</span><span class="delimiter">(</span><a href="MappedField.scala.html#147450" title="=&gt; java.util.Date">is</a><span title="(x$1: AnyRef)Boolean">==</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;NULL&quot;)" class="string">&quot;NULL&quot;</span> <span class="keyword">else</span> <a href="#158743" title="(d: java.util.Date)String">format</a><span class="delimiter">(</span><a href="MappedField.scala.html#147450" title="=&gt; java.util.Date">is</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>