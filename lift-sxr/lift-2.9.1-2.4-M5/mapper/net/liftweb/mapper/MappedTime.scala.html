<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>mapper/net/liftweb/mapper/MappedTime.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*
 * Copyright 2006-2011 WorldWide Conferencing, LLC
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */</span>

<span class="keyword">package</span> net.liftweb
<span class="keyword">package</span> mapper

<span class="keyword">import</span> java.sql.<span class="delimiter">{</span>ResultSet, Types<span class="delimiter">}</span>
<span class="keyword">import</span> java.util.Date
<span class="keyword">import</span> java.lang.reflect.Method

<span class="keyword">import</span> net.liftweb._
<span class="keyword">import</span> util._
<span class="keyword">import</span> common._
<span class="keyword">import</span> <a href="../../../../util/net/liftweb/util/Helpers.scala.html#13346" title="object net.liftweb.util.Helpers">Helpers</a>._
<span class="keyword">import</span> http._
<span class="keyword">import</span> <a href="../../../../webkit/net/liftweb/http/S.scala.html#14641" title="object net.liftweb.http.S">S</a>._
<span class="keyword">import</span> js._
<span class="keyword">import</span> json._

<span class="keyword">import</span> scala.xml.<span class="delimiter">{</span>NodeSeq<span class="delimiter">}</span>

<span class="comment">/**
 * Represents a time with hour, minute and second fields. The underlying type is
 * java.util.Date to keep things simple, but be aware that the date portion of the
 * values will most likely be discarded when this is saved to the database.
 *
 * @see MappedDateTime
 * @see MappedDate
 */</span>

<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class MappedTime[T &lt;: net.liftweb.mapper.Mapper[T]] extends java.lang.Object with net.liftweb.mapper.MappedField[java.util.Date,T] with ScalaObject" id="11601">MappedTime</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: net.liftweb.mapper.Mapper[T]" id="11602">T</a>&lt;:Mapper<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span><a href="#11601" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="T" id="168371">fieldOwner</a>: <a href="#11602" title="T">T</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="MappedField.scala.html#11427" title="net.liftweb.mapper.MappedField[java.util.Date,T]">MappedField</a><span class="delimiter">[</span>Date, T<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="net.liftweb.util.FatLazy[java.util.Date]" id="168330">data</a> = <a href="../../../../util/net/liftweb/util/FatLazy.scala.html#154877" title="(f: =&gt; java.util.Date)net.liftweb.util.FatLazy[java.util.Date]">FatLazy</a><span class="delimiter">(</span><a href="#168342" title="=&gt; java.util.Date">defaultValue</a><span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="net.liftweb.util.FatLazy[java.util.Date]" id="168332">orgData</a> = <a href="../../../../util/net/liftweb/util/FatLazy.scala.html#154877" title="(f: =&gt; java.util.Date)net.liftweb.util.FatLazy[java.util.Date]">FatLazy</a><span class="delimiter">(</span><a href="#168342" title="=&gt; java.util.Date">defaultValue</a><span class="delimiter">)</span>

  <span class="comment">/**
   * This method defines the string parsing semantics of this field. Used in setFromAny.
   * By default uses LiftRules.dateTimeConverter's parseTime; override for field-specific behavior
   */</span>
  <span class="keyword">def</span> <a title="(s: String)net.liftweb.common.Box[java.util.Date]" id="168334">parse</a><span class="delimiter">(</span><a title="String" id="168372">s</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[java.util.Date]">Box</a><span class="delimiter">[</span>Date<span class="delimiter">]</span> = <a href="../../../../webkit/net/liftweb/http/LiftRules.scala.html#158817" title="implicit net.liftweb.http.LiftRulesMocker.toLiftRules : (in: net.liftweb.http.LiftRulesMocker)net.liftweb.http.LiftRules">LiftRules</a>.<a href="../../../../util/net/liftweb/util/Maker.scala.html#150935" title="()net.liftweb.util.DateTimeConverter">dateTimeConverter</a><span class="delimiter">(</span><span class="delimiter">)</span>.<a href="../../../../util/net/liftweb/util/DateTimeConverter.scala.html#159345" title="(s: String)net.liftweb.common.Box[java.util.Date]">parseTime</a><span class="delimiter">(</span><a href="#168372" title="String">s</a><span class="delimiter">)</span>
  <span class="comment">/**
   * This method defines the string parsing semantics of this field. Used in toString, _toForm.
   * By default uses LiftRules.dateTimeConverter's formatTime; override for field-specific behavior
   */</span>
  <span class="keyword">def</span> <a title="(d: java.util.Date)String" id="168335">format</a><span class="delimiter">(</span><a title="java.util.Date" id="168384">d</a>: <span title="java.util.Date">Date</span><span class="delimiter">)</span>: <span title="String">String</span> = <a href="../../../../webkit/net/liftweb/http/LiftRules.scala.html#158817" title="implicit net.liftweb.http.LiftRulesMocker.toLiftRules : (in: net.liftweb.http.LiftRulesMocker)net.liftweb.http.LiftRules">LiftRules</a>.<a href="../../../../util/net/liftweb/util/Maker.scala.html#150935" title="()net.liftweb.util.DateTimeConverter">dateTimeConverter</a><span class="delimiter">(</span><span class="delimiter">)</span>.<a href="../../../../util/net/liftweb/util/DateTimeConverter.scala.html#159342" title="(d: java.util.Date)String">formatTime</a><span class="delimiter">(</span><a href="#168384" title="java.util.Date">d</a><span class="delimiter">)</span>
  

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(value: java.util.Date)java.util.Date" id="168336">real_i_set_!</a><span class="delimiter">(</span><a title="java.util.Date" id="168393">value</a>: <span title="java.util.Date">Date</span><span class="delimiter">)</span>: <span title="java.util.Date">Date</span> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#168393" title="java.util.Date">value</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#168330" title="=&gt; net.liftweb.util.FatLazy[java.util.Date]">data</a>.<a href="../../../../util/net/liftweb/util/FatLazy.scala.html#147758" title="=&gt; java.util.Date">get</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../../../../util/net/liftweb/util/FatLazy.scala.html#147762" title="(v: java.util.Date)Unit">data</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#168393" title="java.util.Date">value</a>
      <a href="#11601" title="MappedTime.this.type" class="keyword">this</a>.<a href="MappedField.scala.html#147402" title="(b: Boolean)Unit">dirty_?</a><span class="delimiter">(</span> <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#168330" title="=&gt; net.liftweb.util.FatLazy[java.util.Date]">data</a>.<a href="../../../../util/net/liftweb/util/FatLazy.scala.html#147758" title="=&gt; java.util.Date">get</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; java.lang.Class[java.util.Date]" id="168337">dbFieldClass</a> = classOf<span title="java.lang.Class[java.util.Date](classOf[java.util.Date])" class="delimiter">[</span>Date<span class="delimiter">]</span>

  <span class="keyword">def</span> <a title="=&gt; Long" id="168338">toLong</a>: <span title="Long">Long</span> = <a href="MappedField.scala.html#147450" title="=&gt; java.util.Date">is</a> <span title="Long" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Long(0L)" class="keyword">null</span> =&gt; <span title="Long(0L)" class="long">0L</span>
    <span class="keyword">case</span> <a title="Long" id="168408">d</a>: <span title="java.util.Date">Date</span> =&gt; <a href="#168408" title="java.util.Date">d</a>.<span title="()Long">getTime</span> <span title="(x: Long)Long">/</span> <span title="Long(1000L)" class="long">1000L</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; net.liftweb.http.js.JsExp" id="168339">asJsExp</a>: <a href="../../../../webkit/net/liftweb/http/js/JsCommands.scala.html#14908" title="net.liftweb.http.js.JsExp">JsExp</a> = <a href="../../../../webkit/net/liftweb/http/js/JsCommands.scala.html#14910" title="object net.liftweb.http.js.JE">JE</a>.<a href="../../../../webkit/net/liftweb/http/js/JsCommands.scala.html#159380" title="(lng: Long)net.liftweb.http.js.JE.Num">Num</a><span class="delimiter">(</span><a href="#168338" title="=&gt; Long">toLong</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="=&gt; net.liftweb.common.Box[net.liftweb.json.JsonAST.JValue]" id="168340">asJsonValue</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.json.JsonAST.JValue]">Box</a><span class="delimiter">[</span>JsonAST.JValue<span class="delimiter">]</span> = <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: net.liftweb.json.JsonAST.JValue)net.liftweb.common.Full[net.liftweb.json.JsonAST.JValue]">Full</a><span class="delimiter">(</span><a href="MappedField.scala.html#147450" title="=&gt; java.util.Date">is</a> <span title="net.liftweb.json.JsonAST.JValue" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="net.liftweb.json.JsonAST.JNull.type" class="keyword">null</span> =&gt; <a href="../../../../json/net/liftweb/json/JsonAST.scala.html#11132" title="object net.liftweb.json.JsonAST">JsonAST</a>.<a href="../../../../json/net/liftweb/json/JsonAST.scala.html#48513" title="object net.liftweb.json.JsonAST.JNull">JNull</a>
    <span class="keyword">case</span> <a title="net.liftweb.json.JsonAST.JInt" id="168427">x</a> =&gt; <a href="../../../../json/net/liftweb/json/JsonAST.scala.html#11132" title="object net.liftweb.json.JsonAST">JsonAST</a>.<a href="../../../../json/net/liftweb/json/JsonAST.scala.html#51543" title="(num: BigInt)net.liftweb.json.JsonAST.JInt">JInt</a><span class="delimiter">(</span><a href="#168427" title="java.util.Date">x</a>.<span title="implicit scala.math.BigInt.long2bigInt : (l: Long)scala.math.BigInt">getTime</span><span class="delimiter">)</span>
  <span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Get the JDBC SQL Type for this field
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Int" id="168341">targetSQLType</a> = Types.<span title="Int(92)">TIME</span>

  <span class="keyword">def</span> <a title="=&gt; java.util.Date" id="168342">defaultValue</a>: <span title="java.util.Date">Date</span> = <span title="Null(null)" class="keyword">null</span>
  <span class="comment">// private val defaultValue_i = new Date</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="168343">writePermission_?</a> = <span title="Boolean(true)" class="keyword">true</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="168344">readPermission_?</a> = <span title="Boolean(true)" class="keyword">true</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; java.util.Date" id="168345">i_is_!</a> = <a href="#168330" title="=&gt; net.liftweb.util.FatLazy[java.util.Date]">data</a>.<a href="../../../../util/net/liftweb/util/FatLazy.scala.html#147758" title="=&gt; java.util.Date">get</a>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; java.util.Date" id="168346">i_was_!</a> = <a href="#168332" title="=&gt; net.liftweb.util.FatLazy[java.util.Date]">orgData</a>.<a href="../../../../util/net/liftweb/util/FatLazy.scala.html#147758" title="=&gt; java.util.Date">get</a>
  <span class="keyword">protected</span><span class="delimiter">[</span>mapper<span class="delimiter">]</span> <span class="keyword">def</span> <a title="()Unit" id="168347">doneWithSave</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span><a href="#168332" title="=&gt; net.liftweb.util.FatLazy[java.util.Date]">orgData</a>.<a href="../../../../util/net/liftweb/util/FatLazy.scala.html#147761" title="(other: net.liftweb.util.FatLazy[java.util.Date])Unit">setFrom</a><span class="delimiter">(</span><a href="#168330" title="=&gt; net.liftweb.util.FatLazy[java.util.Date]">data</a><span class="delimiter">)</span><span class="delimiter">}</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(in: java.util.Date)java.util.Date" id="168348">i_obscure_!</a><span class="delimiter">(</span><a title="java.util.Date" id="168450">in</a> : <span title="java.util.Date">Date</span><span class="delimiter">)</span> : <span title="java.util.Date">Date</span> = <span class="delimiter">{</span>
    <span title="(x$1: Long)java.util.Date" class="keyword">new</span> <span title="java.util.Date">Date</span><span class="delimiter">(</span><span title="Long(0L)" class="long">0L</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Create an input field for the item
   */</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; net.liftweb.common.Box[scala.xml.NodeSeq]" id="168349">_toForm</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[scala.xml.NodeSeq]">Box</a><span class="delimiter">[</span>NodeSeq<span class="delimiter">]</span> =
  <a href="../../../../webkit/net/liftweb/http/S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="../../../../webkit/net/liftweb/http/S.scala.html#49525" title="(in: net.liftweb.http.S.AFuncHolder)(f: String =&gt; net.liftweb.common.Full[scala.xml.Elem])net.liftweb.common.Full[scala.xml.Elem]">fmapFunc</a><span class="delimiter">(</span><span class="delimiter">{</span>s: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> =&gt; <a href="#11601" title="MappedTime.this.type" class="keyword">this</a>.<a href="#168350" title="(f: Any)java.util.Date">setFromAny</a><span class="delimiter">(</span><a href="#168463" title="List[String]">s</a><span class="delimiter">)</span><span class="delimiter">}</span><span class="delimiter">)</span><span class="delimiter">{</span><a title="String" id="168468">funcName</a> =&gt;
  <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: scala.xml.Elem)net.liftweb.common.Full[scala.xml.Elem]">Full</a><span class="delimiter">(</span><a href="MappedField.scala.html#147437" title="(in: scala.xml.Elem)scala.xml.Elem">appendFieldId</a><span class="delimiter">(</span>&lt;<a title="scala.xml.MetaData" id="168471">input</a> <span class="keyword">type</span>=<span class="delimiter">{</span><a href="MappedField.scala.html#147436" title="=&gt; java.lang.String">formInputType</a><span class="delimiter">}</span>
                     name=<span class="delimiter">{</span><a href="#168468" title="String">funcName</a><span class="delimiter">}</span>
                     value=<span class="delimiter">{</span><a href="MappedField.scala.html#147450" title="=&gt; java.util.Date">is</a> <span title="java.lang.String" class="keyword">match</span> <span class="delimiter">{</span><span class="keyword">case</span> <span title="java.lang.String(&quot;&quot;)" class="keyword">null</span> =&gt; <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">case</span> <a title="String" id="168476">s</a> =&gt; <a href="#168335" title="(d: java.util.Date)String">format</a><span class="delimiter">(</span><a href="#168476" title="java.util.Date">s</a><span class="delimiter">)</span><span class="delimiter">}</span><span class="delimiter">}</span>/&gt;<span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(f: Any)java.util.Date" id="168350">setFromAny</a><span class="delimiter">(</span><a title="Any" id="168464">f</a> : <span title="Any">Any</span><span class="delimiter">)</span>: <span title="java.util.Date">Date</span> = <a href="#168464" title="Any">f</a> <span title="java.util.Date" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a href="../../../../json/net/liftweb/json/JsonAST.scala.html#11132" title="java.util.Date">JsonAST</a>.<a href="../../../../json/net/liftweb/json/JsonAST.scala.html#48513" title="object net.liftweb.json.JsonAST.JNull">JNull</a> =&gt; <a href="#11601" title="MappedTime.this.type" class="keyword">this</a>.<a href="MappedField.scala.html#147418" title="(value: java.util.Date)java.util.Date">set</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="java.util.Date">JsonAST</span>.JInt<span class="delimiter">(</span><a title="BigInt" id="168490">v</a><span class="delimiter">)</span> =&gt; <a href="#11601" title="MappedTime.this.type" class="keyword">this</a>.<a href="MappedField.scala.html#147418" title="(value: java.util.Date)java.util.Date">set</a><span class="delimiter">(</span><span title="(x$1: Long)java.util.Date" class="keyword">new</span> <span title="java.util.Date">Date</span><span class="delimiter">(</span><a href="#168490" title="BigInt">v</a>.<span title="()Long">longValue</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="java.util.Date" class="string">&quot;&quot;</span> | <span title="Null(null)" class="keyword">null</span> =&gt; <a href="#11601" title="MappedTime.this.type" class="keyword">this</a>.<a href="MappedField.scala.html#147418" title="(value: java.util.Date)java.util.Date">set</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="java.util.Date" id="168495">s</a>: <span title="String">String</span> =&gt; <a href="#168334" title="(s: String)net.liftweb.common.Box[java.util.Date]">parse</a><span class="delimiter">(</span><a href="#168495" title="String">s</a><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: java.util.Date =&gt; java.util.Date)net.liftweb.common.Box[java.util.Date]">map</a><span class="delimiter">(</span><a title="java.util.Date" id="168500">s</a> =&gt; <a href="#11601" title="MappedTime.this.type" class="keyword">this</a>.<a href="MappedField.scala.html#147418" title="(value: java.util.Date)java.util.Date">set</a><span class="delimiter">(</span><a href="#168500" title="java.util.Date">s</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; java.util.Date)java.util.Date">openOr</a><span class="delimiter">(</span><a href="#11601" title="MappedTime.this.type" class="keyword">this</a>.<a href="MappedField.scala.html#147450" title="=&gt; java.util.Date">is</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="java.util.Date" id="168511">x</a> :: _ =&gt; <a href="#168350" title="(f: Any)java.util.Date">setFromAny</a><span class="delimiter">(</span><a href="#168511" title="Any">x</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="java.util.Date" id="168512">d</a>: <span title="java.util.Date">Date</span> =&gt; <a href="#11601" title="MappedTime.this.type" class="keyword">this</a>.<a href="MappedField.scala.html#147418" title="(value: java.util.Date)java.util.Date">set</a><span class="delimiter">(</span><a href="#168512" title="java.util.Date">d</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="java.util.Date">Some</span><span class="delimiter">(</span><a title="java.util.Date" id="168514">d</a>: <span title="java.util.Date">Date</span><span class="delimiter">)</span> =&gt; <a href="#11601" title="MappedTime.this.type" class="keyword">this</a>.<a href="MappedField.scala.html#147418" title="(value: java.util.Date)java.util.Date">set</a><span class="delimiter">(</span><a href="#168514" title="java.util.Date">d</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="java.util.Date">Full</span><span class="delimiter">(</span><a title="java.util.Date" id="168516">d</a>: <span title="java.util.Date">Date</span><span class="delimiter">)</span> =&gt; <a href="#11601" title="MappedTime.this.type" class="keyword">this</a>.<a href="MappedField.scala.html#147418" title="(value: java.util.Date)java.util.Date">set</a><span class="delimiter">(</span><a href="#168516" title="java.util.Date">d</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="java.util.Date">None</span> | <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a> | Failure<span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> =&gt; <a href="#11601" title="MappedTime.this.type" class="keyword">this</a>.<a href="MappedField.scala.html#147418" title="(value: java.util.Date)java.util.Date">set</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="java.util.Date" id="168517">f</a> =&gt; <a href="../../../../util/net/liftweb/util/TimeHelpers.scala.html#48832" title="(in: Any)net.liftweb.common.Box[java.util.Date]">toDate</a><span class="delimiter">(</span><a href="#168517" title="Any">f</a><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: java.util.Date =&gt; java.util.Date)net.liftweb.common.Box[java.util.Date]">map</a><span class="delimiter">(</span><a title="java.util.Date" id="168521">d</a> =&gt; <a href="#11601" title="MappedTime.this.type" class="keyword">this</a>.<a href="MappedField.scala.html#147418" title="(value: java.util.Date)java.util.Date">set</a><span class="delimiter">(</span><a href="#168521" title="java.util.Date">d</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; java.util.Date)java.util.Date">openOr</a><span class="delimiter">(</span><a href="#11601" title="MappedTime.this.type" class="keyword">this</a>.<a href="MappedField.scala.html#147450" title="=&gt; java.util.Date">is</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(field: String)java.lang.Object" id="168351">jdbcFriendly</a><span class="delimiter">(</span><a title="String" id="168526">field</a> : <span title="String">String</span><span class="delimiter">)</span> : <span title="java.lang.Object">Object</span> = <a href="MappedField.scala.html#147450" title="=&gt; java.util.Date">is</a> <span title="java.lang.Object" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Null(null)" class="keyword">null</span> =&gt; <span title="Null(null)" class="keyword">null</span>
    <span class="keyword">case</span> <a title="java.sql.Time" id="168529">d</a> =&gt; <span title="(x$1: Long)java.sql.Time" class="keyword">new</span> java.sql.<span title="java.sql.Time">Time</span><span class="delimiter">(</span><a href="#168529" title="java.util.Date">d</a>.<span title="()Long">getTime</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(value: java.util.Date)java.lang.Object" id="168352">real_convertToJDBCFriendly</a><span class="delimiter">(</span><a title="java.util.Date" id="168532">value</a>: <span title="java.util.Date">Date</span><span class="delimiter">)</span>: <span title="java.lang.Object">Object</span> = <span title="java.lang.Object" class="keyword">if</span> <span class="delimiter">(</span><a href="#168532" title="java.util.Date">value</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="Null(null)" class="keyword">null</span> <span class="keyword">else</span> <span title="(x$1: Long)java.sql.Time" class="keyword">new</span> java.sql.<span title="java.sql.Time">Time</span><span class="delimiter">(</span><a href="#168532" title="java.util.Date">value</a>.<span title="()Long">getTime</span><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(in: net.liftweb.common.Box[java.util.Date])Unit" id="168353">st</a><span class="delimiter">(</span><a title="net.liftweb.common.Box[java.util.Date]" id="168541">in</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[java.util.Date]">Box</a><span class="delimiter">[</span>Date<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
  <a href="#168541" title="net.liftweb.common.Box[java.util.Date]">in</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Unit">Full</span><span class="delimiter">(</span><a title="java.util.Date" id="168544">d</a><span class="delimiter">)</span> =&gt; <a href="#168330" title="=&gt; net.liftweb.util.FatLazy[java.util.Date]">data</a>.<a href="../../../../util/net/liftweb/util/FatLazy.scala.html#147760" title="(v: java.util.Date)java.util.Date">set</a><span class="delimiter">(</span><a href="#168544" title="java.util.Date">d</a><span class="delimiter">)</span>; <a href="#168332" title="=&gt; net.liftweb.util.FatLazy[java.util.Date]">orgData</a>.<a href="../../../../util/net/liftweb/util/FatLazy.scala.html#147760" title="(v: java.util.Date)java.util.Date">set</a><span title="Unit" class="delimiter">(</span><a href="#168544" title="java.util.Date">d</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <a href="#168330" title="=&gt; net.liftweb.util.FatLazy[java.util.Date]">data</a>.<a href="../../../../util/net/liftweb/util/FatLazy.scala.html#147760" title="(v: java.util.Date)java.util.Date">set</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>; <a href="#168332" title="=&gt; net.liftweb.util.FatLazy[java.util.Date]">orgData</a>.<a href="../../../../util/net/liftweb/util/FatLazy.scala.html#147760" title="(v: java.util.Date)java.util.Date">set</a><span title="Unit" class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(accessor: java.lang.reflect.Method, v: AnyRef, columnName: String)(T, AnyRef) =&gt; Unit" id="168354">buildSetActualValue</a><span class="delimiter">(</span><a title="java.lang.reflect.Method" id="168549">accessor</a>: <span title="java.lang.reflect.Method">Method</span>, <a title="AnyRef" id="168550">v</a>: <span title="AnyRef">AnyRef</span>, <a title="String" id="168551">columnName</a>: <span title="String">String</span><span class="delimiter">)</span>: <span class="delimiter">(</span>T, AnyRef<span class="delimiter">)</span> =&gt; Unit =
  <span class="delimiter">(</span><a title="T" id="168554">inst</a>, <a title="AnyRef" id="168555">v</a><span class="delimiter">)</span> =&gt; <a href="MappedField.scala.html#147449" title="(inst: T, meth: java.lang.reflect.Method, func: PartialFunction[net.liftweb.mapper.MappedField[java.util.Date,T],Unit])Unit">doField</a><span class="delimiter">(</span><a href="#168554" title="T">inst</a>, <a href="#168549" title="java.lang.reflect.Method">accessor</a>, <a href="#168560" title="Unit" class="delimiter">{</a><span class="keyword">case</span> <a title="Unit" id="168561">f</a>: <a href="#11601" title="net.liftweb.mapper.MappedTime[T]">MappedTime</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =&gt; <a href="#168561" title="net.liftweb.mapper.MappedTime[T]">f</a>.<a href="#168353" title="(in: net.liftweb.common.Box[java.util.Date])Unit">st</a><span class="delimiter">(</span><a href="../../../../util/net/liftweb/util/TimeHelpers.scala.html#48832" title="(in: Any)net.liftweb.common.Box[java.util.Date]">toDate</a><span class="delimiter">(</span><a href="#168555" title="AnyRef">v</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(accessor: java.lang.reflect.Method, columnName: String)(T, Long, Boolean) =&gt; Unit" id="168355">buildSetLongValue</a><span class="delimiter">(</span><a title="java.lang.reflect.Method" id="168562">accessor</a>: <span title="java.lang.reflect.Method">Method</span>, <a title="String" id="168563">columnName</a>: <span title="String">String</span><span class="delimiter">)</span>: <span class="delimiter">(</span>T, Long, Boolean<span class="delimiter">)</span> =&gt; Unit =
  <span class="delimiter">(</span><a title="T" id="168566">inst</a>, <a title="Long" id="168567">v</a>, <a title="Boolean" id="168568">isNull</a><span class="delimiter">)</span> =&gt; <a href="MappedField.scala.html#147449" title="(inst: T, meth: java.lang.reflect.Method, func: PartialFunction[net.liftweb.mapper.MappedField[java.util.Date,T],Unit])Unit">doField</a><span class="delimiter">(</span><a href="#168566" title="T">inst</a>, <a href="#168562" title="java.lang.reflect.Method">accessor</a>, <a href="#168570" title="Unit" class="delimiter">{</a><span class="keyword">case</span> <a title="Unit" id="168571">f</a>: <a href="#11601" title="net.liftweb.mapper.MappedTime[T]">MappedTime</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =&gt; <a href="#168571" title="net.liftweb.mapper.MappedTime[T]">f</a>.<a href="#168353" title="(in: net.liftweb.common.Box[java.util.Date])Unit">st</a><span class="delimiter">(</span><span title="net.liftweb.common.Box[java.util.Date]" class="keyword">if</span> <span class="delimiter">(</span><a href="#168568" title="Boolean">isNull</a><span class="delimiter">)</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a> <span class="keyword">else</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: java.util.Date)net.liftweb.common.Full[java.util.Date]">Full</a><span class="delimiter">(</span><span title="(x$1: Long)java.util.Date" class="keyword">new</span> <span title="java.util.Date">Date</span><span class="delimiter">(</span><a href="#168567" title="Long">v</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(accessor: java.lang.reflect.Method, columnName: String)(T, String) =&gt; Unit" id="168356">buildSetStringValue</a><span class="delimiter">(</span><a title="java.lang.reflect.Method" id="168579">accessor</a>: <span title="java.lang.reflect.Method">Method</span>, <a title="String" id="168580">columnName</a>: <span title="String">String</span><span class="delimiter">)</span>: <span class="delimiter">(</span>T, String<span class="delimiter">)</span> =&gt; Unit =
  <span class="delimiter">(</span><a title="T" id="168583">inst</a>, <a title="String" id="168584">v</a><span class="delimiter">)</span> =&gt; <a href="MappedField.scala.html#147449" title="(inst: T, meth: java.lang.reflect.Method, func: PartialFunction[net.liftweb.mapper.MappedField[java.util.Date,T],Unit])Unit">doField</a><span class="delimiter">(</span><a href="#168583" title="T">inst</a>, <a href="#168579" title="java.lang.reflect.Method">accessor</a>, <a href="#168586" title="Unit" class="delimiter">{</a><span class="keyword">case</span> <a title="Unit" id="168587">f</a>: <a href="#11601" title="net.liftweb.mapper.MappedTime[T]">MappedTime</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =&gt; <a href="#168587" title="net.liftweb.mapper.MappedTime[T]">f</a>.<a href="#168353" title="(in: net.liftweb.common.Box[java.util.Date])Unit">st</a><span class="delimiter">(</span><a href="../../../../util/net/liftweb/util/TimeHelpers.scala.html#48832" title="(in: Any)net.liftweb.common.Box[java.util.Date]">toDate</a><span class="delimiter">(</span><a href="#168584" title="String">v</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(accessor: java.lang.reflect.Method, columnName: String)(T, java.util.Date) =&gt; Unit" id="168357">buildSetDateValue</a><span class="delimiter">(</span><a title="java.lang.reflect.Method" id="168588">accessor</a>: <span title="java.lang.reflect.Method">Method</span>, <a title="String" id="168589">columnName</a>: <span title="String">String</span><span class="delimiter">)</span>: <span class="delimiter">(</span>T, Date<span class="delimiter">)</span> =&gt; Unit =
  <span class="delimiter">(</span><a title="T" id="168592">inst</a>, <a title="java.util.Date" id="168593">v</a><span class="delimiter">)</span> =&gt; <a href="MappedField.scala.html#147449" title="(inst: T, meth: java.lang.reflect.Method, func: PartialFunction[net.liftweb.mapper.MappedField[java.util.Date,T],Unit])Unit">doField</a><span class="delimiter">(</span><a href="#168592" title="T">inst</a>, <a href="#168588" title="java.lang.reflect.Method">accessor</a>, <a href="#168595" title="Unit" class="delimiter">{</a><span class="keyword">case</span> <a title="Unit" id="168596">f</a>: <a href="#11601" title="net.liftweb.mapper.MappedTime[T]">MappedTime</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =&gt; <a href="#168596" title="net.liftweb.mapper.MappedTime[T]">f</a>.<a href="#168353" title="(in: net.liftweb.common.Box[java.util.Date])Unit">st</a><span class="delimiter">(</span><a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: java.util.Date)net.liftweb.common.Full[java.util.Date]">Full</a><span class="delimiter">(</span><a href="#168593" title="java.util.Date">v</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(accessor: java.lang.reflect.Method, columnName: String)(T, Boolean, Boolean) =&gt; Unit" id="168358">buildSetBooleanValue</a><span class="delimiter">(</span><a title="java.lang.reflect.Method" id="168600">accessor</a>: <span title="java.lang.reflect.Method">Method</span>, <a title="String" id="168601">columnName</a>: <span title="String">String</span><span class="delimiter">)</span>: <span class="delimiter">(</span>T, Boolean, Boolean<span class="delimiter">)</span> =&gt; Unit =
  <span class="delimiter">(</span><a title="T" id="168604">inst</a>, <a title="Boolean" id="168605">v</a>, <a title="Boolean" id="168606">isNull</a><span class="delimiter">)</span> =&gt; <a href="MappedField.scala.html#147449" title="(inst: T, meth: java.lang.reflect.Method, func: PartialFunction[net.liftweb.mapper.MappedField[java.util.Date,T],Unit])Unit">doField</a><span class="delimiter">(</span><a href="#168604" title="T">inst</a>, <a href="#168600" title="java.lang.reflect.Method">accessor</a>, <a href="#168608" title="Unit" class="delimiter">{</a><span class="keyword">case</span> <a title="Unit" id="168609">f</a>: <a href="#11601" title="net.liftweb.mapper.MappedTime[T]">MappedTime</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =&gt; <a href="#168609" title="net.liftweb.mapper.MappedTime[T]">f</a>.<a href="#168353" title="(in: net.liftweb.common.Box[java.util.Date])Unit">st</a><span class="delimiter">(</span><a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a><span class="delimiter">)</span><span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Given the driver type, return the string required to create the column in the database
   */</span>
  <span class="keyword">def</span> <a title="(dbType: net.liftweb.mapper.package.DriverType, colName: String)String" id="168359">fieldCreatorString</a><span class="delimiter">(</span><a title="net.liftweb.mapper.package.DriverType" id="168610">dbType</a>: <a href="../../../../db/net/liftweb/db/Driver.scala.html#10921" title="net.liftweb.mapper.package.DriverType">DriverType</a>, <a title="String" id="168611">colName</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#168611" title="String">colName</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#168610" title="net.liftweb.mapper.package.DriverType">dbType</a>.<a href="../../../../db/net/liftweb/db/Driver.scala.html#66505" title="=&gt; String">timeColumnType</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="MappedField.scala.html#147397" title="()java.lang.String">notNullAppender</a><span class="delimiter">(</span><span class="delimiter">)</span>
  
  
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="168360">toString</a> = <span title="String" class="keyword">if</span><span class="delimiter">(</span><a href="MappedField.scala.html#147450" title="=&gt; java.util.Date">is</a><span title="(x$1: AnyRef)Boolean">==</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;NULL&quot;)" class="string">&quot;NULL&quot;</span> <span class="keyword">else</span> <a href="#168335" title="(d: java.util.Date)String">format</a><span class="delimiter">(</span><a href="MappedField.scala.html#147450" title="=&gt; java.util.Date">is</a><span class="delimiter">)</span>
<span class="delimiter">}</span>


        </pre>
    </body>
</html>