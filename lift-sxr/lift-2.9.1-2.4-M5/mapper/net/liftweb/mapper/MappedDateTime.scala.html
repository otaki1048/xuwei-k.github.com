<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>mapper/net/liftweb/mapper/MappedDateTime.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*
 * Copyright 2006-2011 WorldWide Conferencing, LLC
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */</span>

<span class="keyword">package</span> net.liftweb
<span class="keyword">package</span> mapper

<span class="keyword">import</span> java.sql.<span class="delimiter">{</span>ResultSet, Types<span class="delimiter">}</span>
<span class="keyword">import</span> java.util.Date
<span class="keyword">import</span> java.lang.reflect.Method

<span class="keyword">import</span> net.liftweb._
<span class="keyword">import</span> util._
<span class="keyword">import</span> common._
<span class="keyword">import</span> <a href="../../../../util/net/liftweb/util/Helpers.scala.html#13346" title="object net.liftweb.util.Helpers">Helpers</a>._
<span class="keyword">import</span> http._
<span class="keyword">import</span> json._
<span class="keyword">import</span> <a href="../../../../webkit/net/liftweb/http/S.scala.html#14641" title="object net.liftweb.http.S">S</a>._
<span class="keyword">import</span> js._

<span class="keyword">import</span> scala.xml.<span class="delimiter">{</span>NodeSeq<span class="delimiter">}</span>

<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class MappedDateTime[T &lt;: net.liftweb.mapper.Mapper[T]] extends java.lang.Object with net.liftweb.mapper.MappedField[java.util.Date,T] with ScalaObject" id="11359">MappedDateTime</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: net.liftweb.mapper.Mapper[T]" id="11360">T</a>&lt;:Mapper<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span><a href="#11359" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="T" id="159736">fieldOwner</a>: <a href="#11360" title="T">T</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="MappedField.scala.html#11427" title="net.liftweb.mapper.MappedField[java.util.Date,T]">MappedField</a><span class="delimiter">[</span>Date, T<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="net.liftweb.util.FatLazy[java.util.Date]" id="159693">data</a> = <a href="../../../../util/net/liftweb/util/FatLazy.scala.html#154877" title="(f: =&gt; java.util.Date)net.liftweb.util.FatLazy[java.util.Date]">FatLazy</a><span class="delimiter">(</span><a href="#159705" title="=&gt; java.util.Date">defaultValue</a><span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="net.liftweb.util.FatLazy[java.util.Date]" id="159695">orgData</a> = <a href="../../../../util/net/liftweb/util/FatLazy.scala.html#154877" title="(f: =&gt; java.util.Date)net.liftweb.util.FatLazy[java.util.Date]">FatLazy</a><span class="delimiter">(</span><a href="#159705" title="=&gt; java.util.Date">defaultValue</a><span class="delimiter">)</span>

  <span class="comment">/**
   * This method defines the string parsing semantics of this field. Used in setFromAny.
   * By default uses LiftRules.dateTimeConverter's parseDateTime; override for field-specific behavior
   */</span>
  <span class="keyword">def</span> <a title="(s: String)net.liftweb.common.Box[java.util.Date]" id="159697">parse</a><span class="delimiter">(</span><a title="String" id="159737">s</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[java.util.Date]">Box</a><span class="delimiter">[</span>Date<span class="delimiter">]</span> = <a href="../../../../webkit/net/liftweb/http/LiftRules.scala.html#158817" title="implicit net.liftweb.http.LiftRulesMocker.toLiftRules : (in: net.liftweb.http.LiftRulesMocker)net.liftweb.http.LiftRules">LiftRules</a>.<a href="../../../../util/net/liftweb/util/Maker.scala.html#150935" title="()net.liftweb.util.DateTimeConverter">dateTimeConverter</a><span class="delimiter">(</span><span class="delimiter">)</span>.<a href="../../../../util/net/liftweb/util/DateTimeConverter.scala.html#159343" title="(s: String)net.liftweb.common.Box[java.util.Date]">parseDateTime</a><span class="delimiter">(</span><a href="#159737" title="String">s</a><span class="delimiter">)</span>
  <span class="comment">/**
   * This method defines the string parsing semantics of this field. Used in toString, _toForm.
   * By default uses LiftRules.dateTimeConverter's formatDateTime; override for field-specific behavior
   */</span>
  <span class="keyword">def</span> <a title="(d: java.util.Date)String" id="159698">format</a><span class="delimiter">(</span><a title="java.util.Date" id="159749">d</a>: <span title="java.util.Date">Date</span><span class="delimiter">)</span>: <span title="String">String</span> = <a href="../../../../webkit/net/liftweb/http/LiftRules.scala.html#158817" title="implicit net.liftweb.http.LiftRulesMocker.toLiftRules : (in: net.liftweb.http.LiftRulesMocker)net.liftweb.http.LiftRules">LiftRules</a>.<a href="../../../../util/net/liftweb/util/Maker.scala.html#150935" title="()net.liftweb.util.DateTimeConverter">dateTimeConverter</a><span class="delimiter">(</span><span class="delimiter">)</span>.<a href="../../../../util/net/liftweb/util/DateTimeConverter.scala.html#159340" title="(d: java.util.Date)String">formatDateTime</a><span class="delimiter">(</span><a href="#159749" title="java.util.Date">d</a><span class="delimiter">)</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(value: java.util.Date)java.util.Date" id="159699">real_i_set_!</a><span class="delimiter">(</span><a title="java.util.Date" id="159758">value</a>: <span title="java.util.Date">Date</span><span class="delimiter">)</span>: <span title="java.util.Date">Date</span> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#159758" title="java.util.Date">value</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#159693" title="=&gt; net.liftweb.util.FatLazy[java.util.Date]">data</a>.<a href="../../../../util/net/liftweb/util/FatLazy.scala.html#147758" title="=&gt; java.util.Date">get</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../../../../util/net/liftweb/util/FatLazy.scala.html#147762" title="(v: java.util.Date)Unit">data</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#159758" title="java.util.Date">value</a>
      <a href="#11359" title="MappedDateTime.this.type" class="keyword">this</a>.<a href="MappedField.scala.html#147402" title="(b: Boolean)Unit">dirty_?</a><span class="delimiter">(</span> <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#159693" title="=&gt; net.liftweb.util.FatLazy[java.util.Date]">data</a>.<a href="../../../../util/net/liftweb/util/FatLazy.scala.html#147758" title="=&gt; java.util.Date">get</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; java.lang.Class[java.util.Date]" id="159700">dbFieldClass</a> = classOf<span title="java.lang.Class[java.util.Date](classOf[java.util.Date])" class="delimiter">[</span>Date<span class="delimiter">]</span>

  <span class="keyword">def</span> <a title="=&gt; net.liftweb.common.Box[net.liftweb.json.JsonAST.JValue]" id="159701">asJsonValue</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[net.liftweb.json.JsonAST.JValue]">Box</a><span class="delimiter">[</span>JsonAST.JValue<span class="delimiter">]</span> = <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: net.liftweb.json.JsonAST.JValue)net.liftweb.common.Full[net.liftweb.json.JsonAST.JValue]">Full</a><span class="delimiter">(</span><a href="MappedField.scala.html#147450" title="=&gt; java.util.Date">is</a> <span title="net.liftweb.json.JsonAST.JValue" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="net.liftweb.json.JsonAST.JNull.type" class="keyword">null</span> =&gt; <a href="../../../../json/net/liftweb/json/JsonAST.scala.html#11132" title="object net.liftweb.json.JsonAST">JsonAST</a>.<a href="../../../../json/net/liftweb/json/JsonAST.scala.html#48513" title="object net.liftweb.json.JsonAST.JNull">JNull</a>
    <span class="keyword">case</span> <a title="net.liftweb.json.JsonAST.JInt" id="159775">v</a> =&gt; <a href="../../../../json/net/liftweb/json/JsonAST.scala.html#11132" title="object net.liftweb.json.JsonAST">JsonAST</a>.<a href="../../../../json/net/liftweb/json/JsonAST.scala.html#51543" title="(num: BigInt)net.liftweb.json.JsonAST.JInt">JInt</a><span class="delimiter">(</span><a href="#159775" title="java.util.Date">v</a>.<span title="implicit scala.math.BigInt.long2bigInt : (l: Long)scala.math.BigInt">getTime</span><span class="delimiter">)</span>
  <span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="=&gt; Long" id="159702">toLong</a>: <span title="Long">Long</span> = <a href="MappedField.scala.html#147450" title="=&gt; java.util.Date">is</a> <span title="Long" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Long(0L)" class="keyword">null</span> =&gt; <span title="Long(0L)" class="long">0L</span>
    <span class="keyword">case</span> <a title="Long" id="159779">d</a>: <span title="java.util.Date">Date</span> =&gt; <a href="#159779" title="java.util.Date">d</a>.<span title="()Long">getTime</span> <span title="(x: Long)Long">/</span> <span title="Long(1000L)" class="long">1000L</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; net.liftweb.http.js.JsExp" id="159703">asJsExp</a>: <a href="../../../../webkit/net/liftweb/http/js/JsCommands.scala.html#14908" title="net.liftweb.http.js.JsExp">JsExp</a> = <a href="../../../../webkit/net/liftweb/http/js/JsCommands.scala.html#14910" title="object net.liftweb.http.js.JE">JE</a>.<a href="../../../../webkit/net/liftweb/http/js/JsCommands.scala.html#159380" title="(lng: Long)net.liftweb.http.js.JE.Num">Num</a><span class="delimiter">(</span><a href="#159702" title="=&gt; Long">toLong</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Get the JDBC SQL Type for this field
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Int" id="159704">targetSQLType</a> = Types.<span title="Int(93)">TIMESTAMP</span>

  <span class="keyword">def</span> <a title="=&gt; java.util.Date" id="159705">defaultValue</a>: <span title="java.util.Date">Date</span> = <span title="Null(null)" class="keyword">null</span>
  <span class="comment">// private val defaultValue_i = new Date</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="159706">writePermission_?</a> = <span title="Boolean(true)" class="keyword">true</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="159707">readPermission_?</a> = <span title="Boolean(true)" class="keyword">true</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; java.util.Date" id="159708">i_is_!</a> = <a href="#159693" title="=&gt; net.liftweb.util.FatLazy[java.util.Date]">data</a>.<a href="../../../../util/net/liftweb/util/FatLazy.scala.html#147758" title="=&gt; java.util.Date">get</a>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; java.util.Date" id="159709">i_was_!</a> = <a href="#159695" title="=&gt; net.liftweb.util.FatLazy[java.util.Date]">orgData</a>.<a href="../../../../util/net/liftweb/util/FatLazy.scala.html#147758" title="=&gt; java.util.Date">get</a>
  <span class="keyword">protected</span><span class="delimiter">[</span>mapper<span class="delimiter">]</span> <span class="keyword">def</span> <a title="()Unit" id="159710">doneWithSave</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span><a href="#159695" title="=&gt; net.liftweb.util.FatLazy[java.util.Date]">orgData</a>.<a href="../../../../util/net/liftweb/util/FatLazy.scala.html#147761" title="(other: net.liftweb.util.FatLazy[java.util.Date])Unit">setFrom</a><span class="delimiter">(</span><a href="#159693" title="=&gt; net.liftweb.util.FatLazy[java.util.Date]">data</a><span class="delimiter">)</span><span class="delimiter">}</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(in: java.util.Date)java.util.Date" id="159711">i_obscure_!</a><span class="delimiter">(</span><a title="java.util.Date" id="159814">in</a> : <span title="java.util.Date">Date</span><span class="delimiter">)</span> : <span title="java.util.Date">Date</span> = <span class="delimiter">{</span>
    <span title="(x$1: Long)java.util.Date" class="keyword">new</span> <span title="java.util.Date">Date</span><span class="delimiter">(</span><span title="Long(0L)" class="long">0L</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Create an input field for the item
   */</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; net.liftweb.common.Box[scala.xml.NodeSeq]" id="159712">_toForm</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[scala.xml.NodeSeq]">Box</a><span class="delimiter">[</span>NodeSeq<span class="delimiter">]</span> =
  <a href="../../../../webkit/net/liftweb/http/S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="../../../../webkit/net/liftweb/http/S.scala.html#49525" title="(in: net.liftweb.http.S.AFuncHolder)(f: String =&gt; net.liftweb.common.Full[scala.xml.Elem])net.liftweb.common.Full[scala.xml.Elem]">fmapFunc</a><span class="delimiter">(</span><span class="delimiter">{</span>s: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> =&gt; <a href="#11359" title="MappedDateTime.this.type" class="keyword">this</a>.<a href="#159713" title="(f: Any)java.util.Date">setFromAny</a><span class="delimiter">(</span><a href="#159827" title="List[String]">s</a><span class="delimiter">)</span><span class="delimiter">}</span><span class="delimiter">)</span><span class="delimiter">{</span><a title="String" id="159832">funcName</a> =&gt;
  <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: scala.xml.Elem)net.liftweb.common.Full[scala.xml.Elem]">Full</a><span class="delimiter">(</span><a href="MappedField.scala.html#147437" title="(in: scala.xml.Elem)scala.xml.Elem">appendFieldId</a><span class="delimiter">(</span>&lt;<a title="scala.xml.MetaData" id="159835">input</a> <span class="keyword">type</span>=<span class="delimiter">{</span><a href="MappedField.scala.html#147436" title="=&gt; java.lang.String">formInputType</a><span class="delimiter">}</span>
                     name=<span class="delimiter">{</span><a href="#159832" title="String">funcName</a><span class="delimiter">}</span>
                     value=<span class="delimiter">{</span><a href="MappedField.scala.html#147450" title="=&gt; java.util.Date">is</a> <span title="java.lang.String" class="keyword">match</span> <span class="delimiter">{</span><span class="keyword">case</span> <span title="java.lang.String(&quot;&quot;)" class="keyword">null</span> =&gt; <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">case</span> <a title="String" id="159840">s</a> =&gt; <a href="#159698" title="(d: java.util.Date)String">format</a><span class="delimiter">(</span><a href="#159840" title="java.util.Date">s</a><span class="delimiter">)</span><span class="delimiter">}</span><span class="delimiter">}</span>/&gt;<span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(f: Any)java.util.Date" id="159713">setFromAny</a><span class="delimiter">(</span><a title="Any" id="159828">f</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <span title="java.util.Date">Date</span> = <a href="#159828" title="Any">f</a> <span title="java.util.Date" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a href="../../../../json/net/liftweb/json/JsonAST.scala.html#11132" title="java.util.Date">JsonAST</a>.<a href="../../../../json/net/liftweb/json/JsonAST.scala.html#48513" title="object net.liftweb.json.JsonAST.JNull">JNull</a> =&gt; <a href="#11359" title="MappedDateTime.this.type" class="keyword">this</a>.<a href="MappedField.scala.html#147418" title="(value: java.util.Date)java.util.Date">set</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="java.util.Date">JsonAST</span>.JInt<span class="delimiter">(</span><a title="BigInt" id="159854">v</a><span class="delimiter">)</span> =&gt; <a href="#11359" title="MappedDateTime.this.type" class="keyword">this</a>.<a href="MappedField.scala.html#147418" title="(value: java.util.Date)java.util.Date">set</a><span class="delimiter">(</span><span title="(x$1: Long)java.util.Date" class="keyword">new</span> <span title="java.util.Date">Date</span><span class="delimiter">(</span><a href="#159854" title="BigInt">v</a>.<span title="()Long">longValue</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="java.util.Date" id="159859">n</a>: <span title="java.lang.Number">Number</span> =&gt; <a href="#11359" title="MappedDateTime.this.type" class="keyword">this</a>.<a href="MappedField.scala.html#147418" title="(value: java.util.Date)java.util.Date">set</a><span class="delimiter">(</span><span title="(x$1: Long)java.util.Date" class="keyword">new</span> <span title="java.util.Date">Date</span><span class="delimiter">(</span><a href="#159859" title="java.lang.Number">n</a>.<span title="()Long">longValue</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="java.util.Date" class="string">&quot;&quot;</span> | <span title="Null(null)" class="keyword">null</span> =&gt; <a href="#11359" title="MappedDateTime.this.type" class="keyword">this</a>.<a href="MappedField.scala.html#147418" title="(value: java.util.Date)java.util.Date">set</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="java.util.Date" id="159864">s</a>: <span title="String">String</span> =&gt; <a href="#159697" title="(s: String)net.liftweb.common.Box[java.util.Date]">parse</a><span class="delimiter">(</span><a href="#159864" title="String">s</a><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: java.util.Date =&gt; java.util.Date)net.liftweb.common.Box[java.util.Date]">map</a><span class="delimiter">(</span><a title="java.util.Date" id="159868">d</a> =&gt; <a href="#11359" title="MappedDateTime.this.type" class="keyword">this</a>.<a href="MappedField.scala.html#147418" title="(value: java.util.Date)java.util.Date">set</a><span class="delimiter">(</span><a href="#159868" title="java.util.Date">d</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; java.util.Date)java.util.Date">openOr</a><span class="delimiter">(</span><a href="#11359" title="MappedDateTime.this.type" class="keyword">this</a>.<a href="MappedField.scala.html#147450" title="=&gt; java.util.Date">is</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="java.util.Date" class="delimiter">(</span><a title="String" id="159877">s</a>: <span title="String">String</span><span class="delimiter">)</span> :: _ =&gt; <a href="#159697" title="(s: String)net.liftweb.common.Box[java.util.Date]">parse</a><span class="delimiter">(</span><a href="#159877" title="String">s</a><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27020" title="(f: java.util.Date =&gt; java.util.Date)net.liftweb.common.Box[java.util.Date]">map</a><span class="delimiter">(</span><a title="java.util.Date" id="159881">d</a> =&gt; <a href="#11359" title="MappedDateTime.this.type" class="keyword">this</a>.<a href="MappedField.scala.html#147418" title="(value: java.util.Date)java.util.Date">set</a><span class="delimiter">(</span><a href="#159881" title="java.util.Date">d</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../../common/net/liftweb/common/Box.scala.html#27017" title="(default: =&gt; java.util.Date)java.util.Date">openOr</a><span class="delimiter">(</span><a href="#11359" title="MappedDateTime.this.type" class="keyword">this</a>.<a href="MappedField.scala.html#147450" title="=&gt; java.util.Date">is</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="java.util.Date" id="159886">d</a>: <span title="java.util.Date">Date</span> =&gt; <a href="#11359" title="MappedDateTime.this.type" class="keyword">this</a>.<a href="MappedField.scala.html#147418" title="(value: java.util.Date)java.util.Date">set</a><span class="delimiter">(</span><a href="#159886" title="java.util.Date">d</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="java.util.Date">Some</span><span class="delimiter">(</span><a title="java.util.Date" id="159888">d</a>: <span title="java.util.Date">Date</span><span class="delimiter">)</span> =&gt; <a href="#11359" title="MappedDateTime.this.type" class="keyword">this</a>.<a href="MappedField.scala.html#147418" title="(value: java.util.Date)java.util.Date">set</a><span class="delimiter">(</span><a href="#159888" title="java.util.Date">d</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="java.util.Date">Full</span><span class="delimiter">(</span><a title="java.util.Date" id="159890">d</a>: <span title="java.util.Date">Date</span><span class="delimiter">)</span> =&gt; <a href="#11359" title="MappedDateTime.this.type" class="keyword">this</a>.<a href="MappedField.scala.html#147418" title="(value: java.util.Date)java.util.Date">set</a><span class="delimiter">(</span><a href="#159890" title="java.util.Date">d</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="java.util.Date">None</span> | <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a> | Failure<span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> =&gt; <a href="#11359" title="MappedDateTime.this.type" class="keyword">this</a>.<a href="MappedField.scala.html#147418" title="(value: java.util.Date)java.util.Date">set</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="java.util.Date">_</span> =&gt; <a href="#11359" title="MappedDateTime.this.type" class="keyword">this</a>.<a href="MappedField.scala.html#147450" title="=&gt; java.util.Date">is</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(field: String)java.lang.Object" id="159714">jdbcFriendly</a><span class="delimiter">(</span><a title="String" id="159891">field</a> : <span title="String">String</span><span class="delimiter">)</span> : <span title="java.lang.Object">Object</span> = <a href="MappedField.scala.html#147450" title="=&gt; java.util.Date">is</a> <span title="java.lang.Object" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Null(null)" class="keyword">null</span> =&gt; <span title="Null(null)" class="keyword">null</span>
    <span class="keyword">case</span> <a title="java.sql.Timestamp" id="159894">d</a> =&gt; <span title="(x$1: Long)java.sql.Timestamp" class="keyword">new</span> java.sql.<span title="java.sql.Timestamp">Timestamp</span><span class="delimiter">(</span><a href="#159894" title="java.util.Date">d</a>.<span title="()Long">getTime</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(value: java.util.Date)java.lang.Object" id="159715">real_convertToJDBCFriendly</a><span class="delimiter">(</span><a title="java.util.Date" id="159897">value</a>: <span title="java.util.Date">Date</span><span class="delimiter">)</span>: <span title="java.lang.Object">Object</span> = <span title="java.lang.Object" class="keyword">if</span> <span class="delimiter">(</span><a href="#159897" title="java.util.Date">value</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="Null(null)" class="keyword">null</span> <span class="keyword">else</span> <span title="(x$1: Long)java.sql.Timestamp" class="keyword">new</span> java.sql.<span title="java.sql.Timestamp">Timestamp</span><span class="delimiter">(</span><a href="#159897" title="java.util.Date">value</a>.<span title="()Long">getTime</span><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(in: net.liftweb.common.Box[java.util.Date])Unit" id="159716">st</a><span class="delimiter">(</span><a title="net.liftweb.common.Box[java.util.Date]" id="159906">in</a>: <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[java.util.Date]">Box</a><span class="delimiter">[</span>Date<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
  <a href="#159906" title="net.liftweb.common.Box[java.util.Date]">in</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Unit">Full</span><span class="delimiter">(</span><a title="java.util.Date" id="159909">d</a><span class="delimiter">)</span> =&gt; <a href="#159693" title="=&gt; net.liftweb.util.FatLazy[java.util.Date]">data</a>.<a href="../../../../util/net/liftweb/util/FatLazy.scala.html#147760" title="(v: java.util.Date)java.util.Date">set</a><span class="delimiter">(</span><a href="#159909" title="java.util.Date">d</a><span class="delimiter">)</span>; <a href="#159695" title="=&gt; net.liftweb.util.FatLazy[java.util.Date]">orgData</a>.<a href="../../../../util/net/liftweb/util/FatLazy.scala.html#147760" title="(v: java.util.Date)java.util.Date">set</a><span title="Unit" class="delimiter">(</span><a href="#159909" title="java.util.Date">d</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <a href="#159693" title="=&gt; net.liftweb.util.FatLazy[java.util.Date]">data</a>.<a href="../../../../util/net/liftweb/util/FatLazy.scala.html#147760" title="(v: java.util.Date)java.util.Date">set</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>; <a href="#159695" title="=&gt; net.liftweb.util.FatLazy[java.util.Date]">orgData</a>.<a href="../../../../util/net/liftweb/util/FatLazy.scala.html#147760" title="(v: java.util.Date)java.util.Date">set</a><span title="Unit" class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(accessor: java.lang.reflect.Method, v: AnyRef, columnName: String)(T, AnyRef) =&gt; Unit" id="159717">buildSetActualValue</a><span class="delimiter">(</span><a title="java.lang.reflect.Method" id="159914">accessor</a>: <span title="java.lang.reflect.Method">Method</span>, <a title="AnyRef" id="159915">v</a>: <span title="AnyRef">AnyRef</span>, <a title="String" id="159916">columnName</a>: <span title="String">String</span><span class="delimiter">)</span>: <span class="delimiter">(</span>T, AnyRef<span class="delimiter">)</span> =&gt; Unit =
  <span class="delimiter">(</span><a title="T" id="159919">inst</a>, <a title="AnyRef" id="159920">v</a><span class="delimiter">)</span> =&gt; <a href="MappedField.scala.html#147449" title="(inst: T, meth: java.lang.reflect.Method, func: PartialFunction[net.liftweb.mapper.MappedField[java.util.Date,T],Unit])Unit">doField</a><span class="delimiter">(</span><a href="#159919" title="T">inst</a>, <a href="#159914" title="java.lang.reflect.Method">accessor</a>, <a href="#159925" title="Unit" class="delimiter">{</a><span class="keyword">case</span> <a title="Unit" id="159926">f</a>: <a href="#11359" title="net.liftweb.mapper.MappedDateTime[T]">MappedDateTime</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =&gt; <a href="#159926" title="net.liftweb.mapper.MappedDateTime[T]">f</a>.<a href="#159716" title="(in: net.liftweb.common.Box[java.util.Date])Unit">st</a><span class="delimiter">(</span><a href="../../../../util/net/liftweb/util/TimeHelpers.scala.html#48832" title="(in: Any)net.liftweb.common.Box[java.util.Date]">toDate</a><span class="delimiter">(</span><a href="#159920" title="AnyRef">v</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(accessor: java.lang.reflect.Method, columnName: String)(T, Long, Boolean) =&gt; Unit" id="159718">buildSetLongValue</a><span class="delimiter">(</span><a title="java.lang.reflect.Method" id="159927">accessor</a>: <span title="java.lang.reflect.Method">Method</span>, <a title="String" id="159928">columnName</a>: <span title="String">String</span><span class="delimiter">)</span>: <span class="delimiter">(</span>T, Long, Boolean<span class="delimiter">)</span> =&gt; Unit =
  <span class="delimiter">(</span><a title="T" id="159931">inst</a>, <a title="Long" id="159932">v</a>, <a title="Boolean" id="159933">isNull</a><span class="delimiter">)</span> =&gt; <a href="MappedField.scala.html#147449" title="(inst: T, meth: java.lang.reflect.Method, func: PartialFunction[net.liftweb.mapper.MappedField[java.util.Date,T],Unit])Unit">doField</a><span class="delimiter">(</span><a href="#159931" title="T">inst</a>, <a href="#159927" title="java.lang.reflect.Method">accessor</a>, <a href="#159935" title="Unit" class="delimiter">{</a><span class="keyword">case</span> <a title="Unit" id="159936">f</a>: <a href="#11359" title="net.liftweb.mapper.MappedDateTime[T]">MappedDateTime</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =&gt; <a href="#159936" title="net.liftweb.mapper.MappedDateTime[T]">f</a>.<a href="#159716" title="(in: net.liftweb.common.Box[java.util.Date])Unit">st</a><span class="delimiter">(</span><span title="net.liftweb.common.Box[java.util.Date]" class="keyword">if</span> <span class="delimiter">(</span><a href="#159933" title="Boolean">isNull</a><span class="delimiter">)</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a> <span class="keyword">else</span> <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: java.util.Date)net.liftweb.common.Full[java.util.Date]">Full</a><span class="delimiter">(</span><span title="(x$1: Long)java.util.Date" class="keyword">new</span> <span title="java.util.Date">Date</span><span class="delimiter">(</span><a href="#159932" title="Long">v</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(accessor: java.lang.reflect.Method, columnName: String)(T, String) =&gt; Unit" id="159719">buildSetStringValue</a><span class="delimiter">(</span><a title="java.lang.reflect.Method" id="159944">accessor</a>: <span title="java.lang.reflect.Method">Method</span>, <a title="String" id="159945">columnName</a>: <span title="String">String</span><span class="delimiter">)</span>: <span class="delimiter">(</span>T, String<span class="delimiter">)</span> =&gt; Unit =
  <span class="delimiter">(</span><a title="T" id="159948">inst</a>, <a title="String" id="159949">v</a><span class="delimiter">)</span> =&gt; <a href="MappedField.scala.html#147449" title="(inst: T, meth: java.lang.reflect.Method, func: PartialFunction[net.liftweb.mapper.MappedField[java.util.Date,T],Unit])Unit">doField</a><span class="delimiter">(</span><a href="#159948" title="T">inst</a>, <a href="#159944" title="java.lang.reflect.Method">accessor</a>, <a href="#159951" title="Unit" class="delimiter">{</a><span class="keyword">case</span> <a title="Unit" id="159952">f</a>: <a href="#11359" title="net.liftweb.mapper.MappedDateTime[T]">MappedDateTime</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =&gt; <a href="#159952" title="net.liftweb.mapper.MappedDateTime[T]">f</a>.<a href="#159716" title="(in: net.liftweb.common.Box[java.util.Date])Unit">st</a><span class="delimiter">(</span><a href="../../../../util/net/liftweb/util/TimeHelpers.scala.html#48832" title="(in: Any)net.liftweb.common.Box[java.util.Date]">toDate</a><span class="delimiter">(</span><a href="#159949" title="String">v</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(accessor: java.lang.reflect.Method, columnName: String)(T, java.util.Date) =&gt; Unit" id="159720">buildSetDateValue</a><span class="delimiter">(</span><a title="java.lang.reflect.Method" id="159953">accessor</a>: <span title="java.lang.reflect.Method">Method</span>, <a title="String" id="159954">columnName</a>: <span title="String">String</span><span class="delimiter">)</span>: <span class="delimiter">(</span>T, Date<span class="delimiter">)</span> =&gt; Unit =
  <span class="delimiter">(</span><a title="T" id="159957">inst</a>, <a title="java.util.Date" id="159958">v</a><span class="delimiter">)</span> =&gt; <a href="MappedField.scala.html#147449" title="(inst: T, meth: java.lang.reflect.Method, func: PartialFunction[net.liftweb.mapper.MappedField[java.util.Date,T],Unit])Unit">doField</a><span class="delimiter">(</span><a href="#159957" title="T">inst</a>, <a href="#159953" title="java.lang.reflect.Method">accessor</a>, <a href="#159960" title="Unit" class="delimiter">{</a><span class="keyword">case</span> <a title="Unit" id="159961">f</a>: <a href="#11359" title="net.liftweb.mapper.MappedDateTime[T]">MappedDateTime</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =&gt; <a href="#159961" title="net.liftweb.mapper.MappedDateTime[T]">f</a>.<a href="#159716" title="(in: net.liftweb.common.Box[java.util.Date])Unit">st</a><span class="delimiter">(</span><a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: java.util.Date)net.liftweb.common.Full[java.util.Date]">Full</a><span class="delimiter">(</span><a href="#159958" title="java.util.Date">v</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(accessor: java.lang.reflect.Method, columnName: String)(T, Boolean, Boolean) =&gt; Unit" id="159721">buildSetBooleanValue</a><span class="delimiter">(</span><a title="java.lang.reflect.Method" id="159965">accessor</a>: <span title="java.lang.reflect.Method">Method</span>, <a title="String" id="159966">columnName</a>: <span title="String">String</span><span class="delimiter">)</span>: <span class="delimiter">(</span>T, Boolean, Boolean<span class="delimiter">)</span> =&gt; Unit =
  <span class="delimiter">(</span><a title="T" id="159969">inst</a>, <a title="Boolean" id="159970">v</a>, <a title="Boolean" id="159971">isNull</a><span class="delimiter">)</span> =&gt; <a href="MappedField.scala.html#147449" title="(inst: T, meth: java.lang.reflect.Method, func: PartialFunction[net.liftweb.mapper.MappedField[java.util.Date,T],Unit])Unit">doField</a><span class="delimiter">(</span><a href="#159969" title="T">inst</a>, <a href="#159965" title="java.lang.reflect.Method">accessor</a>, <a href="#159973" title="Unit" class="delimiter">{</a><span class="keyword">case</span> <a title="Unit" id="159974">f</a>: <a href="#11359" title="net.liftweb.mapper.MappedDateTime[T]">MappedDateTime</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =&gt; <a href="#159974" title="net.liftweb.mapper.MappedDateTime[T]">f</a>.<a href="#159716" title="(in: net.liftweb.common.Box[java.util.Date])Unit">st</a><span class="delimiter">(</span><a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a><span class="delimiter">)</span><span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Given the driver type, return the string required to create the column in the database
   */</span>
  <span class="keyword">def</span> <a title="(dbType: net.liftweb.mapper.package.DriverType, colName: String)String" id="159722">fieldCreatorString</a><span class="delimiter">(</span><a title="net.liftweb.mapper.package.DriverType" id="159975">dbType</a>: <a href="../../../../db/net/liftweb/db/Driver.scala.html#10921" title="net.liftweb.mapper.package.DriverType">DriverType</a>, <a title="String" id="159976">colName</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#159976" title="String">colName</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#159975" title="net.liftweb.mapper.package.DriverType">dbType</a>.<a href="../../../../db/net/liftweb/db/Driver.scala.html#66503" title="=&gt; String">dateTimeColumnType</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="MappedField.scala.html#147397" title="()java.lang.String">notNullAppender</a><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="=&gt; Boolean" id="159723">inFuture_?</a> = <a href="#159693" title="=&gt; net.liftweb.util.FatLazy[java.util.Date]">data</a>.<a href="../../../../util/net/liftweb/util/FatLazy.scala.html#147758" title="=&gt; java.util.Date">get</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Boolean(false)" class="keyword">null</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">case</span> <a title="Boolean" id="159982">d</a> =&gt; <a href="#159982" title="java.util.Date">d</a>.<span title="()Long">getTime</span> <span title="(x: Long)Boolean">&gt;</span> <a href="../../../../util/net/liftweb/util/TimeHelpers.scala.html#48788" title="=&gt; Long">millis</a>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="159724">inPast_?</a> = <a href="#159693" title="=&gt; net.liftweb.util.FatLazy[java.util.Date]">data</a>.<a href="../../../../util/net/liftweb/util/FatLazy.scala.html#147758" title="=&gt; java.util.Date">get</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Boolean(false)" class="keyword">null</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">case</span> <a title="Boolean" id="159990">d</a> =&gt; <a href="#159990" title="java.util.Date">d</a>.<span title="()Long">getTime</span> <span title="(x: Long)Boolean">&lt;</span> <a href="../../../../util/net/liftweb/util/TimeHelpers.scala.html#48788" title="=&gt; Long">millis</a>
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="159725">toString</a>: <span title="String">String</span> = <span title="String" class="keyword">if</span><span class="delimiter">(</span><a href="MappedField.scala.html#147450" title="=&gt; java.util.Date">is</a><span title="(x$1: AnyRef)Boolean">==</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;NULL&quot;)" class="string">&quot;NULL&quot;</span> <span class="keyword">else</span> <a href="#159698" title="(d: java.util.Date)String">format</a><span class="delimiter">(</span><a href="MappedField.scala.html#147450" title="=&gt; java.util.Date">is</a><span class="delimiter">)</span>
<span class="delimiter">}</span>


        </pre>
    </body>
</html>