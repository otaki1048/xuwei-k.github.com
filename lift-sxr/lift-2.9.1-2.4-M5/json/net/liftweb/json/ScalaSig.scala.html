<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>json/net/liftweb/json/ScalaSig.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*
 * Copyright 2009-2010 WorldWide Conferencing, LLC
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */</span>

<span class="keyword">package</span> net.liftweb
<span class="keyword">package</span> json

<span class="keyword">import</span> scala.tools.scalap.scalax.rules.scalasig._

<span class="keyword">private</span><span class="delimiter">[</span>json<span class="delimiter">]</span> <span class="keyword">object</span> <a title="object net.liftweb.json.ScalaSigReader" id="11177">ScalaSigReader</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(argName: String, clazz: Class[_], typeArgIndex: Int, argNames: List[String])Class[_]" id="126474">readConstructor</a><span class="delimiter">(</span><a title="String" id="139421">argName</a>: <span title="String">String</span>, <a title="Class[_]" id="139422">clazz</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="Int" id="139423">typeArgIndex</a>: <span title="Int">Int</span>, <a title="List[String]" id="139424">argNames</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.tools.scalap.scalax.rules.scalasig.ClassSymbol" id="143362">cl</a> = <a href="#126476" title="(clazz: Class[_])scala.tools.scalap.scalax.rules.scalasig.ClassSymbol">findClass</a><span class="delimiter">(</span><a href="#139422" title="Class[_]">clazz</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="scala.tools.scalap.scalax.rules.scalasig.MethodSymbol" id="143363">cstr</a> = <a href="#126478" title="(c: scala.tools.scalap.scalax.rules.scalasig.ClassSymbol, argNames: List[String])Option[scala.tools.scalap.scalax.rules.scalasig.MethodSymbol]">findConstructor</a><span class="delimiter">(</span><a href="#143362" title="scala.tools.scalap.scalax.rules.scalasig.ClassSymbol">cl</a>, <a href="#139424" title="List[String]">argNames</a><span class="delimiter">)</span>.<span title="(default: =&gt; scala.tools.scalap.scalax.rules.scalasig.MethodSymbol)scala.tools.scalap.scalax.rules.scalasig.MethodSymbol">getOrElse</span><span class="delimiter">(</span><a href="Meta.scala.html#11168" title="object net.liftweb.json.Meta">Meta</a>.<a href="Meta.scala.html#53212" title="(msg: String, cause: Exception)Nothing">fail</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Can\'t find constructor for &quot;)" class="string">&quot;Can't find constructor for &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#139422" title="Class[_]">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#126480" title="(s: scala.tools.scalap.scalax.rules.scalasig.MethodSymbol, argIdx: Int, typeArgIndex: Int)Class[_]">findArgType</a><span class="delimiter">(</span><a href="#143363" title="scala.tools.scalap.scalax.rules.scalasig.MethodSymbol">cstr</a>, <a href="#139424" title="List[String]">argNames</a>.<span title="(elem: String)Int">indexOf</span><span class="delimiter">(</span><a href="#139421" title="String">argName</a><span class="delimiter">)</span>, <a href="#139423" title="Int">typeArgIndex</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(name: String, clazz: Class[_], typeArgIndex: Int)Class[_]" id="126475">readField</a><span class="delimiter">(</span><a title="String" id="126485">name</a>: <span title="String">String</span>, <a title="Class[_]" id="126486">clazz</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="Int" id="126487">typeArgIndex</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(current: Class[_])scala.tools.scalap.scalax.rules.scalasig.MethodSymbol" id="143645">read</a><span class="delimiter">(</span><a title="Class[_]" id="143646">current</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="scala.tools.scalap.scalax.rules.scalasig.MethodSymbol">MethodSymbol</span> = <span class="delimiter">{</span>
      <span title="scala.tools.scalap.scalax.rules.scalasig.MethodSymbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#143646" title="Class[_]">current</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> 
        <a href="Meta.scala.html#11168" title="object net.liftweb.json.Meta">Meta</a>.<a href="Meta.scala.html#53212" title="(msg: String, cause: Exception)Nothing">fail</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Can\'t find field &quot;)" class="string">&quot;Can't find field &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#126485" title="String">name</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; from &quot;)" class="string">&quot; from &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#126486" title="Class[_]">clazz</a><span class="delimiter">)</span>
      <span class="keyword">else</span>
        <a href="#126479" title="(c: scala.tools.scalap.scalax.rules.scalasig.ClassSymbol, name: String)Option[scala.tools.scalap.scalax.rules.scalasig.MethodSymbol]">findField</a><span class="delimiter">(</span><a href="#126476" title="(clazz: Class[_])scala.tools.scalap.scalax.rules.scalasig.ClassSymbol">findClass</a><span class="delimiter">(</span><a href="#143646" title="Class[_]">current</a><span class="delimiter">)</span>, <a href="#126485" title="String">name</a><span class="delimiter">)</span>.<span title="(default: =&gt; scala.tools.scalap.scalax.rules.scalasig.MethodSymbol)scala.tools.scalap.scalax.rules.scalasig.MethodSymbol">getOrElse</span><span class="delimiter">(</span><a href="#143645" title="(current: Class[_])scala.tools.scalap.scalax.rules.scalasig.MethodSymbol">read</a><span class="delimiter">(</span><a href="#143646" title="Class[_]">current</a>.<span title="(()java.lang.Class[_ &gt;: _$5]) forSome { type _$5; type _$5 }">getSuperclass</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#126481" title="(s: scala.tools.scalap.scalax.rules.scalasig.MethodSymbol, typeArgIdx: Int)Class[_]">findArgTypeForField</a><span class="delimiter">(</span><a href="#143645" title="(current: Class[_])scala.tools.scalap.scalax.rules.scalasig.MethodSymbol">read</a><span class="delimiter">(</span><a href="#126486" title="Class[_]">clazz</a><span class="delimiter">)</span>, <a href="#126487" title="Int">typeArgIndex</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: Class[_])scala.tools.scalap.scalax.rules.scalasig.ClassSymbol" id="126476">findClass</a><span class="delimiter">(</span><a title="Class[_]" id="143497">clazz</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="scala.tools.scalap.scalax.rules.scalasig.ClassSymbol">ClassSymbol</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.tools.scalap.scalax.rules.scalasig.ScalaSig" id="143686">sig</a> = <a href="#126484" title="(clazz: Class[_])Option[scala.tools.scalap.scalax.rules.scalasig.ScalaSig]">findScalaSig</a><span class="delimiter">(</span><a href="#143497" title="Class[_]">clazz</a><span class="delimiter">)</span>.<span title="(default: =&gt; scala.tools.scalap.scalax.rules.scalasig.ScalaSig)scala.tools.scalap.scalax.rules.scalasig.ScalaSig">getOrElse</span><span class="delimiter">(</span><a href="Meta.scala.html#11168" title="object net.liftweb.json.Meta">Meta</a>.<a href="Meta.scala.html#53212" title="(msg: String, cause: Exception)Nothing">fail</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Can\'t find ScalaSig for &quot;)" class="string">&quot;Can't find ScalaSig for &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#143497" title="Class[_]">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#126477" title="(sig: scala.tools.scalap.scalax.rules.scalasig.ScalaSig, clazz: Class[_])Option[scala.tools.scalap.scalax.rules.scalasig.ClassSymbol]">findClass</a><span class="delimiter">(</span><a href="#143686" title="scala.tools.scalap.scalax.rules.scalasig.ScalaSig">sig</a>, <a href="#143497" title="Class[_]">clazz</a><span class="delimiter">)</span>.<span title="(default: =&gt; scala.tools.scalap.scalax.rules.scalasig.ClassSymbol)scala.tools.scalap.scalax.rules.scalasig.ClassSymbol">getOrElse</span><span class="delimiter">(</span><a href="Meta.scala.html#11168" title="object net.liftweb.json.Meta">Meta</a>.<a href="Meta.scala.html#53212" title="(msg: String, cause: Exception)Nothing">fail</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Can\'t find &quot;)" class="string">&quot;Can't find &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#143497" title="Class[_]">clazz</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; from parsed ScalaSig&quot;)" class="string">&quot; from parsed ScalaSig&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sig: scala.tools.scalap.scalax.rules.scalasig.ScalaSig, clazz: Class[_])Option[scala.tools.scalap.scalax.rules.scalasig.ClassSymbol]" id="126477">findClass</a><span class="delimiter">(</span><a title="scala.tools.scalap.scalax.rules.scalasig.ScalaSig" id="143368">sig</a>: <span title="scala.tools.scalap.scalax.rules.scalasig.ScalaSig">ScalaSig</span>, <a title="Class[_]" id="143369">clazz</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Option[scala.tools.scalap.scalax.rules.scalasig.ClassSymbol]">Option</span><span class="delimiter">[</span>ClassSymbol<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#143368" title="scala.tools.scalap.scalax.rules.scalasig.ScalaSig">sig</a>.<span title="=&gt; Seq[scala.tools.scalap.scalax.rules.scalasig.Symbol]">symbols</span>.<span title="(pf: PartialFunction[scala.tools.scalap.scalax.rules.scalasig.Symbol,scala.tools.scalap.scalax.rules.scalasig.ClassSymbol])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[scala.tools.scalap.scalax.rules.scalasig.Symbol],scala.tools.scalap.scalax.rules.scalasig.ClassSymbol,Seq[scala.tools.scalap.scalax.rules.scalasig.ClassSymbol]])Seq[scala.tools.scalap.scalax.rules.scalasig.ClassSymbol]">collect</span> <a href="#143832" title="scala.tools.scalap.scalax.rules.scalasig.ClassSymbol" class="delimiter">{</a> <span class="keyword">case</span> <a title="scala.tools.scalap.scalax.rules.scalasig.ClassSymbol" id="143833">c</a>: <span title="scala.tools.scalap.scalax.rules.scalasig.ClassSymbol">ClassSymbol</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#143833" title="scala.tools.scalap.scalax.rules.scalasig.ClassSymbol">c</a>.<span title="=&gt; Boolean">isModule</span> =&gt; <a href="#143833" title="scala.tools.scalap.scalax.rules.scalasig.ClassSymbol">c</a> <span class="delimiter">}</span>.<span title="(p: scala.tools.scalap.scalax.rules.scalasig.ClassSymbol =&gt; Boolean)Option[scala.tools.scalap.scalax.rules.scalasig.ClassSymbol]">find</span><span class="delimiter">(</span><a href="#143866" title="scala.tools.scalap.scalax.rules.scalasig.ClassSymbol">_</a>.<span title="=&gt; String">name</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#143369" title="Class[_]">clazz</a>.<span title="()java.lang.String">getSimpleName</span><span class="delimiter">)</span>.<span title="(alternative: =&gt; Option[scala.tools.scalap.scalax.rules.scalasig.ClassSymbol])Option[scala.tools.scalap.scalax.rules.scalasig.ClassSymbol]">orElse</span> <span class="delimiter">{</span>
      <a href="#143368" title="scala.tools.scalap.scalax.rules.scalasig.ScalaSig">sig</a>.<span title="=&gt; List[scala.tools.scalap.scalax.rules.scalasig.ClassSymbol]">topLevelClasses</span>.<span title="(p: scala.tools.scalap.scalax.rules.scalasig.ClassSymbol =&gt; Boolean)Option[scala.tools.scalap.scalax.rules.scalasig.ClassSymbol]">find</span><span class="delimiter">(</span><a href="#143882" title="scala.tools.scalap.scalax.rules.scalasig.ClassSymbol">_</a>.<span title="=&gt; scala.tools.scalap.scalax.rules.scalasig.SymbolInfo">symbolInfo</span>.<span title="=&gt; String">name</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#143369" title="Class[_]">clazz</a>.<span title="()java.lang.String">getSimpleName</span><span class="delimiter">)</span>.<span title="(alternative: =&gt; Option[scala.tools.scalap.scalax.rules.scalasig.ClassSymbol])Option[scala.tools.scalap.scalax.rules.scalasig.ClassSymbol]">orElse</span> <span class="delimiter">{</span>
        <a href="#143368" title="scala.tools.scalap.scalax.rules.scalasig.ScalaSig">sig</a>.<span title="=&gt; List[scala.tools.scalap.scalax.rules.scalasig.ObjectSymbol]">topLevelObjects</span>.<span title="(f: scala.tools.scalap.scalax.rules.scalasig.ObjectSymbol =&gt; Option[scala.tools.scalap.scalax.rules.scalasig.ClassSymbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[scala.tools.scalap.scalax.rules.scalasig.ObjectSymbol],Option[scala.tools.scalap.scalax.rules.scalasig.ClassSymbol],List[Option[scala.tools.scalap.scalax.rules.scalasig.ClassSymbol]]])List[Option[scala.tools.scalap.scalax.rules.scalasig.ClassSymbol]]">map</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Option[scala.tools.scalap.scalax.rules.scalasig.ClassSymbol],List[Option[scala.tools.scalap.scalax.rules.scalasig.ClassSymbol]]]" class="delimiter">{</span> <a title="scala.tools.scalap.scalax.rules.scalasig.ObjectSymbol" id="143985">obj</a> =&gt; 
          <span class="keyword">val</span> <a title="scala.tools.scalap.scalax.rules.scalasig.TypeRefType" id="143986">t</a> = <a href="#143985" title="scala.tools.scalap.scalax.rules.scalasig.ObjectSymbol">obj</a>.<span title="=&gt; scala.tools.scalap.scalax.rules.scalasig.Type">infoType</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="scala.tools.scalap.scalax.rules.scalasig.TypeRefType" class="delimiter">[</span><span title="scala.tools.scalap.scalax.rules.scalasig.TypeRefType">TypeRefType</span><span class="delimiter">]</span>
          <a href="#143986" title="scala.tools.scalap.scalax.rules.scalasig.TypeRefType">t</a>.<span title="=&gt; scala.tools.scalap.scalax.rules.scalasig.Symbol">symbol</span>.<span title="=&gt; Seq[scala.tools.scalap.scalax.rules.scalasig.Symbol]">children</span> <span title="(pf: PartialFunction[scala.tools.scalap.scalax.rules.scalasig.Symbol,scala.tools.scalap.scalax.rules.scalasig.ClassSymbol])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[scala.tools.scalap.scalax.rules.scalasig.Symbol],scala.tools.scalap.scalax.rules.scalasig.ClassSymbol,Seq[scala.tools.scalap.scalax.rules.scalasig.ClassSymbol]])Seq[scala.tools.scalap.scalax.rules.scalasig.ClassSymbol]">collect</span> <a href="#144045" title="scala.tools.scalap.scalax.rules.scalasig.ClassSymbol" class="delimiter">{</a> <span class="keyword">case</span> <a title="scala.tools.scalap.scalax.rules.scalasig.ClassSymbol" id="144046">c</a>: <span title="scala.tools.scalap.scalax.rules.scalasig.ClassSymbol">ClassSymbol</span> =&gt; <a href="#144046" title="scala.tools.scalap.scalax.rules.scalasig.ClassSymbol">c</a> <span class="delimiter">}</span> <span title="(p: scala.tools.scalap.scalax.rules.scalasig.ClassSymbol =&gt; Boolean)Option[scala.tools.scalap.scalax.rules.scalasig.ClassSymbol]">find</span><span class="delimiter">(</span><a href="#144073" title="scala.tools.scalap.scalax.rules.scalasig.ClassSymbol">_</a>.<span title="=&gt; scala.tools.scalap.scalax.rules.scalasig.SymbolInfo">symbolInfo</span>.<span title="=&gt; String">name</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#143369" title="Class[_]">clazz</a>.<span title="()java.lang.String">getSimpleName</span><span class="delimiter">)</span> 
        <span class="delimiter">}</span>.<span title="=&gt; Option[scala.tools.scalap.scalax.rules.scalasig.ClassSymbol]">head</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(c: scala.tools.scalap.scalax.rules.scalasig.ClassSymbol, argNames: List[String])Option[scala.tools.scalap.scalax.rules.scalasig.MethodSymbol]" id="126478">findConstructor</a><span class="delimiter">(</span><a title="scala.tools.scalap.scalax.rules.scalasig.ClassSymbol" id="143504">c</a>: <span title="scala.tools.scalap.scalax.rules.scalasig.ClassSymbol">ClassSymbol</span>, <a title="List[String]" id="143505">argNames</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Option[scala.tools.scalap.scalax.rules.scalasig.MethodSymbol]">Option</span><span class="delimiter">[</span>MethodSymbol<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Seq[scala.tools.scalap.scalax.rules.scalasig.MethodSymbol]" id="144112">ms</a> = <a href="#143504" title="scala.tools.scalap.scalax.rules.scalasig.ClassSymbol">c</a>.<span title="=&gt; Seq[scala.tools.scalap.scalax.rules.scalasig.Symbol]">children</span> <span title="(pf: PartialFunction[scala.tools.scalap.scalax.rules.scalasig.Symbol,scala.tools.scalap.scalax.rules.scalasig.MethodSymbol])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[scala.tools.scalap.scalax.rules.scalasig.Symbol],scala.tools.scalap.scalax.rules.scalasig.MethodSymbol,Seq[scala.tools.scalap.scalax.rules.scalasig.MethodSymbol]])Seq[scala.tools.scalap.scalax.rules.scalasig.MethodSymbol]">collect</span> <a href="#144125" title="scala.tools.scalap.scalax.rules.scalasig.MethodSymbol" class="delimiter">{</a> <span class="keyword">case</span> <a title="scala.tools.scalap.scalax.rules.scalasig.MethodSymbol" id="144126">m</a>: <span title="scala.tools.scalap.scalax.rules.scalasig.MethodSymbol">MethodSymbol</span> <span class="keyword">if</span> <a href="#144126" title="scala.tools.scalap.scalax.rules.scalasig.MethodSymbol">m</a>.<span title="=&gt; String">name</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;&lt;init&gt;&quot;)" class="string">&quot;&lt;init&gt;&quot;</span> =&gt; <a href="#144126" title="scala.tools.scalap.scalax.rules.scalasig.MethodSymbol">m</a> <span class="delimiter">}</span>
    <a href="#144112" title="Seq[scala.tools.scalap.scalax.rules.scalasig.MethodSymbol]">ms</a>.<span title="(p: scala.tools.scalap.scalax.rules.scalasig.MethodSymbol =&gt; Boolean)Option[scala.tools.scalap.scalax.rules.scalasig.MethodSymbol]">find</span><span class="delimiter">(</span><a title="scala.tools.scalap.scalax.rules.scalasig.MethodSymbol" id="144156">m</a> =&gt; <a href="#144156" title="scala.tools.scalap.scalax.rules.scalasig.MethodSymbol">m</a>.<span title="=&gt; Seq[scala.tools.scalap.scalax.rules.scalasig.Symbol]">children</span>.<span title="(f: scala.tools.scalap.scalax.rules.scalasig.Symbol =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[scala.tools.scalap.scalax.rules.scalasig.Symbol],String,Seq[String]])Seq[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,String,Seq[String]]" class="delimiter">(</span><a href="#144173" title="scala.tools.scalap.scalax.rules.scalasig.Symbol">_</a>.<span title="=&gt; String">name</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#143505" title="List[String]">argNames</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(c: scala.tools.scalap.scalax.rules.scalasig.ClassSymbol, name: String)Option[scala.tools.scalap.scalax.rules.scalasig.MethodSymbol]" id="126479">findField</a><span class="delimiter">(</span><a title="scala.tools.scalap.scalax.rules.scalasig.ClassSymbol" id="143655">c</a>: <span title="scala.tools.scalap.scalax.rules.scalasig.ClassSymbol">ClassSymbol</span>, <a title="String" id="143656">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Option[scala.tools.scalap.scalax.rules.scalasig.MethodSymbol]">Option</span><span class="delimiter">[</span>MethodSymbol<span class="delimiter">]</span> = 
    <span class="delimiter">(</span><a href="#143655" title="scala.tools.scalap.scalax.rules.scalasig.ClassSymbol">c</a>.<span title="=&gt; Seq[scala.tools.scalap.scalax.rules.scalasig.Symbol]">children</span> <span title="(pf: PartialFunction[scala.tools.scalap.scalax.rules.scalasig.Symbol,scala.tools.scalap.scalax.rules.scalasig.MethodSymbol])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[scala.tools.scalap.scalax.rules.scalasig.Symbol],scala.tools.scalap.scalax.rules.scalasig.MethodSymbol,Seq[scala.tools.scalap.scalax.rules.scalasig.MethodSymbol]])Seq[scala.tools.scalap.scalax.rules.scalasig.MethodSymbol]">collect</span> <a href="#144210" title="scala.tools.scalap.scalax.rules.scalasig.MethodSymbol" class="delimiter">{</a> <span class="keyword">case</span> <a title="scala.tools.scalap.scalax.rules.scalasig.MethodSymbol" id="144211">m</a>: <span title="scala.tools.scalap.scalax.rules.scalasig.MethodSymbol">MethodSymbol</span> <span class="keyword">if</span> <a href="#144211" title="scala.tools.scalap.scalax.rules.scalasig.MethodSymbol">m</a>.<span title="=&gt; String">name</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#143656" title="String">name</a> =&gt; <a href="#144211" title="scala.tools.scalap.scalax.rules.scalasig.MethodSymbol">m</a> <span class="delimiter">}</span><span class="delimiter">)</span>.<span title="=&gt; Option[scala.tools.scalap.scalax.rules.scalasig.MethodSymbol]">headOption</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(s: scala.tools.scalap.scalax.rules.scalasig.MethodSymbol, argIdx: Int, typeArgIndex: Int)Class[_]" id="126480">findArgType</a><span class="delimiter">(</span><a title="scala.tools.scalap.scalax.rules.scalasig.MethodSymbol" id="143618">s</a>: <span title="scala.tools.scalap.scalax.rules.scalasig.MethodSymbol">MethodSymbol</span>, <a title="Int" id="143619">argIdx</a>: <span title="Int">Int</span>, <a title="Int" id="143620">typeArgIndex</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(t: scala.tools.scalap.scalax.rules.scalasig.Type)scala.tools.scalap.scalax.rules.scalasig.Symbol" id="144237">findPrimitive</a><span class="delimiter">(</span><a title="scala.tools.scalap.scalax.rules.scalasig.Type" id="144238">t</a>: <span title="scala.tools.scalap.scalax.rules.scalasig.Type">Type</span><span class="delimiter">)</span>: <span title="scala.tools.scalap.scalax.rules.scalasig.Symbol">Symbol</span> = <a href="#144238" title="scala.tools.scalap.scalax.rules.scalasig.Type">t</a> <span title="scala.tools.scalap.scalax.rules.scalasig.Symbol" class="keyword">match</span> <span class="delimiter">{</span> 
      <span class="keyword">case</span> <span title="scala.tools.scalap.scalax.rules.scalasig.Symbol">TypeRefType</span><span class="delimiter">(</span>ThisType<span class="delimiter">(</span>_<span class="delimiter">)</span>, <a title="scala.tools.scalap.scalax.rules.scalasig.Symbol" id="144263">symbol</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#126483" title="(s: scala.tools.scalap.scalax.rules.scalasig.Symbol)Boolean">isPrimitive</a><span class="delimiter">(</span><a href="#144263" title="scala.tools.scalap.scalax.rules.scalasig.Symbol">symbol</a><span class="delimiter">)</span> =&gt; <a href="#144263" title="scala.tools.scalap.scalax.rules.scalasig.Symbol">symbol</a>
      <span class="keyword">case</span> <span title="scala.tools.scalap.scalax.rules.scalasig.Symbol">TypeRefType</span><span class="delimiter">(</span>_, _, TypeRefType<span class="delimiter">(</span>ThisType<span class="delimiter">(</span>_<span class="delimiter">)</span>, <a title="scala.tools.scalap.scalax.rules.scalasig.Symbol" id="144326">symbol</a>, _<span class="delimiter">)</span> :: <a title="List[scala.tools.scalap.scalax.rules.scalasig.Type]" id="144327">xs</a><span class="delimiter">)</span> =&gt; <a href="#144326" title="scala.tools.scalap.scalax.rules.scalasig.Symbol">symbol</a>
      <span class="keyword">case</span> <span title="scala.tools.scalap.scalax.rules.scalasig.Symbol">TypeRefType</span><span class="delimiter">(</span>_, <a title="scala.tools.scalap.scalax.rules.scalasig.Symbol" id="144328">symbol</a>, <span title="object Nil">Nil</span><span class="delimiter">)</span> =&gt; <a href="#144328" title="scala.tools.scalap.scalax.rules.scalasig.Symbol">symbol</a>
      <span class="keyword">case</span> <span title="scala.tools.scalap.scalax.rules.scalasig.Symbol">TypeRefType</span><span class="delimiter">(</span>_, _, <a title="Seq[scala.tools.scalap.scalax.rules.scalasig.Type]" id="144329">args</a><span class="delimiter">)</span> =&gt;
        <a href="#144329" title="(idx: Int)scala.tools.scalap.scalax.rules.scalasig.Type">args</a><span class="delimiter">(</span><a href="#143620" title="Int">typeArgIndex</a><span class="delimiter">)</span> <span title="scala.tools.scalap.scalax.rules.scalasig.Symbol" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="scala.tools.scalap.scalax.rules.scalasig.Symbol" id="144342">ref</a> @ TypeRefType<span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> =&gt; <a href="#144237" title="(t: scala.tools.scalap.scalax.rules.scalasig.Type)scala.tools.scalap.scalax.rules.scalasig.Symbol">findPrimitive</a><span class="delimiter">(</span><a href="#144342" title="scala.tools.scalap.scalax.rules.scalasig.TypeRefType">ref</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="Nothing" id="144343">x</a> =&gt; <a href="Meta.scala.html#11168" title="object net.liftweb.json.Meta">Meta</a>.<a href="Meta.scala.html#53212" title="(msg: String, cause: Exception)Nothing">fail</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Unexpected type info &quot;)" class="string">&quot;Unexpected type info &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#144343" title="scala.tools.scalap.scalax.rules.scalasig.Type">x</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <a title="Nothing" id="144344">x</a> =&gt; <a href="Meta.scala.html#11168" title="object net.liftweb.json.Meta">Meta</a>.<a href="Meta.scala.html#53212" title="(msg: String, cause: Exception)Nothing">fail</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Unexpected type info &quot;)" class="string">&quot;Unexpected type info &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#144344" title="scala.tools.scalap.scalax.rules.scalasig.Type">x</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#126482" title="(s: scala.tools.scalap.scalax.rules.scalasig.Symbol)java.lang.Class[_ &gt;: Short with Int with Long with Boolean with Float with Double with AnyRef]">toClass</a><span class="delimiter">(</span><a href="#144237" title="(t: scala.tools.scalap.scalax.rules.scalasig.Type)scala.tools.scalap.scalax.rules.scalasig.Symbol">findPrimitive</a><span class="delimiter">(</span><a href="#143618" title="scala.tools.scalap.scalax.rules.scalasig.MethodSymbol">s</a>.<span title="(idx: Int)scala.tools.scalap.scalax.rules.scalasig.Symbol">children</span><span class="delimiter">(</span><a href="#143619" title="Int">argIdx</a><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="scala.tools.scalap.scalax.rules.scalasig.SymbolInfoSymbol" class="delimiter">[</span><span title="scala.tools.scalap.scalax.rules.scalasig.SymbolInfoSymbol">SymbolInfoSymbol</span><span class="delimiter">]</span>.<span title="=&gt; scala.tools.scalap.scalax.rules.scalasig.Type">infoType</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(s: scala.tools.scalap.scalax.rules.scalasig.MethodSymbol, typeArgIdx: Int)Class[_]" id="126481">findArgTypeForField</a><span class="delimiter">(</span><a title="scala.tools.scalap.scalax.rules.scalasig.MethodSymbol" id="143674">s</a>: <span title="scala.tools.scalap.scalax.rules.scalasig.MethodSymbol">MethodSymbol</span>, <a title="Int" id="143675">typeArgIdx</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="comment">// FIXME can be removed when 2.8 no longer needs to be supported.</span>
    <span class="comment">// 2.8 does not have NullaryMethodType, work around that.</span>
    <span class="comment">/*
    val t = s.infoType match {
      case NullaryMethodType(TypeRefType(_, _, args)) =&gt; args(typeArgIdx)
    }
    */</span>
    <span class="keyword">val</span> <a title="scala.tools.scalap.scalax.rules.scalasig.Type" id="144358">t</a> = <a href="#143674" title="scala.tools.scalap.scalax.rules.scalasig.MethodSymbol">s</a>.<span title="=&gt; scala.tools.scalap.scalax.rules.scalasig.Type">infoType</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="ScalaSigReader extends AnyRef" class="delimiter">[</span><a href="#144360" title="ScalaSigReader extends AnyRef" class="delimiter">{</a> <span class="keyword">def</span> resultType: Type <span class="delimiter">}</span><span class="delimiter">]</span>.<a href="#144361" title="=&gt; scala.tools.scalap.scalax.rules.scalasig.Type">resultType</a> <span title="scala.tools.scalap.scalax.rules.scalasig.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="scala.tools.scalap.scalax.rules.scalasig.Type">TypeRefType</span><span class="delimiter">(</span>_, _, <a title="Seq[scala.tools.scalap.scalax.rules.scalasig.Type]" id="144362">args</a><span class="delimiter">)</span> =&gt; <a href="#144362" title="(idx: Int)scala.tools.scalap.scalax.rules.scalasig.Type">args</a><span class="delimiter">(</span><a href="#143675" title="Int">typeArgIdx</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(t: scala.tools.scalap.scalax.rules.scalasig.Type)scala.tools.scalap.scalax.rules.scalasig.Symbol" id="144359">findPrimitive</a><span class="delimiter">(</span><a title="scala.tools.scalap.scalax.rules.scalasig.Type" id="144370">t</a>: <span title="scala.tools.scalap.scalax.rules.scalasig.Type">Type</span><span class="delimiter">)</span>: <span title="scala.tools.scalap.scalax.rules.scalasig.Symbol">Symbol</span> = <a href="#144370" title="scala.tools.scalap.scalax.rules.scalasig.Type">t</a> <span title="scala.tools.scalap.scalax.rules.scalasig.Symbol" class="keyword">match</span> <span class="delimiter">{</span> 
      <span class="keyword">case</span> <span title="scala.tools.scalap.scalax.rules.scalasig.Symbol">TypeRefType</span><span class="delimiter">(</span>ThisType<span class="delimiter">(</span>_<span class="delimiter">)</span>, <a title="scala.tools.scalap.scalax.rules.scalasig.Symbol" id="144371">symbol</a>, _<span class="delimiter">)</span> =&gt; <a href="#144371" title="scala.tools.scalap.scalax.rules.scalasig.Symbol">symbol</a>
      <span class="keyword">case</span> <a title="scala.tools.scalap.scalax.rules.scalasig.Symbol" id="144372">ref</a> @ TypeRefType<span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> =&gt; <a href="#144359" title="(t: scala.tools.scalap.scalax.rules.scalasig.Type)scala.tools.scalap.scalax.rules.scalasig.Symbol">findPrimitive</a><span class="delimiter">(</span><a href="#144372" title="scala.tools.scalap.scalax.rules.scalasig.TypeRefType">ref</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Nothing" id="144373">x</a> =&gt; <a href="Meta.scala.html#11168" title="object net.liftweb.json.Meta">Meta</a>.<a href="Meta.scala.html#53212" title="(msg: String, cause: Exception)Nothing">fail</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Unexpected type info &quot;)" class="string">&quot;Unexpected type info &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#144373" title="scala.tools.scalap.scalax.rules.scalasig.Type">x</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#126482" title="(s: scala.tools.scalap.scalax.rules.scalasig.Symbol)java.lang.Class[_ &gt;: Short with Int with Long with Boolean with Float with Double with AnyRef]">toClass</a><span class="delimiter">(</span><a href="#144359" title="(t: scala.tools.scalap.scalax.rules.scalasig.Type)scala.tools.scalap.scalax.rules.scalasig.Symbol">findPrimitive</a><span class="delimiter">(</span><a href="#144358" title="scala.tools.scalap.scalax.rules.scalasig.Type">t</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(s: scala.tools.scalap.scalax.rules.scalasig.Symbol)java.lang.Class[_ &gt;: Short with Int with Long with Boolean with Float with Double with AnyRef]" id="126482">toClass</a><span class="delimiter">(</span><a title="scala.tools.scalap.scalax.rules.scalasig.Symbol" id="144267">s</a>: <span title="scala.tools.scalap.scalax.rules.scalasig.Symbol">Symbol</span><span class="delimiter">)</span> = <a href="#144267" title="scala.tools.scalap.scalax.rules.scalasig.Symbol">s</a>.<span title="=&gt; String">path</span> <span title="java.lang.Class[_81]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="java.lang.Class[Short](classOf[scala.Short])" class="string">&quot;scala.Short&quot;</span>   =&gt; classOf<span title="java.lang.Class[Short](classOf[scala.Short])" class="delimiter">[</span>Short<span class="delimiter">]</span>
    <span class="keyword">case</span> <span title="java.lang.Class[Int](classOf[scala.Int])" class="string">&quot;scala.Int&quot;</span>     =&gt; classOf<span title="java.lang.Class[Int](classOf[scala.Int])" class="delimiter">[</span>Int<span class="delimiter">]</span>
    <span class="keyword">case</span> <span title="java.lang.Class[Long](classOf[scala.Long])" class="string">&quot;scala.Long&quot;</span>    =&gt; classOf<span title="java.lang.Class[Long](classOf[scala.Long])" class="delimiter">[</span>Long<span class="delimiter">]</span>
    <span class="keyword">case</span> <span title="java.lang.Class[Boolean](classOf[scala.Boolean])" class="string">&quot;scala.Boolean&quot;</span> =&gt; classOf<span title="java.lang.Class[Boolean](classOf[scala.Boolean])" class="delimiter">[</span>Boolean<span class="delimiter">]</span>
    <span class="keyword">case</span> <span title="java.lang.Class[Float](classOf[scala.Float])" class="string">&quot;scala.Float&quot;</span>   =&gt; classOf<span title="java.lang.Class[Float](classOf[scala.Float])" class="delimiter">[</span>Float<span class="delimiter">]</span>
    <span class="keyword">case</span> <span title="java.lang.Class[Double](classOf[scala.Double])" class="string">&quot;scala.Double&quot;</span>  =&gt; classOf<span title="java.lang.Class[Double](classOf[scala.Double])" class="delimiter">[</span>Double<span class="delimiter">]</span>
    <span class="keyword">case</span> <span title="java.lang.Class[AnyRef](classOf[java.lang.Object])">_</span>               =&gt; classOf<span title="java.lang.Class[AnyRef](classOf[java.lang.Object])" class="delimiter">[</span>AnyRef<span class="delimiter">]</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(s: scala.tools.scalap.scalax.rules.scalasig.Symbol)Boolean" id="126483">isPrimitive</a><span class="delimiter">(</span><a title="scala.tools.scalap.scalax.rules.scalasig.Symbol" id="144264">s</a>: <span title="scala.tools.scalap.scalax.rules.scalasig.Symbol">Symbol</span><span class="delimiter">)</span> = <a href="#126482" title="(s: scala.tools.scalap.scalax.rules.scalasig.Symbol)java.lang.Class[_ &gt;: Short with Int with Long with Boolean with Float with Double with AnyRef]">toClass</a><span class="delimiter">(</span><a href="#144264" title="scala.tools.scalap.scalax.rules.scalasig.Symbol">s</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> classOf<span title="java.lang.Class[AnyRef](classOf[java.lang.Object])" class="delimiter">[</span>AnyRef<span class="delimiter">]</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: Class[_])Option[scala.tools.scalap.scalax.rules.scalasig.ScalaSig]" id="126484">findScalaSig</a><span class="delimiter">(</span><a title="Class[_]" id="143687">clazz</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Option[scala.tools.scalap.scalax.rules.scalasig.ScalaSig]">Option</span><span class="delimiter">[</span>ScalaSig<span class="delimiter">]</span> = 
    <span title="object scala.tools.scalap.scalax.rules.scalasig.ScalaSigParser">ScalaSigParser</span>.<span title="(clazz: Class[_])Option[scala.tools.scalap.scalax.rules.scalasig.ScalaSig]">parse</span><span class="delimiter">(</span><a href="#143687" title="Class[_]">clazz</a><span class="delimiter">)</span>.<span title="(alternative: =&gt; Option[scala.tools.scalap.scalax.rules.scalasig.ScalaSig])Option[scala.tools.scalap.scalax.rules.scalasig.ScalaSig]">orElse</span><span class="delimiter">(</span><a href="#126484" title="(clazz: Class[_])Option[scala.tools.scalap.scalax.rules.scalasig.ScalaSig]">findScalaSig</a><span class="delimiter">(</span><a href="#143687" title="Class[_]">clazz</a>.<span title="()java.lang.Class[_]">getDeclaringClass</span><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>