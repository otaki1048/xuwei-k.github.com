<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>json/net/liftweb/json/Diff.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*
 * Copyright 2009-2010 WorldWide Conferencing, LLC
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */</span>

<span class="keyword">package</span> net.liftweb 
<span class="keyword">package</span> json 

<span class="comment">/** A difference between two JSONs (j1 diff j2).
 * @param changed what has changed from j1 to j2
 * @param added what has been added to j2
 * @param deleted what has been deleted from j1
 */</span>
case <span class="keyword">class</span> <a title="class Diff extends java.lang.Object with ScalaObject with Product with Serializable" id="50056">Diff</a><a href="#50056" title="ScalaObject" class="delimiter">(</a><a title="net.liftweb.json.package.JValue" id="121175">changed</a>: <a href="JsonAST.scala.html#48510" title="net.liftweb.json.package.JValue">JValue</a>, <a title="net.liftweb.json.package.JValue" id="121176">added</a>: <a href="JsonAST.scala.html#48510" title="net.liftweb.json.package.JValue">JValue</a>, <a title="net.liftweb.json.package.JValue" id="121177">deleted</a>: <a href="JsonAST.scala.html#48510" title="net.liftweb.json.package.JValue">JValue</a><span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(f: net.liftweb.json.package.JValue =&gt; net.liftweb.json.package.JValue)net.liftweb.json.Diff" id="50067">map</a><span class="delimiter">(</span><a title="net.liftweb.json.package.JValue =&gt; net.liftweb.json.package.JValue" id="121170">f</a>: JValue =&gt; JValue<span class="delimiter">)</span>: <a href="#50056" title="net.liftweb.json.Diff">Diff</a> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(x: net.liftweb.json.package.JValue)net.liftweb.json.package.JValue" id="121172">applyTo</a><span class="delimiter">(</span><a title="net.liftweb.json.package.JValue" id="121173">x</a>: <a href="JsonAST.scala.html#48510" title="net.liftweb.json.package.JValue">JValue</a><span class="delimiter">)</span> = <a href="#121173" title="net.liftweb.json.package.JValue">x</a> <span title="net.liftweb.json.package.JValue" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="package.scala.html#15380" title="net.liftweb.json.JsonAST.JNothing.type">JNothing</a> =&gt; <a href="package.scala.html#15380" title="=&gt; net.liftweb.json.JsonAST.JNothing.type">JNothing</a>
      <span class="keyword">case</span> <span title="net.liftweb.json.package.JValue">_</span> =&gt; <a href="#121170" title="(v1: net.liftweb.json.package.JValue)net.liftweb.json.package.JValue">f</a><span class="delimiter">(</span><a href="#121173" title="net.liftweb.json.package.JValue">x</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#50056" title="(changed: net.liftweb.json.package.JValue, added: net.liftweb.json.package.JValue, deleted: net.liftweb.json.package.JValue)net.liftweb.json.Diff">Diff</a><span class="delimiter">(</span><a href="#121172" title="(x: net.liftweb.json.package.JValue)net.liftweb.json.package.JValue">applyTo</a><span class="delimiter">(</span><a href="#121175" title="=&gt; net.liftweb.json.package.JValue">changed</a><span class="delimiter">)</span>, <a href="#121172" title="(x: net.liftweb.json.package.JValue)net.liftweb.json.package.JValue">applyTo</a><span class="delimiter">(</span><a href="#121176" title="=&gt; net.liftweb.json.package.JValue">added</a><span class="delimiter">)</span>, <a href="#121172" title="(x: net.liftweb.json.package.JValue)net.liftweb.json.package.JValue">applyTo</a><span class="delimiter">(</span><a href="#121177" title="=&gt; net.liftweb.json.package.JValue">deleted</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/** Computes a diff between two JSONs.
 */</span>
<span class="keyword">object</span> <a title="object net.liftweb.json.Diff" id="121613">Diff</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="comment">/** Return a diff.
   * &lt;p&gt;
   * Example:&lt;pre&gt;
   * val Diff(c, a, d) = (&quot;name&quot;, &quot;joe&quot;) ~ (&quot;age&quot;, 10) diff (&quot;fname&quot;, &quot;joe&quot;) ~ (&quot;age&quot;, 11)
   * c = JObject(JField(&quot;age&quot;,JInt(11)) :: Nil)
   * a = JObject(JField(&quot;fname&quot;,JString(&quot;joe&quot;)) :: Nil)
   * d = JObject(JField(&quot;name&quot;,JString(&quot;joe&quot;)) :: Nil)
   * &lt;/pre&gt;
   */</span>
  <span class="keyword">def</span> <a title="(val1: net.liftweb.json.package.JValue, val2: net.liftweb.json.package.JValue)net.liftweb.json.Diff" id="50052">diff</a><span class="delimiter">(</span><a title="net.liftweb.json.package.JValue" id="121249">val1</a>: <a href="JsonAST.scala.html#48510" title="net.liftweb.json.package.JValue">JValue</a>, <a title="net.liftweb.json.package.JValue" id="121250">val2</a>: <a href="JsonAST.scala.html#48510" title="net.liftweb.json.package.JValue">JValue</a><span class="delimiter">)</span>: <a href="#50056" title="net.liftweb.json.Diff">Diff</a> = <span title="(_1: net.liftweb.json.package.JValue, _2: net.liftweb.json.package.JValue)(net.liftweb.json.package.JValue, net.liftweb.json.package.JValue)" class="delimiter">(</span><a href="#121249" title="net.liftweb.json.package.JValue">val1</a>, <a href="#121250" title="net.liftweb.json.package.JValue">val2</a><span class="delimiter">)</span> <span title="net.liftweb.json.Diff" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="net.liftweb.json.Diff" class="delimiter">(</span><a title="net.liftweb.json.package.JValue" id="121260">x</a>, <a title="net.liftweb.json.package.JValue" id="121261">y</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#121260" title="net.liftweb.json.package.JValue">x</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#121261" title="net.liftweb.json.package.JValue">y</a> =&gt; <a href="#50056" title="(changed: net.liftweb.json.package.JValue, added: net.liftweb.json.package.JValue, deleted: net.liftweb.json.package.JValue)net.liftweb.json.Diff">Diff</a><span class="delimiter">(</span><a href="package.scala.html#15380" title="=&gt; net.liftweb.json.JsonAST.JNothing.type">JNothing</a>, <a href="package.scala.html#15380" title="=&gt; net.liftweb.json.JsonAST.JNothing.type">JNothing</a>, <a href="package.scala.html#15380" title="=&gt; net.liftweb.json.JsonAST.JNothing.type">JNothing</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="net.liftweb.json.Diff" class="delimiter">(</span>JObject<span class="delimiter">(</span><a title="List[net.liftweb.json.JsonAST.JField]" id="121269">xs</a><span class="delimiter">)</span>, JObject<span class="delimiter">(</span><a title="List[net.liftweb.json.JsonAST.JField]" id="121271">ys</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#50053" title="(vs1: List[net.liftweb.json.package.JField], vs2: List[net.liftweb.json.package.JField])net.liftweb.json.Diff">diffFields</a><span class="delimiter">(</span><a href="#121269" title="List[net.liftweb.json.JsonAST.JField]">xs</a>, <a href="#121271" title="List[net.liftweb.json.JsonAST.JField]">ys</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="net.liftweb.json.Diff" class="delimiter">(</span>JArray<span class="delimiter">(</span><a title="List[net.liftweb.json.JsonAST.JValue]" id="121433">xs</a><span class="delimiter">)</span>, JArray<span class="delimiter">(</span><a title="List[net.liftweb.json.JsonAST.JValue]" id="121435">ys</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#50054" title="(vs1: List[net.liftweb.json.package.JValue], vs2: List[net.liftweb.json.package.JValue])net.liftweb.json.Diff">diffVals</a><span class="delimiter">(</span><a href="#121433" title="List[net.liftweb.json.JsonAST.JValue]">xs</a>, <a href="#121435" title="List[net.liftweb.json.JsonAST.JValue]">ys</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="net.liftweb.json.Diff" class="delimiter">(</span>JField<span class="delimiter">(</span><a title="String" id="121529">xn</a>, <a title="net.liftweb.json.JsonAST.JValue" id="121530">xv</a><span class="delimiter">)</span>, JField<span class="delimiter">(</span><a title="String" id="121533">yn</a>, <a title="net.liftweb.json.JsonAST.JValue" id="121534">yv</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#121529" title="String">xn</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#121533" title="String">yn</a><span class="delimiter">)</span> =&gt; <a href="#50052" title="(val1: net.liftweb.json.package.JValue, val2: net.liftweb.json.package.JValue)net.liftweb.json.Diff">diff</a><span class="delimiter">(</span><a href="#121530" title="net.liftweb.json.JsonAST.JValue">xv</a>, <a href="#121534" title="net.liftweb.json.JsonAST.JValue">yv</a><span class="delimiter">)</span> <a href="#50067" title="(f: net.liftweb.json.package.JValue =&gt; net.liftweb.json.package.JValue)net.liftweb.json.Diff">map</a> <span class="delimiter">(</span><a href="JsonAST.scala.html#50050" title="(name: String, value: net.liftweb.json.JsonAST.JValue)net.liftweb.json.JsonAST.JField">JField</a><span class="delimiter">(</span><a href="#121529" title="String">xn</a>, <a href="#121540" title="net.liftweb.json.package.JValue">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="net.liftweb.json.Diff" class="delimiter">(</span><a title="net.liftweb.json.JsonAST.JField" id="121551">x</a> @ JField<span class="delimiter">(</span><a title="String" id="121554">xn</a>, <a title="net.liftweb.json.JsonAST.JValue" id="121555">xv</a><span class="delimiter">)</span>, <a title="net.liftweb.json.JsonAST.JField" id="121556">y</a> @ JField<span class="delimiter">(</span><a title="String" id="121559">yn</a>, <a title="net.liftweb.json.JsonAST.JValue" id="121560">yv</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#121554" title="String">xn</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#121559" title="String">yn</a><span class="delimiter">)</span> =&gt; <a href="#50056" title="(changed: net.liftweb.json.package.JValue, added: net.liftweb.json.package.JValue, deleted: net.liftweb.json.package.JValue)net.liftweb.json.Diff">Diff</a><span class="delimiter">(</span><a href="package.scala.html#15380" title="=&gt; net.liftweb.json.JsonAST.JNothing.type">JNothing</a>, <a href="#121556" title="net.liftweb.json.JsonAST.JField">y</a>, <a href="#121551" title="net.liftweb.json.JsonAST.JField">x</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="net.liftweb.json.Diff" class="delimiter">(</span>JInt<span class="delimiter">(</span><a title="BigInt" id="121567">x</a><span class="delimiter">)</span>, JInt<span class="delimiter">(</span><a title="BigInt" id="121568">y</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#121567" title="BigInt">x</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#121568" title="BigInt">y</a><span class="delimiter">)</span> =&gt; <a href="#50056" title="(changed: net.liftweb.json.package.JValue, added: net.liftweb.json.package.JValue, deleted: net.liftweb.json.package.JValue)net.liftweb.json.Diff">Diff</a><span class="delimiter">(</span><a href="JsonAST.scala.html#51543" title="(num: BigInt)net.liftweb.json.JsonAST.JInt">JInt</a><span class="delimiter">(</span><a href="#121568" title="BigInt">y</a><span class="delimiter">)</span>, <a href="package.scala.html#15380" title="=&gt; net.liftweb.json.JsonAST.JNothing.type">JNothing</a>, <a href="package.scala.html#15380" title="=&gt; net.liftweb.json.JsonAST.JNothing.type">JNothing</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="net.liftweb.json.Diff" class="delimiter">(</span>JDouble<span class="delimiter">(</span><a title="Double" id="121577">x</a><span class="delimiter">)</span>, JDouble<span class="delimiter">(</span><a title="Double" id="121578">y</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#121577" title="Double">x</a> <span title="(x: Double)Boolean">!=</span> <a href="#121578" title="Double">y</a><span class="delimiter">)</span> =&gt; <a href="#50056" title="(changed: net.liftweb.json.package.JValue, added: net.liftweb.json.package.JValue, deleted: net.liftweb.json.package.JValue)net.liftweb.json.Diff">Diff</a><span class="delimiter">(</span><a href="JsonAST.scala.html#51514" title="(num: Double)net.liftweb.json.JsonAST.JDouble">JDouble</a><span class="delimiter">(</span><a href="#121578" title="Double">y</a><span class="delimiter">)</span>, <a href="package.scala.html#15380" title="=&gt; net.liftweb.json.JsonAST.JNothing.type">JNothing</a>, <a href="package.scala.html#15380" title="=&gt; net.liftweb.json.JsonAST.JNothing.type">JNothing</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="net.liftweb.json.Diff" class="delimiter">(</span>JString<span class="delimiter">(</span><a title="String" id="121587">x</a><span class="delimiter">)</span>, JString<span class="delimiter">(</span><a title="String" id="121588">y</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#121587" title="String">x</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#121588" title="String">y</a><span class="delimiter">)</span> =&gt; <a href="#50056" title="(changed: net.liftweb.json.package.JValue, added: net.liftweb.json.package.JValue, deleted: net.liftweb.json.package.JValue)net.liftweb.json.Diff">Diff</a><span class="delimiter">(</span><a href="JsonAST.scala.html#50133" title="(s: String)net.liftweb.json.JsonAST.JString">JString</a><span class="delimiter">(</span><a href="#121588" title="String">y</a><span class="delimiter">)</span>, <a href="package.scala.html#15380" title="=&gt; net.liftweb.json.JsonAST.JNothing.type">JNothing</a>, <a href="package.scala.html#15380" title="=&gt; net.liftweb.json.JsonAST.JNothing.type">JNothing</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="net.liftweb.json.Diff" class="delimiter">(</span>JBool<span class="delimiter">(</span><a title="Boolean" id="121597">x</a><span class="delimiter">)</span>, JBool<span class="delimiter">(</span><a title="Boolean" id="121598">y</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#121597" title="Boolean">x</a> <span title="(x: Boolean)Boolean">!=</span> <a href="#121598" title="Boolean">y</a><span class="delimiter">)</span> =&gt; <a href="#50056" title="(changed: net.liftweb.json.package.JValue, added: net.liftweb.json.package.JValue, deleted: net.liftweb.json.package.JValue)net.liftweb.json.Diff">Diff</a><span class="delimiter">(</span><a href="JsonAST.scala.html#51495" title="(value: Boolean)net.liftweb.json.JsonAST.JBool">JBool</a><span class="delimiter">(</span><a href="#121598" title="Boolean">y</a><span class="delimiter">)</span>, <a href="package.scala.html#15380" title="=&gt; net.liftweb.json.JsonAST.JNothing.type">JNothing</a>, <a href="package.scala.html#15380" title="=&gt; net.liftweb.json.JsonAST.JNothing.type">JNothing</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="net.liftweb.json.Diff" class="delimiter">(</span><a title="net.liftweb.json.package.JValue" id="121607">x</a>, <a title="net.liftweb.json.package.JValue" id="121608">y</a><span class="delimiter">)</span> =&gt; <a href="#50056" title="(changed: net.liftweb.json.package.JValue, added: net.liftweb.json.package.JValue, deleted: net.liftweb.json.package.JValue)net.liftweb.json.Diff">Diff</a><span class="delimiter">(</span><a href="package.scala.html#15380" title="=&gt; net.liftweb.json.JsonAST.JNothing.type">JNothing</a>, <a href="#121608" title="net.liftweb.json.package.JValue">y</a>, <a href="#121607" title="net.liftweb.json.package.JValue">x</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(vs1: List[net.liftweb.json.package.JField], vs2: List[net.liftweb.json.package.JField])net.liftweb.json.Diff" id="50053">diffFields</a><span class="delimiter">(</span><a title="List[net.liftweb.json.package.JField]" id="121272">vs1</a>: <span title="List[net.liftweb.json.package.JField]">List</span><span class="delimiter">[</span>JField<span class="delimiter">]</span>, <a title="List[net.liftweb.json.package.JField]" id="121273">vs2</a>: <span title="List[net.liftweb.json.package.JField]">List</span><span class="delimiter">[</span>JField<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(xleft: List[net.liftweb.json.package.JField], yleft: List[net.liftweb.json.package.JField])net.liftweb.json.Diff" id="121276">diffRec</a><span class="delimiter">(</span><a title="List[net.liftweb.json.package.JField]" id="121277">xleft</a>: <span title="List[net.liftweb.json.package.JField]">List</span><span class="delimiter">[</span>JField<span class="delimiter">]</span>, <a title="List[net.liftweb.json.package.JField]" id="121278">yleft</a>: <span title="List[net.liftweb.json.package.JField]">List</span><span class="delimiter">[</span>JField<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#50056" title="net.liftweb.json.Diff">Diff</a> = <a href="#121277" title="List[net.liftweb.json.package.JField]">xleft</a> <span title="net.liftweb.json.Diff" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="net.liftweb.json.Diff">Nil</span> =&gt; <a href="#50056" title="(changed: net.liftweb.json.package.JValue, added: net.liftweb.json.package.JValue, deleted: net.liftweb.json.package.JValue)net.liftweb.json.Diff">Diff</a><span class="delimiter">(</span><a href="package.scala.html#15380" title="=&gt; net.liftweb.json.JsonAST.JNothing.type">JNothing</a>, <span title="net.liftweb.json.package.JValue" class="keyword">if</span> <span class="delimiter">(</span><a href="#121278" title="List[net.liftweb.json.package.JField]">yleft</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="package.scala.html#15380" title="=&gt; net.liftweb.json.JsonAST.JNothing.type">JNothing</a> <span class="keyword">else</span> <a href="JsonAST.scala.html#51392" title="(obj: List[net.liftweb.json.JsonAST.JField])net.liftweb.json.JsonAST.JObject">JObject</a><span class="delimiter">(</span><a href="#121278" title="List[net.liftweb.json.package.JField]">yleft</a><span class="delimiter">)</span>, <a href="package.scala.html#15380" title="=&gt; net.liftweb.json.JsonAST.JNothing.type">JNothing</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="net.liftweb.json.Diff" id="121289">x</a> :: <a title="List[net.liftweb.json.package.JField]" id="121290">xs</a> =&gt; <a href="#121278" title="List[net.liftweb.json.package.JField]">yleft</a> <span title="(p: net.liftweb.json.package.JField =&gt; Boolean)Option[net.liftweb.json.package.JField]">find</span> <span class="delimiter">(</span><a href="#121297" title="net.liftweb.json.package.JField">_</a>.<a href="JsonAST.scala.html#50112" title="=&gt; String">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#121289" title="net.liftweb.json.package.JField">x</a>.<a href="JsonAST.scala.html#50112" title="=&gt; String">name</a><span class="delimiter">)</span> <span title="net.liftweb.json.Diff" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="net.liftweb.json.Diff">Some</span><span class="delimiter">(</span><a title="net.liftweb.json.package.JField" id="121303">y</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> Diff<a href="#121305" title="(net.liftweb.json.package.JValue, net.liftweb.json.package.JValue, net.liftweb.json.package.JValue)" class="delimiter">(</a><a href="#121304" title="net.liftweb.json.package.JValue" id="121305">c1</a>, <a href="#121304" title="net.liftweb.json.package.JValue" id="121306">a1</a>, <a href="#121304" title="net.liftweb.json.package.JValue" id="121307">d1</a><span class="delimiter">)</span> = <a href="#50052" title="(val1: net.liftweb.json.package.JValue, val2: net.liftweb.json.package.JValue)net.liftweb.json.Diff">diff</a><a href="#50056" title="net.liftweb.json.Diff @unchecked" class="delimiter">(</a><a href="#121289" title="net.liftweb.json.package.JField">x</a>, <a href="#121303" title="net.liftweb.json.package.JField">y</a><span class="delimiter">)</span>
          <span class="keyword">val</span> Diff<a href="#121309" title="(net.liftweb.json.package.JValue, net.liftweb.json.package.JValue, net.liftweb.json.package.JValue)" class="delimiter">(</a><a href="#121308" title="net.liftweb.json.package.JValue" id="121309">c2</a>, <a href="#121308" title="net.liftweb.json.package.JValue" id="121310">a2</a>, <a href="#121308" title="net.liftweb.json.package.JValue" id="121311">d2</a><span class="delimiter">)</span> = <a href="#121276" title="(xleft: List[net.liftweb.json.package.JField], yleft: List[net.liftweb.json.package.JField])net.liftweb.json.Diff">diffRec</a><a href="#50056" title="net.liftweb.json.Diff @unchecked" class="delimiter">(</a><a href="#121290" title="List[net.liftweb.json.package.JField]">xs</a>, <a href="#121278" title="List[net.liftweb.json.package.JField]">yleft</a> <span title="(p: net.liftweb.json.package.JField =&gt; Boolean)List[net.liftweb.json.package.JField]">filterNot</span> <span class="delimiter">(</span><a href="#121327" title="net.liftweb.json.package.JField">_</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#121303" title="net.liftweb.json.package.JField">y</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#50056" title="(changed: net.liftweb.json.package.JValue, added: net.liftweb.json.package.JValue, deleted: net.liftweb.json.package.JValue)net.liftweb.json.Diff">Diff</a><span class="delimiter">(</span><a href="#121305" title="net.liftweb.json.package.JValue">c1</a> <a href="JsonAST.scala.html#50098" title="(other: net.liftweb.json.JsonAST.JValue)net.liftweb.json.JsonAST.JValue">++</a> <a href="#121309" title="net.liftweb.json.package.JValue">c2</a>, <a href="#121306" title="net.liftweb.json.package.JValue">a1</a> <a href="JsonAST.scala.html#50098" title="(other: net.liftweb.json.JsonAST.JValue)net.liftweb.json.JsonAST.JValue">++</a> <a href="#121310" title="net.liftweb.json.package.JValue">a2</a>, <a href="#121307" title="net.liftweb.json.package.JValue">d1</a> <a href="JsonAST.scala.html#50098" title="(other: net.liftweb.json.JsonAST.JValue)net.liftweb.json.JsonAST.JValue">++</a> <a href="#121311" title="net.liftweb.json.package.JValue">d2</a><span class="delimiter">)</span> <a href="#50067" title="(f: net.liftweb.json.package.JValue =&gt; net.liftweb.json.package.JValue)net.liftweb.json.Diff">map</a> <a href="#121348" title="net.liftweb.json.package.JValue" class="delimiter">{</a>
            <span class="keyword">case</span> <a title="net.liftweb.json.JsonAST.JObject" id="121349">f</a>: <a href="JsonAST.scala.html#48527" title="net.liftweb.json.package.JField">JField</a> =&gt; <a href="JsonAST.scala.html#51392" title="(obj: List[net.liftweb.json.JsonAST.JField])net.liftweb.json.JsonAST.JObject">JObject</a><span class="delimiter">(</span><a href="#121349" title="net.liftweb.json.package.JField">f</a> <a href="#121354" title="(x: net.liftweb.json.package.JField)List[net.liftweb.json.package.JField]">::</a> <span title="object Nil">Nil</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <a title="net.liftweb.json.package.JValue" id="121360">x</a> =&gt; <a href="#121360" title="net.liftweb.json.package.JValue">x</a>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <span title="net.liftweb.json.Diff">None</span> =&gt;
          <span class="keyword">val</span> Diff<a href="#121362" title="(net.liftweb.json.package.JValue, net.liftweb.json.package.JValue, net.liftweb.json.package.JValue)" class="delimiter">(</a><a href="#121361" title="net.liftweb.json.package.JValue" id="121362">c</a>, <a href="#121361" title="net.liftweb.json.package.JValue" id="121363">a</a>, <a href="#121361" title="net.liftweb.json.package.JValue" id="121364">d</a><span class="delimiter">)</span> = <a href="#121276" title="(xleft: List[net.liftweb.json.package.JField], yleft: List[net.liftweb.json.package.JField])net.liftweb.json.Diff">diffRec</a><a href="#50056" title="net.liftweb.json.Diff @unchecked" class="delimiter">(</a><a href="#121290" title="List[net.liftweb.json.package.JField]">xs</a>, <a href="#121278" title="List[net.liftweb.json.package.JField]">yleft</a><span class="delimiter">)</span>
          <a href="#50056" title="(changed: net.liftweb.json.package.JValue, added: net.liftweb.json.package.JValue, deleted: net.liftweb.json.package.JValue)net.liftweb.json.Diff">Diff</a><span class="delimiter">(</span><a href="#121362" title="net.liftweb.json.package.JValue">c</a>, <a href="#121363" title="net.liftweb.json.package.JValue">a</a>, <a href="JsonAST.scala.html#51392" title="(obj: List[net.liftweb.json.JsonAST.JField])net.liftweb.json.JsonAST.JObject">JObject</a><a href="Merge.scala.html#51599" title="(json: net.liftweb.json.JsonAST.JObject)net.liftweb.json.JsonAST.JValue.MergeSyntax[net.liftweb.json.JsonAST.JObject]" class="delimiter">(</a><a href="#121289" title="net.liftweb.json.package.JField">x</a> <a href="#121381" title="(x: net.liftweb.json.package.JField)List[net.liftweb.json.package.JField]">::</a> <span title="object Nil">Nil</span><span class="delimiter">)</span> <a href="Merge.scala.html#58086" title="(other: net.liftweb.json.package.JValue)(implicit instance: net.liftweb.json.MergeDep[net.liftweb.json.JsonAST.JObject,net.liftweb.json.package.JValue,net.liftweb.json.package.JValue])net.liftweb.json.package.JValue">merge</a> <a href="#121364" title="net.liftweb.json.package.JValue">d</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <a href="#121276" title="(xleft: List[net.liftweb.json.package.JField], yleft: List[net.liftweb.json.package.JField])net.liftweb.json.Diff">diffRec</a><span class="delimiter">(</span><a href="#121272" title="List[net.liftweb.json.package.JField]">vs1</a>, <a href="#121273" title="List[net.liftweb.json.package.JField]">vs2</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(vs1: List[net.liftweb.json.package.JValue], vs2: List[net.liftweb.json.package.JValue])net.liftweb.json.Diff" id="50054">diffVals</a><span class="delimiter">(</span><a title="List[net.liftweb.json.package.JValue]" id="121436">vs1</a>: <span title="List[net.liftweb.json.package.JValue]">List</span><span class="delimiter">[</span>JValue<span class="delimiter">]</span>, <a title="List[net.liftweb.json.package.JValue]" id="121437">vs2</a>: <span title="List[net.liftweb.json.package.JValue]">List</span><span class="delimiter">[</span>JValue<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(xleft: List[net.liftweb.json.package.JValue], yleft: List[net.liftweb.json.package.JValue])net.liftweb.json.Diff" id="121440">diffRec</a><span class="delimiter">(</span><a title="List[net.liftweb.json.package.JValue]" id="121441">xleft</a>: <span title="List[net.liftweb.json.package.JValue]">List</span><span class="delimiter">[</span>JValue<span class="delimiter">]</span>, <a title="List[net.liftweb.json.package.JValue]" id="121442">yleft</a>: <span title="List[net.liftweb.json.package.JValue]">List</span><span class="delimiter">[</span>JValue<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#50056" title="net.liftweb.json.Diff">Diff</a> = <span title="(_1: List[net.liftweb.json.package.JValue], _2: List[net.liftweb.json.package.JValue])(List[net.liftweb.json.package.JValue], List[net.liftweb.json.package.JValue])" class="delimiter">(</span><a href="#121441" title="List[net.liftweb.json.package.JValue]">xleft</a>, <a href="#121442" title="List[net.liftweb.json.package.JValue]">yleft</a><span class="delimiter">)</span> <span title="net.liftweb.json.Diff" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="net.liftweb.json.Diff" class="delimiter">(</span><a title="List[net.liftweb.json.package.JValue]" id="121462">xs</a>, <span title="object Nil">Nil</span><span class="delimiter">)</span> =&gt; <a href="#50056" title="(changed: net.liftweb.json.package.JValue, added: net.liftweb.json.package.JValue, deleted: net.liftweb.json.package.JValue)net.liftweb.json.Diff">Diff</a><span class="delimiter">(</span><a href="package.scala.html#15380" title="=&gt; net.liftweb.json.JsonAST.JNothing.type">JNothing</a>, <a href="package.scala.html#15380" title="=&gt; net.liftweb.json.JsonAST.JNothing.type">JNothing</a>, <span title="net.liftweb.json.package.JValue" class="keyword">if</span> <span class="delimiter">(</span><a href="#121462" title="List[net.liftweb.json.package.JValue]">xs</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="package.scala.html#15380" title="=&gt; net.liftweb.json.JsonAST.JNothing.type">JNothing</a> <span class="keyword">else</span> <a href="JsonAST.scala.html#51423" title="(arr: List[net.liftweb.json.JsonAST.JValue])net.liftweb.json.JsonAST.JArray">JArray</a><span class="delimiter">(</span><a href="#121462" title="List[net.liftweb.json.package.JValue]">xs</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="net.liftweb.json.Diff" class="delimiter">(</span><span title="object Nil">Nil</span>, <a title="List[net.liftweb.json.package.JValue]" id="121469">ys</a><span class="delimiter">)</span> =&gt; <a href="#50056" title="(changed: net.liftweb.json.package.JValue, added: net.liftweb.json.package.JValue, deleted: net.liftweb.json.package.JValue)net.liftweb.json.Diff">Diff</a><span class="delimiter">(</span><a href="package.scala.html#15380" title="=&gt; net.liftweb.json.JsonAST.JNothing.type">JNothing</a>, <span title="net.liftweb.json.package.JValue" class="keyword">if</span> <span class="delimiter">(</span><a href="#121469" title="List[net.liftweb.json.package.JValue]">ys</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="package.scala.html#15380" title="=&gt; net.liftweb.json.JsonAST.JNothing.type">JNothing</a> <span class="keyword">else</span> <a href="JsonAST.scala.html#51423" title="(arr: List[net.liftweb.json.JsonAST.JValue])net.liftweb.json.JsonAST.JArray">JArray</a><span class="delimiter">(</span><a href="#121469" title="List[net.liftweb.json.package.JValue]">ys</a><span class="delimiter">)</span>, <a href="package.scala.html#15380" title="=&gt; net.liftweb.json.JsonAST.JNothing.type">JNothing</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="net.liftweb.json.Diff" class="delimiter">(</span><a title="net.liftweb.json.package.JValue" id="121482">x</a> :: <a title="List[net.liftweb.json.package.JValue]" id="121483">xs</a>, <a title="net.liftweb.json.package.JValue" id="121488">y</a> :: <a title="List[net.liftweb.json.package.JValue]" id="121489">ys</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> Diff<a href="#121491" title="(net.liftweb.json.package.JValue, net.liftweb.json.package.JValue, net.liftweb.json.package.JValue)" class="delimiter">(</a><a href="#121490" title="net.liftweb.json.package.JValue" id="121491">c1</a>, <a href="#121490" title="net.liftweb.json.package.JValue" id="121492">a1</a>, <a href="#121490" title="net.liftweb.json.package.JValue" id="121493">d1</a><span class="delimiter">)</span> = <a href="#50052" title="(val1: net.liftweb.json.package.JValue, val2: net.liftweb.json.package.JValue)net.liftweb.json.Diff">diff</a><a href="#50056" title="net.liftweb.json.Diff @unchecked" class="delimiter">(</a><a href="#121482" title="net.liftweb.json.package.JValue">x</a>, <a href="#121488" title="net.liftweb.json.package.JValue">y</a><span class="delimiter">)</span>
        <span class="keyword">val</span> Diff<a href="#121495" title="(net.liftweb.json.package.JValue, net.liftweb.json.package.JValue, net.liftweb.json.package.JValue)" class="delimiter">(</a><a href="#121494" title="net.liftweb.json.package.JValue" id="121495">c2</a>, <a href="#121494" title="net.liftweb.json.package.JValue" id="121496">a2</a>, <a href="#121494" title="net.liftweb.json.package.JValue" id="121497">d2</a><span class="delimiter">)</span> = <a href="#121440" title="(xleft: List[net.liftweb.json.package.JValue], yleft: List[net.liftweb.json.package.JValue])net.liftweb.json.Diff">diffRec</a><a href="#50056" title="net.liftweb.json.Diff @unchecked" class="delimiter">(</a><a href="#121483" title="List[net.liftweb.json.package.JValue]">xs</a>, <a href="#121489" title="List[net.liftweb.json.package.JValue]">ys</a><span class="delimiter">)</span>
        <a href="#50056" title="(changed: net.liftweb.json.package.JValue, added: net.liftweb.json.package.JValue, deleted: net.liftweb.json.package.JValue)net.liftweb.json.Diff">Diff</a><span class="delimiter">(</span><a href="#121491" title="net.liftweb.json.package.JValue">c1</a> <a href="JsonAST.scala.html#50098" title="(other: net.liftweb.json.JsonAST.JValue)net.liftweb.json.JsonAST.JValue">++</a> <a href="#121495" title="net.liftweb.json.package.JValue">c2</a>, <a href="#121492" title="net.liftweb.json.package.JValue">a1</a> <a href="JsonAST.scala.html#50098" title="(other: net.liftweb.json.JsonAST.JValue)net.liftweb.json.JsonAST.JValue">++</a> <a href="#121496" title="net.liftweb.json.package.JValue">a2</a>, <a href="#121493" title="net.liftweb.json.package.JValue">d1</a> <a href="JsonAST.scala.html#50098" title="(other: net.liftweb.json.JsonAST.JValue)net.liftweb.json.JsonAST.JValue">++</a> <a href="#121497" title="net.liftweb.json.package.JValue">d2</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <a href="#121440" title="(xleft: List[net.liftweb.json.package.JValue], yleft: List[net.liftweb.json.package.JValue])net.liftweb.json.Diff">diffRec</a><span class="delimiter">(</span><a href="#121436" title="List[net.liftweb.json.package.JValue]">vs1</a>, <a href="#121437" title="List[net.liftweb.json.package.JValue]">vs2</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span><span class="delimiter">[</span>json<span class="delimiter">]</span> <span class="keyword">trait</span> <a title="trait Diffable extends java.lang.Object with ScalaObject" id="50055">Diffable</a> <span title="ScalaObject" class="delimiter">{</span> <span class="keyword">this</span>: JValue =&gt;
    <span class="comment">/** Return a diff.
     * @see net.liftweb.json.Diff#diff
     */</span>
    <span class="keyword">def</span> <a title="(other: net.liftweb.json.package.JValue)net.liftweb.json.Diff" id="50072">diff</a><span class="delimiter">(</span><a title="net.liftweb.json.package.JValue" id="121610">other</a>: <a href="JsonAST.scala.html#48510" title="net.liftweb.json.package.JValue">JValue</a><span class="delimiter">)</span> = <a href="#121613" title="object net.liftweb.json.Diff">Diff</a>.<a href="#50052" title="(val1: net.liftweb.json.package.JValue, val2: net.liftweb.json.package.JValue)net.liftweb.json.Diff">diff</a><span class="delimiter">(</span><a href="#50055" title="net.liftweb.json.package.JValue" class="keyword">this</a>, <a href="#121610" title="net.liftweb.json.package.JValue">other</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>