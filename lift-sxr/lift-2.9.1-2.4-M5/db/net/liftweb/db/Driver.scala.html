<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>db/net/liftweb/db/Driver.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*
 * Copyright 2006-2011 WorldWide Conferencing, LLC
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */</span>

<span class="keyword">package</span> net.liftweb 
<span class="keyword">package</span> db

<span class="keyword">import</span> java.sql.<span class="delimiter">{</span>Connection,PreparedStatement,ResultSet,Statement<span class="delimiter">}</span>
<span class="keyword">import</span> net.liftweb.common._

<span class="comment">/**
 * JDBC Driver Abstraction base class. New driver types should extend this base
 * class. New drivers should &quot;register&quot; in the companion object
 * DriverType.calcDriver method.
 */</span>
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class DriverType extends java.lang.Object with ScalaObject" id="10921">DriverType</a><a href="#10921" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="String" id="67774">name</a> : <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="66499">binaryColumnType</a>: <span title="String">String</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="66500">clobColumnType</a>: <span title="String">String</span>
  <span class="keyword">def</span> <a title="(len: Int)String" id="66501">varcharColumnType</a><span class="delimiter">(</span><a title="Int" id="67779">len</a> : <span title="Int">Int</span><span class="delimiter">)</span> : <span title="String">String</span> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;VARCHAR(%d)&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#67779" title="Int">len</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="66502">booleanColumnType</a>: <span title="String">String</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="66503">dateTimeColumnType</a>: <span title="String">String</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="66504">dateColumnType</a>: <span title="String">String</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="66505">timeColumnType</a>: <span title="String">String</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="66506">integerColumnType</a>: <span title="String">String</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="66507">integerIndexColumnType</a>: <span title="String">String</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="66508">enumColumnType</a>: <span title="String">String</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="66509">longForeignKeyColumnType</a>: <span title="String">String</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="66510">longIndexColumnType</a>: <span title="String">String</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="66511">enumListColumnType</a>: <span title="String">String</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="66512">longColumnType</a>: <span title="String">String</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="66513">doubleColumnType</a>: <span title="String">String</span>

  <span class="comment">/**
   * This specifies that the driver supports FKs in tables. Note that
   * to enable FK generation in Schemifier, you also need to set
   * MapperRules.createForeignKeys_? to true before running it.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="66514">supportsForeignKeys_?</a> : <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>

  <span class="comment">/**
   * This indicates that Schemifier needs to run with a non-transacted
   * connection. Certain databases require that gathering information
   * on tables (which Schemifier uses for updates) run outside of a transaction.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="66515">schemifierMustAutoCommit_?</a> : <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>

  <span class="keyword">def</span> <a title="=&gt; String" id="66516">createTablePostpend</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>

  <span class="comment">/**
   * Whether this database supports LIMIT clause in SELECTs.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="66517">brokenLimit_?</a> : <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>

  <span class="comment">/**
   * Whether the primary key has been defined by the index column.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="66518">pkDefinedByIndexColumn_?</a> : <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>

  <span class="comment">/**
   * Maximum value of the LIMIT clause in SELECT.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="66519">maxSelectLimit</a> : <span title="String">String</span> = java.lang.Long.<span title="Long(9223372036854775807L)">MAX_VALUE</span>.<span title="()java.lang.String">toString</span>

  <span class="comment">/**
    * Performs an insert and optionally returns the ResultSet of the generated keys that were inserted. If no keys are
    * specified, return the number of rows updated.
    *
    * @param conn A connection that the method can optionally use if it needs to execute ancillary statements
    * @param query The prepared query string to use for the insert
    * @param setter A function that will set the parameters on the prepared statement
    * @param pkName Zero or more generated column names that need to be returned
    */</span>
  <span class="keyword">def</span> <a title="[T](conn: net.liftweb.db.SuperConnection, query: String, setter: java.sql.PreparedStatement =&gt; Unit, tableName: String, genKeyNames: List[String])(handler: Either[java.sql.ResultSet,Int] =&gt; T)T" id="66520">performInsert</a> <span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="66522">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="net.liftweb.db.SuperConnection" id="67815">conn</a> : <a href="DB.scala.html#10908" title="net.liftweb.db.SuperConnection">SuperConnection</a>, <a title="String" id="67816">query</a> : <span title="String">String</span>, <a title="java.sql.PreparedStatement =&gt; Unit" id="67817">setter</a> : PreparedStatement =&gt; Unit, <a title="String" id="67818">tableName</a> : <span title="String">String</span>, <a title="List[String]" id="67819">genKeyNames</a> : <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="Either[java.sql.ResultSet,Int] =&gt; T" id="67820">handler</a> : Either<span class="delimiter">[</span>ResultSet,Int<span class="delimiter">]</span> =&gt; T<span class="delimiter">)</span> : <a href="#66522" title="T">T</a> =
    <a href="#67819" title="List[String]">genKeyNames</a> <span title="T" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="T">Nil</span> =&gt;
        <a href="DB.scala.html#60272" title="implicit net.liftweb.db.DB1.db1ToDb : (in: net.liftweb.db.DB1)net.liftweb.db.DB">DB</a>.<a href="DB.scala.html#60353" title="(statement: String, conn: net.liftweb.db.SuperConnection)(f: java.sql.PreparedStatement =&gt; T)T">prepareStatement</a><span class="delimiter">(</span><a href="#67816" title="String">query</a>, <a href="#67815" title="net.liftweb.db.SuperConnection">conn</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a title="java.sql.PreparedStatement" id="67845">stmt</a> =&gt;
            <a href="#67817" title="(v1: java.sql.PreparedStatement)Unit">setter</a><span class="delimiter">(</span><a href="#67845" title="java.sql.PreparedStatement">stmt</a><span class="delimiter">)</span>
            <a href="#67820" title="(v1: Either[java.sql.ResultSet,Int])T">handler</a><span class="delimiter">(</span><span title="(b: Int)Right[Nothing,Int]">Right</span><span class="delimiter">(</span><a href="#67845" title="java.sql.PreparedStatement">stmt</a>.<span title="()Int">executeUpdate</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <a title="T" id="67856">pk</a> =&gt;
        <a href="#66523" title="(conn: net.liftweb.db.SuperConnection, query: String, setter: java.sql.PreparedStatement =&gt; Unit, tableName: String, genKeyNames: List[String], handler: Either[java.sql.ResultSet,Int] =&gt; T)T">performInsertWithGenKeys</a><span class="delimiter">(</span><a href="#67815" title="net.liftweb.db.SuperConnection">conn</a>, <a href="#67816" title="String">query</a>, <a href="#67817" title="java.sql.PreparedStatement =&gt; Unit">setter</a>, <a href="#67818" title="String">tableName</a>, <a href="#67856" title="List[String]">pk</a>, <a href="#67820" title="Either[java.sql.ResultSet,Int] =&gt; T">handler</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="comment">/*
   * Subclasses should override this method if they don't have proper getGeneratedKey support (JDBC3)
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="[T](conn: net.liftweb.db.SuperConnection, query: String, setter: java.sql.PreparedStatement =&gt; Unit, tableName: String, genKeyNames: List[String], handler: Either[java.sql.ResultSet,Int] =&gt; T)T" id="66523">performInsertWithGenKeys</a> <span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="66525">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="net.liftweb.db.SuperConnection" id="67857">conn</a> : <a href="DB.scala.html#10908" title="net.liftweb.db.SuperConnection">SuperConnection</a>, <a title="String" id="67858">query</a> : <span title="String">String</span>, <a title="java.sql.PreparedStatement =&gt; Unit" id="67859">setter</a> : PreparedStatement =&gt; Unit, <a title="String" id="67860">tableName</a> : <span title="String">String</span>, <a title="List[String]" id="67861">genKeyNames</a> : <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span>, <a title="Either[java.sql.ResultSet,Int] =&gt; T" id="67862">handler</a> : Either<span class="delimiter">[</span>ResultSet,Int<span class="delimiter">]</span> =&gt; T<span class="delimiter">)</span> : <a href="#66525" title="T">T</a> =
    <a href="DB.scala.html#60272" title="implicit net.liftweb.db.DB1.db1ToDb : (in: net.liftweb.db.DB1)net.liftweb.db.DB">DB</a>.<a href="DB.scala.html#60356" title="(statement: String, autokeys: Int, conn: net.liftweb.db.SuperConnection)(f: java.sql.PreparedStatement =&gt; T)T">prepareStatement</a><span class="delimiter">(</span><a href="#67858" title="String">query</a>, Statement.<span title="Int(1)">RETURN_GENERATED_KEYS</span>, <a href="#67857" title="net.liftweb.db.SuperConnection">conn</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a title="java.sql.PreparedStatement" id="67921">stmt</a> =&gt;
        <a href="#67859" title="(v1: java.sql.PreparedStatement)Unit">setter</a><span class="delimiter">(</span><a href="#67921" title="java.sql.PreparedStatement">stmt</a><span class="delimiter">)</span>
        <a href="#67921" title="java.sql.PreparedStatement">stmt</a>.<span title="()Int">executeUpdate</span>
        <a href="#67862" title="(v1: Either[java.sql.ResultSet,Int])T">handler</a><span class="delimiter">(</span><span title="(a: java.sql.ResultSet)Left[java.sql.ResultSet,Nothing]">Left</span><span class="delimiter">(</span><a href="#67921" title="java.sql.PreparedStatement">stmt</a>.<span title="()java.sql.ResultSet">getGeneratedKeys</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="comment">/**
   * Name of the default db schema. If not set, then the schema is assumed to
   * equal the db user name.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; net.liftweb.common.Box[String]" id="66526">defaultSchemaName</a> : <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[String]">Box</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>

  <span class="keyword">type</span> <a title="PartialFunction[Int,Int]" id="66527">TypeMapFunc</a> = <span title="PartialFunction[Int,Int]">PartialFunction</span><span class="delimiter">[</span>Int,Int<span class="delimiter">]</span>
  <span class="comment">/**
   * Allow the driver to do specific remapping of column types for cases
   * where not all types are supported. Classes that want to do custom type
   * mapping for columns should override the customColumnTypeMap method.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; DriverType.this.TypeMapFunc" id="66528">columnTypeMap</a> : <span title="DriverType.this.TypeMapFunc">TypeMapFunc</span> =
    <a href="#66529" title="=&gt; DriverType.this.TypeMapFunc">customColumnTypeMap</a> <span title="(that: PartialFunction[Int,Int])PartialFunction[Int,Int]">orElse</span> <a href="#67945" title="Int" class="delimiter">{</a>
      <span class="keyword">case</span> <a title="Int" id="67946">x</a> =&gt; <a href="#67946" title="Int">x</a>
    <span class="delimiter">}</span>

  <span class="comment">/**
   * Allows the Vendor-specific Driver to do custom type mapping for a particular
   * column type.
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; DriverType.this.TypeMapFunc" id="66529">customColumnTypeMap</a> : <span title="DriverType.this.TypeMapFunc">TypeMapFunc</span> = <a href="#67948" title="java.lang.Object with PartialFunction[Int,Int]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with PartialFunction[Int,Int]" id="67948">TypeMapFunc</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(in: Int)Int" id="67956">apply</a> <span class="delimiter">(</span><a title="Int" id="67958">in</a> : <span title="Int">Int</span><span class="delimiter">)</span> = -<span title="Int(-1)" class="int">1</span>
    <span class="keyword">def</span> <a title="(in: Int)Boolean" id="67957">isDefinedAt</a> <span class="delimiter">(</span><a title="Int" id="67962">in</a> : <span title="Int">Int</span><span class="delimiter">)</span> = <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * This method can be overriden by DriverType impls to allow for custom setup
   * of Primary Key Columns (creating sequeneces or special indices, for example).
   * The List of commands will be executed in order.
   */</span>
  <span class="keyword">def</span> <a title="(tableName: String, columnName: String)List[String]" id="66530">primaryKeySetup</a><span class="delimiter">(</span><a title="String" id="67968">tableName</a> : <span title="String">String</span>, <a title="String" id="67969">columnName</a> : <span title="String">String</span><span class="delimiter">)</span> : <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span title="(xs: java.lang.String*)List[java.lang.String]">List</span><span class="delimiter">(</span><span title="java.lang.String(&quot;ALTER TABLE &quot;)" class="string">&quot;ALTER TABLE &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#67968" title="String">tableName</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; ADD CONSTRAINT &quot;)" class="string">&quot; ADD CONSTRAINT &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#67968" title="String">tableName</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;_PK PRIMARY KEY(&quot;)" class="string">&quot;_PK PRIMARY KEY(&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#67969" title="String">columnName</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** This defines the syntax for adding a column in an alter. This is
   *  used because some DBs (Oracle, for one) use slightly different syntax. */</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="66531">alterAddColumn</a> = <span title="java.lang.String(&quot;ADD COLUMN&quot;)" class="string">&quot;ADD COLUMN&quot;</span>
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="object net.liftweb.db.DriverType" id="10922">DriverType</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">var</span> <a title="java.sql.Connection =&gt; net.liftweb.db.DriverType" id="66876">calcDriver</a>:  Connection =&gt; DriverType = <a title="java.sql.Connection" id="67984">conn</a> =&gt; <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.sql.DatabaseMetaData" id="67985">meta</a> = <a href="#67984" title="java.sql.Connection">conn</a>.<span title="()java.sql.DatabaseMetaData">getMetaData</span>

    <span title="(_1: java.lang.String, _2: Int, _3: Int)(java.lang.String, Int, Int)" class="delimiter">(</span><a href="#67985" title="java.sql.DatabaseMetaData">meta</a>.<span title="()java.lang.String">getDatabaseProductName</span>,<a href="#67985" title="java.sql.DatabaseMetaData">meta</a>.<span title="()Int">getDatabaseMajorVersion</span>,<a href="#67985" title="java.sql.DatabaseMetaData">meta</a>.<span title="()Int">getDatabaseMinorVersion</span><span class="delimiter">)</span> <span title="net.liftweb.db.DriverType" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="net.liftweb.db.DerbyDriver.type" class="delimiter">(</span><a href="#10926" title="object net.liftweb.db.DerbyDriver">DerbyDriver</a>.<a href="#67774" title="=&gt; String">name</a>,_,_<span class="delimiter">)</span> =&gt; <a href="#10926" title="object net.liftweb.db.DerbyDriver">DerbyDriver</a>
      <span class="keyword">case</span> <span title="net.liftweb.db.MySqlDriver.type" class="delimiter">(</span><a href="#10928" title="object net.liftweb.db.MySqlDriver">MySqlDriver</a>.<a href="#67774" title="=&gt; String">name</a>,_,_<span class="delimiter">)</span> =&gt; <a href="#10928" title="object net.liftweb.db.MySqlDriver">MySqlDriver</a>
      <span class="keyword">case</span> <span title="net.liftweb.db.PostgreSqlDriver.type" class="delimiter">(</span><a href="#10933" title="object net.liftweb.db.PostgreSqlDriver">PostgreSqlDriver</a>.<a href="#67774" title="=&gt; String">name</a>, <a title="Int" id="68058">major</a>, <a title="Int" id="68059">minor</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#68058" title="Int">major</a> <span title="(x: Int)Boolean">==</span> <span title="Int(8)" class="int">8</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#68059" title="Int">minor</a> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#68058" title="Int">major</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(8)" class="int">8</span><span class="delimiter">)</span> =&gt; <a href="#10933" title="object net.liftweb.db.PostgreSqlDriver">PostgreSqlDriver</a>
      <span class="keyword">case</span> <span title="net.liftweb.db.PostgreSqlOldDriver.type" class="delimiter">(</span><a href="#10933" title="object net.liftweb.db.PostgreSqlDriver">PostgreSqlDriver</a>.<a href="#67774" title="=&gt; String">name</a>, _, _<span class="delimiter">)</span> =&gt; <a href="#10935" title="object net.liftweb.db.PostgreSqlOldDriver">PostgreSqlOldDriver</a>
      <span class="keyword">case</span> <span title="net.liftweb.db.H2Driver.type" class="delimiter">(</span><a href="#10930" title="object net.liftweb.db.H2Driver">H2Driver</a>.<a href="#67774" title="=&gt; String">name</a>,_,_<span class="delimiter">)</span> =&gt; <a href="#10930" title="object net.liftweb.db.H2Driver">H2Driver</a>
      <span class="keyword">case</span> <span title="net.liftweb.db.SqlServerDriver.type" class="delimiter">(</span><a href="#10940" title="object net.liftweb.db.SqlServerDriver">SqlServerDriver</a>.<a href="#67774" title="=&gt; String">name</a>,<a title="Int" id="68126">major</a>,_<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#68126" title="Int">major</a> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(9)" class="int">9</span> =&gt; <a href="#10940" title="object net.liftweb.db.SqlServerDriver">SqlServerDriver</a>
      <span class="keyword">case</span> <span title="net.liftweb.db.SqlServerPre2005Driver.type" class="delimiter">(</span><a href="#10940" title="object net.liftweb.db.SqlServerDriver">SqlServerDriver</a>.<a href="#67774" title="=&gt; String">name</a>,_,_<span class="delimiter">)</span> =&gt; <a href="#10938" title="object net.liftweb.db.SqlServerPre2005Driver">SqlServerPre2005Driver</a>
      <span class="keyword">case</span> <span title="net.liftweb.db.SybaseSQLAnywhereDriver.type" class="delimiter">(</span><a href="#10942" title="object net.liftweb.db.SybaseSQLAnywhereDriver">SybaseSQLAnywhereDriver</a>.<a href="#68139" title="=&gt; java.lang.String">name</a>,_,_<span class="delimiter">)</span> =&gt; <a href="#10942" title="object net.liftweb.db.SybaseSQLAnywhereDriver">SybaseSQLAnywhereDriver</a>
      <span class="keyword">case</span> <span title="net.liftweb.db.SybaseASEDriver.type" class="delimiter">(</span><a href="#10944" title="object net.liftweb.db.SybaseASEDriver">SybaseASEDriver</a>.<a href="#68147" title="=&gt; java.lang.String">name</a>,_,_<span class="delimiter">)</span> =&gt; <a href="#10944" title="object net.liftweb.db.SybaseASEDriver">SybaseASEDriver</a>
      <span class="keyword">case</span> <span title="net.liftweb.db.OracleDriver.type" class="delimiter">(</span><a href="#10946" title="object net.liftweb.db.OracleDriver">OracleDriver</a>.<a href="#67774" title="=&gt; String">name</a>,_,_<span class="delimiter">)</span> =&gt; <a href="#10946" title="object net.liftweb.db.OracleDriver">OracleDriver</a>
      <span class="keyword">case</span> <span title="net.liftweb.db.MaxDbDriver.type" class="delimiter">(</span><a href="#10948" title="object net.liftweb.db.MaxDbDriver">MaxDbDriver</a>.<a href="#67774" title="=&gt; String">name</a>,_,_<span class="delimiter">)</span> =&gt; <a href="#10948" title="object net.liftweb.db.MaxDbDriver">MaxDbDriver</a>
      <span class="keyword">case</span> <span title="net.liftweb.db.DB2Driver.type" class="delimiter">(</span><a title="java.lang.String" id="68201">other</a>, _, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#68201" title="java.lang.String">other</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><a href="#10924" title="object net.liftweb.db.DB2Driver">DB2Driver</a>.<a href="#67774" title="=&gt; String">name</a><span class="delimiter">)</span> =&gt; <a href="#10924" title="object net.liftweb.db.DB2Driver">DB2Driver</a>
      <span class="keyword">case</span> <a title="Nothing" id="68222">x</a> =&gt; <span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String)java.lang.Exception" class="keyword">new</span> <span title="java.lang.Exception">Exception</span><span class="delimiter">(</span>
        <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Lift mapper does not support JDBC driver %s.\n&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#68222" title="(java.lang.String, Int, Int)">x</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span>
        <span title="java.lang.String(&quot;See http://wiki.liftweb.net/index.php/Category:Database for a list of supported databases.&quot;)" class="string">&quot;See http://wiki.liftweb.net/index.php/Category:Database for a list of supported databases.&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="object net.liftweb.db.DB2Driver" id="10924">DB2Driver</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10921" title="net.liftweb.db.DriverType">DriverType</a><span class="delimiter">(</span><span title="java.lang.String(&quot;DB2&quot;)" class="string">&quot;DB2&quot;</span><span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68205">binaryColumnType</a> = <span title="java.lang.String(&quot;LONG VARCHAR FOR BIT DATA&quot;)" class="string">&quot;LONG VARCHAR FOR BIT DATA&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68206">booleanColumnType</a> = <span title="java.lang.String(&quot;SMALLINT&quot;)" class="string">&quot;SMALLINT&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68207">clobColumnType</a> = <span title="java.lang.String(&quot;LONG VARCHAR&quot;)" class="string">&quot;LONG VARCHAR&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68208">dateTimeColumnType</a> = <span title="java.lang.String(&quot;TIMESTAMP&quot;)" class="string">&quot;TIMESTAMP&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68209">dateColumnType</a> = <span title="java.lang.String(&quot;DATE&quot;)" class="string">&quot;DATE&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68210">timeColumnType</a> = <span title="java.lang.String(&quot;TIME&quot;)" class="string">&quot;TIME&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68211">integerColumnType</a> = <span title="java.lang.String(&quot;INT&quot;)" class="string">&quot;INT&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68212">integerIndexColumnType</a> = <span title="java.lang.String(&quot;INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY&quot;)" class="string">&quot;INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68213">enumColumnType</a> = <span title="java.lang.String(&quot;INT&quot;)" class="string">&quot;INT&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68214">longForeignKeyColumnType</a> = <span title="java.lang.String(&quot;INT&quot;)" class="string">&quot;INT&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68215">longIndexColumnType</a> = <span title="java.lang.String(&quot;BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY&quot;)" class="string">&quot;BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68216">enumListColumnType</a> = <span title="java.lang.String(&quot;INT&quot;)" class="string">&quot;INT&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68217">longColumnType</a> = <span title="java.lang.String(&quot;INT&quot;)" class="string">&quot;INT&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68218">doubleColumnType</a> = <span title="java.lang.String(&quot;DOUBLE&quot;)" class="string">&quot;DOUBLE&quot;</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="68219">brokenLimit_?</a> : <span title="Boolean">Boolean</span> = <span title="Boolean(true)" class="keyword">true</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="68220">pkDefinedByIndexColumn_?</a> = <span title="Boolean(true)" class="keyword">true</span>

  <span class="comment">// This will let DB2 handle the schema name without case issues</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; net.liftweb.common.Full[Null]" id="68221">defaultSchemaName</a> = <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: Null)net.liftweb.common.Full[Null]">Full</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="object net.liftweb.db.DerbyDriver" id="10926">DerbyDriver</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10921" title="net.liftweb.db.DriverType">DriverType</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Apache Derby&quot;)" class="string">&quot;Apache Derby&quot;</span><span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="67999">binaryColumnType</a> = <span title="java.lang.String(&quot;LONG VARCHAR FOR BIT DATA&quot;)" class="string">&quot;LONG VARCHAR FOR BIT DATA&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68000">booleanColumnType</a> = <span title="java.lang.String(&quot;SMALLINT&quot;)" class="string">&quot;SMALLINT&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68001">clobColumnType</a> = <span title="java.lang.String(&quot;LONG VARCHAR&quot;)" class="string">&quot;LONG VARCHAR&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68002">dateTimeColumnType</a> = <span title="java.lang.String(&quot;TIMESTAMP&quot;)" class="string">&quot;TIMESTAMP&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68003">dateColumnType</a> = <span title="java.lang.String(&quot;DATE&quot;)" class="string">&quot;DATE&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68004">timeColumnType</a> = <span title="java.lang.String(&quot;TIME&quot;)" class="string">&quot;TIME&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68005">integerColumnType</a> = <span title="java.lang.String(&quot;INTEGER&quot;)" class="string">&quot;INTEGER&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68006">integerIndexColumnType</a> = <span title="java.lang.String(&quot;INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY&quot;)" class="string">&quot;INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68007">enumColumnType</a> = <span title="java.lang.String(&quot;BIGINT&quot;)" class="string">&quot;BIGINT&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68008">longForeignKeyColumnType</a> = <span title="java.lang.String(&quot;BIGINT&quot;)" class="string">&quot;BIGINT&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68009">longIndexColumnType</a> = <span title="java.lang.String(&quot;BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY&quot;)" class="string">&quot;BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68010">enumListColumnType</a> = <span title="java.lang.String(&quot;BIGINT&quot;)" class="string">&quot;BIGINT&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68011">longColumnType</a> = <span title="java.lang.String(&quot;BIGINT&quot;)" class="string">&quot;BIGINT&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68012">doubleColumnType</a> = <span title="java.lang.String(&quot;DOUBLE&quot;)" class="string">&quot;DOUBLE&quot;</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="68013">brokenLimit_?</a> : <span title="Boolean">Boolean</span> = <span title="Boolean(true)" class="keyword">true</span>
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="object net.liftweb.db.MySqlDriver" id="10928">MySqlDriver</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10921" title="net.liftweb.db.DriverType">DriverType</a><span class="delimiter">(</span><span title="java.lang.String(&quot;MySQL&quot;)" class="string">&quot;MySQL&quot;</span><span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68018">binaryColumnType</a> = <span title="java.lang.String(&quot;MEDIUMBLOB&quot;)" class="string">&quot;MEDIUMBLOB&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68019">clobColumnType</a> = <span title="java.lang.String(&quot;LONGTEXT&quot;)" class="string">&quot;LONGTEXT&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68020">booleanColumnType</a> = <span title="java.lang.String(&quot;BOOLEAN&quot;)" class="string">&quot;BOOLEAN&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68021">dateTimeColumnType</a> = <span title="java.lang.String(&quot;DATETIME&quot;)" class="string">&quot;DATETIME&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68022">dateColumnType</a> = <span title="java.lang.String(&quot;DATE&quot;)" class="string">&quot;DATE&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68023">timeColumnType</a> = <span title="java.lang.String(&quot;TIME&quot;)" class="string">&quot;TIME&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68024">integerColumnType</a> = <span title="java.lang.String(&quot;INTEGER&quot;)" class="string">&quot;INTEGER&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68025">integerIndexColumnType</a> = <span title="java.lang.String(&quot;INTEGER NOT NULL AUTO_INCREMENT UNIQUE&quot;)" class="string">&quot;INTEGER NOT NULL AUTO_INCREMENT UNIQUE&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68026">enumColumnType</a> = <span title="java.lang.String(&quot;BIGINT&quot;)" class="string">&quot;BIGINT&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68027">longForeignKeyColumnType</a> = <span title="java.lang.String(&quot;BIGINT UNSIGNED&quot;)" class="string">&quot;BIGINT UNSIGNED&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68028">longIndexColumnType</a> = <span title="java.lang.String(&quot;BIGINT UNSIGNED NOT NULL AUTO_INCREMENT UNIQUE KEY&quot;)" class="string">&quot;BIGINT UNSIGNED NOT NULL AUTO_INCREMENT UNIQUE KEY&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68029">enumListColumnType</a> = <span title="java.lang.String(&quot;BIGINT&quot;)" class="string">&quot;BIGINT&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68030">longColumnType</a> = <span title="java.lang.String(&quot;BIGINT&quot;)" class="string">&quot;BIGINT&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68031">doubleColumnType</a> = <span title="java.lang.String(&quot;DOUBLE&quot;)" class="string">&quot;DOUBLE&quot;</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="68032">createTablePostpend</a>: <span title="String">String</span> = <span title="java.lang.String(&quot; ENGINE = InnoDB &quot;)" class="string">&quot; ENGINE = InnoDB &quot;</span>
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="object net.liftweb.db.H2Driver" id="10930">H2Driver</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10921" title="net.liftweb.db.DriverType">DriverType</a><span class="delimiter">(</span><span title="java.lang.String(&quot;H2&quot;)" class="string">&quot;H2&quot;</span><span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68083">binaryColumnType</a> = <span title="java.lang.String(&quot;BINARY&quot;)" class="string">&quot;BINARY&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68084">clobColumnType</a> = <span title="java.lang.String(&quot;LONGVARCHAR&quot;)" class="string">&quot;LONGVARCHAR&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68085">booleanColumnType</a> = <span title="java.lang.String(&quot;BOOLEAN&quot;)" class="string">&quot;BOOLEAN&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68086">dateTimeColumnType</a> = <span title="java.lang.String(&quot;TIMESTAMP&quot;)" class="string">&quot;TIMESTAMP&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68087">dateColumnType</a> = <span title="java.lang.String(&quot;DATE&quot;)" class="string">&quot;DATE&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68088">timeColumnType</a> = <span title="java.lang.String(&quot;TIME&quot;)" class="string">&quot;TIME&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68089">integerColumnType</a> = <span title="java.lang.String(&quot;INTEGER&quot;)" class="string">&quot;INTEGER&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68090">integerIndexColumnType</a> = <span title="java.lang.String(&quot;INTEGER NOT NULL AUTO_INCREMENT&quot;)" class="string">&quot;INTEGER NOT NULL AUTO_INCREMENT&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68091">enumColumnType</a> = <span title="java.lang.String(&quot;BIGINT&quot;)" class="string">&quot;BIGINT&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68092">longForeignKeyColumnType</a> = <span title="java.lang.String(&quot;BIGINT&quot;)" class="string">&quot;BIGINT&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68093">longIndexColumnType</a> = <span title="java.lang.String(&quot;BIGINT NOT NULL AUTO_INCREMENT&quot;)" class="string">&quot;BIGINT NOT NULL AUTO_INCREMENT&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68094">enumListColumnType</a> = <span title="java.lang.String(&quot;BIGINT&quot;)" class="string">&quot;BIGINT&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68095">longColumnType</a> = <span title="java.lang.String(&quot;BIGINT&quot;)" class="string">&quot;BIGINT&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68096">doubleColumnType</a> = <span title="java.lang.String(&quot;DOUBLE&quot;)" class="string">&quot;DOUBLE&quot;</span>

  <span class="comment">/**
   * Whether the primary key has been defined by the index column.
   * H2 creates primary key for a table, when AUTO_INCREMENT type
   * is used. &lt;--- NOT TRUE
   * I went into the H2 console, created a table with auto_increment
   * and was able to insert duplicate ids. Then I created it with
   * AUTO_INCREMENT PRIMARY KEY and it did not allow it.
   */</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="68097">pkDefinedByIndexColumn_?</a> : <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>  <span class="comment">//changed to false by nafg</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="68098">supportsForeignKeys_?</a> = <span title="Boolean(true)" class="keyword">true</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68099">maxSelectLimit</a> = <span title="java.lang.String(&quot;0&quot;)" class="string">&quot;0&quot;</span>;
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; net.liftweb.common.Box[String]" id="68100">defaultSchemaName</a> : <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[String]">Box</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: java.lang.String)net.liftweb.common.Full[java.lang.String]">Full</a><span class="delimiter">(</span><span title="java.lang.String(&quot;PUBLIC&quot;)" class="string">&quot;PUBLIC&quot;</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Provides some base definitions for PostgreSql databases.
 */</span>
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class BasePostgreSQLDriver extends net.liftweb.db.DriverType with ScalaObject" id="10932">BasePostgreSQLDriver</a> <a href="#10932" title="ScalaObject" class="keyword">extends</a> <a href="#10921" title="net.liftweb.db.DriverType">DriverType</a><span class="delimiter">(</span><span title="java.lang.String(&quot;PostgreSQL&quot;)" class="string">&quot;PostgreSQL&quot;</span><span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68037">binaryColumnType</a> = <span title="java.lang.String(&quot;BYTEA&quot;)" class="string">&quot;BYTEA&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68038">clobColumnType</a> = <span title="java.lang.String(&quot;TEXT&quot;)" class="string">&quot;TEXT&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68039">booleanColumnType</a> = <span title="java.lang.String(&quot;BOOLEAN&quot;)" class="string">&quot;BOOLEAN&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68040">dateTimeColumnType</a> = <span title="java.lang.String(&quot;TIMESTAMP&quot;)" class="string">&quot;TIMESTAMP&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68041">dateColumnType</a> = <span title="java.lang.String(&quot;DATE&quot;)" class="string">&quot;DATE&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68042">timeColumnType</a> = <span title="java.lang.String(&quot;TIME&quot;)" class="string">&quot;TIME&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68043">integerColumnType</a> = <span title="java.lang.String(&quot;INTEGER&quot;)" class="string">&quot;INTEGER&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68044">integerIndexColumnType</a> = <span title="java.lang.String(&quot;SERIAL&quot;)" class="string">&quot;SERIAL&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68045">enumColumnType</a> = <span title="java.lang.String(&quot;BIGINT&quot;)" class="string">&quot;BIGINT&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68046">longForeignKeyColumnType</a> = <span title="java.lang.String(&quot;BIGINT&quot;)" class="string">&quot;BIGINT&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68047">longIndexColumnType</a> = <span title="java.lang.String(&quot;BIGSERIAL&quot;)" class="string">&quot;BIGSERIAL&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68048">enumListColumnType</a> = <span title="java.lang.String(&quot;BIGINT&quot;)" class="string">&quot;BIGINT&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68049">longColumnType</a> = <span title="java.lang.String(&quot;BIGINT&quot;)" class="string">&quot;BIGINT&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68050">doubleColumnType</a> = <span title="java.lang.String(&quot;DOUBLE PRECISION&quot;)" class="string">&quot;DOUBLE PRECISION&quot;</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68051">maxSelectLimit</a> = <span title="java.lang.String(&quot;ALL&quot;)" class="string">&quot;ALL&quot;</span>

  <span class="comment">/**
   * &quot;$user&quot; schema is searched before &quot;public&quot;, but it does not exist by default,
   * so &quot;public&quot; is our default choice.
   */</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; net.liftweb.common.Box[String]" id="68052">defaultSchemaName</a> : <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[String]">Box</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: java.lang.String)net.liftweb.common.Full[java.lang.String]">Full</a><span class="delimiter">(</span><span title="java.lang.String(&quot;public&quot;)" class="string">&quot;public&quot;</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * PostgreSql driver for versions 8.2 and up. Tested with:
 *
 * &lt;ul&gt;
 *   &lt;li&gt;8.3&lt;/li&gt;
 * &lt;/ul&gt;
 */</span>
<span class="keyword">object</span> <a title="object net.liftweb.db.PostgreSqlDriver" id="10933">PostgreSqlDriver</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10932" title="net.liftweb.db.BasePostgreSQLDriver">BasePostgreSQLDriver</a> <span class="delimiter">{</span>
  <span class="comment">/* PostgreSQL doesn't support generated keys via the JDBC driver. Instead, we use the RETURNING clause on the insert.
   * From: http://www.postgresql.org/docs/8.2/static/sql-insert.html
   */</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="[T](conn: net.liftweb.db.SuperConnection, query: String, setter: java.sql.PreparedStatement =&gt; Unit, tableName: String, genKeyNames: List[String], handler: Either[java.sql.ResultSet,Int] =&gt; T)T" id="68054">performInsertWithGenKeys</a> <span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="68056">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="net.liftweb.db.SuperConnection" id="68482">conn</a> : <a href="DB.scala.html#10908" title="net.liftweb.db.SuperConnection">SuperConnection</a>, <a title="String" id="68483">query</a> : <span title="String">String</span>, <a title="java.sql.PreparedStatement =&gt; Unit" id="68484">setter</a> : PreparedStatement =&gt; Unit, <a title="String" id="68485">tableName</a> : <span title="String">String</span>, <a title="List[String]" id="68486">genKeyNames</a> : <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span>, <a title="Either[java.sql.ResultSet,Int] =&gt; T" id="68487">handler</a> : Either<span class="delimiter">[</span>ResultSet,Int<span class="delimiter">]</span> =&gt; T<span class="delimiter">)</span> : <a href="#68056" title="T">T</a> =
    <a href="DB.scala.html#60272" title="implicit net.liftweb.db.DB1.db1ToDb : (in: net.liftweb.db.DB1)net.liftweb.db.DB">DB</a>.<a href="DB.scala.html#60353" title="(statement: String, conn: net.liftweb.db.SuperConnection)(f: java.sql.PreparedStatement =&gt; T)T">prepareStatement</a><span class="delimiter">(</span><a href="#68483" title="String">query</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; RETURNING &quot;)" class="string">&quot; RETURNING &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#68486" title="List[String]">genKeyNames</a>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span><span class="delimiter">)</span>, <a href="#68482" title="net.liftweb.db.SuperConnection">conn</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a title="java.sql.PreparedStatement" id="68531">stmt</a> =&gt;
        <a href="#68484" title="(v1: java.sql.PreparedStatement)Unit">setter</a><span class="delimiter">(</span><a href="#68531" title="java.sql.PreparedStatement">stmt</a><span class="delimiter">)</span>
        <a href="#68487" title="(v1: Either[java.sql.ResultSet,Int])T">handler</a><span class="delimiter">(</span><span title="(a: java.sql.ResultSet)Left[java.sql.ResultSet,Nothing]">Left</span><span class="delimiter">(</span><a href="#68531" title="java.sql.PreparedStatement">stmt</a>.<span title="()java.sql.ResultSet">executeQuery</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="68057">supportsForeignKeys_?</a> = <span title="Boolean(true)" class="keyword">true</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * PostgreSql driver for versions 8.1 and earlier. Tested with
 *
 * &lt;ul&gt;
 *   &lt;li&gt;8.1&lt;/li&gt;
 *   &lt;li&gt;8.0&lt;/li&gt;
 * &lt;/ul&gt;
 *
 * Successfuly use of earlier versions should be reported to liftweb@googlegroups.com.
 */</span>
<span class="keyword">object</span> <a title="object net.liftweb.db.PostgreSqlOldDriver" id="10935">PostgreSqlOldDriver</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10932" title="net.liftweb.db.BasePostgreSQLDriver">BasePostgreSQLDriver</a> <span class="delimiter">{</span>
  <span class="comment">/* PostgreSQL doesn't support generated keys via the JDBC driver.
   * Instead, we use the lastval() function to get the last inserted
   * key from the DB.
   */</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="[T](conn: net.liftweb.db.SuperConnection, query: String, setter: java.sql.PreparedStatement =&gt; Unit, tableName: String, genKeyNames: List[String], handler: Either[java.sql.ResultSet,Int] =&gt; T)T" id="68076">performInsertWithGenKeys</a> <span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="68078">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="net.liftweb.db.SuperConnection" id="68546">conn</a> : <a href="DB.scala.html#10908" title="net.liftweb.db.SuperConnection">SuperConnection</a>, <a title="String" id="68547">query</a> : <span title="String">String</span>, <a title="java.sql.PreparedStatement =&gt; Unit" id="68548">setter</a> : PreparedStatement =&gt; Unit, <a title="String" id="68549">tableName</a> : <span title="String">String</span>, <a title="List[String]" id="68550">genKeyNames</a> : <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span>, <a title="Either[java.sql.ResultSet,Int] =&gt; T" id="68551">handler</a> : Either<span class="delimiter">[</span>ResultSet,Int<span class="delimiter">]</span> =&gt; T<span class="delimiter">)</span> : <a href="#68078" title="T">T</a> = <span class="delimiter">{</span>
      <a href="DB.scala.html#60272" title="implicit net.liftweb.db.DB1.db1ToDb : (in: net.liftweb.db.DB1)net.liftweb.db.DB">DB</a>.<a href="DB.scala.html#60353" title="(statement: String, conn: net.liftweb.db.SuperConnection)(f: java.sql.PreparedStatement =&gt; Int)Int">prepareStatement</a><span class="delimiter">(</span><a href="#68547" title="String">query</a>, <a href="#68546" title="net.liftweb.db.SuperConnection">conn</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a title="java.sql.PreparedStatement" id="68594">stmt</a> =&gt;
          <a href="#68548" title="(v1: java.sql.PreparedStatement)Unit">setter</a><span class="delimiter">(</span><a href="#68594" title="java.sql.PreparedStatement">stmt</a><span class="delimiter">)</span>
          <a href="#68594" title="java.sql.PreparedStatement">stmt</a>.<span title="()Int">executeUpdate</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="String" id="68571">pkValueQuery</a> = <a href="#68550" title="List[String]">genKeyNames</a>.<span title="(f: String =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[List[String],java.lang.String,List[java.lang.String]])List[java.lang.String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,java.lang.String,List[java.lang.String]]" class="delimiter">(</span><span title="object java.lang.String">String</span>.<span title="(x$1: java.lang.String, x$2: &lt;repeated...&gt;[java.lang.Object])java.lang.String">format</span><span class="delimiter">(</span><span title="java.lang.String(&quot;currval(\'%s_%s_seq\')&quot;)" class="string">&quot;currval('%s_%s_seq')&quot;</span>, <a href="#68549" title="String">tableName</a>, <a href="#68616" title="String">_</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span>
      <a href="DB.scala.html#60272" title="implicit net.liftweb.db.DB1.db1ToDb : (in: net.liftweb.db.DB1)net.liftweb.db.DB">DB</a>.<a href="DB.scala.html#60330" title="(db: net.liftweb.db.SuperConnection)(f: java.sql.Statement =&gt; T)T">statement</a><span class="delimiter">(</span><a href="#68546" title="net.liftweb.db.SuperConnection">conn</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a title="java.sql.Statement" id="68730">stmt</a> =&gt;
          <a href="#68551" title="(v1: Either[java.sql.ResultSet,Int])T">handler</a><span class="delimiter">(</span><span title="(a: java.sql.ResultSet)Left[java.sql.ResultSet,Nothing]">Left</span><span class="delimiter">(</span><a href="#68730" title="java.sql.Statement">stmt</a>.<span title="(x$1: java.lang.String)java.sql.ResultSet">executeQuery</span><span class="delimiter">(</span><span title="java.lang.String(&quot;SELECT &quot;)" class="string">&quot;SELECT &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#68571" title="String">pkValueQuery</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>


<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class SqlServerBaseDriver extends net.liftweb.db.DriverType with ScalaObject" id="10937">SqlServerBaseDriver</a> <a href="#10937" title="ScalaObject" class="keyword">extends</a> <a href="#10921" title="net.liftweb.db.DriverType">DriverType</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Microsoft SQL Server&quot;)" class="string">&quot;Microsoft SQL Server&quot;</span><span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68105">binaryColumnType</a> = <span title="java.lang.String(&quot;IMAGE&quot;)" class="string">&quot;IMAGE&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68106">booleanColumnType</a> = <span title="java.lang.String(&quot;BIT&quot;)" class="string">&quot;BIT&quot;</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(len: Int)String" id="68107">varcharColumnType</a><span class="delimiter">(</span><a title="Int" id="68745">len</a> : <span title="Int">Int</span><span class="delimiter">)</span> : <span title="String">String</span> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;NVARCHAR(%d)&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#68745" title="Int">len</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68108">clobColumnType</a> = <span title="java.lang.String(&quot;NTEXT&quot;)" class="string">&quot;NTEXT&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68109">dateTimeColumnType</a> = <span title="java.lang.String(&quot;DATETIME&quot;)" class="string">&quot;DATETIME&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68110">dateColumnType</a> = <span title="java.lang.String(&quot;DATE&quot;)" class="string">&quot;DATE&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68111">timeColumnType</a> = <span title="java.lang.String(&quot;TIME&quot;)" class="string">&quot;TIME&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68112">integerColumnType</a> = <span title="java.lang.String(&quot;INT&quot;)" class="string">&quot;INT&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68113">integerIndexColumnType</a> = <span title="java.lang.String(&quot;INT IDENTITY NOT NULL&quot;)" class="string">&quot;INT IDENTITY NOT NULL&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68114">enumColumnType</a> = <span title="java.lang.String(&quot;BIGINT&quot;)" class="string">&quot;BIGINT&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68115">longForeignKeyColumnType</a> = <span title="java.lang.String(&quot;BIGINT&quot;)" class="string">&quot;BIGINT&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68116">longIndexColumnType</a> = <span title="java.lang.String(&quot;BIGINT IDENTITY NOT NULL&quot;)" class="string">&quot;BIGINT IDENTITY NOT NULL&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68117">enumListColumnType</a> = <span title="java.lang.String(&quot;BIGINT&quot;)" class="string">&quot;BIGINT&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68118">longColumnType</a> = <span title="java.lang.String(&quot;BIGINT&quot;)" class="string">&quot;BIGINT&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68119">doubleColumnType</a> = <span title="java.lang.String(&quot;FLOAT&quot;)" class="string">&quot;FLOAT&quot;</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="68120">supportsForeignKeys_?</a> = <span title="Boolean(true)" class="keyword">true</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; net.liftweb.common.Box[String]" id="68121">defaultSchemaName</a> : <a href="../../../../common/net/liftweb/common/Box.scala.html#10575" title="net.liftweb.common.Box[String]">Box</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: java.lang.String)net.liftweb.common.Full[java.lang.String]">Full</a><span class="delimiter">(</span><span title="java.lang.String(&quot;dbo&quot;)" class="string">&quot;dbo&quot;</span><span class="delimiter">)</span>

  <span class="comment">// Microsoft doesn't use &quot;COLUMN&quot; syntax when adding a column to a table</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68122">alterAddColumn</a> = <span title="java.lang.String(&quot;ADD&quot;)" class="string">&quot;ADD&quot;</span>

<span class="delimiter">}</span>

<span class="comment">/**
 * Microsoft SQL Server driver for versions 2000 and below
 */</span>
<span class="keyword">object</span> <a title="object net.liftweb.db.SqlServerPre2005Driver" id="10938">SqlServerPre2005Driver</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10937" title="net.liftweb.db.SqlServerBaseDriver">SqlServerBaseDriver</a>

<span class="keyword">object</span> <a title="object net.liftweb.db.SqlServerDriver" id="10940">SqlServerDriver</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10937" title="net.liftweb.db.SqlServerBaseDriver">SqlServerBaseDriver</a> <span class="delimiter">{</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68124">binaryColumnType</a> = <span title="java.lang.String(&quot;VARBINARY(MAX)&quot;)" class="string">&quot;VARBINARY(MAX)&quot;</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68125">clobColumnType</a> = <span title="java.lang.String(&quot;NVARCHAR(MAX)&quot;)" class="string">&quot;NVARCHAR(MAX)&quot;</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Sybase SQL Anywhere Driver. Tested against version 10.0
 */</span>
<span class="keyword">object</span> <a title="object net.liftweb.db.SybaseSQLAnywhereDriver" id="10942">SybaseSQLAnywhereDriver</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10937" title="net.liftweb.db.SqlServerBaseDriver">SqlServerBaseDriver</a> <span class="delimiter">{</span>
  <span class="keyword">override</span> <span class="keyword">val</span> <a title="java.lang.String" id="68139">name</a> = <span title="java.lang.String(&quot;SQL Anywhere&quot;)" class="string">&quot;SQL Anywhere&quot;</span>
  
  <span class="comment">// SQL Anywhere prefers the default schema name for metadata calls</span>
  <span class="keyword">override</span> <span class="keyword">val</span> <a title="net.liftweb.common.Full[Null]" id="68141">defaultSchemaName</a> = <a href="../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: Null)net.liftweb.common.Full[Null]">Full</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Sybase ASE Driver. Tested with ASE version 15, but should
 * work with lower versions as well.
 */</span>
<span class="keyword">object</span> <a title="object net.liftweb.db.SybaseASEDriver" id="10944">SybaseASEDriver</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10937" title="net.liftweb.db.SqlServerBaseDriver">SqlServerBaseDriver</a> <span class="delimiter">{</span>
  <span class="keyword">override</span> <span class="keyword">val</span> <a title="java.lang.String" id="68147">name</a> = <span title="java.lang.String(&quot;ASE&quot;)" class="string">&quot;ASE&quot;</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68149">binaryColumnType</a> = <span title="java.lang.String(&quot;VARBINARY(MAX)&quot;)" class="string">&quot;VARBINARY(MAX)&quot;</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68150">clobColumnType</a> = <span title="java.lang.String(&quot;NVARCHAR(MAX)&quot;)" class="string">&quot;NVARCHAR(MAX)&quot;</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="68151">brokenLimit_?</a> = <span title="Boolean(true)" class="keyword">true</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="68152">schemifierMustAutoCommit_?</a> = <span title="Boolean(true)" class="keyword">true</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Driver for Oracle databases. Tested with:
 *
 * &lt;ul&gt;
 *  &lt;li&gt;Oracle XE 10.2.0.1&lt;/li&gt;
 *  &lt;li&gt;Oracle Database 11g Enterprise Edition Release 11.2.0.1.0 - 64bit Production&lt;/li&gt;
 * &lt;/ul&gt;
 *
 * Other working install versions should be reported to liftweb@googlegroups.com.
 */</span>
<span class="keyword">object</span> <a title="object net.liftweb.db.OracleDriver" id="10946">OracleDriver</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10921" title="net.liftweb.db.DriverType">DriverType</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Oracle&quot;)" class="string">&quot;Oracle&quot;</span><span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68157">binaryColumnType</a> = <span title="java.lang.String(&quot;LONG RAW&quot;)" class="string">&quot;LONG RAW&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68158">booleanColumnType</a> = <span title="java.lang.String(&quot;NUMBER&quot;)" class="string">&quot;NUMBER&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68159">clobColumnType</a> = <span title="java.lang.String(&quot;CLOB&quot;)" class="string">&quot;CLOB&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68160">dateTimeColumnType</a> = <span title="java.lang.String(&quot;TIMESTAMP&quot;)" class="string">&quot;TIMESTAMP&quot;</span>
  <span class="comment">/*
   * It's unclear whether DATE would suffice here. The PL/SQL ref at
   * http://download.oracle.com/docs/cd/B19306_01/java.102/b14355/apxref.htm
   * seems to indicate that DATE and TIMESTAMP can both be used
   * for java.sql.Date and java.sql.Time representations.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68161">dateColumnType</a> = <span title="java.lang.String(&quot;TIMESTAMP&quot;)" class="string">&quot;TIMESTAMP&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68162">timeColumnType</a> = <span title="java.lang.String(&quot;TIMESTAMP&quot;)" class="string">&quot;TIMESTAMP&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68163">integerColumnType</a> = <span title="java.lang.String(&quot;NUMBER&quot;)" class="string">&quot;NUMBER&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68164">integerIndexColumnType</a> = <span title="java.lang.String(&quot;NUMBER NOT NULL&quot;)" class="string">&quot;NUMBER NOT NULL&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68165">enumColumnType</a> = <span title="java.lang.String(&quot;NUMBER&quot;)" class="string">&quot;NUMBER&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68166">longForeignKeyColumnType</a> = <span title="java.lang.String(&quot;NUMBER&quot;)" class="string">&quot;NUMBER&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68167">longIndexColumnType</a> = <span title="java.lang.String(&quot;NUMBER NOT NULL&quot;)" class="string">&quot;NUMBER NOT NULL&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68168">enumListColumnType</a> = <span title="java.lang.String(&quot;NUMBER&quot;)" class="string">&quot;NUMBER&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68169">longColumnType</a> = <span title="java.lang.String(&quot;NUMBER&quot;)" class="string">&quot;NUMBER&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68170">doubleColumnType</a> = <span title="java.lang.String(&quot;NUMBER&quot;)" class="string">&quot;NUMBER&quot;</span>

  <span class="comment">/**
   * Whether this database supports LIMIT clause in SELECTs.
   */</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="68171">brokenLimit_?</a> : <span title="Boolean">Boolean</span> = <span title="Boolean(true)" class="keyword">true</span>

  <span class="keyword">import</span> java.sql.Types
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; PartialFunction[Int,Int]" id="68173">customColumnTypeMap</a> = <a href="#68871" title="Int" class="delimiter">{</a>
    <span class="keyword">case</span> <span title="Int(4)">Types</span>.<span title="Int(16)">BOOLEAN</span> =&gt; Types.<span title="Int(4)">INTEGER</span>
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tableName: String, columnName: String)List[String]" id="68174">primaryKeySetup</a><span class="delimiter">(</span><a title="String" id="68872">tableName</a> : <span title="String">String</span>, <a title="String" id="68873">columnName</a> : <span title="String">String</span><span class="delimiter">)</span> : <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="comment">/*
     * This trigger and sequence setup is taken from http://www.databaseanswers.org/sql_scripts/ora_sequence.htm
     */</span>
    <span class="keyword">super</span>.<a href="#66530" title="(tableName: String, columnName: String)List[String]">primaryKeySetup</a><span class="delimiter">(</span><a href="#68872" title="String">tableName</a>, <a href="#68873" title="String">columnName</a><span class="delimiter">)</span> <a href="#68875" title="(prefix: List[java.lang.String])List[java.lang.String]">:::</a>
    <span title="(xs: java.lang.String*)List[java.lang.String]">List</span><span class="delimiter">(</span><span title="java.lang.String(&quot;CREATE SEQUENCE &quot;)" class="string">&quot;CREATE SEQUENCE &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#68872" title="String">tableName</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;_sequence START WITH 1 INCREMENT BY 1&quot;)" class="string">&quot;_sequence START WITH 1 INCREMENT BY 1&quot;</span>,
         <span title="java.lang.String(&quot;CREATE OR REPLACE TRIGGER &quot;)" class="string">&quot;CREATE OR REPLACE TRIGGER &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#68872" title="String">tableName</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;_trigger BEFORE INSERT ON &quot;)" class="string">&quot;_trigger BEFORE INSERT ON &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#68872" title="String">tableName</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span>
         <span title="java.lang.String(&quot;FOR EACH ROW &quot;)" class="string">&quot;FOR EACH ROW &quot;</span> <span title="(x$1: Any)java.lang.String">+</span>
         <span title="java.lang.String(&quot;WHEN (new.&quot;)" class="string">&quot;WHEN (new.&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#68873" title="String">columnName</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; is null) &quot;)" class="string">&quot; is null) &quot;</span> <span title="(x$1: Any)java.lang.String">+</span>
         <span title="java.lang.String(&quot;BEGIN &quot;)" class="string">&quot;BEGIN &quot;</span> <span title="(x$1: Any)java.lang.String">+</span>
         <span title="java.lang.String(&quot;SELECT &quot;)" class="string">&quot;SELECT &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#68872" title="String">tableName</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;_sequence.nextval INTO :new.&quot;)" class="string">&quot;_sequence.nextval INTO :new.&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#68873" title="String">columnName</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; FROM DUAL; &quot;)" class="string">&quot; FROM DUAL; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span>
         <span title="java.lang.String(&quot;END;&quot;)" class="string">&quot;END;&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">// Oracle supports returning generated keys only if we specify the names of the column(s) to return.</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="[T](conn: net.liftweb.db.SuperConnection, query: String, setter: java.sql.PreparedStatement =&gt; Unit, tableName: String, genKeyNames: List[String], handler: Either[java.sql.ResultSet,Int] =&gt; T)T" id="68175">performInsertWithGenKeys</a> <span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="68177">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="net.liftweb.db.SuperConnection" id="68891">conn</a> : <a href="DB.scala.html#10908" title="net.liftweb.db.SuperConnection">SuperConnection</a>, <a title="String" id="68892">query</a> : <span title="String">String</span>, <a title="java.sql.PreparedStatement =&gt; Unit" id="68893">setter</a> : PreparedStatement =&gt; Unit, <a title="String" id="68894">tableName</a> : <span title="String">String</span> , <a title="List[String]" id="68895">genKeyNames</a> : <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span>, <a title="Either[java.sql.ResultSet,Int] =&gt; T" id="68896">handler</a> : Either<span class="delimiter">[</span>ResultSet,Int<span class="delimiter">]</span> =&gt; T<span class="delimiter">)</span> : <a href="#68177" title="T">T</a> =
    <a href="DB.scala.html#60272" title="implicit net.liftweb.db.DB1.db1ToDb : (in: net.liftweb.db.DB1)net.liftweb.db.DB">DB</a>.<a href="DB.scala.html#60362" title="(statement: String, autoColumns: Array[String], conn: net.liftweb.db.SuperConnection)(f: java.sql.PreparedStatement =&gt; T)T">prepareStatement</a><span class="delimiter">(</span><a href="#68892" title="String">query</a>, <a href="#68895" title="List[String]">genKeyNames</a>.<span title="(implicit evidence$1: ClassManifest[String])Array[String]">toArray</span>, <a href="#68891" title="net.liftweb.db.SuperConnection">conn</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a title="java.sql.PreparedStatement" id="68969">stmt</a> =&gt;
        <a href="#68893" title="(v1: java.sql.PreparedStatement)Unit">setter</a><span class="delimiter">(</span><a href="#68969" title="java.sql.PreparedStatement">stmt</a><span class="delimiter">)</span>
        <a href="#68969" title="java.sql.PreparedStatement">stmt</a>.<span title="()Int">executeUpdate</span>
        <a href="#68896" title="(v1: Either[java.sql.ResultSet,Int])T">handler</a><span class="delimiter">(</span><span title="(a: java.sql.ResultSet)Left[java.sql.ResultSet,Nothing]">Left</span><span class="delimiter">(</span><a href="#68969" title="java.sql.PreparedStatement">stmt</a>.<span title="()java.sql.ResultSet">getGeneratedKeys</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="comment">// Oracle doesn't use &quot;COLUMN&quot; syntax when adding a column to a table</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68178">alterAddColumn</a> = <span title="java.lang.String(&quot;ADD&quot;)" class="string">&quot;ADD&quot;</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="68179">supportsForeignKeys_?</a> = <span title="Boolean(true)" class="keyword">true</span>
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="object net.liftweb.db.MaxDbDriver" id="10948">MaxDbDriver</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10921" title="net.liftweb.db.DriverType">DriverType</a><span class="delimiter">(</span><span title="java.lang.String(&quot;MaxDB&quot;)" class="string">&quot;MaxDB&quot;</span><span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68184">binaryColumnType</a> = <span title="java.lang.String(&quot;BLOB&quot;)" class="string">&quot;BLOB&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68185">booleanColumnType</a> = <span title="java.lang.String(&quot;BOOLEAN&quot;)" class="string">&quot;BOOLEAN&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68186">clobColumnType</a> = <span title="java.lang.String(&quot;CLOB&quot;)" class="string">&quot;CLOB&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68187">dateTimeColumnType</a> = <span title="java.lang.String(&quot;TIMESTAMP&quot;)" class="string">&quot;TIMESTAMP&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68188">dateColumnType</a> = <span title="java.lang.String(&quot;DATE&quot;)" class="string">&quot;DATE&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68189">timeColumnType</a> = <span title="java.lang.String(&quot;TIME&quot;)" class="string">&quot;TIME&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68190">integerColumnType</a> = <span title="java.lang.String(&quot;INTEGER&quot;)" class="string">&quot;INTEGER&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68191">integerIndexColumnType</a> = <span title="java.lang.String(&quot;FIXED(10) DEFAULT SERIAL&quot;)" class="string">&quot;FIXED(10) DEFAULT SERIAL&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68192">enumColumnType</a> = <span title="java.lang.String(&quot;FIXED(38)&quot;)" class="string">&quot;FIXED(38)&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68193">longForeignKeyColumnType</a> = <span title="java.lang.String(&quot;FIXED(38)&quot;)" class="string">&quot;FIXED(38)&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68194">longIndexColumnType</a> = <span title="java.lang.String(&quot;FIXED(38) DEFAULT SERIAL&quot;)" class="string">&quot;FIXED(38) DEFAULT SERIAL&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68195">enumListColumnType</a> = <span title="java.lang.String(&quot;FIXED(38)&quot;)" class="string">&quot;FIXED(38)&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68196">longColumnType</a> = <span title="java.lang.String(&quot;FIXED(38)&quot;)" class="string">&quot;FIXED(38)&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="68197">doubleColumnType</a> = <span title="java.lang.String(&quot;FLOAT(38)&quot;)" class="string">&quot;FLOAT(38)&quot;</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>