<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>common/net/liftweb/common/Logging.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*
 * Copyright 2010-2011 WorldWide Conferencing, LLC
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */</span>

<span class="keyword">package</span> net.liftweb
<span class="keyword">package</span> common
  
<span class="keyword">import</span> org.slf4j.<span class="delimiter">{</span>MDC =&gt; SLF4JMDC, Marker, Logger =&gt; SLF4JLogger, LoggerFactory<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="object net.liftweb.common.Logger" id="10711">Logger</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">private</span><span class="delimiter">[</span>common<span class="delimiter">]</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Boolean" id="31884">checkConfig</a>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
    <a href="#31886" title="=&gt; net.liftweb.common.Box[() =&gt; Unit]">setup</a>.<a href="Box.scala.html#27031" title="(f: () =&gt; Unit =&gt; Unit)Unit">foreach</a> <span class="delimiter">{</span><a href="#42441" title="()Unit">_</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">}</span>; 
    <span title="Boolean(true)" class="keyword">true</span>
  <span class="delimiter">}</span>
  
  <span class="comment">/**
   * This function, if set, will be called before any loggers are created
   * 
   * Useful for initializing the logging backend with a non-default configuration
   * 
   * Helpers exists for log4j &amp; logback:
   * 
   *   Logger.setup = Full(Log4j.withFile(url)
   * 
   * or
   * 
   *   Logger.setup = Full(Logback.withFile(url))
   * 
   */</span>
  <span class="keyword">var</span> <a title="net.liftweb.common.Box[() =&gt; Unit]" id="31886">setup</a>: <a href="Box.scala.html#10575" title="net.liftweb.common.Box[() =&gt; Unit]">Box</a><span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Unit<span class="delimiter">]</span> = <a href="Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>
  
  <span class="keyword">def</span> <a title="(cls: Class[_])java.lang.String" id="31888">loggerNameFor</a><span class="delimiter">(</span><a title="Class[_]" id="42443">cls</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.lang.String" id="42446">className</a> = <a href="#42443" title="Class[_]">cls</a>.<span title="()java.lang.String">getName</span>
    <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#42446" title="java.lang.String">className</a> <span title="(x$1: java.lang.String)Boolean">endsWith</span> <span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span> 
      <a href="#42446" title="java.lang.String">className</a>.<span title="(x$1: Int, x$2: Int)java.lang.String">substring</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#42446" title="java.lang.String">className</a>.<span title="()Int">length</span> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
    <span class="keyword">else</span> 
      <a href="#42446" title="java.lang.String">className</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(cls: Class[_])net.liftweb.common.Logger" id="31889">apply</a><span class="delimiter">(</span><a title="Class[_]" id="31898">cls</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#10715" title="net.liftweb.common.Logger">Logger</a> = <span title="net.liftweb.common.Logger" class="keyword">if</span> <span class="delimiter">(</span><a href="#31883" title="=&gt; Boolean">checkConfig</a><span class="delimiter">)</span> <span title="net.liftweb.common.WrappedLogger" class="keyword">new</span> <a href="#10716" title="net.liftweb.common.WrappedLogger">WrappedLogger</a><span class="delimiter">(</span><span title="object org.slf4j.LoggerFactory">LoggerFactory</span>.<span title="(x$1: java.lang.String)org.slf4j.Logger">getLogger</span><span class="delimiter">(</span><a href="#31888" title="(cls: Class[_])java.lang.String">loggerNameFor</a><span class="delimiter">(</span><a href="#31898" title="Class[_]">cls</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">else</span> <span title="Null(null)" class="keyword">null</span>
  <span class="keyword">def</span> <a title="(name: String)net.liftweb.common.Logger" id="31890">apply</a><span class="delimiter">(</span><a title="String" id="31896">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#10715" title="net.liftweb.common.Logger">Logger</a> = <span title="net.liftweb.common.Logger" class="keyword">if</span> <span class="delimiter">(</span><a href="#31883" title="=&gt; Boolean">checkConfig</a><span class="delimiter">)</span> <span title="net.liftweb.common.WrappedLogger" class="keyword">new</span> <a href="#10716" title="net.liftweb.common.WrappedLogger">WrappedLogger</a><span class="delimiter">(</span><span title="object org.slf4j.LoggerFactory">LoggerFactory</span>.<span title="(x$1: java.lang.String)org.slf4j.Logger">getLogger</span><span class="delimiter">(</span><a href="#31896" title="String">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">else</span> <span title="Null(null)" class="keyword">null</span>
  
 <span class="comment">/**
   * Set the Mapped Diagnostic Context for the thread and execute
   * the function f
   *
   * Upon return, the MDC is cleared of the values passed (any
   * MDC values that existed prior to this call remains)
   */</span>
  <span class="keyword">def</span> <a title="[F](mdcValues: (String, Any)*)(f: =&gt; F)F" id="31891">logWith</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="31893">F</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(String, Any)*" id="42544">mdcValues</a>: <span title="(String, Any)*" class="delimiter">(</span>String,Any<span class="delimiter">)</span>*<span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; F" id="42545">f</a>: =&gt; F<span class="delimiter">)</span>: <a href="#31893" title="F">F</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.util.Map[_, _]" id="42548">old</a> = <span title="object org.slf4j.MDC">SLF4JMDC</span>.<span title="()java.util.Map[_, _]">getCopyOfContextMap</span>
    <a href="#10713" title="object net.liftweb.common.MDC">MDC</a>.<a href="#42586" title="(kvs: (String, Any)*)Unit">put</a><span class="delimiter">(</span><a href="#42544" title="(String, Any)*">mdcValues</a>:_*<span class="delimiter">)</span>
    <span class="keyword">try</span> <span class="delimiter">{</span>
      <a href="#42545" title="=&gt; F">f</a>
    <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#42548" title="java.util.Map[_, _]">old</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> 
        <a href="#10713" title="object net.liftweb.common.MDC">MDC</a>.<a href="#42588" title="()Unit">clear</a>
      <span class="keyword">else</span>  
        <span title="object org.slf4j.MDC">SLF4JMDC</span>.<span title="(x$1: java.util.Map[_, _])Unit">setContextMap</span><span class="delimiter">(</span><a href="#42548" title="java.util.Map[_, _]">old</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * The Mapped Diagnostics Context can hold values per thread and output them
 * with each logged output.
 * 
 * The logging backend needs to be configured to log these values
 */</span>
<span class="keyword">object</span> <a title="object net.liftweb.common.MDC" id="10713">MDC</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="comment">/**
   * Put a (key,value) pair into the Mapped Diagnostic Context
   */</span>
  <span class="keyword">def</span> <a title="(kvs: (String, Any)*)Unit" id="42586">put</a><span class="delimiter">(</span><a title="(String, Any)*" id="42589">kvs</a>: <span title="(String, Any)*" class="delimiter">(</span>String,Any<span class="delimiter">)</span>*<span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="#42589" title="(String, Any)*">kvs</a> <span title="(f: (String, Any) =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span><a title="(String, Any)" id="42608">v</a> =&gt; <span title="object org.slf4j.MDC">SLF4JMDC</span>.<span title="(x$1: java.lang.String, x$2: java.lang.String)Unit">put</span><span class="delimiter">(</span><a href="#42608" title="(String, Any)">v</a>.<span title="=&gt; String">_1</span>, <a href="#42608" title="(String, Any)">v</a>.<span title="=&gt; Any">_2</span>.<span title="()java.lang.String">toString</span><span class="delimiter">)</span><span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Clear key from the Mapped Diagnostic Context
   */</span>
  <span class="keyword">def</span> <a title="(keys: String*)Unit" id="42587">remove</a><span class="delimiter">(</span><a title="String*" id="42617">keys</a>: <span title="String*">String</span>*<span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="#42617" title="String*">keys</a> <span title="(f: String =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span><a title="String" id="42636">k</a> =&gt; <span title="object org.slf4j.MDC">SLF4JMDC</span>.<span title="(x$1: java.lang.String)Unit">remove</span><span class="delimiter">(</span><a href="#42636" title="String">k</a><span class="delimiter">)</span><span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Clear all entries from the Mapped Diagnostic Context
   */</span>
  <span class="keyword">def</span> <a title="()Unit" id="42588">clear</a><span class="delimiter">(</span><span class="delimiter">)</span> = org.slf4j.<span title="object org.slf4j.MDC">MDC</span>.<span title="()Unit">clear</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Logger is a thin wrapper on top of an SLF4J Logger
 *
 * The main purpose is to utilize Scala features for logging
 * 
 * Note that the dynamic type of &quot;this&quot; is used when this trait is
 * mixed in. 
 * 
 * This may not always be what you want. If you need the static type, you have to declare your
 * own Logger:
 * 
 * class MyClass {
 *   val logger = Logger(classOf[MyClass])
 * }
 * 
 */</span>
<span class="keyword">trait</span> <a title="trait Logger extends java.lang.Object with ScalaObject" id="10715">Logger</a>  <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="org.slf4j.Logger" id="31929">logger</a>: <span title="org.slf4j.Logger">SLF4JLogger</span> = <a href="#31930" title="=&gt; org.slf4j.Logger">_logger</a> <span class="comment">// removed @transient 'cause there's no reason for transient on val</span>
  <span class="comment">// changed to lazy val so it only gets initialized on use rather than on instantiation</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; org.slf4j.Logger" id="31930">_logger</a> = <span title="org.slf4j.Logger" class="keyword">if</span> <span class="delimiter">(</span><a href="#10711" title="object net.liftweb.common.Logger">Logger</a>.<a href="#31883" title="=&gt; Boolean">checkConfig</a><span class="delimiter">)</span> <span title="object org.slf4j.LoggerFactory">LoggerFactory</span>.<span title="(x$1: java.lang.String)org.slf4j.Logger">getLogger</span><span class="delimiter">(</span><a href="#10711" title="object net.liftweb.common.Logger">Logger</a>.<a href="#31888" title="(cls: Class[_])java.lang.String">loggerNameFor</a><span class="delimiter">(</span><a href="#10715" title="Logger.this.type" class="keyword">this</a>.<span title="()java.lang.Class[_]">getClass</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">else</span> <span title="Null(null)" class="keyword">null</span>
  
  <span class="keyword">def</span> <a title="(assertion: Boolean, msg: =&gt; String)Unit" id="31931">assertLog</a><span class="delimiter">(</span><a title="Boolean" id="42652">assertion</a>: <span title="Boolean">Boolean</span>, <a title="=&gt; String" id="42653">msg</a>: =&gt; String<span class="delimiter">)</span> = <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#42652" title="Boolean">assertion</a><span class="delimiter">)</span> <a href="#31948" title="(msg: =&gt; AnyRef)Unit">info</a><span class="delimiter">(</span><a href="#42653" title="=&gt; String">msg</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Log the value of v with trace and return v. Useful for tracing values in expressions
   */</span>
  <span class="keyword">def</span> <a title="[T](msg: String, v: T)T" id="31932">trace</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="31934">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="String" id="42719">msg</a>: <span title="String">String</span>, <a title="T" id="42720">v</a>: <a href="#31934" title="T">T</a><span class="delimiter">)</span>: <a href="#31934" title="T">T</a> = <span class="delimiter">{</span>
    <a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String)Unit">trace</span><span class="delimiter">(</span><a href="#42719" title="String">msg</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#42720" title="T">v</a>.<span title="()java.lang.String">toString</span><span class="delimiter">)</span>
    <a href="#42720" title="T">v</a>
  <span class="delimiter">}</span>
 
  <span class="comment">/**
   * Trace a Failure.  If the log level is trace and the Box is
   * a Failure, trace the message concatenated with the Failure's message.
   * If the Failure contains an Exception, trace that as well.
   */</span>
  <span class="keyword">def</span> <a title="(msg: =&gt; AnyRef, box: net.liftweb.common.Box[_])Unit" id="31935">trace</a><span class="delimiter">(</span><a title="=&gt; AnyRef" id="42726">msg</a>: =&gt; AnyRef, <a title="net.liftweb.common.Box[_]" id="42727">box</a>: <a href="Box.scala.html#10575" title="net.liftweb.common.Box[_]">Box</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="()Boolean">isTraceEnabled</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#42727" title="net.liftweb.common.Box[_]">box</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Unit">Failure</span><span class="delimiter">(</span><a title="String" id="42735">fmsg</a>, Full<span class="delimiter">(</span><a title="Throwable" id="42737">e</a><span class="delimiter">)</span>, _<span class="delimiter">)</span> =&gt; <a href="#31937" title="(msg: =&gt; AnyRef, t: Throwable)Unit">trace</a><span class="delimiter">(</span><span title="object java.lang.String">String</span>.<span title="(x$1: Any)java.lang.String">valueOf</span><span class="delimiter">(</span><a href="#42726" title="=&gt; AnyRef">msg</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
                                                <a href="#42735" title="String">fmsg</a>: <span title="AnyRef">AnyRef</span>, <a href="#42737" title="Throwable">e</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit">Failure</span><span class="delimiter">(</span><a title="String" id="42811">fmsg</a>, _, _<span class="delimiter">)</span> =&gt; <a href="#31936" title="(msg: =&gt; AnyRef)Unit">trace</a><span class="delimiter">(</span><span title="object java.lang.String">String</span>.<span title="(x$1: Any)java.lang.String">valueOf</span><span class="delimiter">(</span><a href="#42726" title="=&gt; AnyRef">msg</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#42811" title="String">fmsg</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>


  <span class="keyword">def</span> <a title="(msg: =&gt; AnyRef)Unit" id="31936">trace</a><span class="delimiter">(</span><a title="=&gt; AnyRef" id="42785">msg</a>: =&gt; AnyRef<span class="delimiter">)</span> = <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="()Boolean">isTraceEnabled</span><span class="delimiter">)</span> <a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String)Unit">trace</span><span class="delimiter">(</span><span title="object java.lang.String">String</span>.<span title="(x$1: Any)java.lang.String">valueOf</span><span class="delimiter">(</span><a href="#42785" title="=&gt; AnyRef">msg</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(msg: =&gt; AnyRef, t: Throwable)Unit" id="31937">trace</a><span class="delimiter">(</span><a title="=&gt; AnyRef" id="42771">msg</a>: =&gt; AnyRef, <a title="Throwable" id="42772">t</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span> = <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="()Boolean">isTraceEnabled</span><span class="delimiter">)</span> <a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String, x$2: java.lang.Throwable)Unit">trace</span><span class="delimiter">(</span><span title="object java.lang.String">String</span>.<span title="(x$1: Any)java.lang.String">valueOf</span><span class="delimiter">(</span><a href="#42771" title="=&gt; AnyRef">msg</a><span class="delimiter">)</span>, <a href="#42772" title="Throwable">t</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(msg: =&gt; AnyRef, marker: org.slf4j.Marker)Unit" id="31938">trace</a><span class="delimiter">(</span><a title="=&gt; AnyRef" id="42757">msg</a>: =&gt; AnyRef, <a title="org.slf4j.Marker" id="42758">marker</a>:  <span title="org.slf4j.Marker">Marker</span><span class="delimiter">)</span> = <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="()Boolean">isTraceEnabled</span><span class="delimiter">)</span> <a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="(x$1: org.slf4j.Marker, x$2: java.lang.String)Unit">trace</span><span class="delimiter">(</span><a href="#42758" title="org.slf4j.Marker">marker</a>,<span title="object java.lang.String">String</span>.<span title="(x$1: Any)java.lang.String">valueOf</span><span class="delimiter">(</span><a href="#42757" title="=&gt; AnyRef">msg</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(msg: =&gt; AnyRef, t: Throwable, marker: =&gt; org.slf4j.Marker)Unit" id="31939">trace</a><span class="delimiter">(</span><a title="=&gt; AnyRef" id="42742">msg</a>: =&gt; AnyRef, <a title="Throwable" id="42743">t</a>: <span title="Throwable">Throwable</span>, <a title="=&gt; org.slf4j.Marker" id="42744">marker</a>: =&gt; Marker<span class="delimiter">)</span> = <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="()Boolean">isTraceEnabled</span><span class="delimiter">)</span> <a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="(x$1: org.slf4j.Marker, x$2: java.lang.String, x$3: java.lang.Throwable)Unit">trace</span><span class="delimiter">(</span><a href="#42744" title="=&gt; org.slf4j.Marker">marker</a>,<span title="object java.lang.String">String</span>.<span title="(x$1: Any)java.lang.String">valueOf</span><span class="delimiter">(</span><a href="#42742" title="=&gt; AnyRef">msg</a><span class="delimiter">)</span>, <a href="#42743" title="Throwable">t</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="31940">isTraceEnabled</a> = <a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="()Boolean">isTraceEnabled</span>

  <span class="comment">/**
   * Debug a Failure.  If the log level is debug and the Box is
   * a Failure, debug the message concatenated with the Failure's message.
   * If the Failure contains an Exception, debug that as well.
   */</span>
  <span class="keyword">def</span> <a title="(msg: =&gt; AnyRef, box: net.liftweb.common.Box[_])Unit" id="31941">debug</a><span class="delimiter">(</span><a title="=&gt; AnyRef" id="42828">msg</a>: =&gt; AnyRef, <a title="net.liftweb.common.Box[_]" id="42829">box</a>: <a href="Box.scala.html#10575" title="net.liftweb.common.Box[_]">Box</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="()Boolean">isDebugEnabled</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#42829" title="net.liftweb.common.Box[_]">box</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Unit">Failure</span><span class="delimiter">(</span><a title="String" id="42837">fmsg</a>, Full<span class="delimiter">(</span><a title="Throwable" id="42839">e</a><span class="delimiter">)</span>, _<span class="delimiter">)</span> =&gt; <a href="#31943" title="(msg: =&gt; AnyRef, t: Throwable)Unit">debug</a><span class="delimiter">(</span><span title="object java.lang.String">String</span>.<span title="(x$1: Any)java.lang.String">valueOf</span><span class="delimiter">(</span><a href="#42828" title="=&gt; AnyRef">msg</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
                                                <a href="#42837" title="String">fmsg</a>, <a href="#42839" title="Throwable">e</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit">Failure</span><span class="delimiter">(</span><a title="String" id="42907">fmsg</a>, _, _<span class="delimiter">)</span> =&gt; <a href="#31942" title="(msg: =&gt; AnyRef)Unit">debug</a><span class="delimiter">(</span><span title="object java.lang.String">String</span>.<span title="(x$1: Any)java.lang.String">valueOf</span><span class="delimiter">(</span><a href="#42828" title="=&gt; AnyRef">msg</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#42907" title="String">fmsg</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
 
  
  <span class="keyword">def</span> <a title="(msg: =&gt; AnyRef)Unit" id="31942">debug</a><span class="delimiter">(</span><a title="=&gt; AnyRef" id="42887">msg</a>: =&gt; AnyRef<span class="delimiter">)</span> = <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="()Boolean">isDebugEnabled</span><span class="delimiter">)</span> <a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String)Unit">debug</span><span class="delimiter">(</span><span title="object java.lang.String">String</span>.<span title="(x$1: Any)java.lang.String">valueOf</span><span class="delimiter">(</span><a href="#42887" title="=&gt; AnyRef">msg</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(msg: =&gt; AnyRef, t: Throwable)Unit" id="31943">debug</a><span class="delimiter">(</span><a title="=&gt; AnyRef" id="42873">msg</a>: =&gt; AnyRef, <a title="Throwable" id="42874">t</a>:  <span title="Throwable">Throwable</span><span class="delimiter">)</span> = <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="()Boolean">isDebugEnabled</span><span class="delimiter">)</span> <a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String, x$2: java.lang.Throwable)Unit">debug</span><span class="delimiter">(</span><span title="object java.lang.String">String</span>.<span title="(x$1: Any)java.lang.String">valueOf</span><span class="delimiter">(</span><a href="#42873" title="=&gt; AnyRef">msg</a><span class="delimiter">)</span>, <a href="#42874" title="Throwable">t</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(msg: =&gt; AnyRef, marker: org.slf4j.Marker)Unit" id="31944">debug</a><span class="delimiter">(</span><a title="=&gt; AnyRef" id="42859">msg</a>: =&gt; AnyRef, <a title="org.slf4j.Marker" id="42860">marker</a>: <span title="org.slf4j.Marker">Marker</span><span class="delimiter">)</span> = <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="()Boolean">isDebugEnabled</span><span class="delimiter">)</span> <a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="(x$1: org.slf4j.Marker, x$2: java.lang.String)Unit">debug</span><span class="delimiter">(</span><a href="#42860" title="org.slf4j.Marker">marker</a>, <span title="object java.lang.String">String</span>.<span title="(x$1: Any)java.lang.String">valueOf</span><span class="delimiter">(</span><a href="#42859" title="=&gt; AnyRef">msg</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(msg: =&gt; AnyRef, t: Throwable, marker: org.slf4j.Marker)Unit" id="31945">debug</a><span class="delimiter">(</span><a title="=&gt; AnyRef" id="42844">msg</a>: =&gt; AnyRef, <a title="Throwable" id="42845">t</a>: <span title="Throwable">Throwable</span>, <a title="org.slf4j.Marker" id="42846">marker</a>: <span title="org.slf4j.Marker">Marker</span><span class="delimiter">)</span> = <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="()Boolean">isDebugEnabled</span><span class="delimiter">)</span> <a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="(x$1: org.slf4j.Marker, x$2: java.lang.String, x$3: java.lang.Throwable)Unit">debug</span><span class="delimiter">(</span><a href="#42846" title="org.slf4j.Marker">marker</a>, <span title="object java.lang.String">String</span>.<span title="(x$1: Any)java.lang.String">valueOf</span><span class="delimiter">(</span><a href="#42844" title="=&gt; AnyRef">msg</a><span class="delimiter">)</span>, <a href="#42845" title="Throwable">t</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="31946">isDebugEnabled</a> = <a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="()Boolean">isDebugEnabled</span>
  
  <span class="comment">/**
   * Info a Failure.  If the log level is info and the Box is
   * a Failure, info the message concatenated with the Failure's message.
   * If the Failure contains an Exception, info that as well.
   */</span>
  <span class="keyword">def</span> <a title="(msg: =&gt; AnyRef, box: net.liftweb.common.Box[_])Unit" id="31947">info</a><span class="delimiter">(</span><a title="=&gt; AnyRef" id="42714">msg</a>: =&gt; AnyRef, <a title="net.liftweb.common.Box[_]" id="42715">box</a>: <a href="Box.scala.html#10575" title="net.liftweb.common.Box[_]">Box</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="()Boolean">isInfoEnabled</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#42715" title="net.liftweb.common.Box[_]">box</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Unit">Failure</span><span class="delimiter">(</span><a title="String" id="42925">fmsg</a>, Full<span class="delimiter">(</span><a title="Throwable" id="42927">e</a><span class="delimiter">)</span>, _<span class="delimiter">)</span> =&gt; <a href="#31949" title="(msg: =&gt; AnyRef, t: =&gt; Throwable)Unit">info</a><span class="delimiter">(</span><span title="object java.lang.String">String</span>.<span title="(x$1: Any)java.lang.String">valueOf</span><span class="delimiter">(</span><a href="#42714" title="=&gt; AnyRef">msg</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
                                                <a href="#42925" title="String">fmsg</a>, <a href="#42927" title="Throwable">e</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit">Failure</span><span class="delimiter">(</span><a title="String" id="42941">fmsg</a>, _, _<span class="delimiter">)</span> =&gt; <a href="#31948" title="(msg: =&gt; AnyRef)Unit">info</a><span class="delimiter">(</span><span title="object java.lang.String">String</span>.<span title="(x$1: Any)java.lang.String">valueOf</span><span class="delimiter">(</span><a href="#42714" title="=&gt; AnyRef">msg</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#42941" title="String">fmsg</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="(msg: =&gt; AnyRef)Unit" id="31948">info</a><span class="delimiter">(</span><a title="=&gt; AnyRef" id="42703">msg</a>: =&gt; AnyRef<span class="delimiter">)</span> = <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="()Boolean">isInfoEnabled</span><span class="delimiter">)</span> <a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String)Unit">info</span><span class="delimiter">(</span><span title="object java.lang.String">String</span>.<span title="(x$1: Any)java.lang.String">valueOf</span><span class="delimiter">(</span><a href="#42703" title="=&gt; AnyRef">msg</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(msg: =&gt; AnyRef, t: =&gt; Throwable)Unit" id="31949">info</a><span class="delimiter">(</span><a title="=&gt; AnyRef" id="42689">msg</a>: =&gt; AnyRef, <a title="=&gt; Throwable" id="42690">t</a>: =&gt; Throwable<span class="delimiter">)</span> = <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="()Boolean">isInfoEnabled</span><span class="delimiter">)</span> <a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String, x$2: java.lang.Throwable)Unit">info</span><span class="delimiter">(</span><span title="object java.lang.String">String</span>.<span title="(x$1: Any)java.lang.String">valueOf</span><span class="delimiter">(</span><a href="#42689" title="=&gt; AnyRef">msg</a><span class="delimiter">)</span>, <a href="#42690" title="=&gt; Throwable">t</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(msg: =&gt; AnyRef, marker: org.slf4j.Marker)Unit" id="31950">info</a><span class="delimiter">(</span><a title="=&gt; AnyRef" id="42675">msg</a>: =&gt; AnyRef, <a title="org.slf4j.Marker" id="42676">marker</a>: <span title="org.slf4j.Marker">Marker</span><span class="delimiter">)</span> = <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="()Boolean">isInfoEnabled</span><span class="delimiter">)</span> <a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="(x$1: org.slf4j.Marker, x$2: java.lang.String)Unit">info</span><span class="delimiter">(</span><a href="#42676" title="org.slf4j.Marker">marker</a>,<span title="object java.lang.String">String</span>.<span title="(x$1: Any)java.lang.String">valueOf</span><span class="delimiter">(</span><a href="#42675" title="=&gt; AnyRef">msg</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(msg: =&gt; AnyRef, t: Throwable, marker: org.slf4j.Marker)Unit" id="31951">info</a><span class="delimiter">(</span><a title="=&gt; AnyRef" id="42660">msg</a>: =&gt; AnyRef, <a title="Throwable" id="42661">t</a>: <span title="Throwable">Throwable</span>, <a title="org.slf4j.Marker" id="42662">marker</a>: <span title="org.slf4j.Marker">Marker</span><span class="delimiter">)</span> = <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="()Boolean">isInfoEnabled</span><span class="delimiter">)</span> <a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="(x$1: org.slf4j.Marker, x$2: java.lang.String, x$3: java.lang.Throwable)Unit">info</span><span class="delimiter">(</span><a href="#42662" title="org.slf4j.Marker">marker</a>,<span title="object java.lang.String">String</span>.<span title="(x$1: Any)java.lang.String">valueOf</span><span class="delimiter">(</span><a href="#42660" title="=&gt; AnyRef">msg</a><span class="delimiter">)</span>, <a href="#42661" title="Throwable">t</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="31952">isInfoEnabled</a> = <a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="()Boolean">isInfoEnabled</span>
  
  <span class="comment">/**
   * Warn a Failure.  If the log level is warn and the Box is
   * a Failure, warn the message concatenated with the Failure's message.
   * If the Failure contains an Exception, warn that as well.
   */</span>
  <span class="keyword">def</span> <a title="(msg: =&gt; AnyRef, box: net.liftweb.common.Box[_])Unit" id="31953">warn</a><span class="delimiter">(</span><a title="=&gt; AnyRef" id="42955">msg</a>: =&gt; AnyRef, <a title="net.liftweb.common.Box[_]" id="42956">box</a>: <a href="Box.scala.html#10575" title="net.liftweb.common.Box[_]">Box</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="()Boolean">isWarnEnabled</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#42956" title="net.liftweb.common.Box[_]">box</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Unit">Failure</span><span class="delimiter">(</span><a title="String" id="42964">fmsg</a>, Full<span class="delimiter">(</span><a title="Throwable" id="42966">e</a><span class="delimiter">)</span>, _<span class="delimiter">)</span> =&gt; <a href="#31955" title="(msg: =&gt; AnyRef, t: Throwable)Unit">warn</a><span class="delimiter">(</span><span title="object java.lang.String">String</span>.<span title="(x$1: Any)java.lang.String">valueOf</span><span class="delimiter">(</span><a href="#42955" title="=&gt; AnyRef">msg</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
                                                <a href="#42964" title="String">fmsg</a>, <a href="#42966" title="Throwable">e</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit">Failure</span><span class="delimiter">(</span><a title="String" id="43034">fmsg</a>, _, _<span class="delimiter">)</span> =&gt; <a href="#31954" title="(msg: =&gt; AnyRef)Unit">warn</a><span class="delimiter">(</span><span title="object java.lang.String">String</span>.<span title="(x$1: Any)java.lang.String">valueOf</span><span class="delimiter">(</span><a href="#42955" title="=&gt; AnyRef">msg</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#43034" title="String">fmsg</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="(msg: =&gt; AnyRef)Unit" id="31954">warn</a><span class="delimiter">(</span><a title="=&gt; AnyRef" id="43014">msg</a>: =&gt; AnyRef<span class="delimiter">)</span> = <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="()Boolean">isWarnEnabled</span><span class="delimiter">)</span> <a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String)Unit">warn</span><span class="delimiter">(</span><span title="object java.lang.String">String</span>.<span title="(x$1: Any)java.lang.String">valueOf</span><span class="delimiter">(</span><a href="#43014" title="=&gt; AnyRef">msg</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(msg: =&gt; AnyRef, t: Throwable)Unit" id="31955">warn</a><span class="delimiter">(</span><a title="=&gt; AnyRef" id="43000">msg</a>: =&gt; AnyRef, <a title="Throwable" id="43001">t</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span> = <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="()Boolean">isWarnEnabled</span><span class="delimiter">)</span> <a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String, x$2: java.lang.Throwable)Unit">warn</span><span class="delimiter">(</span><span title="object java.lang.String">String</span>.<span title="(x$1: Any)java.lang.String">valueOf</span><span class="delimiter">(</span><a href="#43000" title="=&gt; AnyRef">msg</a><span class="delimiter">)</span>, <a href="#43001" title="Throwable">t</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(msg: =&gt; AnyRef, marker: org.slf4j.Marker)Unit" id="31956">warn</a><span class="delimiter">(</span><a title="=&gt; AnyRef" id="42986">msg</a>: =&gt; AnyRef, <a title="org.slf4j.Marker" id="42987">marker</a>: <span title="org.slf4j.Marker">Marker</span><span class="delimiter">)</span> = <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="()Boolean">isWarnEnabled</span><span class="delimiter">)</span> <a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="(x$1: org.slf4j.Marker, x$2: java.lang.String)Unit">warn</span><span class="delimiter">(</span><a href="#42987" title="org.slf4j.Marker">marker</a>,<span title="object java.lang.String">String</span>.<span title="(x$1: Any)java.lang.String">valueOf</span><span class="delimiter">(</span><a href="#42986" title="=&gt; AnyRef">msg</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(msg: =&gt; AnyRef, t: Throwable, marker: org.slf4j.Marker)Unit" id="31957">warn</a><span class="delimiter">(</span><a title="=&gt; AnyRef" id="42971">msg</a>: =&gt; AnyRef, <a title="Throwable" id="42972">t</a>: <span title="Throwable">Throwable</span>, <a title="org.slf4j.Marker" id="42973">marker</a>: <span title="org.slf4j.Marker">Marker</span><span class="delimiter">)</span> = <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="()Boolean">isWarnEnabled</span><span class="delimiter">)</span> <a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="(x$1: org.slf4j.Marker, x$2: java.lang.String, x$3: java.lang.Throwable)Unit">warn</span><span class="delimiter">(</span><a href="#42973" title="org.slf4j.Marker">marker</a>,<span title="object java.lang.String">String</span>.<span title="(x$1: Any)java.lang.String">valueOf</span><span class="delimiter">(</span><a href="#42971" title="=&gt; AnyRef">msg</a><span class="delimiter">)</span>, <a href="#42972" title="Throwable">t</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="31958">isWarnEnabled</a> = <a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="()Boolean">isWarnEnabled</span>
  
  <span class="comment">/**
   * Error a Failure.  If the log level is error and the Box is
   * a Failure, error the message concatenated with the Failure's message.
   * If the Failure contains an Exception, error that as well.
   */</span>
  <span class="keyword">def</span> <a title="(msg: =&gt; AnyRef, box: net.liftweb.common.Box[_])Unit" id="31959">error</a><span class="delimiter">(</span><a title="=&gt; AnyRef" id="32324">msg</a>: =&gt; AnyRef, <a title="net.liftweb.common.Box[_]" id="32325">box</a>: <a href="Box.scala.html#10575" title="net.liftweb.common.Box[_]">Box</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="()Boolean">isErrorEnabled</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#32325" title="net.liftweb.common.Box[_]">box</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Unit">Failure</span><span class="delimiter">(</span><a title="String" id="43052">fmsg</a>, Full<span class="delimiter">(</span><a title="Throwable" id="43054">e</a><span class="delimiter">)</span>, _<span class="delimiter">)</span> =&gt; <a href="#31961" title="(msg: =&gt; AnyRef, t: Throwable)Unit">error</a><span class="delimiter">(</span><span title="object java.lang.String">String</span>.<span title="(x$1: Any)java.lang.String">valueOf</span><span class="delimiter">(</span><a href="#32324" title="=&gt; AnyRef">msg</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
                                                <a href="#43052" title="String">fmsg</a>, <a href="#43054" title="Throwable">e</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit">Failure</span><span class="delimiter">(</span><a title="String" id="43068">fmsg</a>, _, _<span class="delimiter">)</span> =&gt; <a href="#31960" title="(msg: =&gt; AnyRef)Unit">error</a><span class="delimiter">(</span><span title="object java.lang.String">String</span>.<span title="(x$1: Any)java.lang.String">valueOf</span><span class="delimiter">(</span><a href="#32324" title="=&gt; AnyRef">msg</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#43068" title="String">fmsg</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(msg: =&gt; AnyRef)Unit" id="31960">error</a><span class="delimiter">(</span><a title="=&gt; AnyRef" id="32313">msg</a>: =&gt; AnyRef<span class="delimiter">)</span> = <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="()Boolean">isErrorEnabled</span><span class="delimiter">)</span> <a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String)Unit">error</span><span class="delimiter">(</span><span title="object java.lang.String">String</span>.<span title="(x$1: Any)java.lang.String">valueOf</span><span class="delimiter">(</span><a href="#32313" title="=&gt; AnyRef">msg</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(msg: =&gt; AnyRef, t: Throwable)Unit" id="31961">error</a><span class="delimiter">(</span><a title="=&gt; AnyRef" id="32299">msg</a>: =&gt; AnyRef, <a title="Throwable" id="32300">t</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span> = <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="()Boolean">isErrorEnabled</span><span class="delimiter">)</span> <a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="(x$1: java.lang.String, x$2: java.lang.Throwable)Unit">error</span><span class="delimiter">(</span><span title="object java.lang.String">String</span>.<span title="(x$1: Any)java.lang.String">valueOf</span><span class="delimiter">(</span><a href="#32299" title="=&gt; AnyRef">msg</a><span class="delimiter">)</span>, <a href="#32300" title="Throwable">t</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(msg: =&gt; AnyRef, marker: org.slf4j.Marker)Unit" id="31962">error</a><span class="delimiter">(</span><a title="=&gt; AnyRef" id="32285">msg</a>: =&gt; AnyRef, <a title="org.slf4j.Marker" id="32286">marker</a>: <span title="org.slf4j.Marker">Marker</span><span class="delimiter">)</span> = <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="()Boolean">isErrorEnabled</span><span class="delimiter">)</span> <a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="(x$1: org.slf4j.Marker, x$2: java.lang.String)Unit">error</span><span class="delimiter">(</span><a href="#32286" title="org.slf4j.Marker">marker</a>,<span title="object java.lang.String">String</span>.<span title="(x$1: Any)java.lang.String">valueOf</span><span class="delimiter">(</span><a href="#32285" title="=&gt; AnyRef">msg</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(msg: =&gt; AnyRef, t: Throwable, marker: org.slf4j.Marker)Unit" id="31963">error</a><span class="delimiter">(</span><a title="=&gt; AnyRef" id="31967">msg</a>: =&gt; AnyRef, <a title="Throwable" id="31968">t</a>: <span title="Throwable">Throwable</span>, <a title="org.slf4j.Marker" id="31969">marker</a>: <span title="org.slf4j.Marker">Marker</span><span class="delimiter">)</span> = <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="()Boolean">isErrorEnabled</span><span class="delimiter">)</span> <a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="(x$1: org.slf4j.Marker, x$2: java.lang.String, x$3: java.lang.Throwable)Unit">error</span><span class="delimiter">(</span><a href="#31969" title="org.slf4j.Marker">marker</a>,<span title="object java.lang.String">String</span>.<span title="(x$1: Any)java.lang.String">valueOf</span><span class="delimiter">(</span><a href="#31967" title="=&gt; AnyRef">msg</a><span class="delimiter">)</span>, <a href="#31968" title="Throwable">t</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="31964">isErrorEnabled</a> = <a href="#31928" title="=&gt; org.slf4j.Logger">logger</a>.<span title="()Boolean">isErrorEnabled</span>
  
<span class="delimiter">}</span>

<span class="keyword">class</span> <a title="class WrappedLogger extends java.lang.Object with net.liftweb.common.Logger with ScalaObject" id="10716">WrappedLogger</a><a href="#10716" title="ScalaObject" class="delimiter">(</a><a title="org.slf4j.Logger" id="42461">l</a>: <span title="org.slf4j.Logger">SLF4JLogger</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#10715" title="net.liftweb.common.Logger">Logger</a> <span class="delimiter">{</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; org.slf4j.Logger" id="42460">_logger</a> = <a href="#42461" title="org.slf4j.Logger">l</a>
<span class="delimiter">}</span>

<span class="comment">/**
 * Mixin with a nested Logger
 */</span>
<span class="keyword">trait</span> <a title="trait Loggable extends java.lang.Object with ScalaObject" id="10717">Loggable</a> <span title="ScalaObject" class="delimiter">{</span>
  @transient <span class="keyword">protected</span> <span class="keyword">val</span> <a title="net.liftweb.common.Logger" id="19845">logger</a> = <a href="#31889" title="(cls: Class[_])net.liftweb.common.Logger">Logger</a><span class="delimiter">(</span><a href="#10717" title="Loggable.this.type" class="keyword">this</a>.<span title="()java.lang.Class[_]">getClass</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Mixin with a nested lazy Logger
 * 
 * Useful for mixin to objects that are created before Lift has booted (and thus Logging is not yet configured)
 */</span>
<span class="keyword">trait</span> <a title="trait LazyLoggable extends java.lang.Object with ScalaObject" id="10718">LazyLoggable</a> <span title="ScalaObject" class="delimiter">{</span>
  @transient <span class="keyword">protected</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="net.liftweb.common.Logger" id="43092">logger</a> = <a href="#31889" title="(cls: Class[_])net.liftweb.common.Logger">Logger</a><span class="delimiter">(</span><a href="#10718" title="LazyLoggable.this.type" class="keyword">this</a>.<span title="()java.lang.Class[_]">getClass</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Configuration helpers for the log4j logging backend
 */</span>
<span class="keyword">object</span> <a title="object net.liftweb.common.Log4j" id="10719">Log4j</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">import</span> org.apache.log4j.<span class="delimiter">{</span>LogManager,PropertyConfigurator<span class="delimiter">}</span>
  <span class="keyword">import</span> org.apache.log4j.xml.DOMConfigurator
  
  <span class="keyword">val</span> <a title="java.lang.String" id="43111">defaultProps</a> =
    <span title="java.lang.String(&quot;&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot; ?&gt;\012    &lt;!DOCTYPE log4j:configuration SYSTEM \&quot;log4j.dtd\&quot;&gt;\012    &lt;log4j:configuration xmlns:log4j=\&quot;http://jakarta.apache.org/log4j/\&quot;&gt;\012    &lt;appender name=\&quot;appender\&quot; class=\&quot;org.apache.log4j.ConsoleAppender\&quot;&gt;\012    &lt;layout class=\&quot;org.apache.log4j.SimpleLayout\&quot;/&gt;\012    &lt;/appender&gt;\012    &lt;root&gt;\012    &lt;priority value =\&quot;INFO\&quot;/&gt;\012    &lt;appender-ref ref=\&quot;appender\&quot;/&gt;\012    &lt;/root&gt;\012    &lt;/log4j:configuration&gt;\012    &quot;)" class="string">&quot;&quot;&quot;&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
    &lt;!DOCTYPE log4j:configuration SYSTEM &quot;log4j.dtd&quot;&gt;
    &lt;log4j:configuration xmlns:log4j=&quot;http://jakarta.apache.org/log4j/&quot;&gt;
    &lt;appender name=&quot;appender&quot; class=&quot;org.apache.log4j.ConsoleAppender&quot;&gt;
    &lt;layout class=&quot;org.apache.log4j.SimpleLayout&quot;/&gt;
    &lt;/appender&gt;
    &lt;root&gt;
    &lt;priority value =&quot;INFO&quot;/&gt;
    &lt;appender-ref ref=&quot;appender&quot;/&gt;
    &lt;/root&gt;
    &lt;/log4j:configuration&gt;
    &quot;&quot;&quot;</span>
  
  <span class="comment">/**
   * Configure with contents of the specified filed (either .xml or .properties)
   */</span>
  <span class="keyword">def</span> <a title="(url: java.net.URL)()Unit" id="43113">withFile</a><span class="delimiter">(</span><a title="java.net.URL" id="43337">url</a>: java.net.<span title="java.net.URL">URL</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#43337" title="java.net.URL">url</a>.<span title="()java.lang.String">getPath</span>.<span title="(x$1: java.lang.String)Boolean">endsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;.xml&quot;)" class="string">&quot;.xml&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="org.apache.log4j.xml.DOMConfigurator" id="43415">domConf</a> = <span title="org.apache.log4j.xml.DOMConfigurator" class="keyword">new</span> <span title="org.apache.log4j.xml.DOMConfigurator">DOMConfigurator</span>
      <a href="#43415" title="org.apache.log4j.xml.DOMConfigurator">domConf</a>.<span title="(x$1: java.net.URL, x$2: org.apache.log4j.spi.LoggerRepository)Unit">doConfigure</span><span class="delimiter">(</span><a href="#43337" title="java.net.URL">url</a>, <span title="object org.apache.log4j.LogManager">LogManager</span>.<span title="()org.apache.log4j.spi.LoggerRepository">getLoggerRepository</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> 
      <span title="object org.apache.log4j.PropertyConfigurator">PropertyConfigurator</span>.<span title="(x$1: java.net.URL)Unit">configure</span><span class="delimiter">(</span><a href="#43337" title="java.net.URL">url</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="comment">/**
   * Configure with the specified configuration. config must contain a valid XML document
   */</span>
  <span class="keyword">def</span> <a title="(config: String)()Unit" id="43114">withConfig</a><span class="delimiter">(</span><a title="String" id="44416">config</a>: <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="org.apache.log4j.xml.DOMConfigurator" id="44419">domConf</a> = <span title="org.apache.log4j.xml.DOMConfigurator" class="keyword">new</span> <span title="org.apache.log4j.xml.DOMConfigurator">DOMConfigurator</span>
    <span class="keyword">val</span> <a title="java.io.ByteArrayInputStream" id="44420">is</a> = <span title="java.io.ByteArrayInputStream" class="keyword">new</span> java.io.<span title="java.io.ByteArrayInputStream">ByteArrayInputStream</span><span class="delimiter">(</span><a href="#44416" title="String">config</a>.<span title="(x$1: java.lang.String)Array[Byte]">getBytes</span><span class="delimiter">(</span><span title="java.lang.String(&quot;UTF-8&quot;)" class="string">&quot;UTF-8&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#44419" title="org.apache.log4j.xml.DOMConfigurator">domConf</a>.<span title="(x$1: java.io.InputStream, x$2: org.apache.log4j.spi.LoggerRepository)Unit">doConfigure</span><span class="delimiter">(</span><a href="#44420" title="java.io.ByteArrayInputStream">is</a>, <span title="object org.apache.log4j.LogManager">LogManager</span>.<span title="()org.apache.log4j.spi.LoggerRepository">getLoggerRepository</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  
  <span class="comment">/**
   * Configure with simple defaults
   */</span>
  <span class="keyword">def</span> <a title="()Unit" id="43115">withDefault</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#43114" title="(config: String)()Unit">withConfig</a><span class="delimiter">(</span><a href="#43111" title="=&gt; java.lang.String">defaultProps</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Configuration helpers for the Logback logging backend
 */</span>
<span class="keyword">object</span> <a title="object net.liftweb.common.Logback" id="10721">Logback</a>  <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">import</span> ch.qos.logback.classic.LoggerContext;
  <span class="keyword">import</span> ch.qos.logback.core.util.StatusPrinter;
  <span class="keyword">import</span> ch.qos.logback.classic.joran.JoranConfigurator;

  <span class="comment">/**
   * Configure with contents of the specified XML filed 
   */</span>
  <span class="keyword">def</span> <a title="(url: java.net.URL)()Unit" id="44512">withFile</a><span class="delimiter">(</span><a title="java.net.URL" id="44704">url</a>: java.net.<span title="java.net.URL">URL</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="ch.qos.logback.classic.LoggerContext" id="44707">lc</a> = <span title="object org.slf4j.LoggerFactory">LoggerFactory</span>.<span title="()org.slf4j.ILoggerFactory">getILoggerFactory</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="ch.qos.logback.classic.LoggerContext" class="delimiter">[</span><span title="ch.qos.logback.classic.LoggerContext">LoggerContext</span><span class="delimiter">]</span>;
    <span class="keyword">val</span> <a title="ch.qos.logback.classic.joran.JoranConfigurator" id="44708">configurator</a> = <span title="ch.qos.logback.classic.joran.JoranConfigurator" class="keyword">new</span> <span title="ch.qos.logback.classic.joran.JoranConfigurator">JoranConfigurator</span><span class="delimiter">(</span><span class="delimiter">)</span>;
    <a href="#44708" title="ch.qos.logback.classic.joran.JoranConfigurator">configurator</a>.<span title="(x$1: ch.qos.logback.core.Context)Unit">setContext</span><span class="delimiter">(</span><a href="#44707" title="ch.qos.logback.classic.LoggerContext">lc</a><span class="delimiter">)</span>;
    <span class="comment">// the context was probably already configured by default configuration rules</span>
    <a href="#44707" title="ch.qos.logback.classic.LoggerContext">lc</a>.<span title="()Unit">reset</span><span class="delimiter">(</span><span class="delimiter">)</span>; 
    <a href="#44708" title="ch.qos.logback.classic.joran.JoranConfigurator">configurator</a>.<span title="(x$1: java.net.URL)Unit">doConfigure</span><span class="delimiter">(</span><a href="#44704" title="java.net.URL">url</a><span class="delimiter">)</span>;
  <span class="delimiter">}</span>
<span class="delimiter">}</span>


        </pre>
    </body>
</html>