<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>record/net/liftweb/record/field/PostalCodeField.scala</title>
        <script type="text/javascript" src="../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*
 * Copyright 2007-2011 WorldWide Conferencing, LLC
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */</span>

<span class="keyword">package</span> net.liftweb
<span class="keyword">package</span> record
<span class="keyword">package</span> field

<span class="keyword">import</span> scala.xml._
<span class="keyword">import</span> net.liftweb.util._
<span class="keyword">import</span> net.liftweb.common._
<span class="keyword">import</span> net.liftweb.http.<span class="delimiter">{</span>S<span class="delimiter">}</span>
<span class="keyword">import</span> java.util.regex._
<span class="keyword">import</span> java.util.regex.<span class="delimiter">{</span>Pattern =&gt; RegexPattern<span class="delimiter">}</span>
<span class="keyword">import</span> <a href="../../../../../util/net/liftweb/util/Helpers.scala.html#13346" title="object net.liftweb.util.Helpers">Helpers</a>._
<span class="keyword">import</span> <a href="../../../../../webkit/net/liftweb/http/S.scala.html#14641" title="object net.liftweb.http.S">S</a>._


<span class="keyword">trait</span> <a title="trait PostalCodeTypedField extends java.lang.Object with net.liftweb.record.field.StringTypedField with ScalaObject" id="12792">PostalCodeTypedField</a> <span title="ScalaObject" class="keyword">extends</span> <a href="StringField.scala.html#12809" title="net.liftweb.record.field.StringTypedField">StringTypedField</a> <span class="delimiter">{</span>
  <span class="keyword">protected</span> <span class="keyword">val</span> <a title="=&gt; net.liftweb.record.field.CountryField[_]" id="245198">country</a>: <a href="CountryField.scala.html#12586" title="net.liftweb.record.field.CountryField[_]">CountryField</a><span class="delimiter">[</span>_<span class="delimiter">]</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[PostalCodeTypedField.this.ValueType =&gt; PostalCodeTypedField.this.ValueType]" id="245199">setFilter</a> = <a href="../../../../../util/net/liftweb/util/BaseField.scala.html#49865" title="(in: PostalCodeTypedField.this.ValueType)PostalCodeTypedField.this.ValueType">toUpper</a> _ <a href="#245211" title="(x: PostalCodeTypedField.this.ValueType =&gt; PostalCodeTypedField.this.ValueType)List[PostalCodeTypedField.this.ValueType =&gt; PostalCodeTypedField.this.ValueType]">::</a> <a href="../../../../../util/net/liftweb/util/BaseField.scala.html#49866" title="(in: PostalCodeTypedField.this.ValueType)PostalCodeTypedField.this.ValueType">trim</a> _ <a href="#245215" title="(x: PostalCodeTypedField.this.ValueType =&gt; PostalCodeTypedField.this.ValueType)List[PostalCodeTypedField.this.ValueType =&gt; PostalCodeTypedField.this.ValueType]">::</a> <a href="#12792" title="net.liftweb.record.field.PostalCodeTypedField" class="keyword">super</a>.<a href="../Field.scala.html#49820" title="=&gt; List[PostalCodeTypedField.this.ValueType =&gt; PostalCodeTypedField.this.ValueType]">setFilter</a>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[PostalCodeTypedField.this.ValueType =&gt; List[net.liftweb.util.FieldError]]" id="245200">validations</a> = <a href="#245201" title="(in: PostalCodeTypedField.this.ValueType)List[net.liftweb.util.FieldError]">validatePostalCode</a> _ <a href="#245233" title="(x: PostalCodeTypedField.this.ValueType =&gt; List[net.liftweb.util.FieldError])List[PostalCodeTypedField.this.ValueType =&gt; List[net.liftweb.util.FieldError]]">::</a> <span title="object Nil">Nil</span>

  <span class="keyword">def</span> <a title="(in: PostalCodeTypedField.this.ValueType)List[net.liftweb.util.FieldError]" id="245201">validatePostalCode</a><span class="delimiter">(</span><a title="PostalCodeTypedField.this.ValueType" id="245234">in</a>: <a href="../../../../../util/net/liftweb/util/BaseField.scala.html#49858" title="PostalCodeTypedField.this.ValueType">ValueType</a><span class="delimiter">)</span>: <span title="List[net.liftweb.util.FieldError]">List</span><span class="delimiter">[</span>FieldError<span class="delimiter">]</span> = <a href="#245198" title="=&gt; net.liftweb.record.field.CountryField[_]">country</a>.<a href="../Field.scala.html#59136" title="=&gt; PostalCodeTypedField.this.country.MyType">value</a> <span title="List[net.liftweb.util.FieldError]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a href="CountryField.scala.html#12584" title="List[net.liftweb.util.FieldError]">Countries</a>.<a href="CountryField.scala.html#240759" title="=&gt; net.liftweb.record.field.Countries.I18NCountry">USA</a>       =&gt; <a href="../../../../../util/net/liftweb/util/BaseField.scala.html#49870" title="(pat: java.util.regex.Pattern, msg: =&gt; String)(value: PostalCodeTypedField.this.ValueType)List[net.liftweb.util.FieldError]">valRegex</a><span class="delimiter">(</span><span title="object java.util.regex.Pattern">RegexPattern</span>.<span title="(x$1: java.lang.String)java.util.regex.Pattern">compile</span><span class="delimiter">(</span><span title="java.lang.String(&quot;[0-9]{5}(\\-[0-9]{4})?&quot;)" class="string">&quot;[0-9]{5}(\\-[0-9]{4})?&quot;</span><span class="delimiter">)</span>, <a href="../../../../../webkit/net/liftweb/http/S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="../../../../../webkit/net/liftweb/http/S.scala.html#49354" title="(str: String)String">??</a><span class="delimiter">(</span><span title="java.lang.String(&quot;invalid.zip.code&quot;)" class="string">&quot;invalid.zip.code&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#245234" title="PostalCodeTypedField.this.ValueType">in</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <a href="CountryField.scala.html#12584" title="List[net.liftweb.util.FieldError]">Countries</a>.<a href="CountryField.scala.html#240765" title="=&gt; net.liftweb.record.field.Countries.I18NCountry">Sweden</a>    =&gt; <a href="../../../../../util/net/liftweb/util/BaseField.scala.html#49870" title="(pat: java.util.regex.Pattern, msg: =&gt; String)(value: PostalCodeTypedField.this.ValueType)List[net.liftweb.util.FieldError]">valRegex</a><span class="delimiter">(</span><span title="object java.util.regex.Pattern">RegexPattern</span>.<span title="(x$1: java.lang.String)java.util.regex.Pattern">compile</span><span class="delimiter">(</span><span title="java.lang.String(&quot;[0-9]{3}[ ]?[0-9]{2}&quot;)" class="string">&quot;[0-9]{3}[ ]?[0-9]{2}&quot;</span><span class="delimiter">)</span>, <a href="../../../../../webkit/net/liftweb/http/S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="../../../../../webkit/net/liftweb/http/S.scala.html#49354" title="(str: String)String">??</a><span class="delimiter">(</span><span title="java.lang.String(&quot;invalid.postal.code&quot;)" class="string">&quot;invalid.postal.code&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#245234" title="PostalCodeTypedField.this.ValueType">in</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <a href="CountryField.scala.html#12584" title="List[net.liftweb.util.FieldError]">Countries</a>.<a href="CountryField.scala.html#240761" title="=&gt; net.liftweb.record.field.Countries.I18NCountry">Australia</a> =&gt; <a href="../../../../../util/net/liftweb/util/BaseField.scala.html#49870" title="(pat: java.util.regex.Pattern, msg: =&gt; String)(value: PostalCodeTypedField.this.ValueType)List[net.liftweb.util.FieldError]">valRegex</a><span class="delimiter">(</span><span title="object java.util.regex.Pattern">RegexPattern</span>.<span title="(x$1: java.lang.String)java.util.regex.Pattern">compile</span><span class="delimiter">(</span><span title="java.lang.String(&quot;(0?|[1-9])[0-9]{3}&quot;)" class="string">&quot;(0?|[1-9])[0-9]{3}&quot;</span><span class="delimiter">)</span>, <a href="../../../../../webkit/net/liftweb/http/S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="../../../../../webkit/net/liftweb/http/S.scala.html#49354" title="(str: String)String">??</a><span class="delimiter">(</span><span title="java.lang.String(&quot;invalid.postal.code&quot;)" class="string">&quot;invalid.postal.code&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#245234" title="PostalCodeTypedField.this.ValueType">in</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <a href="CountryField.scala.html#12584" title="List[net.liftweb.util.FieldError]">Countries</a>.<a href="CountryField.scala.html#240763" title="=&gt; net.liftweb.record.field.Countries.I18NCountry">Canada</a>    =&gt; <a href="../../../../../util/net/liftweb/util/BaseField.scala.html#49870" title="(pat: java.util.regex.Pattern, msg: =&gt; String)(value: PostalCodeTypedField.this.ValueType)List[net.liftweb.util.FieldError]">valRegex</a><span class="delimiter">(</span><span title="object java.util.regex.Pattern">RegexPattern</span>.<span title="(x$1: java.lang.String)java.util.regex.Pattern">compile</span><span class="delimiter">(</span><span title="java.lang.String(&quot;[A-Z][0-9][A-Z][ ][0-9][A-Z][0-9]&quot;)" class="string">&quot;[A-Z][0-9][A-Z][ ][0-9][A-Z][0-9]&quot;</span><span class="delimiter">)</span>, <a href="../../../../../webkit/net/liftweb/http/S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="../../../../../webkit/net/liftweb/http/S.scala.html#49354" title="(str: String)String">??</a><span class="delimiter">(</span><span title="java.lang.String(&quot;invalid.postal.code&quot;)" class="string">&quot;invalid.postal.code&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#245234" title="PostalCodeTypedField.this.ValueType">in</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="List[net.liftweb.util.FieldError]">_</span> =&gt; <a href="#245202" title="(zip: PostalCodeTypedField.this.ValueType)List[net.liftweb.util.FieldError]">genericCheck</a><span class="delimiter">(</span><a href="#245234" title="PostalCodeTypedField.this.ValueType">in</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(zip: PostalCodeTypedField.this.ValueType)List[net.liftweb.util.FieldError]" id="245202">genericCheck</a><span class="delimiter">(</span><a title="PostalCodeTypedField.this.ValueType" id="245268">zip</a>: <a href="../../../../../util/net/liftweb/util/BaseField.scala.html#49858" title="PostalCodeTypedField.this.ValueType">ValueType</a><span class="delimiter">)</span>: <span title="List[net.liftweb.util.FieldError]">List</span><span class="delimiter">[</span>FieldError<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="../Field.scala.html#49818" title="(in: PostalCodeTypedField.this.ValueType)net.liftweb.common.Box[PostalCodeTypedField.this.MyType]">toBoxMyType</a><span class="delimiter">(</span><a href="#245268" title="PostalCodeTypedField.this.ValueType">zip</a><span class="delimiter">)</span> <a href="../Field.scala.html#49810" title="implicit net.liftweb.record.TypedField.boxNodeToFieldError : (in: net.liftweb.common.Box[scala.xml.Node])List[net.liftweb.util.FieldError]">flatMap</a> <a href="#245275" title="&lt;none&gt; extends net.liftweb.common.Box[scala.xml.Text] with Serializable" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="net.liftweb.common.Full[scala.xml.Text]" class="keyword">null</span> =&gt; <a href="../../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: scala.xml.Text)net.liftweb.common.Full[scala.xml.Text]">Full</a><span class="delimiter">(</span><span title="(_data: String)scala.xml.Text">Text</span><span class="delimiter">(</span><a href="../../../../../webkit/net/liftweb/http/S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="../../../../../webkit/net/liftweb/http/S.scala.html#49354" title="(str: String)String">??</a><span class="delimiter">(</span><span title="java.lang.String(&quot;invalid.postal.code&quot;)" class="string">&quot;invalid.postal.code&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="net.liftweb.common.Full[scala.xml.Text]" id="245285">s</a> <span class="keyword">if</span> <a href="#245285" title="PostalCodeTypedField.this.MyType">s</a>.<span title="()Int">length</span> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(3)" class="int">3</span> =&gt; <a href="../../../../../common/net/liftweb/common/Box.scala.html#27086" title="(value: scala.xml.Text)net.liftweb.common.Full[scala.xml.Text]">Full</a><span class="delimiter">(</span><span title="(_data: String)scala.xml.Text">Text</span><span class="delimiter">(</span><a href="../../../../../webkit/net/liftweb/http/S.scala.html#14641" title="object net.liftweb.http.S">S</a>.<a href="../../../../../webkit/net/liftweb/http/S.scala.html#49354" title="(str: String)String">??</a><span class="delimiter">(</span><span title="java.lang.String(&quot;invalid.postal.code&quot;)" class="string">&quot;invalid.postal.code&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="net.liftweb.common.Empty.type">_</span> =&gt; <a href="../../../../../common/net/liftweb/common/Box.scala.html#10581" title="object net.liftweb.common.Empty">Empty</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">class</span> <a title="class PostalCodeField[OwnerType &lt;: net.liftweb.record.Record[OwnerType]] extends net.liftweb.record.field.StringField[OwnerType] with net.liftweb.record.field.PostalCodeTypedField with ScalaObject" id="12793">PostalCodeField</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: net.liftweb.record.Record[OwnerType]" id="12794">OwnerType</a> &lt;: Record<span class="delimiter">[</span>OwnerType<span class="delimiter">]</span><span class="delimiter">]</span><a href="#12793" title="ScalaObject" class="delimiter">(</a><a title="OwnerType" id="245440">rec</a>: <a href="#12794" title="OwnerType">OwnerType</a>, <span class="keyword">val</span> <a title="net.liftweb.record.field.CountryField[OwnerType]" id="245441">country</a>: <a href="CountryField.scala.html#12586" title="net.liftweb.record.field.CountryField[OwnerType]">CountryField</a><span class="delimiter">[</span>OwnerType<span class="delimiter">]</span><span class="delimiter">)</span>
<span class="keyword">extends</span> <a href="StringField.scala.html#12810" title="net.liftweb.record.field.StringField[OwnerType]">StringField</a><span class="delimiter">(</span><a href="#245440" title="OwnerType">rec</a>, <span title="Int(32)" class="int">32</span><span class="delimiter">)</span> <span class="keyword">with</span> <a href="#12792" title="net.liftweb.record.field.PostalCodeTypedField">PostalCodeTypedField</a>

<span class="keyword">class</span> <a title="class OptionalPostalCodeField[OwnerType &lt;: net.liftweb.record.Record[OwnerType]] extends net.liftweb.record.field.OptionalStringField[OwnerType] with net.liftweb.record.field.PostalCodeTypedField with ScalaObject" id="12795">OptionalPostalCodeField</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: net.liftweb.record.Record[OwnerType]" id="12796">OwnerType</a> &lt;: Record<span class="delimiter">[</span>OwnerType<span class="delimiter">]</span><span class="delimiter">]</span><a href="#12795" title="ScalaObject" class="delimiter">(</a><a title="OwnerType" id="245492">rec</a>: <a href="#12796" title="OwnerType">OwnerType</a>, <span class="keyword">val</span> <a title="net.liftweb.record.field.CountryField[OwnerType]" id="245493">country</a>: <a href="CountryField.scala.html#12586" title="net.liftweb.record.field.CountryField[OwnerType]">CountryField</a><span class="delimiter">[</span>OwnerType<span class="delimiter">]</span><span class="delimiter">)</span>
<span class="keyword">extends</span> <a href="StringField.scala.html#12814" title="net.liftweb.record.field.OptionalStringField[OwnerType]">OptionalStringField</a><span class="delimiter">(</span><a href="#245492" title="OwnerType">rec</a>, <span title="Int(32)" class="int">32</span><span class="delimiter">)</span> <span class="keyword">with</span> <a href="#12792" title="net.liftweb.record.field.PostalCodeTypedField">PostalCodeTypedField</a>


        </pre>
    </body>
</html>