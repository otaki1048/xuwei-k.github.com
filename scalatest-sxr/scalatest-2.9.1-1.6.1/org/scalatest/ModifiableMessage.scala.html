<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>org/scalatest/ModifiableMessage.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*
 * Copyright 2001-2009 Artima, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */</span>
<span class="keyword">package</span> org.scalatest

<span class="comment">/**
 * Trait implemented by exception types that can modify their detail message.
 *
 * &lt;p&gt;
 * This trait facilitates the &lt;code&gt;withClue&lt;/code&gt; construct provided by trait
 * &lt;code&gt;Assertions&lt;/code&gt;. This construct enables extra information (or &quot;clues&quot;) to
 * be included in the detail message of a thrown exception. Although both
 * &lt;code&gt;assert&lt;/code&gt; and &lt;code&gt;expect&lt;/code&gt; provide a way for a clue to be
 * included directly, &lt;code&gt;intercept&lt;/code&gt; and ScalaTest matcher expressions
 * do not. Here's an example of clues provided directly in &lt;code&gt;assert&lt;/code&gt;:
 * &lt;/p&gt;
 *
 * &lt;pre class=&quot;stHighlight&quot;&gt;
 * assert(1 + 1 === 3, &quot;this is a clue&quot;)
 * &lt;/pre&gt;
 *
 * &lt;p&gt;
 * and in &lt;code&gt;expect&lt;/code&gt;:
 * &lt;/p&gt;
 *
 * &lt;pre class=&quot;stHighlight&quot;&gt;
 * expect(3, &quot;this is a clue&quot;) { 1 + 1 }
 * &lt;/pre&gt;
 *
 * &lt;p&gt;
 * The exceptions thrown by the previous two statements will include the clue
 * string, &lt;code&gt;&quot;this is a clue&quot;&lt;/code&gt;, in the exceptions detail message.
 * To get the same clue in the detail message of an exception thrown
 * by a failed &lt;code&gt;intercept&lt;/code&gt; call requires using &lt;code&gt;withClue&lt;/code&gt;:
 * &lt;/p&gt;
 *
 * &lt;pre class=&quot;stHighlight&quot;&gt;
 * withClue(&quot;this is a clue&quot;) {
 *   intercept[IndexOutOfBoundsException] {
 *     &quot;hi&quot;.charAt(-1)
 *   }
 * }
 * &lt;/pre&gt;
 *
 * &lt;p&gt;
 * Similarly, to get a clue in the exception resulting from an exception arising out
 * of a ScalaTest matcher expression, you need to use &lt;code&gt;withClue&lt;/code&gt;. Here's
 * an example:
 * &lt;/p&gt;
 *
 * &lt;pre class=&quot;stHighlight&quot;&gt;
 * withClue(&quot;this is a clue&quot;) {
 *   1 + 1 should be === 3
 * }
 * &lt;/pre&gt;
 *
 * &lt;p&gt;
 * Exception types that mix in this trait have a &lt;code&gt;modifyMessage&lt;/code&gt; method, which
 * returns an exception identical to itself, except with the detail message option replaced with
 * the result of invoking the passed function, supplying the current detail message option
 * as the lone &lt;code&gt;String&lt;/code&gt; parameter. 
 * &lt;/p&gt;
 */</span>
<span class="keyword">trait</span> <a title="trait ModifiableMessage[T &lt;: Throwable] extends java.lang.Object" id="9788">ModifiableMessage</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Throwable" id="10474">T</a> &lt;: Throwable<span class="delimiter">]</span> <span title="java.lang.Object" class="delimiter">{</span> <span class="keyword">this</span>: Throwable =&gt;

  <span class="comment">/**
   * Returns an instance of this exception's class, identical to this exception,
   * except with the detail message option replaced with
   * the result of invoking the passed function, &lt;code&gt;fun&lt;/code&gt;, supplying the current detail message option
   * as the lone &lt;code&gt;Option[String]&lt;/code&gt; parameter. 
   *
   * &lt;p&gt;
   * Implementations of this method may either mutate this exception or return
   * a new instance with the revised detail message.
   * &lt;/p&gt;
   *
   * @param fun An object whose &lt;code&gt;toString&lt;/code&gt; method returns a message to append
   *   to this exception's detail message.
   */</span>
  <span class="keyword">def</span> <a title="(fun: Option[String] =&gt; Option[String])T" id="27454">modifyMessage</a><span class="delimiter">(</span><a title="Option[String] =&gt; Option[String]" id="28220">fun</a>: Option<span class="delimiter">[</span>String<span class="delimiter">]</span> =&gt; Option<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#10474" title="T">T</a>
<span class="delimiter">}</span>


        </pre>
    </body>
</html>