<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>org/scalatest/testng/TestNGSuiteSuite.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*
 * Copyright 2001-2008 Artima, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */</span>
<span class="keyword">package</span> org.scalatest.testng <span class="delimiter">{</span>

  <span class="keyword">import</span> org.scalatest._
  <span class="keyword">import</span> org.scalatest.TestRerunner
  <span class="keyword">import</span> org.scalatest.jmock._
  <span class="keyword">import</span> testng.testpackage._
  <span class="keyword">import</span> org.jmock.Mockery
  <span class="keyword">import</span> org.jmock.Expectations
  <span class="keyword">import</span> org.hamcrest.core.IsAnything
  <span class="keyword">import</span> org.scalatest.events._
  <span class="keyword">import</span> org.scalatest.mock.JMockCycle
  <span class="keyword">import</span> org.scalatest.mock.JMockCycleFixture
  <span class="keyword">import</span> org.scalatest.fixture.FixtureFunSuite

  <span class="keyword">class</span> <a title="class TestNGSuiteSuite extends java.lang.Object with org.scalatest.fixture.FixtureFunSuite with org.scalatest.mock.JMockCycleFixture with org.scalatest.jmock.SuiteExpectations with ScalaObject" id="14240">TestNGSuiteSuite</a> <a href="#14240" title="ScalaObject" class="keyword">extends</a> <a href="org/scalatest/fixture/FixtureFunSuite.scala.html#11015" title="org.scalatest.fixture.FixtureFunSuite">FixtureFunSuite</a> <span class="keyword">with</span> <a href="org/scalatest/mock/JMockCycleFixture.scala.html#12597" title="org.scalatest.mock.JMockCycleFixture">JMockCycleFixture</a> <span class="keyword">with</span> <a href="../jmock/SuiteExpectations.scala.html#11372" title="org.scalatest.jmock.SuiteExpectations">SuiteExpectations</a> <span class="delimiter">{</span>

    <a href="org/scalatest/fixture/FixtureFunSuite.scala.html#68333" title="(testName: String, testTags: org.scalatest.Tag*)(testFun: TestNGSuiteSuite.this.FixtureParam =&gt; Any)Unit">test</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Reporter should be notified when test passes&quot;)" class="string">&quot;Reporter should be notified when test passes&quot;</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="org.scalatest.mock.JMockCycle" id="3170183">cycle</a> =&gt; <span class="keyword">import</span> <a href="#3170183" title="org.scalatest.mock.JMockCycle">cycle</a>._

      <span class="keyword">val</span> <a title="org.scalatest.Reporter" id="3170185">reporter</a> = <a href="org/scalatest/mock/JMockCycle.scala.html#100042" title="[T &lt;: AnyRef](implicit manifest: scala.reflect.Manifest[T])T">mock</a><span title="(implicit manifest: scala.reflect.Manifest[org.scalatest.Reporter])org.scalatest.Reporter" class="delimiter">[</span><a href="org/scalatest/Reporter.scala.html#10103" title="org.scalatest.Reporter">Reporter</a><span class="delimiter">]</span>

      <a href="org/scalatest/mock/JMockCycle.scala.html#100045" title="(fun: org.scalatest.mock.JMockExpectations =&gt; Unit)Unit">expecting</a> <span class="delimiter">{</span> <a title="org.scalatest.mock.JMockExpectations" id="3170200">e</a> =&gt;
        <a href="../jmock/SuiteExpectations.scala.html#356918" title="(expectations: org.jmock.Expectations, reporter: org.scalatest.Reporter)Unit">expectSingleTestToPass</a><span class="delimiter">(</span><a href="#3170200" title="org.scalatest.mock.JMockExpectations">e</a>, <a href="#3170185" title="org.scalatest.Reporter">reporter</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <a href="org/scalatest/mock/JMockCycle.scala.html#100046" title="(fun: =&gt; Unit)Unit">whenExecuting</a> <span class="delimiter">{</span>
        <span class="delimiter">(</span><span title="org.scalatest.testng.testpackage.SuccessTestNGSuite" class="keyword">new</span> <a href="#14245" title="org.scalatest.testng.testpackage.SuccessTestNGSuite">SuccessTestNGSuite</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="org/scalatest/testng/TestNGSuite.scala.html#120055" title="(reporter: org.scalatest.Reporter, tracker: org.scalatest.Tracker)Unit">runTestNG</a><span class="delimiter">(</span><a href="#3170185" title="org.scalatest.Reporter">reporter</a>, <a href="org/scalatest/Tracker.scala.html#19407" title="()org.scalatest.Tracker" class="keyword">new</a> <a href="org/scalatest/Tracker.scala.html#9878" title="org.scalatest.Tracker">Tracker</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <a href="org/scalatest/fixture/FixtureFunSuite.scala.html#68333" title="(testName: String, testTags: org.scalatest.Tag*)(testFun: TestNGSuiteSuite.this.FixtureParam =&gt; Any)Unit">test</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Reporter should be notified when test fails&quot;)" class="string">&quot;Reporter should be notified when test fails&quot;</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="org.scalatest.mock.JMockCycle" id="3170209">cycle</a> =&gt; <span class="keyword">import</span> <a href="#3170209" title="org.scalatest.mock.JMockCycle">cycle</a>._

      <span class="keyword">val</span> <a title="org.scalatest.Reporter" id="3170211">reporter</a> = <a href="org/scalatest/mock/JMockCycle.scala.html#100042" title="[T &lt;: AnyRef](implicit manifest: scala.reflect.Manifest[T])T">mock</a><span title="(implicit manifest: scala.reflect.Manifest[org.scalatest.Reporter])org.scalatest.Reporter" class="delimiter">[</span><a href="org/scalatest/Reporter.scala.html#10103" title="org.scalatest.Reporter">Reporter</a><span class="delimiter">]</span>

      <a href="org/scalatest/mock/JMockCycle.scala.html#100045" title="(fun: org.scalatest.mock.JMockExpectations =&gt; Unit)Unit">expecting</a> <span class="delimiter">{</span> <a title="org.scalatest.mock.JMockExpectations" id="3170224">e</a> =&gt;
        <a href="../jmock/SuiteExpectations.scala.html#356919" title="(expectations: org.jmock.Expectations, reporter: org.scalatest.Reporter)Unit">expectSingleTestToFail</a><span class="delimiter">(</span><a href="#3170224" title="org.scalatest.mock.JMockExpectations">e</a>, <a href="#3170211" title="org.scalatest.Reporter">reporter</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <a href="org/scalatest/mock/JMockCycle.scala.html#100046" title="(fun: =&gt; Unit)Unit">whenExecuting</a> <span class="delimiter">{</span>
        <span class="delimiter">(</span><span title="org.scalatest.testng.testpackage.FailureTestNGSuite" class="keyword">new</span> <a href="#14244" title="org.scalatest.testng.testpackage.FailureTestNGSuite">FailureTestNGSuite</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="org/scalatest/testng/TestNGSuite.scala.html#120055" title="(reporter: org.scalatest.Reporter, tracker: org.scalatest.Tracker)Unit">runTestNG</a><span class="delimiter">(</span><a href="#3170211" title="org.scalatest.Reporter">reporter</a>, <a href="org/scalatest/Tracker.scala.html#19407" title="()org.scalatest.Tracker" class="keyword">new</a> <a href="org/scalatest/Tracker.scala.html#9878" title="org.scalatest.Tracker">Tracker</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <a href="org/scalatest/fixture/FixtureFunSuite.scala.html#68333" title="(testName: String, testTags: org.scalatest.Tag*)(testFun: TestNGSuiteSuite.this.FixtureParam =&gt; Any)Unit">test</a><span class="delimiter">(</span><span title="java.lang.String(&quot;If a test fails due to an exception, Report should have the exception&quot;)" class="string">&quot;If a test fails due to an exception, Report should have the exception&quot;</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
      
      <span class="keyword">val</span> <a title="org.scalatest.jmock.TestReporter" id="3170233">testReporter</a> = <span title="org.scalatest.jmock.TestReporter" class="keyword">new</span> <a href="../jmock/TestReporter.scala.html#11378" title="org.scalatest.jmock.TestReporter">TestReporter</a>

      <span class="comment">// when</span>
      <span class="delimiter">(</span><span title="org.scalatest.testng.testpackage.FailureTestNGSuite" class="keyword">new</span> <a href="#14244" title="org.scalatest.testng.testpackage.FailureTestNGSuite">FailureTestNGSuite</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="org/scalatest/testng/TestNGSuite.scala.html#120055" title="(reporter: org.scalatest.Reporter, tracker: org.scalatest.Tracker)Unit">runTestNG</a><span class="delimiter">(</span><a href="#3170233" title="org.scalatest.jmock.TestReporter">testReporter</a>, <a href="org/scalatest/Tracker.scala.html#19407" title="()org.scalatest.Tracker" class="keyword">new</a> <a href="org/scalatest/Tracker.scala.html#9878" title="org.scalatest.Tracker">Tracker</a><span class="delimiter">)</span>

      <span class="comment">// then</span>
      <a href="#3170233" title="org.scalatest.jmock.TestReporter">testReporter</a>.<a href="../jmock/TestReporter.scala.html#357592" title="=&gt; Option[org.scalatest.events.Event]">lastEvent</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Unit">Some</span><span class="delimiter">(</span>TestFailed<span class="delimiter">(</span>_, _, _, _, _, <a title="Option[Throwable]" id="3170239">throwable</a>, _, _, _, _, _, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <a href="org/scalatest/Assertions.scala.html#15641" title="(o: Option[String])Unit">assert</a><span class="delimiter">(</span><a href="#3170239" title="Option[Throwable]">throwable</a>.<span title="=&gt; Throwable">get</span>.<a href="org/scalatest/Assertions.scala.html#15642" title="implicit org.scalatest.Assertions.convertToEqualizer : (left: Any)TestNGSuiteSuite.this.Equalizer">getMessage</a> <a href="org/scalatest/Assertions.scala.html#19658" title="(right: Any)Option[String]">===</a> <span title="java.lang.String(&quot;fail&quot;)" class="string">&quot;fail&quot;</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Nothing">_</span> =&gt; <a href="org/scalatest/Assertions.scala.html#15648" title="()Nothing">fail</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <a href="org/scalatest/fixture/FixtureFunSuite.scala.html#68333" title="(testName: String, testTags: org.scalatest.Tag*)(testFun: TestNGSuiteSuite.this.FixtureParam =&gt; Any)Unit">test</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Report should be generated for each invocation&quot;)" class="string">&quot;Report should be generated for each invocation&quot;</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="org.scalatest.mock.JMockCycle" id="3170254">cycle</a> =&gt; <span class="keyword">import</span> <a href="#3170254" title="org.scalatest.mock.JMockCycle">cycle</a>._
      
      <span class="keyword">val</span> <a title="org.scalatest.Reporter" id="3170256">reporter</a> = <a href="org/scalatest/mock/JMockCycle.scala.html#100042" title="[T &lt;: AnyRef](implicit manifest: scala.reflect.Manifest[T])T">mock</a><span title="(implicit manifest: scala.reflect.Manifest[org.scalatest.Reporter])org.scalatest.Reporter" class="delimiter">[</span><a href="org/scalatest/Reporter.scala.html#10103" title="org.scalatest.Reporter">Reporter</a><span class="delimiter">]</span>

      <span class="comment">// expect reporter gets 10 passing reports because invocationCount = 10</span>
      <a href="org/scalatest/mock/JMockCycle.scala.html#100045" title="(fun: org.scalatest.mock.JMockExpectations =&gt; Unit)Unit">expecting</a> <span class="delimiter">{</span> <a title="org.scalatest.mock.JMockExpectations" id="3170269">e</a> =&gt;
        <a href="../jmock/SuiteExpectations.scala.html#356920" title="(expectations: org.jmock.Expectations, n: Int, reporter: org.scalatest.Reporter)Unit">expectNTestsToPass</a><span class="delimiter">(</span><a href="#3170269" title="org.scalatest.mock.JMockExpectations">e</a>, <span title="Int(10)" class="int">10</span>, <a href="#3170256" title="org.scalatest.Reporter">reporter</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="comment">// when runnning the suite with method that has invocationCount = 10&quot;)</span>
      <a href="org/scalatest/mock/JMockCycle.scala.html#100046" title="(fun: =&gt; Unit)Unit">whenExecuting</a> <span class="delimiter">{</span>
        <span class="delimiter">(</span><span title="org.scalatest.testng.testpackage.TestNGSuiteWithInvocationCount" class="keyword">new</span> <a href="#14246" title="org.scalatest.testng.testpackage.TestNGSuiteWithInvocationCount">TestNGSuiteWithInvocationCount</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="org/scalatest/testng/TestNGSuite.scala.html#120055" title="(reporter: org.scalatest.Reporter, tracker: org.scalatest.Tracker)Unit">runTestNG</a><span class="delimiter">(</span><a href="#3170256" title="org.scalatest.Reporter">reporter</a>, <a href="org/scalatest/Tracker.scala.html#19407" title="()org.scalatest.Tracker" class="keyword">new</a> <a href="org/scalatest/Tracker.scala.html#9878" title="org.scalatest.Tracker">Tracker</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <a href="org/scalatest/fixture/FixtureFunSuite.scala.html#68333" title="(testName: String, testTags: org.scalatest.Tag*)(testFun: TestNGSuiteSuite.this.FixtureParam =&gt; Any)Unit">test</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Reporter should be notified when test is skipped&quot;)" class="string">&quot;Reporter should be notified when test is skipped&quot;</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="org.scalatest.mock.JMockCycle" id="3170278">cycle</a> =&gt; <span class="keyword">import</span> <a href="#3170278" title="org.scalatest.mock.JMockCycle">cycle</a>._

      <span class="keyword">val</span> <a title="org.scalatest.Reporter" id="3170280">reporter</a> = <a href="org/scalatest/mock/JMockCycle.scala.html#100042" title="[T &lt;: AnyRef](implicit manifest: scala.reflect.Manifest[T])T">mock</a><span title="(implicit manifest: scala.reflect.Manifest[org.scalatest.Reporter])org.scalatest.Reporter" class="delimiter">[</span><a href="org/scalatest/Reporter.scala.html#10103" title="org.scalatest.Reporter">Reporter</a><span class="delimiter">]</span>

      <span class="comment">// expect a single test should fail, followed by a single test being skipped</span>
      <a href="org/scalatest/mock/JMockCycle.scala.html#100045" title="(fun: org.scalatest.mock.JMockExpectations =&gt; Unit)Unit">expecting</a> <span class="delimiter">{</span> <a title="org.scalatest.mock.JMockExpectations" id="3170293">e</a> =&gt; <span class="keyword">import</span> <a href="#3170293" title="org.scalatest.mock.JMockExpectations">e</a>._
        <a href="#3170293" title="(x$1: org.scalatest.Reporter)org.scalatest.Reporter">one</a><span class="delimiter">(</span><a href="#3170280" title="org.scalatest.Reporter">reporter</a><span class="delimiter">)</span>.<a href="org/scalatest/Reporter.scala.html#17042" title="(event: org.scalatest.events.Event)Unit">apply</a><span class="delimiter">(</span><a href="#3170293" title="(x$1: org.hamcrest.Matcher[org.scalatest.events.SuiteStarting])org.scalatest.events.SuiteStarting">`with`</a><span class="delimiter">(</span><span title="org.hamcrest.core.IsAnything[org.scalatest.events.SuiteStarting]" class="keyword">new</span> <span title="org.hamcrest.core.IsAnything[org.scalatest.events.SuiteStarting]">IsAnything</span><span class="delimiter">[</span>SuiteStarting<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#3170293" title="(x$1: org.scalatest.Reporter)org.scalatest.Reporter">one</a><span class="delimiter">(</span><a href="#3170280" title="org.scalatest.Reporter">reporter</a><span class="delimiter">)</span>.<a href="org/scalatest/Reporter.scala.html#17042" title="(event: org.scalatest.events.Event)Unit">apply</a><span class="delimiter">(</span><a href="#3170293" title="(x$1: org.hamcrest.Matcher[org.scalatest.events.TestStarting])org.scalatest.events.TestStarting">`with`</a><span class="delimiter">(</span><span title="org.hamcrest.core.IsAnything[org.scalatest.events.TestStarting]" class="keyword">new</span> <span title="org.hamcrest.core.IsAnything[org.scalatest.events.TestStarting]">IsAnything</span><span class="delimiter">[</span>TestStarting<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#3170293" title="(x$1: org.scalatest.Reporter)org.scalatest.Reporter">one</a><span class="delimiter">(</span><a href="#3170280" title="org.scalatest.Reporter">reporter</a><span class="delimiter">)</span>.<a href="org/scalatest/Reporter.scala.html#17042" title="(event: org.scalatest.events.Event)Unit">apply</a><span class="delimiter">(</span><a href="#3170293" title="(x$1: org.hamcrest.Matcher[org.scalatest.events.TestFailed])org.scalatest.events.TestFailed">`with`</a><span class="delimiter">(</span><span title="org.hamcrest.core.IsAnything[org.scalatest.events.TestFailed]" class="keyword">new</span> <span title="org.hamcrest.core.IsAnything[org.scalatest.events.TestFailed]">IsAnything</span><span class="delimiter">[</span>TestFailed<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#3170293" title="(x$1: org.scalatest.Reporter)org.scalatest.Reporter">one</a><span class="delimiter">(</span><a href="#3170280" title="org.scalatest.Reporter">reporter</a><span class="delimiter">)</span>.<a href="org/scalatest/Reporter.scala.html#17042" title="(event: org.scalatest.events.Event)Unit">apply</a><span class="delimiter">(</span><a href="#3170293" title="(x$1: org.hamcrest.Matcher[org.scalatest.events.TestIgnored])org.scalatest.events.TestIgnored">`with`</a><span class="delimiter">(</span><span title="org.hamcrest.core.IsAnything[org.scalatest.events.TestIgnored]" class="keyword">new</span> <span title="org.hamcrest.core.IsAnything[org.scalatest.events.TestIgnored]">IsAnything</span><span class="delimiter">[</span>TestIgnored<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#3170293" title="(x$1: org.scalatest.Reporter)org.scalatest.Reporter">one</a><span class="delimiter">(</span><a href="#3170280" title="org.scalatest.Reporter">reporter</a><span class="delimiter">)</span>.<a href="org/scalatest/Reporter.scala.html#17042" title="(event: org.scalatest.events.Event)Unit">apply</a><span class="delimiter">(</span><a href="#3170293" title="(x$1: org.hamcrest.Matcher[org.scalatest.events.SuiteCompleted])org.scalatest.events.SuiteCompleted">`with`</a><span class="delimiter">(</span><span title="org.hamcrest.core.IsAnything[org.scalatest.events.SuiteCompleted]" class="keyword">new</span> <span title="org.hamcrest.core.IsAnything[org.scalatest.events.SuiteCompleted]">IsAnything</span><span class="delimiter">[</span>SuiteCompleted<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="comment">// when runnning the suite with a test that should fail and a test that should be skipped</span>
      <a href="org/scalatest/mock/JMockCycle.scala.html#100046" title="(fun: =&gt; Unit)Unit">whenExecuting</a> <span class="delimiter">{</span>
        <span class="delimiter">(</span><span title="org.scalatest.testng.testpackage.SuiteWithSkippedTest" class="keyword">new</span> <a href="#14247" title="org.scalatest.testng.testpackage.SuiteWithSkippedTest">SuiteWithSkippedTest</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="org/scalatest/testng/TestNGSuite.scala.html#120055" title="(reporter: org.scalatest.Reporter, tracker: org.scalatest.Tracker)Unit">runTestNG</a><span class="delimiter">(</span><a href="#3170280" title="org.scalatest.Reporter">reporter</a>, <a href="org/scalatest/Tracker.scala.html#19407" title="()org.scalatest.Tracker" class="keyword">new</a> <a href="org/scalatest/Tracker.scala.html#9878" title="org.scalatest.Tracker">Tracker</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    
    <a href="org/scalatest/fixture/FixtureFunSuite.scala.html#68333" title="(testName: String, testTags: org.scalatest.Tag*)(testFun: TestNGSuiteSuite.this.FixtureParam =&gt; Any)Unit">test</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Only the correct method should be run when specifying a single method to run&quot;)" class="string">&quot;Only the correct method should be run when specifying a single method to run&quot;</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="org.scalatest.mock.JMockCycle" id="3170414">cycle</a> =&gt; <span class="keyword">import</span> <a href="#3170414" title="org.scalatest.mock.JMockCycle">cycle</a>._
      
      <span class="keyword">val</span> <a title="org.scalatest.Reporter" id="3170416">reporter</a> = <a href="org/scalatest/mock/JMockCycle.scala.html#100042" title="[T &lt;: AnyRef](implicit manifest: scala.reflect.Manifest[T])T">mock</a><span title="(implicit manifest: scala.reflect.Manifest[org.scalatest.Reporter])org.scalatest.Reporter" class="delimiter">[</span><a href="org/scalatest/Reporter.scala.html#10103" title="org.scalatest.Reporter">Reporter</a><span class="delimiter">]</span>

      <a href="org/scalatest/mock/JMockCycle.scala.html#100045" title="(fun: org.scalatest.mock.JMockExpectations =&gt; Unit)Unit">expecting</a> <span class="delimiter">{</span> <a title="org.scalatest.mock.JMockExpectations" id="3170429">e</a> =&gt;
        <a href="../jmock/SuiteExpectations.scala.html#356918" title="(expectations: org.jmock.Expectations, reporter: org.scalatest.Reporter)Unit">expectSingleTestToPass</a><span class="delimiter">(</span><a href="#3170429" title="org.scalatest.mock.JMockExpectations">e</a>, <a href="#3170416" title="org.scalatest.Reporter">reporter</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <a href="org/scalatest/mock/JMockCycle.scala.html#100046" title="(fun: =&gt; Unit)Unit">whenExecuting</a> <span class="delimiter">{</span>
        <span class="delimiter">(</span><span title="org.scalatest.testng.testpackage.SuiteWithTwoTests" class="keyword">new</span> <a href="#14248" title="org.scalatest.testng.testpackage.SuiteWithTwoTests">SuiteWithTwoTests</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="org/scalatest/testng/TestNGSuite.scala.html#120056" title="(testName: String, reporter: org.scalatest.Reporter, tracker: org.scalatest.Tracker)Unit">runTestNG</a><span class="delimiter">(</span><span title="java.lang.String(&quot;testThatPasses&quot;)" class="string">&quot;testThatPasses&quot;</span>, <a href="#3170416" title="org.scalatest.Reporter">reporter</a>, <a href="org/scalatest/Tracker.scala.html#19407" title="()org.scalatest.Tracker" class="keyword">new</a> <a href="org/scalatest/Tracker.scala.html#9878" title="org.scalatest.Tracker">Tracker</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <a href="org/scalatest/fixture/FixtureFunSuite.scala.html#68333" title="(testName: String, testTags: org.scalatest.Tag*)(testFun: TestNGSuiteSuite.this.FixtureParam =&gt; Any)Unit">test</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Report for failing tests should include rerunner&quot;)" class="string">&quot;Report for failing tests should include rerunner&quot;</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
      
      <span class="keyword">val</span> <a title="org.scalatest.jmock.TestReporter" id="3170439">testReporter</a> = <span title="org.scalatest.jmock.TestReporter" class="keyword">new</span> <a href="../jmock/TestReporter.scala.html#11378" title="org.scalatest.jmock.TestReporter">TestReporter</a>

      <span class="comment">// when - run the failing suite</span>
      <span title="org.scalatest.testng.testpackage.FailureTestNGSuite" class="keyword">new</span> <a href="#14244" title="org.scalatest.testng.testpackage.FailureTestNGSuite">FailureTestNGSuite</a><span class="delimiter">(</span><span class="delimiter">)</span>.<a href="org/scalatest/testng/TestNGSuite.scala.html#120055" title="(reporter: org.scalatest.Reporter, tracker: org.scalatest.Tracker)Unit">runTestNG</a><span class="delimiter">(</span><a href="#3170439" title="org.scalatest.jmock.TestReporter">testReporter</a>, <a href="org/scalatest/Tracker.scala.html#19407" title="()org.scalatest.Tracker" class="keyword">new</a> <a href="org/scalatest/Tracker.scala.html#9878" title="org.scalatest.Tracker">Tracker</a><span class="delimiter">)</span>

      <span class="comment">// then get rerunnable from the event </span>
      <a href="#3170439" title="org.scalatest.jmock.TestReporter">testReporter</a>.<a href="../jmock/TestReporter.scala.html#357592" title="=&gt; Option[org.scalatest.events.Event]">lastEvent</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Unit">Some</span><span class="delimiter">(</span>TestFailed<span class="delimiter">(</span>_, _, _, _, _, _, _, _, <a title="Option[org.scalatest.Rerunner]" id="3170445">rerunnable</a>, _, _, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <a href="org/scalatest/Assertions.scala.html#15637" title="(condition: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#3170445" title="Option[org.scalatest.Rerunner]">rerunnable</a>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Nothing">_</span> =&gt; <a href="org/scalatest/Assertions.scala.html#15648" title="()Nothing">fail</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <a href="org/scalatest/fixture/FixtureFunSuite.scala.html#68333" title="(testName: String, testTags: org.scalatest.Tag*)(testFun: TestNGSuiteSuite.this.FixtureParam =&gt; Any)Unit">test</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Report for passing tests should include rerunner&quot;)" class="string">&quot;Report for passing tests should include rerunner&quot;</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
      
      <span class="keyword">val</span> <a title="org.scalatest.jmock.TestReporter" id="3170458">testReporter</a> = <span title="org.scalatest.jmock.TestReporter" class="keyword">new</span> <a href="../jmock/TestReporter.scala.html#11378" title="org.scalatest.jmock.TestReporter">TestReporter</a>

      <span class="comment">// when - run the passing suite</span>
      <span title="org.scalatest.testng.testpackage.SuccessTestNGSuite" class="keyword">new</span> <a href="#14245" title="org.scalatest.testng.testpackage.SuccessTestNGSuite">SuccessTestNGSuite</a><span class="delimiter">(</span><span class="delimiter">)</span>.<a href="org/scalatest/testng/TestNGSuite.scala.html#120055" title="(reporter: org.scalatest.Reporter, tracker: org.scalatest.Tracker)Unit">runTestNG</a><span class="delimiter">(</span><a href="#3170458" title="org.scalatest.jmock.TestReporter">testReporter</a>, <a href="org/scalatest/Tracker.scala.html#19407" title="()org.scalatest.Tracker" class="keyword">new</a> <a href="org/scalatest/Tracker.scala.html#9878" title="org.scalatest.Tracker">Tracker</a><span class="delimiter">)</span>

      <span class="comment">// then get rerunnable from report </span>
      <span class="keyword">val</span> <a title="org.scalatest.TestRerunner" id="3170459">rerunner</a> = <a href="#3170458" title="org.scalatest.jmock.TestReporter">testReporter</a>.<a href="../jmock/TestReporter.scala.html#357592" title="=&gt; Option[org.scalatest.events.Event]">lastEvent</a>.<span title="=&gt; org.scalatest.events.Event">get</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.scalatest.events.TestSucceeded" class="delimiter">[</span><a href="org/scalatest/events/Event.scala.html#55155" title="org.scalatest.events.TestSucceeded">TestSucceeded</a><span class="delimiter">]</span>.<a href="org/scalatest/events/Event.scala.html#55165" title="=&gt; Option[org.scalatest.Rerunner]">rerunner</a>.<span title="=&gt; org.scalatest.Rerunner">get</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.scalatest.TestRerunner" class="delimiter">[</span><a href="org/scalatest/TestRerunner.scala.html#10037" title="org.scalatest.TestRerunner">TestRerunner</a><span class="delimiter">]</span>;
      <span class="comment">// TODO we need a better assertion here</span>
    <span class="delimiter">}</span>
    
    
    <a href="org/scalatest/fixture/FixtureFunSuite.scala.html#68333" title="(testName: String, testTags: org.scalatest.Tag*)(testFun: TestNGSuiteSuite.this.FixtureParam =&gt; Any)Unit">test</a><span class="delimiter">(</span><span title="java.lang.String(&quot;infoProvided should be available for BeforeMethod/Class/Suite annotations&quot;)" class="string">&quot;infoProvided should be available for BeforeMethod/Class/Suite annotations&quot;</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
      <span class="comment">// this needs to be written after i figure out the mock integration</span>
    <span class="delimiter">}</span>     
    
    <a href="org/scalatest/fixture/FixtureFunSuite.scala.html#68333" title="(testName: String, testTags: org.scalatest.Tag*)(testFun: TestNGSuiteSuite.this.FixtureParam =&gt; Any)Unit">test</a><span class="delimiter">(</span><span title="java.lang.String(&quot;infoProvided should be available for AfterMethod/Class/Suite annotations&quot;)" class="string">&quot;infoProvided should be available for AfterMethod/Class/Suite annotations&quot;</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
      <span class="comment">// this needs to be written after i figure out the mock integration</span>
    <span class="delimiter">}</span>     
  <span class="delimiter">}</span>

  <span class="keyword">package</span> testpackage <span class="delimiter">{</span>
    
    <span class="keyword">import</span> org.testng.annotations._
    
    <span class="keyword">class</span> <a title="class FailureTestNGSuite extends java.lang.Object with org.scalatest.testng.TestNGSuite with ScalaObject" id="14244">FailureTestNGSuite</a> <a href="#14244" title="ScalaObject" class="keyword">extends</a> <a href="org/scalatest/testng/TestNGSuite.scala.html#13942" title="org.scalatest.testng.TestNGSuite">TestNGSuite</a> <span class="delimiter">{</span>
      @Test <span class="keyword">def</span> <a title="()Unit" id="3170226">testThatFails</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String)java.lang.Exception" class="keyword">new</span> <span title="java.lang.Exception">Exception</span><span class="delimiter">(</span><span title="java.lang.String(&quot;fail&quot;)" class="string">&quot;fail&quot;</span><span class="delimiter">)</span> <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    
    <span class="keyword">class</span> <a title="class SuccessTestNGSuite extends java.lang.Object with org.scalatest.testng.TestNGSuite with ScalaObject" id="14245">SuccessTestNGSuite</a> <a href="#14245" title="ScalaObject" class="keyword">extends</a> <a href="org/scalatest/testng/TestNGSuite.scala.html#13942" title="org.scalatest.testng.TestNGSuite">TestNGSuite</a> <span class="delimiter">{</span>
      @Test <span class="keyword">def</span> <a title="()Unit" id="3170202">testThatPasses</a><span class="delimiter">(</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">{</span><span class="delimiter">}</span>
    <span class="delimiter">}</span>
    
    <span class="keyword">class</span> <a title="class TestNGSuiteWithInvocationCount extends java.lang.Object with org.scalatest.testng.TestNGSuite with ScalaObject" id="14246">TestNGSuiteWithInvocationCount</a> <a href="#14246" title="ScalaObject" class="keyword">extends</a> <a href="org/scalatest/testng/TestNGSuite.scala.html#13942" title="org.scalatest.testng.TestNGSuite">TestNGSuite</a> <span class="delimiter">{</span>
      @Test<span class="delimiter">(</span>invocationCount = <span class="int">10</span><span class="delimiter">)</span> <span class="keyword">def</span> <a title="()Unit" id="3170271">testThatPassesTenTimes</a><span class="delimiter">(</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">{</span><span class="delimiter">}</span>
    <span class="delimiter">}</span>
    
    <span class="keyword">class</span> <a title="class SuiteWithSkippedTest extends java.lang.Object with org.scalatest.testng.TestNGSuite with ScalaObject" id="14247">SuiteWithSkippedTest</a> <a href="#14247" title="ScalaObject" class="keyword">extends</a> <a href="org/scalatest/testng/TestNGSuite.scala.html#13942" title="org.scalatest.testng.TestNGSuite">TestNGSuite</a> <span class="delimiter">{</span>
      @Test<span class="delimiter">(</span>groups = Array<span class="delimiter">(</span><span class="string">&quot;run&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">def</span> <a title="()Unit" id="3170406">dependeeThatFails</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String)java.lang.Exception" class="keyword">new</span> <span title="java.lang.Exception">Exception</span><span class="delimiter">(</span><span title="java.lang.String(&quot;fail&quot;)" class="string">&quot;fail&quot;</span><span class="delimiter">)</span> <span class="delimiter">}</span>
      @Test<span class="delimiter">(</span>dependsOnGroups = Array<span class="delimiter">(</span><span class="string">&quot;run&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">def</span> <a title="()Unit" id="3170407">depender</a><span class="delimiter">(</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">{</span><span class="delimiter">}</span>
    <span class="delimiter">}</span> 

    <span class="keyword">class</span> <a title="class SuiteWithTwoTests extends java.lang.Object with org.scalatest.testng.TestNGSuite with ScalaObject" id="14248">SuiteWithTwoTests</a> <a href="#14248" title="ScalaObject" class="keyword">extends</a> <a href="org/scalatest/testng/TestNGSuite.scala.html#13942" title="org.scalatest.testng.TestNGSuite">TestNGSuite</a> <span class="delimiter">{</span>
      @Test <span class="keyword">def</span> <a title="()Unit" id="3170431">testThatPasses</a><span class="delimiter">(</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">{</span><span class="delimiter">}</span>
      @Test <span class="keyword">def</span> <a title="()Unit" id="3170432">anotherTestThatPasses</a><span class="delimiter">(</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">{</span><span class="delimiter">}</span>
    <span class="delimiter">}</span>      
    
    <span class="keyword">class</span> <a title="class SuiteWithBeforeAndAfterAnnotations extends java.lang.Object with org.scalatest.testng.TestNGSuite with ScalaObject" id="14249">SuiteWithBeforeAndAfterAnnotations</a> <a href="#14249" title="ScalaObject" class="keyword">extends</a> <a href="org/scalatest/testng/TestNGSuite.scala.html#13942" title="org.scalatest.testng.TestNGSuite">TestNGSuite</a> <span class="delimiter">{</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>



        </pre>
    </body>
</html>