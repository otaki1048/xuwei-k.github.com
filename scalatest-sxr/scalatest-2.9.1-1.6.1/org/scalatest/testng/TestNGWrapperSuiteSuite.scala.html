<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>org/scalatest/testng/TestNGWrapperSuiteSuite.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*
 * Copyright 2001-2008 Artima, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */</span>
<span class="keyword">import</span> org.scalatest._
<span class="keyword">import</span> org.scalatest.testng._
<span class="keyword">import</span> org.scalatest.jmock._
<span class="keyword">import</span> java.io.File
<span class="keyword">import</span> org.apache.commons.io.FileUtils
<span class="keyword">import</span> org.jmock.Mockery
<span class="keyword">import</span> org.jmock.Expectations
<span class="keyword">import</span> org.scalatest.events.Ordinal

<span class="keyword">package</span> org.scalatest.testng <span class="delimiter">{</span>

  <span class="keyword">class</span> <a title="class TestNGWrapperSuiteSuite extends java.lang.Object with org.scalatest.FunSuite with org.scalatest.jmock.SuiteExpectations with ScalaObject" id="14261">TestNGWrapperSuiteSuite</a> <a href="#14261" title="ScalaObject" class="keyword">extends</a> <a href="org/scalatest/FunSuite.scala.html#9737" title="org.scalatest.FunSuite">FunSuite</a> <span class="keyword">with</span> <a href="../jmock/SuiteExpectations.scala.html#11372" title="org.scalatest.jmock.SuiteExpectations">SuiteExpectations</a> <span class="delimiter">{</span>
  
    <span class="keyword">val</span> <a title="java.lang.String" id="3170586">XML_SUITES_PROPERTY</a> = <span title="java.lang.String(&quot;xml_suites&quot;)" class="string">&quot;xml_suites&quot;</span>
      
    <span class="keyword">val</span> <a title="scala.xml.Elem" id="3170588">legacySuiteXml</a> = 
      &lt;<a title="scala.xml.MetaData" id="3171632">suite</a> name=<span title="scala.xml.Text" class="string">&quot;Simple Suite&quot;</span>&gt;
        &lt;<a title="scala.xml.MetaData" id="3171813">test</a> verbose=<span title="scala.xml.Text" class="string">&quot;10&quot;</span> name=<span title="scala.xml.Text" class="string">&quot;org.scalatest.testng.test&quot;</span> annotations=<span title="scala.xml.Text" class="string">&quot;JDK&quot;</span>&gt;
          &lt;<a title="scala.xml.Elem" id="3171814">classes</a>&gt;
            &lt;<a title="scala.xml.MetaData" id="3171815" class="keyword">class</a> name=<span title="scala.xml.Text" class="string">&quot;org.scalatest.testng.testpackage.LegacySuite&quot;</span>/&gt;
          &lt;/classes&gt;
        &lt;/test&gt;
      &lt;/suite&gt;
      
    <a href="org/scalatest/FunSuite.scala.html#43636" title="(testName: String, testTags: org.scalatest.Tag*)(testFun: =&gt; Unit)Unit">test</a><span class="delimiter">(</span><span title="java.lang.String(&quot;wrapper suite properly notifies reporter when tests start, and pass&quot;)" class="string">&quot;wrapper suite properly notifies reporter when tests start, and pass&quot;</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    
      <span class="keyword">val</span> <a title="String" id="3171879">xmlSuiteFile</a> = <a href="#14261" title="TestNGWrapperSuiteSuite.this.type" class="keyword">this</a>.<a href="#3170592" title="(suiteNode: scala.xml.Elem)String">createSuite</a><span class="delimiter">(</span> <a href="#3170588" title="=&gt; scala.xml.Elem">legacySuiteXml</a> <span class="delimiter">)</span>
          
      <span class="keyword">val</span> <a title="org.jmock.Mockery" id="3171880">context</a> = <span title="org.jmock.Mockery" class="keyword">new</span> <span title="org.jmock.Mockery">Mockery</span>
      <span class="keyword">val</span> <a title="org.scalatest.Reporter" id="3171881">reporter</a> = <a href="#3171880" title="org.jmock.Mockery">context</a>.<span title="(x$1: java.lang.Class[org.scalatest.Reporter])org.scalatest.Reporter">mock</span><span class="delimiter">(</span>classOf<span title="java.lang.Class[org.scalatest.Reporter](classOf[org.scalatest.Reporter])" class="delimiter">[</span>Reporter<span class="delimiter">]</span><span class="delimiter">)</span>

      <a href="#3171880" title="org.jmock.Mockery">context</a>.<span title="(x$1: org.jmock.internal.ExpectationBuilder)Unit">checking</span><span class="delimiter">(</span>
        <a href="#3171941" title="org.jmock.Expectations" class="keyword">new</a> <a title="anonymous class $anon extends org.jmock.Expectations" id="3171941">Expectations</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../jmock/SuiteExpectations.scala.html#356918" title="(expectations: org.jmock.Expectations, reporter: org.scalatest.Reporter)Unit">expectSingleTestToPass</a><span class="delimiter">(</span><a href="#3171941" title="org.jmock.Expectations" class="keyword">this</a>, <a href="#3171881" title="org.scalatest.Reporter">reporter</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">)</span>
      
      <span class="delimiter">(</span><span title="org.scalatest.testng.TestNGWrapperSuite" class="keyword">new</span> <a href="org/scalatest/testng/TestNGWrapperSuite.scala.html#13939" title="org.scalatest.testng.TestNGWrapperSuite">TestNGWrapperSuite</a><span class="delimiter">(</span><span title="(xs: String*)List[String]">List</span><span class="delimiter">(</span><a href="#3171879" title="String">xmlSuiteFile</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="org/scalatest/testng/TestNGWrapperSuite.scala.html#121393" title="(reporter: org.scalatest.Reporter, tracker: org.scalatest.Tracker)Unit">runTestNG</a><span class="delimiter">(</span><a href="#3171881" title="org.scalatest.Reporter">reporter</a>, <a href="org/scalatest/Tracker.scala.html#19407" title="()org.scalatest.Tracker" class="keyword">new</a> <a href="org/scalatest/Tracker.scala.html#9878" title="org.scalatest.Tracker">Tracker</a><span class="delimiter">)</span>

      <a href="#3171880" title="org.jmock.Mockery">context</a>.<span title="()Unit">assertIsSatisfied</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">val</span> <a title="scala.xml.Elem" id="3170590">legacySuiteWithThreeTestsXml</a> = 
      &lt;<a title="scala.xml.MetaData" id="3171853">suite</a> name=<span title="scala.xml.Text" class="string">&quot;Simple Suite&quot;</span>&gt;
        &lt;<a title="scala.xml.MetaData" id="3171867">test</a> verbose=<span title="scala.xml.Text" class="string">&quot;10&quot;</span> name=<span title="scala.xml.Text" class="string">&quot;org.scalatest.testng.test&quot;</span> annotations=<span title="scala.xml.Text" class="string">&quot;JDK&quot;</span>&gt;
          &lt;<a title="scala.xml.Elem" id="3171868">classes</a>&gt;
            &lt;<a title="scala.xml.MetaData" id="3171869" class="keyword">class</a> name=<span title="scala.xml.Text" class="string">&quot;org.scalatest.testng.testpackage.LegacySuite&quot;</span>/&gt;
            &lt;<a title="scala.xml.MetaData" id="3171874" class="keyword">class</a> name=<span title="scala.xml.Text" class="string">&quot;org.scalatest.testng.testpackage.LegacySuiteWithTwoTests&quot;</span>/&gt;
          &lt;/classes&gt;
        &lt;/test&gt;
      &lt;/suite&gt;
    
    <a href="org/scalatest/FunSuite.scala.html#43636" title="(testName: String, testTags: org.scalatest.Tag*)(testFun: =&gt; Unit)Unit">test</a><span class="delimiter">(</span><span title="java.lang.String(&quot;wrapper suite should be notified for all tests&quot;)" class="string">&quot;wrapper suite should be notified for all tests&quot;</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      
      <span class="keyword">val</span> <a title="String" id="3171981">xmlSuiteFile</a> = <a href="#14261" title="TestNGWrapperSuiteSuite.this.type" class="keyword">this</a>.<a href="#3170592" title="(suiteNode: scala.xml.Elem)String">createSuite</a><span class="delimiter">(</span><a href="#3170590" title="=&gt; scala.xml.Elem">legacySuiteWithThreeTestsXml</a><span class="delimiter">)</span>
          
      <span class="keyword">val</span> <a title="org.jmock.Mockery" id="3171982">context</a> = <span title="org.jmock.Mockery" class="keyword">new</span> <span title="org.jmock.Mockery">Mockery</span>
      <span class="keyword">val</span> <a title="org.scalatest.Reporter" id="3171983">reporter</a> = <a href="#3171982" title="org.jmock.Mockery">context</a>.<span title="(x$1: java.lang.Class[org.scalatest.Reporter])org.scalatest.Reporter">mock</span><span class="delimiter">(</span>classOf<span title="java.lang.Class[org.scalatest.Reporter](classOf[org.scalatest.Reporter])" class="delimiter">[</span>Reporter<span class="delimiter">]</span><span class="delimiter">)</span>

      <a href="#3171982" title="org.jmock.Mockery">context</a>.<span title="(x$1: org.jmock.internal.ExpectationBuilder)Unit">checking</span><span class="delimiter">(</span>
        <a href="#3171994" title="org.jmock.Expectations" class="keyword">new</a> <a title="anonymous class $anon extends org.jmock.Expectations" id="3171994">Expectations</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../jmock/SuiteExpectations.scala.html#356920" title="(expectations: org.jmock.Expectations, n: Int, reporter: org.scalatest.Reporter)Unit">expectNTestsToPass</a><span class="delimiter">(</span><a href="#3171994" title="org.jmock.Expectations" class="keyword">this</a>, <span title="Int(3)" class="int">3</span>, <a href="#3171983" title="org.scalatest.Reporter">reporter</a><span class="delimiter">)</span> 
        <span class="delimiter">}</span>
      <span class="delimiter">)</span>
      
      <span class="delimiter">(</span><span title="org.scalatest.testng.TestNGWrapperSuite" class="keyword">new</span> <a href="org/scalatest/testng/TestNGWrapperSuite.scala.html#13939" title="org.scalatest.testng.TestNGWrapperSuite">TestNGWrapperSuite</a><span class="delimiter">(</span><span title="(xs: String*)List[String]">List</span><span class="delimiter">(</span><a href="#3171981" title="String">xmlSuiteFile</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="org/scalatest/testng/TestNGWrapperSuite.scala.html#121393" title="(reporter: org.scalatest.Reporter, tracker: org.scalatest.Tracker)Unit">runTestNG</a><span class="delimiter">(</span><a href="#3171983" title="org.scalatest.Reporter">reporter</a>, <a href="org/scalatest/Tracker.scala.html#19407" title="()org.scalatest.Tracker" class="keyword">new</a> <a href="org/scalatest/Tracker.scala.html#9878" title="org.scalatest.Tracker">Tracker</a><span class="delimiter">)</span>

      <a href="#3171982" title="org.jmock.Mockery">context</a>.<span title="()Unit">assertIsSatisfied</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    
    <span class="keyword">def</span> <a title="(suiteNode: scala.xml.Elem)String" id="3170592">createSuite</a><span class="delimiter">(</span><a title="scala.xml.Elem" id="3171882">suiteNode</a>: scala.xml.<span title="scala.xml.Elem">Elem</span><span class="delimiter">)</span> : <span title="String">String</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="java.io.File" id="3172011">tmp</a> = <span title="object java.io.File">File</span>.<span title="(x$1: java.lang.String, x$2: java.lang.String)java.io.File">createTempFile</span><span class="delimiter">(</span><span title="java.lang.String(&quot;testng&quot;)" class="string">&quot;testng&quot;</span>, <span title="java.lang.String(&quot;wrapper&quot;)" class="string">&quot;wrapper&quot;</span><span class="delimiter">)</span>
      <span title="object org.apache.commons.io.FileUtils">FileUtils</span>.<span title="(x$1: java.io.File, x$2: java.lang.String)Unit">writeStringToFile</span><span class="delimiter">(</span><a href="#3172011" title="java.io.File">tmp</a>, <a href="#3171882" title="scala.xml.Elem">suiteNode</a>.<span title="()String">toString</span><span class="delimiter">)</span>
      <a href="#3172011" title="java.io.File">tmp</a>.<span title="()java.lang.String">getAbsolutePath</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">package</span> testpackage <span class="delimiter">{</span>
    <span class="keyword">import</span> org.testng.annotations._
  
    <span class="keyword">class</span> <a title="class LegacySuite extends java.lang.Object with org.scalatest.testng.TestNGSuite with ScalaObject" id="14263">LegacySuite</a> <a href="#14263" title="ScalaObject" class="keyword">extends</a> <a href="org/scalatest/testng/TestNGSuite.scala.html#13942" title="org.scalatest.testng.TestNGSuite">TestNGSuite</a> <span class="delimiter">{</span>
      @Test <span class="keyword">def</span> <a title="()Unit" id="3172322">legacyTestThatPasses</a><span class="delimiter">(</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">{</span><span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">class</span> <a title="class LegacySuiteWithTwoTests extends java.lang.Object with org.scalatest.testng.TestNGSuite with ScalaObject" id="14264">LegacySuiteWithTwoTests</a> <a href="#14264" title="ScalaObject" class="keyword">extends</a> <a href="org/scalatest/testng/TestNGSuite.scala.html#13942" title="org.scalatest.testng.TestNGSuite">TestNGSuite</a> <span class="delimiter">{</span>
      @Test <span class="keyword">def</span> <a title="()Unit" id="3172326">anotherLegacyTestThatPasses</a><span class="delimiter">(</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">{</span><span class="delimiter">}</span>
      @Test <span class="keyword">def</span> <a title="()Unit" id="3172327">anotherLegacyTestThatPasses2</a><span class="delimiter">(</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">{</span><span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>