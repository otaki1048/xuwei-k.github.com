<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>play-test/play/api/test/Helpers.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> play.api.test

<span class="keyword">import</span> play.api._
<span class="keyword">import</span> play.api.mvc._
<span class="keyword">import</span> play.api.http._

<span class="keyword">import</span> play.api.libs.iteratee._

<span class="keyword">import</span> org.openqa.selenium._
<span class="keyword">import</span> org.openqa.selenium.firefox._
<span class="keyword">import</span> org.openqa.selenium.htmlunit._

<span class="comment">/**
 * Helper functions to run tests.
 */</span>
<span class="keyword">object</span> <a title="object play.api.test.Helpers" id="10708">Helpers</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../../../../play/play/api/http/StandardValues.scala.html#12544" title="play.api.http.Status">Status</a> <span class="keyword">with</span> <a href="../../../../play/play/api/http/StandardValues.scala.html#12592" title="play.api.http.HeaderNames">HeaderNames</a> <span class="delimiter">{</span>

  <span class="keyword">val</span> <a title="java.lang.String" id="68288">GET</a> = <span title="java.lang.String(&quot;GET&quot;)" class="string">&quot;GET&quot;</span>
  <span class="keyword">val</span> <a title="java.lang.String" id="68290">POST</a> = <span title="java.lang.String(&quot;POST&quot;)" class="string">&quot;POST&quot;</span>
  <span class="keyword">val</span> <a title="java.lang.String" id="68292">PUT</a> = <span title="java.lang.String(&quot;PUT&quot;)" class="string">&quot;PUT&quot;</span>
  <span class="keyword">val</span> <a title="java.lang.String" id="68294">DELETE</a> = <span title="java.lang.String(&quot;DELETE&quot;)" class="string">&quot;DELETE&quot;</span>
  <span class="keyword">val</span> <a title="java.lang.String" id="68296">HEAD</a> = <span title="java.lang.String(&quot;HEAD&quot;)" class="string">&quot;HEAD&quot;</span>

  <span class="keyword">val</span> <a title="java.lang.Class[org.openqa.selenium.htmlunit.HtmlUnitDriver]" id="68298">HTMLUNIT</a> = classOf<span title="java.lang.Class[org.openqa.selenium.htmlunit.HtmlUnitDriver](classOf[org.openqa.selenium.htmlunit.HtmlUnitDriver])" class="delimiter">[</span>HtmlUnitDriver<span class="delimiter">]</span>
  <span class="keyword">val</span> <a title="java.lang.Class[org.openqa.selenium.firefox.FirefoxDriver]" id="68300">FIREFOX</a> = classOf<span title="java.lang.Class[org.openqa.selenium.firefox.FirefoxDriver](classOf[org.openqa.selenium.firefox.FirefoxDriver])" class="delimiter">[</span>FirefoxDriver<span class="delimiter">]</span>

  <span class="comment">/**
   * Executes a block of code in a running application.
   */</span>
  <span class="keyword">def</span> <a title="[T](fakeApp: play.api.test.FakeApplication)(block: =&gt; T)T" id="68302">running</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="68304">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.test.FakeApplication" id="70650">fakeApp</a>: <a href="Fakes.scala.html#10668" title="play.api.test.FakeApplication">FakeApplication</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; T" id="70651">block</a>: =&gt; T<span class="delimiter">)</span>: <a href="#68304" title="T">T</a> = <span class="delimiter">{</span>
    <span class="keyword">try</span> <span class="delimiter">{</span>
      <a href="../../../../play/play/api/Play.scala.html#10578" title="object play.api.Play">Play</a>.<a href="../../../../play/play/api/Play.scala.html#70661" title="(app: play.api.Application)Unit">start</a><span class="delimiter">(</span><a href="#70650" title="play.api.test.FakeApplication">fakeApp</a><span class="delimiter">)</span>
      <a href="#70651" title="=&gt; T">block</a>
    <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
      <a href="../../../../play/play/api/Play.scala.html#10578" title="object play.api.Play">Play</a>.<a href="../../../../play/play/api/Play.scala.html#70662" title="()Unit">stop</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Executes a block of code in a running server.
   */</span>
  <span class="keyword">def</span> <a title="[T](testServer: play.api.test.TestServer)(block: =&gt; T)T" id="68305">running</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="68307">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.test.TestServer" id="70679">testServer</a>: <a href="Selenium.scala.html#10677" title="play.api.test.TestServer">TestServer</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; T" id="70680">block</a>: =&gt; T<span class="delimiter">)</span>: <a href="#68307" title="T">T</a> = <span class="delimiter">{</span>
    <span class="keyword">try</span> <span class="delimiter">{</span>
      <a href="#70679" title="play.api.test.TestServer">testServer</a>.<a href="Selenium.scala.html#70693" title="()Unit">start</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#70680" title="=&gt; T">block</a>
    <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
      <a href="#70679" title="play.api.test.TestServer">testServer</a>.<a href="Selenium.scala.html#70694" title="()Unit">stop</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Executes a block of code in a running server, with a test browser.
   */</span>
  <span class="keyword">def</span> <a title="[T, WEBDRIVER &lt;: org.openqa.selenium.WebDriver](testServer: play.api.test.TestServer, webDriver: Class[WEBDRIVER])(block: play.api.test.TestBrowser =&gt; T)T" id="68308">running</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="68311">T</a>, <a title="&gt;: Nothing &lt;: org.openqa.selenium.WebDriver" id="68312">WEBDRIVER</a> &lt;: WebDriver<span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.test.TestServer" id="70698">testServer</a>: <a href="Selenium.scala.html#10677" title="play.api.test.TestServer">TestServer</a>, <a title="Class[WEBDRIVER]" id="70699">webDriver</a>: <span title="Class[WEBDRIVER]">Class</span><span class="delimiter">[</span>WEBDRIVER<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="play.api.test.TestBrowser =&gt; T" id="70700">block</a>: TestBrowser =&gt; T<span class="delimiter">)</span>: <a href="#68311" title="T">T</a> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="play.api.test.TestBrowser" id="70705">browser</a>: <a href="Selenium.scala.html#10695" title="play.api.test.TestBrowser">TestBrowser</a> = <span title="Null(null)" class="keyword">null</span>
    <span class="keyword">try</span> <span class="delimiter">{</span>
      <a href="#70698" title="play.api.test.TestServer">testServer</a>.<a href="Selenium.scala.html#70693" title="()Unit">start</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#70705" title="play.api.test.TestBrowser">browser</a> = <a href="Selenium.scala.html#10696" title="object play.api.test.TestBrowser">TestBrowser</a>.<a href="Selenium.scala.html#71074" title="(webDriver: Class[WEBDRIVER])play.api.test.TestBrowser">of</a><span class="delimiter">(</span><a href="#70699" title="Class[WEBDRIVER]">webDriver</a><span class="delimiter">)</span>
      <a href="#70700" title="(v1: play.api.test.TestBrowser)T">block</a><span class="delimiter">(</span><a href="#70705" title="play.api.test.TestBrowser">browser</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#70705" title="play.api.test.TestBrowser">browser</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#70705" title="play.api.test.TestBrowser">browser</a>.<span title="()Unit">quit</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#70698" title="play.api.test.TestServer">testServer</a>.<a href="Selenium.scala.html#70694" title="()Unit">stop</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Apply pending evolutions for the given DB.
   */</span>
  <span class="keyword">def</span> <a title="(dbName: String, path: java.io.File)Unit" id="68313">evolutionFor</a><span class="delimiter">(</span><a title="String" id="71104">dbName</a>: <span title="String">String</span>, <a title="java.io.File" id="71107">path</a>: java.io.<span title="java.io.File">File</span> = <span title="java.io.File" class="keyword">new</span> java.io.<span title="java.io.File">File</span><span class="delimiter">(</span><span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = play.api.db.evolutions.<a href="../../../../play/play/api/db/evolutions/Evolutions.scala.html#12509" title="object play.api.db.evolutions.OfflineEvolutions">OfflineEvolutions</a>.<a href="../../../../play/play/api/db/evolutions/Evolutions.scala.html#71113" title="(appPath: java.io.File, classloader: java.lang.ClassLoader, dbName: String)Unit">applyScript</a><span class="delimiter">(</span><a href="#71107" title="java.io.File">path</a>, <span class="keyword">this</span>.<span title="()java.lang.Class[_]">getClass</span>.<span title="()java.lang.ClassLoader">getClassLoader</span>, <a href="#71104" title="String">dbName</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Extracts the Content-Type of this Content value.
   */</span>
  <span class="keyword">def</span> <a title="(of: play.api.mvc.Content)String" id="68314">contentType</a><span class="delimiter">(</span><a title="play.api.mvc.Content" id="71355">of</a>: <a href="../../../../play/play/api/mvc/Content.scala.html#16486" title="play.api.mvc.Content">Content</a><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#71355" title="play.api.mvc.Content">of</a>.<a href="../../../../play/play/api/mvc/Content.scala.html#71358" title="=&gt; String">contentType</a>

  <span class="comment">/**
   * Extracts the content as String.
   */</span>
  <span class="keyword">def</span> <a title="(of: play.api.mvc.Content)String" id="68315">contentAsString</a><span class="delimiter">(</span><a title="play.api.mvc.Content" id="71359">of</a>: <a href="../../../../play/play/api/mvc/Content.scala.html#16486" title="play.api.mvc.Content">Content</a><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#71359" title="play.api.mvc.Content">of</a>.<a href="../../../../play/play/api/mvc/Content.scala.html#71357" title="=&gt; String">body</a>

  <span class="comment">/**
   * Extracts the content as bytes.
   */</span>
  <span class="keyword">def</span> <a title="(of: play.api.mvc.Content)Array[Byte]" id="68316">contentAsBytes</a><span class="delimiter">(</span><a title="play.api.mvc.Content" id="71361">of</a>: <a href="../../../../play/play/api/mvc/Content.scala.html#16486" title="play.api.mvc.Content">Content</a><span class="delimiter">)</span>: <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span> = <a href="#71361" title="play.api.mvc.Content">of</a>.<a href="../../../../play/play/api/mvc/Content.scala.html#71357" title="=&gt; String">body</a>.<span title="()Array[Byte]">getBytes</span>

  <span class="comment">/**
   * Extracts the Content-Type of this Result value.
   */</span>
  <span class="keyword">def</span> <a title="(of: play.api.mvc.Result)Option[String]" id="68317">contentType</a><span class="delimiter">(</span><a title="play.api.mvc.Result" id="71436">of</a>: <a href="../../../../play/play/api/mvc/Results.scala.html#15655" title="play.api.mvc.Result">Result</a><span class="delimiter">)</span>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="#68325" title="(header: String, of: play.api.mvc.Result)Option[String]">header</a><span class="delimiter">(</span><a href="../../../../play/play/api/http/StandardValues.scala.html#68380" title="=&gt; java.lang.String">CONTENT_TYPE</a>, <a href="#71436" title="play.api.mvc.Result">of</a><span class="delimiter">)</span>.<span title="(f: String =&gt; java.lang.String)Option[java.lang.String]">map</span><span class="delimiter">(</span><a href="#71447" title="String">_</a>.<span title="(x$1: java.lang.String)Array[java.lang.String]">split</span><span title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]" class="delimiter">(</span><span title="java.lang.String(&quot;;&quot;)" class="string">&quot;;&quot;</span><span class="delimiter">)</span>.<span title="(n: Int)Array[java.lang.String]">take</span><span title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]" class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="=&gt; String">mkString</span>.<span title="()java.lang.String">trim</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Extracts the Charset of this Result value.
   */</span>
  <span class="keyword">def</span> <a title="(of: play.api.mvc.Result)Option[String]" id="68318">charset</a><span class="delimiter">(</span><a title="play.api.mvc.Result" id="71693">of</a>: <a href="../../../../play/play/api/mvc/Results.scala.html#15655" title="play.api.mvc.Result">Result</a><span class="delimiter">)</span>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="#68325" title="(header: String, of: play.api.mvc.Result)Option[String]">header</a><span class="delimiter">(</span><a href="../../../../play/play/api/http/StandardValues.scala.html#68380" title="=&gt; java.lang.String">CONTENT_TYPE</a>, <a href="#71693" title="play.api.mvc.Result">of</a><span class="delimiter">)</span>.<span title="(f: String =&gt; java.lang.String)Option[java.lang.String]">map</span><span class="delimiter">(</span><a href="#71698" title="String">_</a>.<span title="(x$1: java.lang.String)Array[java.lang.String]">split</span><span title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]" class="delimiter">(</span><span title="java.lang.String(&quot;; charset=&quot;)" class="string">&quot;; charset=&quot;</span><span class="delimiter">)</span>.<span title="(n: Int)Array[java.lang.String]">drop</span><span title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]" class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="=&gt; String">mkString</span>.<span title="()java.lang.String">trim</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Extracts the content as String.
   */</span>
  <span class="keyword">def</span> <a title="(of: play.api.mvc.Result)String" id="68319">contentAsString</a><span class="delimiter">(</span><a title="play.api.mvc.Result" id="71941">of</a>: <a href="../../../../play/play/api/mvc/Results.scala.html#15655" title="play.api.mvc.Result">Result</a><span class="delimiter">)</span>: <span title="String">String</span> = <span title="(x$1: Array[Byte], x$2: java.lang.String)java.lang.String" class="keyword">new</span> <span title="java.lang.String">String</span><span class="delimiter">(</span><a href="#68320" title="(of: play.api.mvc.Result)Array[Byte]">contentAsBytes</a><span class="delimiter">(</span><a href="#71941" title="play.api.mvc.Result">of</a><span class="delimiter">)</span>, <a href="#68318" title="(of: play.api.mvc.Result)Option[String]">charset</a><span class="delimiter">(</span><a href="#71941" title="play.api.mvc.Result">of</a><span class="delimiter">)</span>.<span title="(default: =&gt; String)String">getOrElse</span><span class="delimiter">(</span><span title="java.lang.String(&quot;utf-8&quot;)" class="string">&quot;utf-8&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Extracts the content as bytes.
   */</span>
  <span class="keyword">def</span> <a title="(of: play.api.mvc.Result)Array[Byte]" id="68320">contentAsBytes</a><span class="delimiter">(</span><a title="play.api.mvc.Result" id="72562">of</a>: <a href="../../../../play/play/api/mvc/Results.scala.html#15655" title="play.api.mvc.Result">Result</a><span class="delimiter">)</span>: <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span> = <a href="#72562" title="play.api.mvc.Result">of</a> <span title="Array[Byte]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a title="Array[Byte]" id="72571">r</a> @ SimpleResult<span class="delimiter">(</span>_, <a title="play.api.libs.iteratee.Enumerator[Any]" id="72674">bodyEnumerator</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="play.api.libs.iteratee.Iteratee[r.BODY_CONTENT,Array[Byte]]" id="72675">readAsBytes</a> = <a href="../../../../play/play/api/libs/iteratee/Iteratee.scala.html#13872" title="object play.api.libs.iteratee.Enumeratee">Enumeratee</a>.<a href="../../../../play/play/api/libs/iteratee/Iteratee.scala.html#72699" title="[E]=&gt; java.lang.Object{def apply[NE](f: E =&gt; NE): play.api.libs.iteratee.Enumeratee[E,NE]}">map</a><a href="../../../../play/play/api/libs/iteratee/Iteratee.scala.html#73298" title="(f: r.BODY_CONTENT =&gt; Array[Byte])play.api.libs.iteratee.Enumeratee[r.BODY_CONTENT,Array[Byte]]" class="delimiter">[</a>r.<span title="r.BODY_CONTENT">BODY_CONTENT</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#72571" title="play.api.mvc.SimpleResult[Any]">r</a>.<a href="../../../../play/play/api/mvc/Results.scala.html#72595" title="=&gt; play.api.http.Writeable[Any]">writeable</a>.<a href="../../../../play/play/api/http/Writeable.scala.html#73307" title="(v1: Any)Array[Byte]">transform</a><span class="delimiter">(</span><a href="#73305" title="r.BODY_CONTENT">_</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../../play/play/api/libs/iteratee/Iteratee.scala.html#72743" title="(inner: play.api.libs.iteratee.Iteratee[Array[Byte],Array[Byte]])play.api.libs.iteratee.Iteratee[r.BODY_CONTENT,Array[Byte]]">transform</a><span class="delimiter">(</span><a href="../../../../play/play/api/libs/iteratee/Iteratee.scala.html#14190" title="object play.api.libs.iteratee.Iteratee">Iteratee</a>.<a href="../../../../play/play/api/libs/iteratee/Iteratee.scala.html#73342" title="[E]=&gt; java.lang.Object{def apply[B,That]()(implicit t: E =&gt; TraversableOnce[B],implicit bf: scala.collection.generic.CanBuildFrom[E,B,That]): play.api.libs.iteratee.Iteratee[E,That]}">consume</a><a href="../../../../play/play/api/libs/iteratee/Iteratee.scala.html#74586" title="()(implicit t: Array[Byte] =&gt; TraversableOnce[Byte], implicit bf: scala.collection.generic.CanBuildFrom[Array[Byte],Byte,Array[Byte]])play.api.libs.iteratee.Iteratee[Array[Byte],Array[Byte]]" class="delimiter">[</a><span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">]</span><a href="#74667" title="implicit scala.Predef.byteArrayOps : (xs: Array[Byte])scala.collection.mutable.ArrayOps[Byte]" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="../../../../play/play/api/libs/iteratee/Iteratee.scala.html#72627" title="(i: play.api.libs.iteratee.Iteratee[Any,Array[Byte]])play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[Any,Array[Byte]]]">bodyEnumerator</a><span class="delimiter">(</span><a href="#72675" title="play.api.libs.iteratee.Iteratee[r.BODY_CONTENT,Array[Byte]]">readAsBytes</a><span class="delimiter">)</span>.<a href="../../../../play/play/api/libs/concurrent/Promise.scala.html#74733" title="(f: play.api.libs.iteratee.Iteratee[Any,Array[Byte]] =&gt; play.api.libs.concurrent.Promise[Array[Byte]])play.api.libs.concurrent.Promise[Array[Byte]]">flatMap</a><span class="delimiter">(</span><a href="#76144" title="play.api.libs.iteratee.Iteratee[Any,Array[Byte]]">_</a>.<a href="../../../../play/play/api/libs/iteratee/Iteratee.scala.html#72794" title="play.api.libs.concurrent.Promise[Array[Byte]]">run</a><span class="delimiter">)</span>.<a href="../../../../play/play/api/libs/concurrent/Promise.scala.html#74726" title="=&gt; play.api.libs.concurrent.NotWaiting[Array[Byte]]">value</a>.<a href="../../../../play/play/api/libs/concurrent/Promise.scala.html#76162" title="=&gt; Array[Byte]">get</a>
    <span class="delimiter">}</span>
    <span class="keyword">case</span> <a title="Nothing" id="76227">r</a> =&gt; sys.<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Cannot extract the body content from a result of type &quot;)" class="string">&quot;Cannot extract the body content from a result of type &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#76227" title="play.api.mvc.Result">r</a>.<span title="()java.lang.Class[_]">getClass</span>.<span title="()java.lang.String">getName</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Extracts the Status code of this Result value.
   */</span>
  <span class="keyword">def</span> <a title="(of: play.api.mvc.Result)Int" id="68321">status</a><span class="delimiter">(</span><a title="play.api.mvc.Result" id="76343">of</a>: <a href="../../../../play/play/api/mvc/Results.scala.html#15655" title="play.api.mvc.Result">Result</a><span class="delimiter">)</span>: <span title="Int">Int</span> = <a href="#76343" title="play.api.mvc.Result">of</a> <span title="Int" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a href="../../../../play/play/api/mvc/Results.scala.html#76346" title="Int">Result</a><span class="delimiter">(</span><a title="Int" id="76350">status</a>, _<span class="delimiter">)</span> =&gt; <a href="#76350" title="Int">status</a>
    <span class="keyword">case</span> <a title="Nothing" id="76351">r</a> =&gt; sys.<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Cannot extract the status from a result of type &quot;)" class="string">&quot;Cannot extract the status from a result of type &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#76351" title="play.api.mvc.Result">r</a>.<span title="()java.lang.Class[_]">getClass</span>.<span title="()java.lang.String">getName</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Extracts the Cookies of this Result value.
   */</span>
  <span class="keyword">def</span> <a title="(of: play.api.mvc.Result)play.api.mvc.Cookies" id="68322">cookies</a><span class="delimiter">(</span><a title="play.api.mvc.Result" id="76354">of</a>: <a href="../../../../play/play/api/mvc/Results.scala.html#15655" title="play.api.mvc.Result">Result</a><span class="delimiter">)</span>: <a href="../../../../play/play/api/mvc/Http.scala.html#16060" title="play.api.mvc.Cookies">Cookies</a> = <a href="../../../../play/play/api/mvc/Http.scala.html#76362" title="(header: Option[String])java.lang.Object with play.api.mvc.Cookies{lazy val cookies: Map[String,play.api.mvc.Cookie]}">Cookies</a><span class="delimiter">(</span><a href="#68325" title="(header: String, of: play.api.mvc.Result)Option[String]">header</a><span class="delimiter">(</span><a href="../../../../play/play/api/http/StandardValues.scala.html#68426" title="=&gt; java.lang.String">SET_COOKIE</a>, <a href="#76354" title="play.api.mvc.Result">of</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Extracts the Flash values of this Result value.
   */</span>
  <span class="keyword">def</span> <a title="(of: play.api.mvc.Result)play.api.mvc.Flash" id="68323">flash</a><span class="delimiter">(</span><a title="play.api.mvc.Result" id="76480">of</a>: <a href="../../../../play/play/api/mvc/Results.scala.html#15655" title="play.api.mvc.Result">Result</a><span class="delimiter">)</span>: <a href="../../../../play/play/api/mvc/Http.scala.html#15715" title="play.api.mvc.Flash">Flash</a> = <a href="../../../../play/play/api/mvc/Http.scala.html#15716" title="object play.api.mvc.Flash">Flash</a>.<a href="../../../../play/play/api/mvc/Http.scala.html#76500" title="(cookie: Option[play.api.mvc.Cookie])play.api.mvc.Flash">decodeFromCookie</a><span class="delimiter">(</span><a href="#68322" title="(of: play.api.mvc.Result)play.api.mvc.Cookies">cookies</a><span class="delimiter">(</span><a href="#76480" title="play.api.mvc.Result">of</a><span class="delimiter">)</span>.<a href="../../../../play/play/api/mvc/Http.scala.html#76357" title="(name: String)Option[play.api.mvc.Cookie]">get</a><span class="delimiter">(</span><a href="../../../../play/play/api/mvc/Http.scala.html#15716" title="object play.api.mvc.Flash">Flash</a>.<a href="../../../../play/play/api/mvc/Http.scala.html#76504" title="=&gt; java.lang.String">COOKIE_NAME</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Extracts the Location header of this Result value if this Result is a Redirect.
   */</span>
  <span class="keyword">def</span> <a title="(of: play.api.mvc.Result)Option[String]" id="68324">redirectLocation</a><span class="delimiter">(</span><a title="play.api.mvc.Result" id="76514">of</a>: <a href="../../../../play/play/api/mvc/Results.scala.html#15655" title="play.api.mvc.Result">Result</a><span class="delimiter">)</span>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="#76514" title="play.api.mvc.Result">of</a> <span title="Option[String]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a href="../../../../play/play/api/mvc/Results.scala.html#76346" title="Option[String]">Result</a><span class="delimiter">(</span><a href="../../../../play/play/api/http/StandardValues.scala.html#68227" title="=&gt; Int">FOUND</a>, <a title="Map[String,String]" id="76517">headers</a><span class="delimiter">)</span> =&gt; <a href="#76517" title="Map[String,String]">headers</a>.<span title="(key: String)Option[String]">get</span><span class="delimiter">(</span><a href="../../../../play/play/api/http/StandardValues.scala.html#68408" title="=&gt; java.lang.String">LOCATION</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <a href="../../../../play/play/api/mvc/Results.scala.html#76346" title="Option[String]">Result</a><span class="delimiter">(</span><a href="../../../../play/play/api/http/StandardValues.scala.html#68229" title="=&gt; Int">SEE_OTHER</a>, <a title="Map[String,String]" id="76521">headers</a><span class="delimiter">)</span> =&gt; <a href="#76521" title="Map[String,String]">headers</a>.<span title="(key: String)Option[String]">get</span><span class="delimiter">(</span><a href="../../../../play/play/api/http/StandardValues.scala.html#68408" title="=&gt; java.lang.String">LOCATION</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <a href="../../../../play/play/api/mvc/Results.scala.html#76346" title="Option[String]">Result</a><span class="delimiter">(</span><a href="../../../../play/play/api/http/StandardValues.scala.html#68235" title="=&gt; Int">TEMPORARY_REDIRECT</a>, <a title="Map[String,String]" id="76525">headers</a><span class="delimiter">)</span> =&gt; <a href="#76525" title="Map[String,String]">headers</a>.<span title="(key: String)Option[String]">get</span><span class="delimiter">(</span><a href="../../../../play/play/api/http/StandardValues.scala.html#68408" title="=&gt; java.lang.String">LOCATION</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <a href="../../../../play/play/api/mvc/Results.scala.html#76346" title="Option[String]">Result</a><span class="delimiter">(</span><a href="../../../../play/play/api/http/StandardValues.scala.html#68225" title="=&gt; Int">MOVED_PERMANENTLY</a>, <a title="Map[String,String]" id="76529">headers</a><span class="delimiter">)</span> =&gt; <a href="#76529" title="Map[String,String]">headers</a>.<span title="(key: String)Option[String]">get</span><span class="delimiter">(</span><a href="../../../../play/play/api/http/StandardValues.scala.html#68408" title="=&gt; java.lang.String">LOCATION</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <a href="../../../../play/play/api/mvc/Results.scala.html#76346" title="None.type">Result</a><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <span title="object None">None</span>
    <span class="keyword">case</span> <a title="Nothing" id="76533">r</a> =&gt; sys.<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Cannot extract the headers from a result of type &quot;)" class="string">&quot;Cannot extract the headers from a result of type &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#76533" title="play.api.mvc.Result">r</a>.<span title="()java.lang.Class[_]">getClass</span>.<span title="()java.lang.String">getName</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Extracts an Header value of this Result value.
   */</span>
  <span class="keyword">def</span> <a title="(header: String, of: play.api.mvc.Result)Option[String]" id="68325">header</a><span class="delimiter">(</span><a title="String" id="71440">header</a>: <span title="String">String</span>, <a title="play.api.mvc.Result" id="71441">of</a>: <a href="../../../../play/play/api/mvc/Results.scala.html#15655" title="play.api.mvc.Result">Result</a><span class="delimiter">)</span>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="#68326" title="(of: play.api.mvc.Result)Map[String,String]">headers</a><span class="delimiter">(</span><a href="#71441" title="play.api.mvc.Result">of</a><span class="delimiter">)</span>.<span title="(key: String)Option[String]">get</span><span class="delimiter">(</span><a href="#71440" title="String">header</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Extracts all Headers of this Result value.
   */</span>
  <span class="keyword">def</span> <a title="(of: play.api.mvc.Result)Map[String,String]" id="68326">headers</a><span class="delimiter">(</span><a title="play.api.mvc.Result" id="76536">of</a>: <a href="../../../../play/play/api/mvc/Results.scala.html#15655" title="play.api.mvc.Result">Result</a><span class="delimiter">)</span>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span> = <a href="#76536" title="play.api.mvc.Result">of</a> <span title="Map[String,String]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a href="../../../../play/play/api/mvc/Results.scala.html#76346" title="Map[String,String]">Result</a><span class="delimiter">(</span>_, <a title="Map[String,String]" id="76557">headers</a><span class="delimiter">)</span> =&gt; <a href="#76557" title="Map[String,String]">headers</a>
    <span class="keyword">case</span> <a title="Nothing" id="76558">r</a> =&gt; sys.<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Cannot extract the headers from a result of type &quot;)" class="string">&quot;Cannot extract the headers from a result of type &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#76558" title="play.api.mvc.Result">r</a>.<span title="()java.lang.Class[_]">getClass</span>.<span title="()java.lang.String">getName</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Use the Router to determine the Action to call for this request and executes it.
   */</span>
  <span class="keyword">def</span> <a title="[T](request: play.api.test.FakeRequest[T])Option[play.api.mvc.Result]" id="68327">routeAndCall</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="68329">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.test.FakeRequest[T]" id="76561">request</a>: <a href="Fakes.scala.html#10662" title="play.api.test.FakeRequest[T]">FakeRequest</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Option[play.api.mvc.Result]">Option</span><span class="delimiter">[</span>Result<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#68330" title="(router: Class[play.core.Router.Routes], request: play.api.test.FakeRequest[T])Option[play.api.mvc.Result]">routeAndCall</a><span class="delimiter">(</span><span class="keyword">this</span>.<span title="()java.lang.Class[_]">getClass</span>.<span title="()java.lang.ClassLoader">getClassLoader</span>.<span title="(x$1: java.lang.String)java.lang.Class[_]">loadClass</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Routes&quot;)" class="string">&quot;Routes&quot;</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Class[play.core.Router.Routes]" class="delimiter">[</span><span title="Class[play.core.Router.Routes]">Class</span><span class="delimiter">[</span>play.core.Router.Routes<span class="delimiter">]</span><span class="delimiter">]</span>, <a href="#76561" title="play.api.test.FakeRequest[T]">request</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Use the Router to determine the Action to call for this request and executes it.
   */</span>
  <span class="keyword">def</span> <a title="[T, ROUTER &lt;: play.core.Router.Routes](router: Class[ROUTER], request: play.api.test.FakeRequest[T])Option[play.api.mvc.Result]" id="68330">routeAndCall</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="68333">T</a>, <a title="&gt;: Nothing &lt;: play.core.Router.Routes" id="68334">ROUTER</a> &lt;: play.core.Router.Routes<span class="delimiter">]</span><span class="delimiter">(</span><a title="Class[ROUTER]" id="76568">router</a>: <span title="Class[ROUTER]">Class</span><span class="delimiter">[</span>ROUTER<span class="delimiter">]</span>, <a title="play.api.test.FakeRequest[T]" id="76569">request</a>: <a href="Fakes.scala.html#10662" title="play.api.test.FakeRequest[T]">FakeRequest</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Option[play.api.mvc.Result]">Option</span><span class="delimiter">[</span>Result<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="play.core.Router.Routes" id="77118">routes</a> = <a href="#76568" title="Class[ROUTER]">router</a>.<span title="()java.lang.ClassLoader">getClassLoader</span>.<span title="(x$1: java.lang.String)java.lang.Class[_]">loadClass</span><span class="delimiter">(</span><a href="#76568" title="Class[ROUTER]">router</a>.<span title="()java.lang.String">getName</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>.<span title="(x$1: java.lang.String)java.lang.reflect.Field">getDeclaredField</span><span class="delimiter">(</span><span title="java.lang.String(&quot;MODULE$&quot;)" class="string">&quot;MODULE$&quot;</span><span class="delimiter">)</span>.<span title="(x$1: Any)java.lang.Object">get</span><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="play.core.Router.Routes" class="delimiter">[</span>play.core.Router.<a href="../../../../play/play/core/router/Router.scala.html#76607" title="play.core.Router.Routes">Routes</a><span class="delimiter">]</span>
    <a href="#77118" title="play.core.Router.Routes">routes</a>.<a href="../../../../play/play/core/router/Router.scala.html#76616" title="=&gt; PartialFunction[play.api.mvc.RequestHeader,play.api.mvc.Handler]">routes</a>.<span title="(v1: play.api.mvc.RequestHeader)Option[play.api.mvc.Handler]">lift</span><span class="delimiter">(</span><a href="#76569" title="play.api.test.FakeRequest[T]">request</a><span class="delimiter">)</span>.<span title="(f: play.api.mvc.Handler =&gt; play.api.mvc.Result)Option[play.api.mvc.Result]">map</span> <a href="#77239" title="play.api.mvc.Result" class="delimiter">{</a>
      <span class="keyword">case</span> <a title="play.api.mvc.Result" id="77240">action</a>: <a href="../../../../play/play/api/mvc/Action.scala.html#15772" title="play.api.mvc.Action[_]">Action</a><span class="delimiter">[</span>_<span class="delimiter">]</span> =&gt; <a href="#77240" title="play.api.mvc.Action[_]">action</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><a href="../../../../play/play/api/mvc/Action.scala.html#77245" title="(request: play.api.mvc.Request[T])play.api.mvc.Result" class="delimiter">[</a><a href="../../../../play/play/api/mvc/Action.scala.html#15772" title="play.api.mvc.Action[T]">Action</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#76569" title="play.api.test.FakeRequest[T]">request</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Block until a Promise is redeemed.
   */</span>
  <span class="keyword">def</span> <a title="[T](p: play.api.libs.concurrent.Promise[T])T" id="68335">await</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="68337">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.libs.concurrent.Promise[T]" id="77274">p</a>: play.api.libs.concurrent.<a href="../../../../play/play/api/libs/concurrent/Promise.scala.html#13155" title="play.api.libs.concurrent.Promise[T]">Promise</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#68337" title="T">T</a> = <a href="#68338" title="(p: play.api.libs.concurrent.Promise[T], timeout: Long, unit: java.util.concurrent.TimeUnit)T">await</a><span class="delimiter">(</span><a href="#77274" title="play.api.libs.concurrent.Promise[T]">p</a>, <span title="Long(5000L)" class="int">5000</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Block until a Promise is redeemed with the specified timeout.
   */</span>
  <span class="keyword">def</span> <a title="[T](p: play.api.libs.concurrent.Promise[T], timeout: Long, unit: java.util.concurrent.TimeUnit)T" id="68338">await</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="77287">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.libs.concurrent.Promise[T]" id="77281">p</a>: play.api.libs.concurrent.<a href="../../../../play/play/api/libs/concurrent/Promise.scala.html#13155" title="play.api.libs.concurrent.Promise[T]">Promise</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="Long" id="77282">timeout</a>: <span title="Long">Long</span>, <a title="java.util.concurrent.TimeUnit" id="77285">unit</a>: java.util.concurrent.<span title="java.util.concurrent.TimeUnit">TimeUnit</span> = java.util.concurrent.TimeUnit.<span title="java.util.concurrent.TimeUnit(value MILLISECONDS)">MILLISECONDS</span><span class="delimiter">)</span>: <a href="#77287" title="T">T</a> = <a href="#77281" title="play.api.libs.concurrent.Promise[T]">p</a>.<a href="../../../../play/play/api/libs/concurrent/Promise.scala.html#74728" title="(timeout: Long, unit: java.util.concurrent.TimeUnit)play.api.libs.concurrent.NotWaiting[T]">await</a><span class="delimiter">(</span><a href="#77282" title="Long">timeout</a>, <a href="#77285" title="java.util.concurrent.TimeUnit">unit</a><span class="delimiter">)</span>.<a href="../../../../play/play/api/libs/concurrent/Promise.scala.html#76162" title="=&gt; T">get</a>

  <span class="comment">/**
   * Constructs a in-memory (h2) database configuration to add to a FakeApplication.
   */</span>
  <span class="keyword">def</span> <a title="(name: String)Map[String,String]" id="68341">inMemoryDatabase</a><span class="delimiter">(</span><a title="String" id="77355">name</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;default&quot;)" class="string">&quot;default&quot;</span><span class="delimiter">)</span>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span title="(elems: (java.lang.String, java.lang.String)*)scala.collection.immutable.Map[java.lang.String,java.lang.String]">Map</span><span class="delimiter">(</span>
      <span class="delimiter">(</span><span title="java.lang.String(&quot;db.&quot;)" class="string">&quot;db.&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#77355" title="String">name</a> <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]">+</span> <span title="java.lang.String(&quot;.driver&quot;)" class="string">&quot;.driver&quot;</span><span class="delimiter">)</span> <span title="(y: java.lang.String)(java.lang.String, java.lang.String)">-&gt;</span> <span title="java.lang.String(&quot;org.h2.Driver&quot;)" class="string">&quot;org.h2.Driver&quot;</span>,
      <span class="delimiter">(</span><span title="java.lang.String(&quot;db.&quot;)" class="string">&quot;db.&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#77355" title="String">name</a> <span title="(x: java.lang.String)ArrowAssoc[java.lang.String]">+</span> <span title="java.lang.String(&quot;.url&quot;)" class="string">&quot;.url&quot;</span><span class="delimiter">)</span> <span title="(y: java.lang.String)(java.lang.String, java.lang.String)">-&gt;</span> <span class="delimiter">(</span><span title="java.lang.String(&quot;jdbc:h2:mem:play-test-&quot;)" class="string">&quot;jdbc:h2:mem:play-test-&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> scala.util.<span title="object scala.util.Random">Random</span>.<span title="()Int">nextInt</span><span class="delimiter">)</span>
    <span class="delimiter">)</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

        </pre>
    </body>
</html>