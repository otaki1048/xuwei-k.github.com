<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>play/play/api/data/Form.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> play.api.data

<span class="keyword">import</span> format._
<span class="keyword">import</span> validation._

<span class="comment">/**
 * Helper to manage HTML form description, submission and validation.
 *
 * For example, a form handling a `User` case class submission:
 * {{{
 * import play.api.data._
 * import play.api.data.format.Formats._
 *
 * val userForm = Form(
 *   mapping(
 *     &quot;name&quot; -&gt; of[String],
 *     &quot;age&quot; -&gt; of[Int],
 *     &quot;email&quot; -&gt; of[String]
 *   )(User.apply)(User.unapply)
 * )
 * }}}
 *
 * @tparam T the type managed by this form
 * @param mapping the form mapping, which describes all form fields
 * @param data the current form data, used to display the form
 * @param errors the collection of errors associated with this form
 * @param value a concrete value of type `T` if the form submission was successful
 */</span>
case <span class="keyword">class</span> <a title="class Form[T] extends java.lang.Object with ScalaObject with Product with Serializable" id="102567">Form</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="102569">T</a><span class="delimiter">]</span><a href="#102567" title="ScalaObject" class="delimiter">(</a><a title="play.api.data.Mapping[T]" id="102886">mapping</a>: <a href="#11819" title="play.api.data.Mapping[T]">Mapping</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="Map[String,String]" id="102887">data</a>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span>, <a title="Seq[play.api.data.FormError]" id="102888">errors</a>: <span title="Seq[play.api.data.FormError]">Seq</span><span class="delimiter">[</span>FormError<span class="delimiter">]</span>, <a title="Option[T]" id="102889">value</a>: <span title="Option[T]">Option</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>

  <span class="comment">/**
   * Constraints associated with this form, indexed by field name.
   */</span>
  <span class="keyword">val</span> <a title="Map[String,Seq[(String, Seq[Any])]]" id="100959">constraints</a>: <span title="Map[String,Seq[(String, Seq[Any])]]">Map</span><span class="delimiter">[</span>String, Seq<span class="delimiter">[</span><span class="delimiter">(</span>String, Seq<span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#102886" title="=&gt; play.api.data.Mapping[T]">mapping</a>.<a href="#100994" title="=&gt; Seq[play.api.data.Mapping[_]]">mappings</a>.<span title="(f: play.api.data.Mapping[_] =&gt; (String, Seq[(String, Seq[Any])]))(implicit bf: scala.collection.generic.CanBuildFrom[Seq[play.api.data.Mapping[_]],(String, Seq[(String, Seq[Any])]),Seq[(String, Seq[(String, Seq[Any])])]])Seq[(String, Seq[(String, Seq[Any])])]">map</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,(String, Seq[(String, Seq[Any])]),Seq[(String, Seq[(String, Seq[Any])])]]" class="delimiter">{</span> <a title="play.api.data.Mapping[_]" id="101033">m</a> =&gt;
    <a href="#101033" title="play.api.data.Mapping[_]">m</a>.<a href="#100993" title="(x: String)ArrowAssoc[String]">key</a> <span title="(y: Seq[(String, Seq[Any])])(String, Seq[(String, Seq[Any])])">-&gt;</span> <a href="#101033" title="play.api.data.Mapping[_]">m</a>.<a href="#100997" title="(=&gt; Seq[play.api.data.validation.Constraint[_$3]]) forSome { type _$3 }">constraints</a>.<span title="(pf: PartialFunction[play.api.data.validation.Constraint[_$3],(String, Seq[Any])])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[play.api.data.validation.Constraint[_$3]],(String, Seq[Any]),Seq[(String, Seq[Any])]])Seq[(String, Seq[Any])]">collect</span> <a href="#101068" title="(String, Seq[Any])" class="delimiter">{</a> <span class="keyword">case</span> <span title="(String, Seq[Any])">Constraint</span><span class="delimiter">(</span>Some<span class="delimiter">(</span><a title="String" id="101133">name</a><span class="delimiter">)</span>, <a title="Seq[Any]" id="101134">args</a><span class="delimiter">)</span> =&gt; <a href="#101133" title="(x: String)ArrowAssoc[String]">name</a> <span title="(y: Seq[Any])(String, Seq[Any])">-&gt;</span> <a href="#101134" title="Seq[Any]">args</a> <span class="delimiter">}</span>
  <span class="delimiter">}</span>.<span title="(p: (String, Seq[(String, Seq[Any])]) =&gt; Boolean)Seq[(String, Seq[(String, Seq[Any])])]">filterNot</span><span class="delimiter">(</span><a href="#101221" title="(String, Seq[(String, Seq[Any])])">_</a>.<span title="=&gt; Seq[(String, Seq[Any])]">_2</span>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>.<span title="(implicit ev: &lt;:&lt;[(String, Seq[(String, Seq[Any])]),(String, Seq[(String, Seq[Any])])])scala.collection.immutable.Map[String,Seq[(String, Seq[Any])]]">toMap</span>

  <span class="comment">/**
   * Formats associated to this form, indexed by field name. *
   */</span>
  <span class="keyword">val</span> <a title="Map[String,(String, Seq[Any])]" id="100961">formats</a>: <span title="Map[String,(String, Seq[Any])]">Map</span><span class="delimiter">[</span>String, <span class="delimiter">(</span>String, Seq<span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span> = <a href="#102886" title="=&gt; play.api.data.Mapping[T]">mapping</a>.<a href="#100994" title="=&gt; Seq[play.api.data.Mapping[_]]">mappings</a>.<span title="(f: play.api.data.Mapping[_] =&gt; (String, Option[(String, Seq[Any])]))(implicit bf: scala.collection.generic.CanBuildFrom[Seq[play.api.data.Mapping[_]],(String, Option[(String, Seq[Any])]),Seq[(String, Option[(String, Seq[Any])])]])Seq[(String, Option[(String, Seq[Any])])]">map</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,(String, Option[(String, Seq[Any])]),Seq[(String, Option[(String, Seq[Any])])]]" class="delimiter">{</span> <a title="play.api.data.Mapping[_]" id="101252">m</a> =&gt;
    <a href="#101252" title="play.api.data.Mapping[_]">m</a>.<a href="#100993" title="(x: String)ArrowAssoc[String]">key</a> <span title="(y: Option[(String, Seq[Any])])(String, Option[(String, Seq[Any])])">-&gt;</span> <a href="#101252" title="play.api.data.Mapping[_]">m</a>.<a href="#100995" title="=&gt; Option[(String, Seq[Any])]">format</a>
  <span class="delimiter">}</span>.<span title="(pf: PartialFunction[(String, Option[(String, Seq[Any])]),(String, (String, Seq[Any]))])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[(String, Option[(String, Seq[Any])])],(String, (String, Seq[Any])),Seq[(String, (String, Seq[Any]))]])Seq[(String, (String, Seq[Any]))]">collect</span> <a href="#101327" title="(String, (String, Seq[Any]))" class="delimiter">{</a>
    <span class="keyword">case</span> <span title="(String, (String, Seq[Any]))" class="delimiter">(</span><a title="String" id="101330">k</a>, Some<span class="delimiter">(</span><a title="(String, Seq[Any])" id="101332">f</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#101330" title="(x: String)ArrowAssoc[String]">k</a> <span title="(y: (String, Seq[Any]))(String, (String, Seq[Any]))">-&gt;</span> <a href="#101332" title="(String, Seq[Any])">f</a>
  <span class="delimiter">}</span>.<span title="(implicit ev: &lt;:&lt;[(String, (String, Seq[Any])),(String, (String, Seq[Any]))])scala.collection.immutable.Map[String,(String, Seq[Any])]">toMap</span>

  <span class="comment">/**
   * Binds data to this form, i.e. handles form submission.
   *
   * @param data the data to submit
   * @return a copy of this form, filled with the new data
   */</span>
  <span class="keyword">def</span> <a title="(data: Map[String,String])play.api.data.Form[T]" id="100963">bind</a><span class="delimiter">(</span><a title="Map[String,String]" id="101392">data</a>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#102567" title="play.api.data.Form[T]">Form</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="#102886" title="=&gt; play.api.data.Mapping[T]">mapping</a>.<a href="#100998" title="(data: Map[String,String])Either[Seq[play.api.data.FormError],T]">bind</a><span class="delimiter">(</span><a href="#101392" title="Map[String,String]">data</a><span class="delimiter">)</span>.<span title="(fa: Seq[play.api.data.FormError] =&gt; play.api.data.Form[T], fb: T =&gt; play.api.data.Form[T])play.api.data.Form[T]">fold</span><span class="delimiter">(</span>
    <a title="Seq[play.api.data.FormError]" id="101402">errors</a> =&gt; <a href="#102567" title="Form.this.type" class="keyword">this</a>.<a href="#102886" title="play.api.data.Mapping[T]" id="101449">copy</a><span class="delimiter">(</span>data = <a href="#101392" title="Map[String,String]" id="101446">data</a>, errors = <a href="#101402" title="Seq[play.api.data.FormError]" id="101447">errors</a>, value = <a title="None.type" id="101448">None</a><span class="delimiter">)</span>,
    <a title="T" id="101451">value</a> =&gt; <a href="#102567" title="Form.this.type" class="keyword">this</a>.<a href="#102886" title="play.api.data.Mapping[T]" id="101486">copy</a><span class="delimiter">(</span>data = <a href="#101392" title="Map[String,String]" id="101483">data</a>, errors = <a title="scala.collection.immutable.Nil.type" id="101484">Nil</a>, value = <span title="(x: T)Some[T]">Some</span><a title="Some[T]" id="101485" class="delimiter">(</a><a href="#101451" title="T">value</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Binds data to this form, i.e. handles form submission.
   *
   * @param data Json data to submit
   * @return a copy of this form, filled with the new data
   */</span>
  <span class="keyword">def</span> <a title="(data: play.api.libs.json.JsValue)play.api.data.Form[T]" id="100964">bind</a><span class="delimiter">(</span><a title="play.api.libs.json.JsValue" id="101489">data</a>: play.api.libs.json.<a href="../libs/json/JsValue.scala.html#14880" title="play.api.libs.json.JsValue">JsValue</a><span class="delimiter">)</span>: <a href="#102567" title="play.api.data.Form[T]">Form</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="#100963" title="(data: Map[String,String])play.api.data.Form[T]">bind</a><span class="delimiter">(</span><a href="#11667" title="object play.api.data.FormUtils">FormUtils</a>.<a href="#101503" title="String" id="101507">fromJson</a><span class="delimiter">(</span>js = <a href="#101489" title="play.api.libs.json.JsValue" id="101506">data</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Binds request data to this form, i.e. handles form submission.
   *
   * @return a copy of this form filled with the new data
   */</span>
  <span class="keyword">def</span> <a title="()(implicit request: play.api.mvc.Request[_])play.api.data.Form[T]" id="100965">bindFromRequest</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="play.api.mvc.Request[_]" id="101508">request</a>: play.api.mvc.<a href="../mvc/Http.scala.html#16009" title="play.api.mvc.Request[_]">Request</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#102567" title="play.api.data.Form[T]">Form</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.immutable.Map[String,Seq[String]]" id="101513">data</a> = <span class="delimiter">(</span><a href="#101508" title="play.api.mvc.Request[_]">request</a>.<a href="../mvc/Http.scala.html#63807" title="=&gt; Any">body</a> <span title="Map[String,Seq[String]]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Map[String,Seq[String]]" id="101514">body</a>: play.api.mvc.<a href="../mvc/ContentTypes.scala.html#15685" title="play.api.mvc.AnyContent">AnyContent</a> <span class="keyword">if</span> <a href="#101514" title="play.api.mvc.AnyContent">body</a>.<a href="../mvc/ContentTypes.scala.html#64335" title="=&gt; Option[Map[String,Seq[String]]]">asFormUrlEncoded</a>.<span title="=&gt; Boolean">isDefined</span> =&gt; <a href="#101514" title="play.api.mvc.AnyContent">body</a>.<a href="../mvc/ContentTypes.scala.html#64335" title="=&gt; Option[Map[String,Seq[String]]]">asFormUrlEncoded</a>.<span title="=&gt; Map[String,Seq[String]]">get</span>
      <span class="keyword">case</span> <a title="Map[String,Seq[String]]" id="101517">body</a>: play.api.mvc.<a href="../mvc/ContentTypes.scala.html#15685" title="play.api.mvc.AnyContent">AnyContent</a> <span class="keyword">if</span> <a href="#101517" title="play.api.mvc.AnyContent">body</a>.<a href="../mvc/ContentTypes.scala.html#64339" title="=&gt; Option[play.api.mvc.MultipartFormData[play.api.libs.Files.TemporaryFile]]">asMultipartFormData</a>.<span title="=&gt; Boolean">isDefined</span> =&gt; <a href="#101517" title="play.api.mvc.AnyContent">body</a>.<a href="../mvc/ContentTypes.scala.html#64339" title="=&gt; Option[play.api.mvc.MultipartFormData[play.api.libs.Files.TemporaryFile]]">asMultipartFormData</a>.<span title="=&gt; play.api.mvc.MultipartFormData[play.api.libs.Files.TemporaryFile]">get</span>.<a href="../mvc/ContentTypes.scala.html#64383" title="=&gt; Map[String,Seq[String]]">asFormUrlEncoded</a>
      <span class="keyword">case</span> <a title="scala.collection.immutable.Map[String,Seq[String]]" id="101532">body</a>: play.api.mvc.<a href="../mvc/ContentTypes.scala.html#15685" title="play.api.mvc.AnyContent">AnyContent</a> <span class="keyword">if</span> <a href="#101532" title="play.api.mvc.AnyContent">body</a>.<a href="../mvc/ContentTypes.scala.html#64338" title="=&gt; Option[play.api.libs.json.JsValue]">asJson</a>.<span title="=&gt; Boolean">isDefined</span> =&gt; <a href="#11667" title="object play.api.data.FormUtils">FormUtils</a>.<a href="#101503" title="String" id="101536">fromJson</a><span class="delimiter">(</span>js = <a href="#101532" title="play.api.mvc.AnyContent">body</a>.<a href="../mvc/ContentTypes.scala.html#64338" title="=&gt; Option[play.api.libs.json.JsValue]">asJson</a>.<a title="play.api.libs.json.JsValue" id="101535">get</a><span class="delimiter">)</span>.<span title="(f: String =&gt; Seq[String])scala.collection.immutable.Map[String,Seq[String]]">mapValues</span><span class="delimiter">(</span><span title="(elems: String*)Seq[String]">Seq</span><span class="delimiter">(</span><a href="#101545" title="String">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Map[String,Seq[String]]" id="101550">body</a>: <span title="Map[_,_]">Map</span><span class="delimiter">[</span>_, _<span class="delimiter">]</span> =&gt; <a href="#101550" title="Map[_,_]">body</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Map[String,Seq[String]]" class="delimiter">[</span><span title="Map[String,Seq[String]]">Map</span><span class="delimiter">[</span>String, Seq<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span>
      <span class="keyword">case</span> <a title="Map[String,Seq[String]]" id="101553">body</a>: play.api.mvc.<a href="../mvc/ContentTypes.scala.html#15529" title="play.api.mvc.MultipartFormData[_]">MultipartFormData</a><span class="delimiter">[</span>_<span class="delimiter">]</span> =&gt; <a href="#101553" title="play.api.mvc.MultipartFormData[_]">body</a>.<a href="../mvc/ContentTypes.scala.html#64383" title="=&gt; Map[String,Seq[String]]">asFormUrlEncoded</a>
      <span class="keyword">case</span> <a title="scala.collection.immutable.Map[String,Seq[String]]" id="101555">body</a>: play.api.libs.json.<a href="../libs/json/JsValue.scala.html#14880" title="play.api.libs.json.JsValue">JsValue</a> =&gt; <a href="#11667" title="object play.api.data.FormUtils">FormUtils</a>.<a href="#101503" title="String" id="101557">fromJson</a><span class="delimiter">(</span>js = <a href="#101555" title="play.api.libs.json.JsValue" id="101556">body</a><span class="delimiter">)</span>.<span title="(f: String =&gt; Seq[String])scala.collection.immutable.Map[String,Seq[String]]">mapValues</span><span class="delimiter">(</span><span title="(elems: String*)Seq[String]">Seq</span><span class="delimiter">(</span><a href="#101566" title="String">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="scala.collection.immutable.Map[String,Seq[String]]">_</span> =&gt; <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="[A, B]=&gt; scala.collection.immutable.Map[A,B]">empty</span><span title="scala.collection.immutable.Map[String,Seq[String]]" class="delimiter">[</span><span title="String">String</span>, <span title="Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">]</span>
    <span class="delimiter">}</span><span class="delimiter">)</span> <span title="(xs: scala.collection.GenTraversableOnce[(String, Seq[String])])scala.collection.immutable.Map[String,Seq[String]]">++</span> <a href="#101508" title="play.api.mvc.Request[_]">request</a>.<a href="../mvc/Http.scala.html#63784" title="=&gt; Map[String,Seq[String]]">queryString</a>
    <a href="#100963" title="(data: Map[String,String])play.api.data.Form[T]">bind</a><span class="delimiter">(</span><a href="#101513" title="scala.collection.immutable.Map[String,Seq[String]]">data</a>.<span title="(f: Seq[String] =&gt; String)scala.collection.immutable.Map[String,String]">mapValues</span><span class="delimiter">(</span><a href="#101664" title="Seq[String]">_</a>.<span title="=&gt; Option[String]">headOption</span>.<span title="(default: =&gt; String)String">getOrElse</span><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Fills this form with a existing value, used for edit forms.
   *
   * @param value an existing value of type `T`, used to fill this form
   * @return a copy of this form filled with the new data
   */</span>
  <span class="keyword">def</span> <a title="(value: T)play.api.data.Form[T]" id="100966">fill</a><span class="delimiter">(</span><a title="T" id="101671">value</a>: <a href="#102569" title="T">T</a><span class="delimiter">)</span>: <a href="#102567" title="play.api.data.Form[T]">Form</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="(Map[String,String], Seq[play.api.data.FormError])" id="101673">result</a> = <a href="#102886" title="=&gt; play.api.data.Mapping[T]">mapping</a>.<a href="#100999" title="(value: T)(Map[String,String], Seq[play.api.data.FormError])">unbind</a><span class="delimiter">(</span><a href="#101671" title="T">value</a><span class="delimiter">)</span>
    <a href="#102567" title="Form.this.type" class="keyword">this</a>.<a href="#102886" title="play.api.data.Mapping[T]" id="101705">copy</a><span class="delimiter">(</span>data = <a href="#101673" title="(Map[String,String], Seq[play.api.data.FormError])">result</a>.<a title="Map[String,String]" id="101702">_1</a>, value = <span title="(x: T)Some[T]">Some</span><a title="Some[T]" id="101703" class="delimiter">(</a><a href="#101671" title="T">value</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Fills this form with a existing value, and performs a validation.
   *
   * @param value an existing value of type `T`, used to fill this form
   * @return a copy of this form filled with the new data
   */</span>
  <span class="keyword">def</span> <a title="(value: T)play.api.data.Form[T]" id="100967">fillAndValidate</a><span class="delimiter">(</span><a title="T" id="101706">value</a>: <a href="#102569" title="T">T</a><span class="delimiter">)</span>: <a href="#102567" title="play.api.data.Form[T]">Form</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="(Map[String,String], Seq[play.api.data.FormError])" id="101708">result</a> = <a href="#102886" title="=&gt; play.api.data.Mapping[T]">mapping</a>.<a href="#100999" title="(value: T)(Map[String,String], Seq[play.api.data.FormError])">unbind</a><span class="delimiter">(</span><a href="#101706" title="T">value</a><span class="delimiter">)</span>
    <a href="#102567" title="Form.this.type" class="keyword">this</a>.<a href="#102886" title="play.api.data.Mapping[T]" id="101729">copy</a><span class="delimiter">(</span>data = <a href="#101708" title="(Map[String,String], Seq[play.api.data.FormError])">result</a>.<a title="Map[String,String]" id="101726">_1</a>, errors = <a href="#101708" title="(Map[String,String], Seq[play.api.data.FormError])">result</a>.<a title="Seq[play.api.data.FormError]" id="101727">_2</a>, value = <span title="(x: T)Some[T]">Some</span><a title="Some[T]" id="101728" class="delimiter">(</a><a href="#101706" title="T">value</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Handles form results. Either the form has errors, or the submission was a success and a
   * concrete value is available.
   *
   * For example:
   * {{{
   *   anyForm.bindFromRequest().fold(
   *      f =&gt; redisplayForm(f),
   *      t =&gt; handleValidFormSubmission(t)
   *   )
   * }}}
   *
   * @tparam R common result type
   * @param hasErrors a function to handle forms with errors
   * @param success a function to handle form submission success
   * @return a result `R`.
   */</span>
  <span class="keyword">def</span> <a title="[R](hasErrors: play.api.data.Form[T] =&gt; R, success: T =&gt; R)R" id="100968">fold</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="100970">R</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.data.Form[T] =&gt; R" id="101730">hasErrors</a>: Form<span class="delimiter">[</span>T<span class="delimiter">]</span> =&gt; R, <a title="T =&gt; R" id="101731">success</a>: T =&gt; R<span class="delimiter">)</span>: <a href="#100970" title="R">R</a> = <a href="#102889" title="=&gt; Option[T]">value</a>.<span title="(f: T =&gt; R)Option[R]">map</span><span class="delimiter">(</span><a href="#101731" title="(v1: T)R">success</a><span class="delimiter">(</span><a href="#101739" title="T">_</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(default: =&gt; R)R">getOrElse</span><span class="delimiter">(</span><a href="#101730" title="(v1: play.api.data.Form[T])R">hasErrors</a><span class="delimiter">(</span><a href="#102567" title="play.api.data.Form[T]" class="keyword">this</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Retrieves a field.
   *
   * For example:
   * {{{
   * val usernameField = userForm(&quot;username&quot;)
   * }}}
   *
   * @param key the field name
   * @return the field, returned even if the field does not exist
   */</span>
  <span class="keyword">def</span> <a title="(key: String)play.api.data.Field" id="100971">apply</a><span class="delimiter">(</span><a title="String" id="101748">key</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#107314" title="play.api.data.Field">Field</a> = <a href="#107314" title="(form: play.api.data.Form[_], name: String, constraints: Seq[(String, Seq[Any])], format: Option[(String, Seq[Any])], errors: Seq[play.api.data.FormError], value: Option[String])play.api.data.Field">Field</a><span class="delimiter">(</span>
    <a href="#102567" title="play.api.data.Form[T]" class="keyword">this</a>,
    <a href="#101748" title="String">key</a>,
    <a href="#100959" title="=&gt; Map[String,Seq[(String, Seq[Any])]]">constraints</a>.<span title="(key: String)Option[Seq[(String, Seq[Any])]]">get</span><span class="delimiter">(</span><a href="#101748" title="String">key</a><span class="delimiter">)</span>.<span title="(default: =&gt; Seq[(String, Seq[Any])])Seq[(String, Seq[Any])]">getOrElse</span><span class="delimiter">(</span><span title="object Nil">Nil</span><span class="delimiter">)</span>,
    <a href="#100961" title="=&gt; Map[String,(String, Seq[Any])]">formats</a>.<span title="(key: String)Option[(String, Seq[Any])]">get</span><span class="delimiter">(</span><a href="#101748" title="String">key</a><span class="delimiter">)</span>,
    <a href="#102888" title="=&gt; Seq[play.api.data.FormError]">errors</a>.<span title="(pf: PartialFunction[play.api.data.FormError,play.api.data.FormError])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[play.api.data.FormError],play.api.data.FormError,Seq[play.api.data.FormError]])Seq[play.api.data.FormError]">collect</span> <a href="#101868" title="play.api.data.FormError" class="delimiter">{</a> <span class="keyword">case</span> <a title="play.api.data.FormError" id="101869">e</a> <span class="keyword">if</span> <a href="#101869" title="play.api.data.FormError">e</a>.<a href="#103852" title="=&gt; String">key</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#101748" title="String">key</a> =&gt; <a href="#101869" title="play.api.data.FormError">e</a> <span class="delimiter">}</span>,
    <a href="#102887" title="=&gt; Map[String,String]">data</a>.<span title="(key: String)Option[String]">get</span><span class="delimiter">(</span><a href="#101748" title="String">key</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Retrieves the first global error, if it exists, i.e. an error without any key.
   *
   * @return an error
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Option[play.api.data.FormError]" id="100972">globalError</a>: <span title="Option[play.api.data.FormError]">Option</span><span class="delimiter">[</span>FormError<span class="delimiter">]</span> = <a href="#100973" title="=&gt; Seq[play.api.data.FormError]">globalErrors</a>.<span title="=&gt; Option[play.api.data.FormError]">headOption</span>

  <span class="comment">/**
   * Retrieves all global errors, i.e. errors without a key.
   *
   * @return all global errors
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Seq[play.api.data.FormError]" id="100973">globalErrors</a>: <span title="Seq[play.api.data.FormError]">Seq</span><span class="delimiter">[</span>FormError<span class="delimiter">]</span> = <a href="#102888" title="=&gt; Seq[play.api.data.FormError]">errors</a>.<span title="(p: play.api.data.FormError =&gt; Boolean)Seq[play.api.data.FormError]">filter</span><span class="delimiter">(</span><a href="#101910" title="play.api.data.FormError">_</a>.<a href="#103852" title="=&gt; String">key</a>.<span title="()Boolean">isEmpty</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Applies a function for a field.
   *
   * For example:
   * {{{
   * userForm.forField(&quot;username&quot;) { field =&gt;
   *   &lt;input type=&quot;text&quot; name={field.name} value={field.value.getOrElse(&quot;&quot;)} /&gt;
   * }
   * }}}
   *
   * @tparam R result type
   * @param key field name
   * @param handler field handler (transform the field to `R`)
   */</span>
  <span class="keyword">def</span> <a title="[R](key: String)(handler: play.api.data.Field =&gt; R)R" id="100974">forField</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="100976">R</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="String" id="101911">key</a>: <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="play.api.data.Field =&gt; R" id="101912">handler</a>: Field =&gt; R<span class="delimiter">)</span>: <a href="#100976" title="R">R</a> = <a href="#101912" title="(v1: play.api.data.Field)R">handler</a><span class="delimiter">(</span><a href="#100971" title="(key: String)play.api.data.Field" class="keyword">this</a><span class="delimiter">(</span><a href="#101911" title="String">key</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Returns `true` if there is an error related to this form.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="100977">hasErrors</a>: <span title="Boolean">Boolean</span> = <span title="=&gt; Boolean">!</span><a href="#102888" title="=&gt; Seq[play.api.data.FormError]">errors</a>.<span title="=&gt; Boolean">isEmpty</span>

  <span class="comment">/**
   * Retrieve the first error for this key.
   *
   * @param key field name.
   */</span>
  <span class="keyword">def</span> <a title="(key: String)Option[play.api.data.FormError]" id="100978">error</a><span class="delimiter">(</span><a title="String" id="101922">key</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Option[play.api.data.FormError]">Option</span><span class="delimiter">[</span>FormError<span class="delimiter">]</span> = <a href="#102888" title="=&gt; Seq[play.api.data.FormError]">errors</a>.<span title="(p: play.api.data.FormError =&gt; Boolean)Option[play.api.data.FormError]">find</span><span class="delimiter">(</span><a href="#101933" title="play.api.data.FormError">_</a>.<a href="#103852" title="=&gt; String">key</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#101922" title="String">key</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Retrieve all errors for this key.
   *
   * @param key field name.
   */</span>
  <span class="keyword">def</span> <a title="(key: String)Seq[play.api.data.FormError]" id="100979">errors</a><span class="delimiter">(</span><a title="String" id="101461">key</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Seq[play.api.data.FormError]">Seq</span><span class="delimiter">[</span>FormError<span class="delimiter">]</span> = <a href="#102888" title="=&gt; Seq[play.api.data.FormError]">errors</a>.<span title="(p: play.api.data.FormError =&gt; Boolean)Seq[play.api.data.FormError]">filter</span><span class="delimiter">(</span><a href="#101943" title="play.api.data.FormError">_</a>.<a href="#103852" title="=&gt; String">key</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#101461" title="String">key</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Returns `true` if there is a global error related to this form.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="100980">hasGlobalErrors</a>: <span title="Boolean">Boolean</span> = <span title="=&gt; Boolean">!</span><a href="#100973" title="=&gt; Seq[play.api.data.FormError]">globalErrors</a>.<span title="=&gt; Boolean">isEmpty</span>

  <span class="comment">/**
   * Returns the concrete value, if the submission was a success.
   *
   * Note that this method fails with an Exception if this form as errors.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; T" id="100981">get</a>: <a href="#102569" title="T">T</a> = <a href="#102889" title="=&gt; Option[T]">value</a>.<span title="=&gt; T">get</span>

  <span class="comment">/**
   * Returns the form errors serialized as Json.
   */</span>
  <span class="keyword">def</span> <a title="(implicit lang: play.api.i18n.Lang)play.api.libs.json.JsValue" id="100982">errorsAsJson</a><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="play.api.i18n.Lang" id="101957">lang</a>: play.api.i18n.<a href="../i18n/Messages.scala.html#12798" title="play.api.i18n.Lang">Lang</a><span class="delimiter">)</span>: play.api.libs.json.<a href="../libs/json/JsValue.scala.html#14880" title="play.api.libs.json.JsValue">JsValue</a> = <span class="delimiter">{</span>

    <span class="keyword">import</span> play.api.libs.json._

    <a href="../libs/json/Json.scala.html#14974" title="object play.api.libs.json.Json">Json</a>.<a href="../libs/json/Json.scala.html#101963" title="(o: scala.collection.immutable.Map[String,Seq[String]])(implicit tjs: play.api.libs.json.Writes[scala.collection.immutable.Map[String,Seq[String]]])play.api.libs.json.JsValue">toJson</a><a href="../libs/json/Writes.scala.html#102085" title="(implicit fmtv: play.api.libs.json.Writes[Seq[String]])play.api.libs.json.Writes[scala.collection.immutable.Map[String,Seq[String]]]" class="delimiter">(</a>
      <a href="#102888" title="=&gt; Seq[play.api.data.FormError]">errors</a>.<span title="(f: play.api.data.FormError =&gt; String)scala.collection.immutable.Map[String,Seq[play.api.data.FormError]]">groupBy</span><span class="delimiter">(</span><a href="#101988" title="play.api.data.FormError">_</a>.<a href="#103852" title="=&gt; String">key</a><span class="delimiter">)</span>.<span title="(f: Seq[play.api.data.FormError] =&gt; Seq[String])scala.collection.immutable.Map[String,Seq[String]]">mapValues</span> <span class="delimiter">{</span> <a title="Seq[play.api.data.FormError]" id="102004">errors</a> =&gt;
        <a href="#102004" title="Seq[play.api.data.FormError]">errors</a>.<span title="(f: play.api.data.FormError =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[play.api.data.FormError],String,Seq[String]])Seq[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,String,Seq[String]]" class="delimiter">(</span><a title="play.api.data.FormError" id="102021">e</a> =&gt; play.api.i18n.<a href="../i18n/Messages.scala.html#102023" title="(key: String, args: Any*)(implicit lang: play.api.i18n.Lang)String">Messages</a><a href="#101957" title="play.api.i18n.Lang" class="delimiter">(</a><a href="#102021" title="play.api.data.FormError">e</a>.<a href="#103853" title="=&gt; String">message</a>, <a href="#102021" title="play.api.data.FormError">e</a>.<a href="#103854" title="=&gt; Seq[Any]">args</a>: _*<span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">)</span>

  <span class="delimiter">}</span>

<span class="delimiter">}</span>

<span class="comment">/**
 * A form field.
 *
 * @param name the field name
 * @param constraints the constraints associated with the field
 * @param format the format expected for this field
 * @param errors the errors associated to this field
 * @param value the field value, if any
 */</span>
case <span class="keyword">class</span> <a title="class Field extends java.lang.Object with ScalaObject with Product with Serializable" id="107314">Field</a><a href="#107314" title="ScalaObject" class="delimiter">(</a><span class="keyword">private</span> <span class="keyword">val</span> <a title="play.api.data.Form[_]" id="101812">form</a>: <a href="#102567" title="play.api.data.Form[_]">Form</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="String" id="101813">name</a>: <span title="String">String</span>, <a title="Seq[(String, Seq[Any])]" id="101814">constraints</a>: <span title="Seq[(String, Seq[Any])]">Seq</span><span class="delimiter">[</span><span class="delimiter">(</span>String, Seq<span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span>, <a title="Option[(String, Seq[Any])]" id="101815">format</a>: <span title="Option[(String, Seq[Any])]">Option</span><span class="delimiter">[</span><span class="delimiter">(</span>String, Seq<span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span>, <a title="Seq[play.api.data.FormError]" id="101816">errors</a>: <span title="Seq[play.api.data.FormError]">Seq</span><span class="delimiter">[</span>FormError<span class="delimiter">]</span>, <a title="Option[String]" id="101817">value</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>

  <span class="comment">/**
   * The field ID - the same as the field name but with '.' replaced by '_'.
   */</span>
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="String" id="101770">id</a>: <span title="String">String</span> = <a href="#101813" title="=&gt; String">name</a>.<span title="(x$1: Char, x$2: Char)java.lang.String">replace</span><span class="delimiter">(</span><span title="Char(\'.\')" class="char">'.'</span>, <span title="Char(\'_\')" class="char">'_'</span><span class="delimiter">)</span>.<span title="(x$1: Char, x$2: Char)java.lang.String">replace</span><span class="delimiter">(</span><span title="Char(\'[\')" class="char">'['</span>, <span title="Char(\'_\')" class="char">'_'</span><span class="delimiter">)</span>.<span title="(x$1: Char, x$2: Char)java.lang.String">replace</span><span class="delimiter">(</span><span title="Char(\']\')" class="char">']'</span>, <span title="Char(\'_\')" class="char">'_'</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Returns the first error associated with this field, if it exists.
   *
   * @return an error
   */</span>
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Option[play.api.data.FormError]" id="101772">error</a>: <span title="Option[play.api.data.FormError]">Option</span><span class="delimiter">[</span>FormError<span class="delimiter">]</span> = <a href="#101816" title="=&gt; Seq[play.api.data.FormError]">errors</a>.<span title="=&gt; Option[play.api.data.FormError]">headOption</span>

  <span class="comment">/**
   * Check if this field has errors.
   */</span>
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Boolean" id="101774">hasErrors</a>: <span title="Boolean">Boolean</span> = <span title="=&gt; Boolean">!</span><a href="#101816" title="=&gt; Seq[play.api.data.FormError]">errors</a>.<span title="=&gt; Boolean">isEmpty</span>

  <span class="comment">/**
   * Retrieve a field from the same form, using a key relative to this field key.
   *
   * @param key Relative key.
   */</span>
  <span class="keyword">def</span> <a title="(key: String)play.api.data.Field" id="101775">apply</a><span class="delimiter">(</span><a title="String" id="102669">key</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#107314" title="play.api.data.Field">Field</a> = <span class="delimiter">{</span>
    <a href="#100971" title="(key: String)play.api.data.Field">form</a><span class="delimiter">(</span><span title="(x: String)Option[String]">Option</span><span class="delimiter">(</span><a href="#101813" title="=&gt; String">name</a><span class="delimiter">)</span>.<span title="(p: String =&gt; Boolean)Option[String]">filterNot</span><span class="delimiter">(</span><a href="#102677" title="String">_</a>.<span title="()Boolean">isEmpty</span><span class="delimiter">)</span>.<span title="(f: String =&gt; java.lang.String)Option[java.lang.String]">map</span><span class="delimiter">(</span><a href="#102682" title="String">_</a> <span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#102669" title="(index: Int)Char">key</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="(x: Char)Boolean">==</span> <span title="Char(\'[\')" class="char">'['</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(default: =&gt; java.lang.String)java.lang.String">getOrElse</span><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#102669" title="String">key</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Retrieve available indexes defined for this field (if this field is repeated).
   */</span>
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Seq[Int]" id="101777">indexes</a>: <span title="Seq[Int]">Seq</span><span class="delimiter">[</span>Int<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#104936" title="object play.api.data.RepeatedMapping">RepeatedMapping</a>.<a href="#102722" title="(key: String, data: Map[String,String])Seq[Int]">indexes</a><span class="delimiter">(</span><a href="#101813" title="=&gt; String">name</a>, <a href="#101812" title="=&gt; play.api.data.Form[_]">form</a>.<a href="#102887" title="=&gt; Map[String,String]">data</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

<span class="comment">/**
 * Provides a set of operations for creating `Form` values.
 */</span>
<span class="keyword">object</span> <a title="object play.api.data.Form" id="102963">Form</a> <span title="ScalaObject" class="delimiter">{</span>

  <span class="comment">/**
   * Creates a new form from a mapping.
   *
   * For example:
   * {{{
   * import play.api.data._
   * import format.Formats._
   *
   * val userForm = Form(
   *   tuple(
   *     &quot;name&quot; -&gt; of[String],
   *     &quot;age&quot; -&gt; of[Int],
   *     &quot;email&quot; -&gt; of[String]
   *   )
   * )
   * }}}
   *
   * @param mapping the form mapping
   * @return a form definition
   */</span>
  <span class="keyword">def</span> <a title="[T](mapping: play.api.data.Mapping[T])play.api.data.Form[T]" id="102561">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="102563">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.data.Mapping[T]" id="102881">mapping</a>: <a href="#11819" title="play.api.data.Mapping[T]">Mapping</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#102567" title="play.api.data.Form[T]">Form</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="#102567" title="(mapping: play.api.data.Mapping[T], data: Map[String,String], errors: Seq[play.api.data.FormError], value: Option[T])play.api.data.Form[T]">Form</a><span class="delimiter">(</span><a href="#102881" title="play.api.data.Mapping[T]">mapping</a>, <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="scala.collection.immutable.Map[String,Nothing]">empty</span>, <span title="object Nil">Nil</span>, <span title="object None">None</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Creates a new form from a mapping, with a root key.
   *
   * For example:
   * {{{
   * val userForm = Form(
   *   &quot;user&quot; -&gt; tuple(
   *     &quot;name&quot; -&gt; of[String],
   *     &quot;age&quot; -&gt; of[Int],
   *     &quot;email&quot; -&gt; of[String]
   *   )
   * )
   * }}}
   *
   * @param mapping the root key, form mapping association
   * @return a form definition
   */</span>
  <span class="keyword">def</span> <a title="[T](mapping: (String, play.api.data.Mapping[T]))play.api.data.Form[T]" id="102564">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="102566">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(String, play.api.data.Mapping[T])" id="102895">mapping</a>: <span title="(String, play.api.data.Mapping[T])" class="delimiter">(</span>String, Mapping<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>: <a href="#102567" title="play.api.data.Form[T]">Form</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="#102567" title="(mapping: play.api.data.Mapping[T], data: Map[String,String], errors: Seq[play.api.data.FormError], value: Option[T])play.api.data.Form[T]">Form</a><span class="delimiter">(</span><a href="#102895" title="(String, play.api.data.Mapping[T])">mapping</a>.<span title="=&gt; play.api.data.Mapping[T]">_2</span>.<a href="#101000" title="(prefix: String)play.api.data.Mapping[T]">withPrefix</a><span class="delimiter">(</span><a href="#102895" title="(String, play.api.data.Mapping[T])">mapping</a>.<span title="=&gt; String">_1</span><span class="delimiter">)</span>, <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="scala.collection.immutable.Map[String,Nothing]">empty</span>, <span title="object Nil">Nil</span>, <span title="object None">None</span><span class="delimiter">)</span>

<span class="delimiter">}</span>

<span class="keyword">private</span><span class="delimiter">[</span>data<span class="delimiter">]</span> <span class="keyword">object</span> <a title="object play.api.data.FormUtils" id="11667">FormUtils</a> <span title="ScalaObject" class="delimiter">{</span>

  <span class="keyword">import</span> play.api.libs.json._

  <span class="keyword">def</span> <a title="(prefix: String, js: play.api.libs.json.JsValue)Map[String,String]" id="101499">fromJson</a><span class="delimiter">(</span><a title="String" id="101503">prefix</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <a title="play.api.libs.json.JsValue" id="101501">js</a>: <a href="../libs/json/JsValue.scala.html#14880" title="play.api.libs.json.JsValue">JsValue</a><span class="delimiter">)</span>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span> = <a href="#101501" title="play.api.libs.json.JsValue">js</a> <span title="Map[String,String]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="scala.collection.immutable.Map[String,String]">JsObject</span><span class="delimiter">(</span><a title="Seq[(String, play.api.libs.json.JsValue)]" id="103307">fields</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
      <a href="#103307" title="Seq[(String, play.api.libs.json.JsValue)]">fields</a>.<span title="(f: (String, play.api.libs.json.JsValue) =&gt; Map[String,String])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[(String, play.api.libs.json.JsValue)],Map[String,String],Seq[Map[String,String]]])Seq[Map[String,String]]">map</span> <a href="#103324" title="Map[String,String]" class="delimiter">{</a> <span class="keyword">case</span> <span title="Map[String,String]" class="delimiter">(</span><a title="String" id="103327">key</a>, <a title="play.api.libs.json.JsValue" id="103328">value</a><span class="delimiter">)</span> =&gt; <a href="#101499" title="(prefix: String, js: play.api.libs.json.JsValue)Map[String,String]">fromJson</a><span class="delimiter">(</span><span title="(x: String)Option[String]">Option</span><span class="delimiter">(</span><a href="#101503" title="String">prefix</a><span class="delimiter">)</span>.<span title="(p: String =&gt; Boolean)Option[String]">filterNot</span><span class="delimiter">(</span><a href="#103333" title="String">_</a>.<span title="()Boolean">isEmpty</span><span class="delimiter">)</span>.<span title="(f: String =&gt; java.lang.String)Option[java.lang.String]">map</span><span class="delimiter">(</span><a href="#103337" title="String">_</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span><span class="delimiter">)</span>.<span title="(default: =&gt; java.lang.String)java.lang.String">getOrElse</span><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#103327" title="String">key</a>, <a href="#103328" title="play.api.libs.json.JsValue">value</a><span class="delimiter">)</span> <span class="delimiter">}</span>.<span title="(z: scala.collection.immutable.Map[String,String])(op: (scala.collection.immutable.Map[String,String], Map[String,String]) =&gt; scala.collection.immutable.Map[String,String])scala.collection.immutable.Map[String,String]">foldLeft</span><span class="delimiter">(</span><span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="[A, B]=&gt; scala.collection.immutable.Map[A,B]">empty</span><span title="scala.collection.immutable.Map[String,String]" class="delimiter">[</span><span title="String">String</span>, <span title="String">String</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#103392" title="scala.collection.immutable.Map[String,String]">_</a> <span title="(xs: scala.collection.GenTraversableOnce[(String, String)])scala.collection.immutable.Map[String,String]">++</span> <a href="#103393" title="Map[String,String]">_</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">case</span> <span title="scala.collection.immutable.Map[String,String]">JsArray</span><span class="delimiter">(</span><a title="Seq[play.api.libs.json.JsValue]" id="103492">values</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
      <a href="#103492" title="Seq[play.api.libs.json.JsValue]">values</a>.<span title="(implicit bf: scala.collection.generic.CanBuildFrom[Seq[play.api.libs.json.JsValue],(play.api.libs.json.JsValue, Int),Seq[(play.api.libs.json.JsValue, Int)]])Seq[(play.api.libs.json.JsValue, Int)]">zipWithIndex</span>.<span title="(f: (play.api.libs.json.JsValue, Int) =&gt; Map[String,String])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[(play.api.libs.json.JsValue, Int)],Map[String,String],Seq[Map[String,String]]])Seq[Map[String,String]]">map</span> <a href="#103544" title="Map[String,String]" class="delimiter">{</a> <span class="keyword">case</span> <span title="Map[String,String]" class="delimiter">(</span><a title="play.api.libs.json.JsValue" id="103547">value</a>, <a title="Int" id="103548">i</a><span class="delimiter">)</span> =&gt; <a href="#101499" title="(prefix: String, js: play.api.libs.json.JsValue)Map[String,String]">fromJson</a><span class="delimiter">(</span><a href="#101503" title="String">prefix</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;[&quot;)" class="string">&quot;[&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#103548" title="Int">i</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;]&quot;)" class="string">&quot;]&quot;</span>, <a href="#103547" title="play.api.libs.json.JsValue">value</a><span class="delimiter">)</span> <span class="delimiter">}</span>.<span title="(z: scala.collection.immutable.Map[String,String])(op: (scala.collection.immutable.Map[String,String], Map[String,String]) =&gt; scala.collection.immutable.Map[String,String])scala.collection.immutable.Map[String,String]">foldLeft</span><span class="delimiter">(</span><span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="[A, B]=&gt; scala.collection.immutable.Map[A,B]">empty</span><span title="scala.collection.immutable.Map[String,String]" class="delimiter">[</span><span title="String">String</span>, <span title="String">String</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#103595" title="scala.collection.immutable.Map[String,String]">_</a> <span title="(xs: scala.collection.GenTraversableOnce[(String, String)])scala.collection.immutable.Map[String,String]">++</span> <a href="#103596" title="Map[String,String]">_</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">case</span> <a href="../libs/json/JsValue.scala.html#14734" title="scala.collection.immutable.Map[String,Nothing]">JsNull</a> =&gt; <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="scala.collection.immutable.Map[String,Nothing]">empty</span>
    <span class="keyword">case</span> <span title="scala.collection.immutable.Map[String,Nothing]">JsUndefined</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="scala.collection.immutable.Map[String,Nothing]">empty</span>
    <span class="keyword">case</span> <span title="scala.collection.immutable.Map[String,java.lang.String]">JsBoolean</span><span class="delimiter">(</span><a title="Boolean" id="103725">value</a><span class="delimiter">)</span> =&gt; <span title="(elems: (String, java.lang.String)*)scala.collection.immutable.Map[String,java.lang.String]">Map</span><span class="delimiter">(</span><a href="#101503" title="(x: String)ArrowAssoc[String]">prefix</a> <span title="(y: java.lang.String)(String, java.lang.String)">-&gt;</span> <a href="#103725" title="Boolean">value</a>.<span title="()java.lang.String">toString</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="scala.collection.immutable.Map[String,String]">JsNumber</span><span class="delimiter">(</span><a title="BigDecimal" id="103773">value</a><span class="delimiter">)</span> =&gt; <span title="(elems: (String, String)*)scala.collection.immutable.Map[String,String]">Map</span><span class="delimiter">(</span><a href="#101503" title="(x: String)ArrowAssoc[String]">prefix</a> <span title="(y: String)(String, String)">-&gt;</span> <a href="#103773" title="BigDecimal">value</a>.<span title="()String">toString</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="scala.collection.immutable.Map[String,java.lang.String]">JsString</span><span class="delimiter">(</span><a title="String" id="103821">value</a><span class="delimiter">)</span> =&gt; <span title="(elems: (String, java.lang.String)*)scala.collection.immutable.Map[String,java.lang.String]">Map</span><span class="delimiter">(</span><a href="#101503" title="(x: String)ArrowAssoc[String]">prefix</a> <span title="(y: java.lang.String)(String, java.lang.String)">-&gt;</span> <a href="#103821" title="String">value</a>.<span title="()java.lang.String">toString</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

<span class="comment">/**
 * A form error.
 *
 * @param key The error key (should be associated with a field using the same key).
 * @param message The form message (often a simple message key needing to be translated).
 * @param args Arguments used to format the message.
 */</span>
case <span class="keyword">class</span> <a title="class FormError extends java.lang.Object with ScalaObject with Product with Serializable" id="107320">FormError</a><a href="#107320" title="ScalaObject" class="delimiter">(</a><a title="String" id="103852">key</a>: <span title="String">String</span>, <a title="String" id="103853">message</a>: <span title="String">String</span>, <a title="Seq[Any]" id="103854">args</a>: <span title="Seq[Any]">Seq</span><span class="delimiter">[</span>Any<span class="delimiter">]</span> = <span title="object Nil">Nil</span><span class="delimiter">)</span> <span class="delimiter">{</span>

  <span class="comment">/**
   * Copy this error with a new Message.
   *
   * @param message The new message.
   */</span>
  <span class="keyword">def</span> <a title="(message: String)play.api.data.FormError" id="101474">withMessage</a><span class="delimiter">(</span><a title="String" id="103850">message</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#107320" title="play.api.data.FormError">FormError</a> = <a href="#107320" title="(key: String, message: String, args: Seq[Any])play.api.data.FormError">FormError</a><span class="delimiter">(</span><a href="#103852" title="=&gt; String">key</a>, <a href="#103850" title="String">message</a><span class="delimiter">)</span>

<span class="delimiter">}</span>

<span class="comment">/**
 * A mapping is a two-way binder to handle a form field.
 */</span>
<span class="keyword">trait</span> <a title="trait Mapping[T] extends java.lang.Object with ScalaObject" id="11819">Mapping</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="11917">T</a><span class="delimiter">]</span> <span title="ScalaObject" class="delimiter">{</span>
  self =&gt;

  <span class="comment">/**
   * The field key.
   */</span>
  <span class="keyword">val</span> <a title="=&gt; String" id="100993">key</a>: <span title="String">String</span>

  <span class="comment">/**
   * Sub-mappings (these can be seen as sub-keys).
   */</span>
  <span class="keyword">val</span> <a title="=&gt; Seq[play.api.data.Mapping[_]]" id="100994">mappings</a>: <span title="Seq[play.api.data.Mapping[_]]">Seq</span><span class="delimiter">[</span>Mapping<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span>

  <span class="comment">/**
   * The Format expected for this field, if it exists.
   */</span>
  <span class="keyword">val</span> <a title="Option[(String, Seq[Any])]" id="100995">format</a>: <span title="Option[(String, Seq[Any])]">Option</span><span class="delimiter">[</span><span class="delimiter">(</span>String, Seq<span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span> = <span title="object None">None</span>

  <span class="comment">/**
   * The constraints associated with this field.
   */</span>
  <span class="keyword">val</span> <a title="=&gt; Seq[play.api.data.validation.Constraint[T]]" id="100997">constraints</a>: <span title="Seq[play.api.data.validation.Constraint[T]]">Seq</span><span class="delimiter">[</span>Constraint<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span>

  <span class="comment">/**
   * Binds this field, i.e. construct a concrete value from submitted data.
   *
   * @param data the submitted data
   * @return either a concrete value of type `T` or a set of errors, if the binding failed
   */</span>
  <span class="keyword">def</span> <a title="(data: Map[String,String])Either[Seq[play.api.data.FormError],T]" id="100998">bind</a><span class="delimiter">(</span><a title="Map[String,String]" id="101394">data</a>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Either[Seq[play.api.data.FormError],T]">Either</span><span class="delimiter">[</span>Seq<span class="delimiter">[</span>FormError<span class="delimiter">]</span>, T<span class="delimiter">]</span>

  <span class="comment">/**
   * Unbinds this field, i.e. transforms a concrete value to plain data.
   *
   * @param value the value to unbind
   * @return either the plain data or a set of errors, if the unbinding failed
   */</span>
  <span class="keyword">def</span> <a title="(value: T)(Map[String,String], Seq[play.api.data.FormError])" id="100999">unbind</a><span class="delimiter">(</span><a title="T" id="101674">value</a>: <a href="#11917" title="T">T</a><span class="delimiter">)</span>: <span title="(Map[String,String], Seq[play.api.data.FormError])" class="delimiter">(</span>Map<span class="delimiter">[</span>String, String<span class="delimiter">]</span>, Seq<span class="delimiter">[</span>FormError<span class="delimiter">]</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Constructs a new Mapping based on this one, adding a prefix to the key.
   *
   * @param prefix the prefix to add to the key
   * @return the same mapping, with only the key changed
   */</span>
  <span class="keyword">def</span> <a title="(prefix: String)play.api.data.Mapping[T]" id="101000">withPrefix</a><span class="delimiter">(</span><a title="String" id="102945">prefix</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#11819" title="play.api.data.Mapping[T]">Mapping</a><span class="delimiter">[</span>T<span class="delimiter">]</span>

  <span class="comment">/**
   * Constructs a new Mapping based on this one, by adding new constraints.
   *
   * For example:
   * {{{
   *   import play.api.data._
   *   import validation.Constraints._
   *
   *   Form(&quot;phonenumber&quot; -&gt; text.verifying(required) )
   * }}}
   *
   * @param constraints the constraints to add
   * @return the new mapping
   */</span>
  <span class="keyword">def</span> <a title="(constraints: play.api.data.validation.Constraint[T]*)play.api.data.Mapping[T]" id="101001">verifying</a><span class="delimiter">(</span><a title="play.api.data.validation.Constraint[T]*" id="103936">constraints</a>: <span title="play.api.data.validation.Constraint[T]*">Constraint</span><span class="delimiter">[</span>T<span class="delimiter">]</span>*<span class="delimiter">)</span>: <a href="#11819" title="play.api.data.Mapping[T]">Mapping</a><span class="delimiter">[</span>T<span class="delimiter">]</span>

  <span class="comment">/**
   * Constructs a new Mapping based on this one, by adding a new ad-hoc constraint.
   *
   * For example:
   * {{{
   *   import play.api.data._
   *   import validation.Constraints._
   *
   *   Form(&quot;phonenumber&quot; -&gt; text.verifying {_.grouped(2).size == 5})
   * }}}
   *
   * @param constraint a function describing the constraint that returns `false` on failure
   * @return the new mapping
   */</span>
  <span class="keyword">def</span> <a title="(constraint: T =&gt; Boolean)play.api.data.Mapping[T]" id="101002">verifying</a><span class="delimiter">(</span><a title="T =&gt; Boolean" id="103938">constraint</a>: <span class="delimiter">(</span>T =&gt; Boolean<span class="delimiter">)</span><span class="delimiter">)</span>: <a href="#11819" title="play.api.data.Mapping[T]">Mapping</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="#101003" title="(error: =&gt; String, constraint: T =&gt; Boolean)play.api.data.Mapping[T]">verifying</a><span class="delimiter">(</span><span title="java.lang.String(&quot;error.unknown&quot;)" class="string">&quot;error.unknown&quot;</span>, <a href="#103938" title="T =&gt; Boolean">constraint</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Constructs a new Mapping based on this one, by adding a new ad-hoc constraint.
   *
   * For example:
   * {{{
   *   import play.api.data._
   *   import validation.Constraints._
   *
   *   Form(&quot;phonenumber&quot; -&gt; text.verifying(&quot;Bad phone number&quot;, {_.grouped(2).size == 5}))
   * }}}
   *
   * @param error The error message used if the constraint fails
   * @param constraint a function describing the constraint that returns `false` on failure
   * @return the new mapping
   */</span>
  <span class="keyword">def</span> <a title="(error: =&gt; String, constraint: T =&gt; Boolean)play.api.data.Mapping[T]" id="101003">verifying</a><span class="delimiter">(</span><a title="=&gt; String" id="103944">error</a>: =&gt; String, <a title="T =&gt; Boolean" id="103945">constraint</a>: <span class="delimiter">(</span>T =&gt; Boolean<span class="delimiter">)</span><span class="delimiter">)</span>: <a href="#11819" title="play.api.data.Mapping[T]">Mapping</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#101001" title="(constraints: play.api.data.validation.Constraint[T]*)play.api.data.Mapping[T]">verifying</a><span class="delimiter">(</span><a href="validation/Validation.scala.html#101083" title="(f: T =&gt; play.api.data.validation.ValidationResult)play.api.data.validation.Constraint[T]">Constraint</a> <span class="delimiter">{</span> t: <a href="#11917" title="T">T</a> =&gt;
      <span title="play.api.data.validation.ValidationResult" class="keyword">if</span> <span class="delimiter">(</span><a href="#103945" title="(v1: T)Boolean">constraint</a><span class="delimiter">(</span><a href="#103984" title="T">t</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="validation/Validation.scala.html#12046" title="object play.api.data.validation.Valid">Valid</a> <span class="keyword">else</span> <a href="validation/Validation.scala.html#103990" title="(errors: Seq[play.api.data.validation.ValidationError])play.api.data.validation.Invalid">Invalid</a><span class="delimiter">(</span><span title="(elems: play.api.data.validation.ValidationError*)Seq[play.api.data.validation.ValidationError]">Seq</span><span class="delimiter">(</span><a href="validation/Validation.scala.html#104024" title="(message: String, args: Any*)play.api.data.validation.ValidationError">ValidationError</a><span class="delimiter">(</span><a href="#103944" title="=&gt; String">error</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Transform this Mapping[T] to a Mapping[B].
   *
   * @tparam B The type of the new mapping.
   * @param f1 Transform value of T to a value of B
   * @param f2 Transform value of B to a value of T
   */</span>
  <span class="keyword">def</span> <a title="[B](f1: T =&gt; B, f2: B =&gt; T)play.api.data.Mapping[B]" id="101004">transform</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="101006">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="T =&gt; B" id="104037">f1</a>: T =&gt; B, <a title="B =&gt; T" id="104038">f2</a>: B =&gt; T<span class="delimiter">)</span>: <a href="#11819" title="play.api.data.Mapping[B]">Mapping</a><span class="delimiter">[</span>B<span class="delimiter">]</span> = <a href="#107331" title="(wrapped: play.api.data.Mapping[T], f1: T =&gt; B, f2: B =&gt; T, additionalConstraints: Seq[play.api.data.validation.Constraint[B]])play.api.data.WrappedMapping[T,B]">WrappedMapping</a><span class="delimiter">(</span><a href="#11819" title="play.api.data.Mapping[T]" class="keyword">this</a>, <a href="#104037" title="T =&gt; B">f1</a>, <a href="#104038" title="B =&gt; T">f2</a><span class="delimiter">)</span>

  <span class="comment">// Internal utilities</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(prefix: String)Option[java.lang.String]" id="101007">addPrefix</a><span class="delimiter">(</span><a title="String" id="104131">prefix</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="(x: String)Option[String]">Option</span><span class="delimiter">(</span><a href="#104131" title="String">prefix</a><span class="delimiter">)</span>.<span title="(p: String =&gt; Boolean)Option[String]">filterNot</span><span class="delimiter">(</span><a href="#104138" title="String">_</a>.<span title="()Boolean">isEmpty</span><span class="delimiter">)</span>.<span title="(f: String =&gt; java.lang.String)Option[java.lang.String]">map</span><span class="delimiter">(</span><a title="String" id="104142">p</a> =&gt; <a href="#104142" title="String">p</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="(x: String)Option[String]">Option</span><span class="delimiter">(</span><a href="#100993" title="=&gt; String">key</a><span class="delimiter">)</span>.<span title="(p: String =&gt; Boolean)Option[String]">filterNot</span><span class="delimiter">(</span><a href="#104147" title="String">_</a>.<span title="()Boolean">isEmpty</span><span class="delimiter">)</span>.<span title="(f: String =&gt; java.lang.String)Option[java.lang.String]">map</span><span class="delimiter">(</span><span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#104151" title="String">_</a><span class="delimiter">)</span>.<span title="(default: =&gt; java.lang.String)java.lang.String">getOrElse</span><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(t: T)Either[Seq[play.api.data.FormError],T]" id="101008">applyConstraints</a><span class="delimiter">(</span><a title="T" id="104157">t</a>: <a href="#11917" title="T">T</a><span class="delimiter">)</span>: <span title="Either[Seq[play.api.data.FormError],T]">Either</span><span class="delimiter">[</span>Seq<span class="delimiter">[</span>FormError<span class="delimiter">]</span>, T<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span title="(b: T)Right[Nothing,T]">Right</span><span class="delimiter">(</span><a href="#104157" title="T">t</a><span class="delimiter">)</span>.<span title="=&gt; Either.RightProjection[Nothing,T]">right</span>.<span title="(f: T =&gt; Either[Seq[play.api.data.FormError],T])Either[Seq[play.api.data.FormError],T]">flatMap</span> <span class="delimiter">{</span> <a title="T" id="104171">v</a> =&gt;
      <span title="(x: Seq[play.api.data.FormError])Option[Seq[play.api.data.FormError]]">Option</span><span class="delimiter">(</span><a href="#101009" title="(t: T)Seq[play.api.data.FormError]">collectErrors</a><span class="delimiter">(</span><a href="#104171" title="T">v</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(p: Seq[play.api.data.FormError] =&gt; Boolean)Option[Seq[play.api.data.FormError]]">filterNot</span><span class="delimiter">(</span><a href="#104179" title="Seq[play.api.data.FormError]">_</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>.<span title="(right: =&gt; T)Product with Either[Seq[play.api.data.FormError],T] with Serializable">toLeft</span><span class="delimiter">(</span><a href="#104171" title="T">v</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(t: T)Seq[play.api.data.FormError]" id="101009">collectErrors</a><span class="delimiter">(</span><a title="T" id="104174">t</a>: <a href="#11917" title="T">T</a><span class="delimiter">)</span>: <span title="Seq[play.api.data.FormError]">Seq</span><span class="delimiter">[</span>FormError<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#100997" title="=&gt; Seq[play.api.data.validation.Constraint[T]]">constraints</a>.<span title="(f: play.api.data.validation.Constraint[T] =&gt; play.api.data.validation.ValidationResult)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[play.api.data.validation.Constraint[T]],play.api.data.validation.ValidationResult,Seq[play.api.data.validation.ValidationResult]])Seq[play.api.data.validation.ValidationResult]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,play.api.data.validation.ValidationResult,Seq[play.api.data.validation.ValidationResult]]" class="delimiter">(</span><a href="validation/Validation.scala.html#101078" title="(t: T)play.api.data.validation.ValidationResult">_</a><span class="delimiter">(</span><a href="#104174" title="T">t</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(pf: PartialFunction[play.api.data.validation.ValidationResult,Seq[play.api.data.validation.ValidationError]])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[play.api.data.validation.ValidationResult],Seq[play.api.data.validation.ValidationError],Seq[Seq[play.api.data.validation.ValidationError]]])Seq[Seq[play.api.data.validation.ValidationError]]">collect</span> <a href="#104248" title="Seq[play.api.data.validation.ValidationError]" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="Seq[play.api.data.validation.ValidationError]">Invalid</span><span class="delimiter">(</span><a title="Seq[play.api.data.validation.ValidationError]" id="104276">errors</a><span class="delimiter">)</span> =&gt; <a href="#104276" title="Seq[play.api.data.validation.ValidationError]">errors</a>.<span title="=&gt; Seq[play.api.data.validation.ValidationError]">toSeq</span>
    <span class="delimiter">}</span>.<span title="(implicit asTraversable: Seq[play.api.data.validation.ValidationError] =&gt; scala.collection.TraversableOnce[play.api.data.validation.ValidationError])Seq[play.api.data.validation.ValidationError]">flatten</span>.<span title="(f: play.api.data.validation.ValidationError =&gt; play.api.data.FormError)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[play.api.data.validation.ValidationError],play.api.data.FormError,Seq[play.api.data.FormError]])Seq[play.api.data.FormError]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,play.api.data.FormError,Seq[play.api.data.FormError]]" class="delimiter">(</span><a title="play.api.data.validation.ValidationError" id="104347">ve</a> =&gt; <a href="#107320" title="(key: String, message: String, args: Seq[Any])play.api.data.FormError">FormError</a><span class="delimiter">(</span><a href="#100993" title="=&gt; String">key</a>, <a href="#104347" title="play.api.data.validation.ValidationError">ve</a>.<a href="validation/Validation.scala.html#104013" title="=&gt; String">message</a>, <a href="#104347" title="play.api.data.validation.ValidationError">ve</a>.<a href="validation/Validation.scala.html#104015" title="=&gt; Any*">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

<span class="comment">/**
 * A mapping wrapping another existing mapping with transformation functions.
 *
 * @param wrapped Existing wrapped mapping
 * @param f1 Transformation function from A to B
 * @param f2 Transformation function from B to A
 * @param additionalConstraints Additional constraints of type B
 */</span>
case <span class="keyword">class</span> <a title="class WrappedMapping[A, B] extends java.lang.Object with play.api.data.Mapping[B] with ScalaObject with Product with Serializable" id="107331">WrappedMapping</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="104047">A</a>, <a title="&gt;: Nothing &lt;: Any" id="104048">B</a><span class="delimiter">]</span><a href="#107331" title="ScalaObject" class="delimiter">(</a><a title="play.api.data.Mapping[A]" id="104084">wrapped</a>: <a href="#11819" title="play.api.data.Mapping[A]">Mapping</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="A =&gt; B" id="104085">f1</a>: A =&gt; B, <a title="B =&gt; A" id="104086">f2</a>: B =&gt; A, <span class="keyword">val</span> <a title="Seq[play.api.data.validation.Constraint[B]]" id="104087">additionalConstraints</a>: <span title="Seq[play.api.data.validation.Constraint[B]]">Seq</span><span class="delimiter">[</span>Constraint<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">]</span> = <span title="object Nil">Nil</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#11819" title="play.api.data.Mapping[B]">Mapping</a><span class="delimiter">[</span>B<span class="delimiter">]</span> <span class="delimiter">{</span>

  <span class="comment">/**
   * The field key.
   */</span>
  <span class="keyword">val</span> <a title="String" id="104062">key</a> = <a href="#104084" title="=&gt; play.api.data.Mapping[A]">wrapped</a>.<a href="#100993" title="=&gt; String">key</a>

  <span class="comment">/**
   * Sub-mappings (these can be seen as sub-keys).
   */</span>
  <span class="keyword">val</span> <a title="Seq[play.api.data.Mapping[_]]" id="104064">mappings</a> = <a href="#104084" title="=&gt; play.api.data.Mapping[A]">wrapped</a>.<a href="#100994" title="=&gt; Seq[play.api.data.Mapping[_]]">mappings</a>

  <span class="comment">/**
   * The Format expected for this field, if it exists.
   */</span>
  <span class="keyword">override</span> <span class="keyword">val</span> <a title="Option[(String, Seq[Any])]" id="104066">format</a> = <a href="#104084" title="=&gt; play.api.data.Mapping[A]">wrapped</a>.<a href="#100995" title="=&gt; Option[(String, Seq[Any])]">format</a>

  <span class="comment">/**
   * The constraints associated with this field.
   */</span>
  <span class="keyword">val</span> <a title="Seq[play.api.data.validation.Constraint[B]]" id="104068">constraints</a>: <span title="Seq[play.api.data.validation.Constraint[B]]">Seq</span><span class="delimiter">[</span>Constraint<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#104084" title="=&gt; play.api.data.Mapping[A]">wrapped</a>.<a href="#100997" title="=&gt; Seq[play.api.data.validation.Constraint[A]]">constraints</a>.<span title="(f: play.api.data.validation.Constraint[A] =&gt; play.api.data.validation.Constraint[B])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[play.api.data.validation.Constraint[A]],play.api.data.validation.Constraint[B],Seq[play.api.data.validation.Constraint[B]]])Seq[play.api.data.validation.Constraint[B]]">map</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,play.api.data.validation.Constraint[B],Seq[play.api.data.validation.Constraint[B]]]" class="delimiter">{</span> <a title="play.api.data.validation.Constraint[A]" id="104397">constraintOfT</a> =&gt;
    <a href="validation/Validation.scala.html#101089" title="[T](name: Option[String], args: Seq[Any])(f: T =&gt; play.api.data.validation.ValidationResult)play.api.data.validation.Constraint[T]">Constraint</a><span title="(name: Option[String], args: Seq[Any])(f: B =&gt; play.api.data.validation.ValidationResult)play.api.data.validation.Constraint[B]" class="delimiter">[</span><a href="#104048" title="B">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#104397" title="play.api.data.validation.Constraint[A]">constraintOfT</a>.<a href="validation/Validation.scala.html#101072" title="=&gt; Option[String]">name</a>, <a href="#104397" title="play.api.data.validation.Constraint[A]">constraintOfT</a>.<a href="validation/Validation.scala.html#101074" title="=&gt; Seq[Any]">args</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="B" id="104411">b</a> =&gt;
      <a href="validation/Validation.scala.html#101078" title="(t: A)play.api.data.validation.ValidationResult">constraintOfT</a><span class="delimiter">(</span><a href="#104086" title="(v1: B)A">f2</a><span class="delimiter">(</span><a href="#104411" title="B">b</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span> <span title="(that: scala.collection.GenTraversableOnce[play.api.data.validation.Constraint[B]])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[play.api.data.validation.Constraint[B]],play.api.data.validation.Constraint[B],Seq[play.api.data.validation.Constraint[B]]])Seq[play.api.data.validation.Constraint[B]]">++</span> <a href="#104087" title="=&gt; Seq[play.api.data.validation.Constraint[B]]">additionalConstraints</a>

  <span class="comment">/**
   * Binds this field, i.e. construct a concrete value from submitted data.
   *
   * @param data the submitted data
   * @return either a concrete value of type `B` or a set of errors, if the binding failed
   */</span>
  <span class="keyword">def</span> <a title="(data: Map[String,String])Either[Seq[play.api.data.FormError],B]" id="104070">bind</a><span class="delimiter">(</span><a title="Map[String,String]" id="104488">data</a>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Either[Seq[play.api.data.FormError],B]">Either</span><span class="delimiter">[</span>Seq<span class="delimiter">[</span>FormError<span class="delimiter">]</span>, B<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#104084" title="=&gt; play.api.data.Mapping[A]">wrapped</a>.<a href="#100998" title="(data: Map[String,String])Either[Seq[play.api.data.FormError],A]">bind</a><span class="delimiter">(</span><a href="#104488" title="Map[String,String]">data</a><span class="delimiter">)</span>.<span title="=&gt; Either.RightProjection[Seq[play.api.data.FormError],A]">right</span>.<span title="(f: A =&gt; B)Product with Either[Seq[play.api.data.FormError],B] with Serializable">map</span><span class="delimiter">(</span><a title="A" id="104497">t</a> =&gt; <a href="#104085" title="(v1: A)B">f1</a><span class="delimiter">(</span><a href="#104497" title="A">t</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Either.RightProjection[Seq[play.api.data.FormError],B]">right</span>.<span title="(f: B =&gt; Either[Seq[play.api.data.FormError],B])Either[Seq[play.api.data.FormError],B]">flatMap</span><span class="delimiter">(</span><a href="#101008" title="(t: B)Either[Seq[play.api.data.FormError],B]">applyConstraints</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Unbinds this field, i.e. transforms a concrete value to plain data.
   *
   * @param value the value to unbind
   * @return either the plain data or a set of errors, if the unbinding failed
   */</span>
  <span class="keyword">def</span> <a title="(value: B)(Map[String,String], Seq[play.api.data.FormError])" id="104071">unbind</a><span class="delimiter">(</span><a title="B" id="104513">value</a>: <a href="#104048" title="B">B</a><span class="delimiter">)</span>: <span title="(Map[String,String], Seq[play.api.data.FormError])" class="delimiter">(</span>Map<span class="delimiter">[</span>String, String<span class="delimiter">]</span>, Seq<span class="delimiter">[</span>FormError<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="(_1: Map[String,String], _2: Seq[play.api.data.FormError])(Map[String,String], Seq[play.api.data.FormError])" class="delimiter">(</span><a href="#104084" title="=&gt; play.api.data.Mapping[A]">wrapped</a>.<a href="#100999" title="(value: A)(Map[String,String], Seq[play.api.data.FormError])">unbind</a><span class="delimiter">(</span><a href="#104086" title="(v1: B)A">f2</a><span class="delimiter">(</span><a href="#104513" title="B">value</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Map[String,String]">_1</span>, <a href="#101009" title="(t: B)Seq[play.api.data.FormError]">collectErrors</a><span class="delimiter">(</span><a href="#104513" title="B">value</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Constructs a new Mapping based on this one, adding a prefix to the key.
   *
   * @param prefix the prefix to add to the key
   * @return the same mapping, with only the key changed
   */</span>
  <span class="keyword">def</span> <a title="(prefix: String)play.api.data.Mapping[B]" id="104072">withPrefix</a><span class="delimiter">(</span><a title="String" id="104526">prefix</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#11819" title="play.api.data.Mapping[B]">Mapping</a><span class="delimiter">[</span>B<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#107331" title="(wrapped: play.api.data.Mapping[A], f1: A =&gt; B, f2: B =&gt; A, additionalConstraints: Seq[play.api.data.validation.Constraint[B]])play.api.data.WrappedMapping[A,B]">copy</a><span class="delimiter">(</span>wrapped = <a href="#104084" title="=&gt; play.api.data.Mapping[A]">wrapped</a>.<a href="#101000" title="(prefix: String)play.api.data.Mapping[A]">withPrefix</a><span class="delimiter">(</span><a href="#104526" title="String">prefix</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Constructs a new Mapping based on this one, by adding new constraints.
   *
   * For example:
   * {{{
   *   import play.api.data._
   *   import validation.Constraints._
   *
   *   Form(&quot;phonenumber&quot; -&gt; text.verifying(required) )
   * }}}
   *
   * @param constraints the constraints to add
   * @return the new mapping
   */</span>
  <span class="keyword">def</span> <a title="(constraints: play.api.data.validation.Constraint[B]*)play.api.data.Mapping[B]" id="104073">verifying</a><span class="delimiter">(</span><a title="play.api.data.validation.Constraint[B]*" id="104591">constraints</a>: <span title="play.api.data.validation.Constraint[B]*">Constraint</span><span class="delimiter">[</span>B<span class="delimiter">]</span>*<span class="delimiter">)</span>: <a href="#11819" title="play.api.data.Mapping[B]">Mapping</a><span class="delimiter">[</span>B<span class="delimiter">]</span> = <a href="#104084" title="play.api.data.Mapping[A]" id="104671">copy</a><span class="delimiter">(</span>additionalConstraints = <a href="#104087" title="=&gt; Seq[play.api.data.validation.Constraint[B]]">additionalConstraints</a> <a title="Seq[play.api.data.validation.Constraint[B]]" id="104668">++</a> <a href="#104591" title="play.api.data.validation.Constraint[B]*">constraints</a><span class="delimiter">)</span>

<span class="delimiter">}</span>

<span class="comment">/**
 * Provides a set of operations related to `RepeatedMapping` values.
 */</span>
<span class="keyword">object</span> <a title="object play.api.data.RepeatedMapping" id="104936">RepeatedMapping</a> <span title="ScalaObject" class="delimiter">{</span>

  <span class="comment">/**
   * Computes the available indexes for the given key in this set of data.
   */</span>
  <span class="keyword">def</span> <a title="(key: String, data: Map[String,String])Seq[Int]" id="102722">indexes</a><span class="delimiter">(</span><a title="String" id="102750">key</a>: <span title="String">String</span>, <a title="Map[String,String]" id="102751">data</a>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Seq[Int]">Seq</span><span class="delimiter">[</span>Int<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.util.matching.Regex" id="104761">KeyPattern</a> = <span class="delimiter">(</span><span title="java.lang.String(&quot;^&quot;)" class="string">&quot;^&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> java.util.regex.<span title="object java.util.regex.Pattern">Pattern</span>.<span title="(x$1: java.lang.String)java.lang.String">quote</span><span class="delimiter">(</span><a href="#102750" title="String">key</a><span class="delimiter">)</span> <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">+</span> <span title="java.lang.String(&quot;\\[(\\d+)\\].*$&quot;)" class="string">&quot;&quot;&quot;\[(\d+)\].*$&quot;&quot;&quot;</span><span class="delimiter">)</span>.<span title="=&gt; scala.util.matching.Regex">r</span>
    <a href="#102751" title="Map[String,String]">data</a>.<span title="=&gt; Seq[(String, String)]">toSeq</span>.<span title="(pf: PartialFunction[(String, String),Int])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[(String, String)],Int,Seq[Int]])Seq[Int]">collect</span> <a href="#104784" title="Int" class="delimiter">{</a> <span class="keyword">case</span> <span title="Int" class="delimiter">(</span><a href="#104761" title="(target: Any)Option[List[String]]">KeyPattern</a><span class="delimiter">(</span><a title="String" id="104788">index</a><span class="delimiter">)</span>, _<span class="delimiter">)</span> =&gt; <a href="#104788" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">index</a>.<span title="=&gt; Int">toInt</span> <span class="delimiter">}</span>.<span title="(implicit ord: scala.math.Ordering[Int])Seq[Int]">sorted</span>.<span title="=&gt; Seq[Int]">distinct</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

<span class="comment">/**
 * A mapping for repeated elements.
 *
 * @param wrapped The wrapped mapping
 */</span>
case <span class="keyword">class</span> <a title="[T](x$0: play.api.data.RepeatedMapping[T])Option[(play.api.data.Mapping[T], String, Seq[play.api.data.validation.Constraint[List[T]]])]" id="105696">RepeatedMapping</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="102746">T</a><span class="delimiter">]</span><a href="#105696" title="ScalaObject" class="delimiter">(</a><a title="play.api.data.Mapping[T]" id="104953">wrapped</a>: <a href="#11819" title="play.api.data.Mapping[T]">Mapping</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <span class="keyword">val</span> <a title="[T]=&gt; String" id="104954">key</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span class="keyword">val</span> <a title="[T]=&gt; scala.collection.immutable.Nil.type" id="104955">constraints</a>: <span title="Seq[play.api.data.validation.Constraint[List[T]]]">Seq</span><span class="delimiter">[</span>Constraint<span class="delimiter">[</span>List<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span> = <span title="object Nil">Nil</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#11819" title="play.api.data.Mapping[List[T]]">Mapping</a><span class="delimiter">[</span>List<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>

  <span class="comment">/**
   * The Format expected for this field, if it exists.
   */</span>
  <span class="keyword">override</span> <span class="keyword">val</span> <a title="Option[(String, Seq[Any])]" id="102736">format</a>: <span title="Option[(String, Seq[Any])]">Option</span><span class="delimiter">[</span><span class="delimiter">(</span>String, Seq<span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span> = <a href="#104953" title="=&gt; play.api.data.Mapping[T]">wrapped</a>.<a href="#100995" title="=&gt; Option[(String, Seq[Any])]">format</a>

  <span class="comment">/**
   * Constructs a new Mapping based on this one, by adding new constraints.
   *
   * For example:
   * {{{
   *   import play.api.data._
   *   import validation.Constraints._
   *
   *   Form(&quot;phonenumber&quot; -&gt; text.verifying(required) )
   * }}}
   *
   * @param constraints the constraints to add
   * @return the new mapping
   */</span>
  <span class="keyword">def</span> <a title="(addConstraints: play.api.data.validation.Constraint[List[T]]*)play.api.data.Mapping[List[T]]" id="102738">verifying</a><span class="delimiter">(</span><a title="play.api.data.validation.Constraint[List[T]]*" id="104946">addConstraints</a>: <span title="play.api.data.validation.Constraint[List[T]]*">Constraint</span><span class="delimiter">[</span>List<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span>*<span class="delimiter">)</span>: <a href="#11819" title="play.api.data.Mapping[List[T]]">Mapping</a><span class="delimiter">[</span>List<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#105696" title="RepeatedMapping.this.type" class="keyword">this</a>.<a href="#104953" title="play.api.data.Mapping[T]" id="105052">copy</a><span class="delimiter">(</span>constraints = <a href="#104955" title="=&gt; Seq[play.api.data.validation.Constraint[List[T]]]">constraints</a> <a title="Seq[play.api.data.validation.Constraint[List[T]]]" id="105050">++</a> <a href="#104946" title="play.api.data.validation.Constraint[List[T]]*">addConstraints</a>.<span title="=&gt; Seq[play.api.data.validation.Constraint[List[T]]]">toSeq</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Binds this field, i.e. construct a concrete value from submitted data.
   *
   * @param data the submitted data
   * @return either a concrete value of type `List[T]` or a set of errors, if the binding failed
   */</span>
  <span class="keyword">def</span> <a title="(data: Map[String,String])Either[Seq[play.api.data.FormError],List[T]]" id="102739">bind</a><span class="delimiter">(</span><a title="Map[String,String]" id="105053">data</a>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Either[Seq[play.api.data.FormError],List[T]]">Either</span><span class="delimiter">[</span>Seq<span class="delimiter">[</span>FormError<span class="delimiter">]</span>, List<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Seq[Either[Seq[play.api.data.FormError],T]]" id="105055">allErrorsOrItems</a>: <span title="Seq[Either[Seq[play.api.data.FormError],T]]">Seq</span><span class="delimiter">[</span>Either<span class="delimiter">[</span>Seq<span class="delimiter">[</span>FormError<span class="delimiter">]</span>, T<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#104936" title="object play.api.data.RepeatedMapping">RepeatedMapping</a>.<a href="#102722" title="(key: String, data: Map[String,String])Seq[Int]">indexes</a><span class="delimiter">(</span><a href="#104954" title="=&gt; String">key</a>, <a href="#105053" title="Map[String,String]">data</a><span class="delimiter">)</span>.<span title="(f: Int =&gt; Either[Seq[play.api.data.FormError],T])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[Int],Either[Seq[play.api.data.FormError],T],Seq[Either[Seq[play.api.data.FormError],T]]])Seq[Either[Seq[play.api.data.FormError],T]]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,Either[Seq[play.api.data.FormError],T],Seq[Either[Seq[play.api.data.FormError],T]]]" class="delimiter">(</span><a title="Int" id="105084">i</a> =&gt; <a href="#104953" title="=&gt; play.api.data.Mapping[T]">wrapped</a>.<a href="#101000" title="(prefix: String)play.api.data.Mapping[T]">withPrefix</a><span class="delimiter">(</span><a href="#104954" title="=&gt; String">key</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;[&quot;)" class="string">&quot;[&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#105084" title="Int">i</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;]&quot;)" class="string">&quot;]&quot;</span><span class="delimiter">)</span>.<a href="#100998" title="(data: Map[String,String])Either[Seq[play.api.data.FormError],T]">bind</a><span class="delimiter">(</span><a href="#105053" title="Map[String,String]">data</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span title="Either[Seq[play.api.data.FormError],List[T]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#105055" title="Seq[Either[Seq[play.api.data.FormError],T]]">allErrorsOrItems</a>.<span title="(p: Either[Seq[play.api.data.FormError],T] =&gt; Boolean)Boolean">forall</span><span class="delimiter">(</span><a href="#105109" title="Either[Seq[play.api.data.FormError],T]">_</a>.<span title="=&gt; Boolean">isRight</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="(b: List[T])Right[Nothing,List[T]]">Right</span><span class="delimiter">(</span><a href="#105055" title="Seq[Either[Seq[play.api.data.FormError],T]]">allErrorsOrItems</a>.<span title="(f: Either[Seq[play.api.data.FormError],T] =&gt; T)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[Either[Seq[play.api.data.FormError],T]],T,Seq[T]])Seq[T]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,T,Seq[T]]" class="delimiter">(</span><a href="#105129" title="Either[Seq[play.api.data.FormError],T]">_</a>.<span title="=&gt; Either.RightProjection[Seq[play.api.data.FormError],T]">right</span>.<span title="=&gt; T">get</span><span class="delimiter">)</span>.<span title="=&gt; List[T]">toList</span><span class="delimiter">)</span>.<span title="=&gt; Either.RightProjection[Nothing,List[T]]">right</span>.<span title="(f: List[T] =&gt; Either[Seq[play.api.data.FormError],List[T]])Either[Seq[play.api.data.FormError],List[T]]">flatMap</span><span class="delimiter">(</span><a href="#101008" title="(t: List[T])Either[Seq[play.api.data.FormError],List[T]]">applyConstraints</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
      <span title="(a: Seq[play.api.data.FormError])Left[Seq[play.api.data.FormError],Nothing]">Left</span><span class="delimiter">(</span><a href="#105055" title="Seq[Either[Seq[play.api.data.FormError],T]]">allErrorsOrItems</a>.<span title="(pf: PartialFunction[Either[Seq[play.api.data.FormError],T],Seq[play.api.data.FormError]])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[Either[Seq[play.api.data.FormError],T]],Seq[play.api.data.FormError],Seq[Seq[play.api.data.FormError]]])Seq[Seq[play.api.data.FormError]]">collect</span> <a href="#105192" title="Seq[play.api.data.FormError]" class="delimiter">{</a> <span class="keyword">case</span> <span title="Seq[play.api.data.FormError]">Left</span><span class="delimiter">(</span><a title="Seq[play.api.data.FormError]" id="105194">errors</a><span class="delimiter">)</span> =&gt; <a href="#105194" title="Seq[play.api.data.FormError]">errors</a> <span class="delimiter">}</span>.<span title="(implicit asTraversable: Seq[play.api.data.FormError] =&gt; scala.collection.TraversableOnce[play.api.data.FormError])Seq[play.api.data.FormError]">flatten</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Unbinds this field, i.e. transforms a concrete value to plain data.
   *
   * @param value the value to unbind
   * @return either the plain data or a set of errors, if the unbinding failed
   */</span>
  <span class="keyword">def</span> <a title="(value: List[T])(Map[String,String], Seq[play.api.data.FormError])" id="102740">unbind</a><span class="delimiter">(</span><a title="List[T]" id="105253">value</a>: <span title="List[T]">List</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="(Map[String,String], Seq[play.api.data.FormError])" class="delimiter">(</span>Map<span class="delimiter">[</span>String, String<span class="delimiter">]</span>, Seq<span class="delimiter">[</span>FormError<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a href="#105257" title="(List[Map[String,String]], List[Seq[play.api.data.FormError]])" class="delimiter">(</a><a href="#105256" title="List[Map[String,String]]" id="105257">datas</a>, <a href="#105256" title="List[Seq[play.api.data.FormError]]" id="105258">errors</a><span class="delimiter">)</span> = <a href="#105253" title="List[T]">value</a>.<span title="(implicit bf: scala.collection.generic.CanBuildFrom[List[T],(T, Int),List[(T, Int)]])List[(T, Int)]">zipWithIndex</span>.<span title="(f: (T, Int) =&gt; (Map[String,String], Seq[play.api.data.FormError]))(implicit bf: scala.collection.generic.CanBuildFrom[List[(T, Int)],(Map[String,String], Seq[play.api.data.FormError]),List[(Map[String,String], Seq[play.api.data.FormError])]])List[(Map[String,String], Seq[play.api.data.FormError])]">map</span> <a href="#105348" title="(Map[String,String], Seq[play.api.data.FormError])" class="delimiter">{</a> <span class="keyword">case</span> <span title="(Map[String,String], Seq[play.api.data.FormError])" class="delimiter">(</span><a title="T" id="105351">t</a>, <a title="Int" id="105352">i</a><span class="delimiter">)</span> =&gt; <a href="#104953" title="=&gt; play.api.data.Mapping[T]">wrapped</a>.<a href="#101000" title="(prefix: String)play.api.data.Mapping[T]">withPrefix</a><span class="delimiter">(</span><a href="#104954" title="=&gt; String">key</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;[&quot;)" class="string">&quot;[&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#105352" title="Int">i</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;]&quot;)" class="string">&quot;]&quot;</span><span class="delimiter">)</span>.<a href="#100999" title="(value: T)(Map[String,String], Seq[play.api.data.FormError])">unbind</a><span class="delimiter">(</span><a href="#105351" title="T">t</a><span class="delimiter">)</span> <span class="delimiter">}</span>.<span title="(implicit asPair: (Map[String,String], Seq[play.api.data.FormError]) =&gt; (Map[String,String], Seq[play.api.data.FormError]))(List[Map[String,String]], List[Seq[play.api.data.FormError]])">unzip</span>
    <span title="(_1: scala.collection.immutable.Map[String,String], _2: Seq[play.api.data.FormError])(scala.collection.immutable.Map[String,String], Seq[play.api.data.FormError])" class="delimiter">(</span><a href="#105257" title="List[Map[String,String]]">datas</a>.<span title="(z: scala.collection.immutable.Map[String,String])(f: (scala.collection.immutable.Map[String,String], Map[String,String]) =&gt; scala.collection.immutable.Map[String,String])scala.collection.immutable.Map[String,String]">foldLeft</span><span class="delimiter">(</span><span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="[A, B]=&gt; scala.collection.immutable.Map[A,B]">empty</span><span title="scala.collection.immutable.Map[String,String]" class="delimiter">[</span><span title="String">String</span>, <span title="String">String</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#105439" title="scala.collection.immutable.Map[String,String]">_</a> <span title="(xs: scala.collection.GenTraversableOnce[(String, String)])scala.collection.immutable.Map[String,String]">++</span> <a href="#105440" title="Map[String,String]">_</a><span class="delimiter">)</span>, <a href="#105258" title="List[Seq[play.api.data.FormError]]">errors</a>.<span title="(implicit asTraversable: Seq[play.api.data.FormError] =&gt; scala.collection.TraversableOnce[play.api.data.FormError])List[play.api.data.FormError]">flatten</span> <span title="(that: scala.collection.GenTraversableOnce[play.api.data.FormError])(implicit bf: scala.collection.generic.CanBuildFrom[List[play.api.data.FormError],play.api.data.FormError,Seq[play.api.data.FormError]])Seq[play.api.data.FormError]">++</span> <a href="#101009" title="(t: List[T])Seq[play.api.data.FormError]">collectErrors</a><span class="delimiter">(</span><a href="#105253" title="List[T]">value</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Constructs a new Mapping based on this one, adding a prefix to the key.
   *
   * @param prefix the prefix to add to the key
   * @return the same mapping, with only the key changed
   */</span>
  <span class="keyword">def</span> <a title="(prefix: String)play.api.data.Mapping[List[T]]" id="102741">withPrefix</a><span class="delimiter">(</span><a title="String" id="105614">prefix</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#11819" title="play.api.data.Mapping[List[T]]">Mapping</a><span class="delimiter">[</span>List<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#101007" title="(prefix: String)Option[java.lang.String]">addPrefix</a><span class="delimiter">(</span><a href="#105614" title="String">prefix</a><span class="delimiter">)</span>.<span title="(f: java.lang.String =&gt; play.api.data.RepeatedMapping[T])Option[play.api.data.RepeatedMapping[T]]">map</span><span class="delimiter">(</span><a title="java.lang.String" id="105620">newKey</a> =&gt; <a href="#105696" title="RepeatedMapping.this.type" class="keyword">this</a>.<a href="#104953" title="play.api.data.Mapping[T]" id="105655">copy</a><span class="delimiter">(</span>key = <a href="#105620" title="java.lang.String" id="105653">newKey</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(default: =&gt; play.api.data.RepeatedMapping[T])play.api.data.RepeatedMapping[T]">getOrElse</span><span class="delimiter">(</span><a href="#105696" title="play.api.data.RepeatedMapping[T]" class="keyword">this</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Sub-mappings (these can be seen as sub-keys).
   */</span>
  <span class="keyword">val</span> <a title="Seq[play.api.data.Mapping[_]]" id="102742">mappings</a>: <span title="Seq[play.api.data.Mapping[_]]">Seq</span><span class="delimiter">[</span>Mapping<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#104953" title="=&gt; play.api.data.Mapping[T]">wrapped</a>.<a href="#100994" title="=&gt; Seq[play.api.data.Mapping[_]]">mappings</a>

<span class="delimiter">}</span>

<span class="comment">/**
 * A mapping for optional elements
 *
 * @param wrapped the wrapped mapping
 */</span>
case <span class="keyword">class</span> <a title="class OptionalMapping[T] extends java.lang.Object with play.api.data.Mapping[Option[T]] with ScalaObject with Product with Serializable" id="107351">OptionalMapping</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="107343">T</a><span class="delimiter">]</span><a href="#107351" title="ScalaObject" class="delimiter">(</a><a title="play.api.data.Mapping[T]" id="107338">wrapped</a>: <a href="#11819" title="play.api.data.Mapping[T]">Mapping</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <span class="keyword">val</span> <a title="Seq[play.api.data.validation.Constraint[Option[T]]]" id="107341">constraints</a>: <span title="Seq[play.api.data.validation.Constraint[Option[T]]]">Seq</span><span class="delimiter">[</span>Constraint<span class="delimiter">[</span>Option<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span> = <span title="object Nil">Nil</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#11819" title="play.api.data.Mapping[Option[T]]">Mapping</a><span class="delimiter">[</span>Option<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>

  <span class="keyword">override</span> <span class="keyword">val</span> <a title="Option[(String, Seq[Any])]" id="105705">format</a>: <span title="Option[(String, Seq[Any])]">Option</span><span class="delimiter">[</span><span class="delimiter">(</span>String, Seq<span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span> = <a href="#107338" title="=&gt; play.api.data.Mapping[T]">wrapped</a>.<a href="#100995" title="=&gt; Option[(String, Seq[Any])]">format</a>

  <span class="comment">/**
   * The field key.
   */</span>
  <span class="keyword">val</span> <a title="String" id="105707">key</a> = <a href="#107338" title="=&gt; play.api.data.Mapping[T]">wrapped</a>.<a href="#100993" title="=&gt; String">key</a>

  <span class="comment">/**
   * Constructs a new Mapping based on this one, by adding new constraints.
   *
   * For example:
   * {{{
   *   import play.api.data._
   *   import validation.Constraints._
   *
   *   Form(&quot;phonenumber&quot; -&gt; text.verifying(required) )
   * }}}
   *
   * @param constraints the constraints to add
   * @return the new mapping
   */</span>
  <span class="keyword">def</span> <a title="(addConstraints: play.api.data.validation.Constraint[Option[T]]*)play.api.data.Mapping[Option[T]]" id="105709">verifying</a><span class="delimiter">(</span><a title="play.api.data.validation.Constraint[Option[T]]*" id="105739">addConstraints</a>: <span title="play.api.data.validation.Constraint[Option[T]]*">Constraint</span><span class="delimiter">[</span>Option<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span>*<span class="delimiter">)</span>: <a href="#11819" title="play.api.data.Mapping[Option[T]]">Mapping</a><span class="delimiter">[</span>Option<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#107351" title="OptionalMapping.this.type" class="keyword">this</a>.<a href="#107338" title="play.api.data.Mapping[T]" id="105823">copy</a><span class="delimiter">(</span>constraints = <a href="#107341" title="=&gt; Seq[play.api.data.validation.Constraint[Option[T]]]">constraints</a> <a title="Seq[play.api.data.validation.Constraint[Option[T]]]" id="105822">++</a> <a href="#105739" title="play.api.data.validation.Constraint[Option[T]]*">addConstraints</a>.<span title="=&gt; Seq[play.api.data.validation.Constraint[Option[T]]]">toSeq</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Binds this field, i.e. constructs a concrete value from submitted data.
   *
   * @param data the submitted data
   * @return either a concrete value of type `T` or a set of error if the binding failed
   */</span>
  <span class="keyword">def</span> <a title="(data: Map[String,String])Either[Seq[play.api.data.FormError],Option[T]]" id="105710">bind</a><span class="delimiter">(</span><a title="Map[String,String]" id="105824">data</a>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Either[Seq[play.api.data.FormError],Option[T]]">Either</span><span class="delimiter">[</span>Seq<span class="delimiter">[</span>FormError<span class="delimiter">]</span>, Option<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#105824" title="Map[String,String]">data</a>.<span title="=&gt; Iterable[String]">keys</span>.<span title="(p: String =&gt; Boolean)Iterable[String]">filter</span><span class="delimiter">(</span><a title="String" id="105843">p</a> =&gt; <a href="#105843" title="String">p</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#105707" title="=&gt; String">key</a> <span title="(x: Boolean)Boolean">||</span> <a href="#105843" title="String">p</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><a href="#105707" title="=&gt; String">key</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#105843" title="String">p</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><a href="#105707" title="=&gt; String">key</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;[&quot;)" class="string">&quot;[&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(f: String =&gt; Option[String])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[String],Option[String],Iterable[Option[String]]])Iterable[Option[String]]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,Option[String],Iterable[Option[String]]]" class="delimiter">(</span><a title="String" id="105871">k</a> =&gt; <a href="#105824" title="Map[String,String]">data</a>.<span title="(key: String)Option[String]">get</span><span class="delimiter">(</span><a href="#105871" title="String">k</a><span class="delimiter">)</span>.<span title="(p: String =&gt; Boolean)Option[String]">filterNot</span><span class="delimiter">(</span><a href="#105876" title="String">_</a>.<span title="()Boolean">isEmpty</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(pf: PartialFunction[Option[String],String])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[Option[String]],String,Iterable[String]])Iterable[String]">collect</span> <a href="#105943" title="String" class="delimiter">{</a> <span class="keyword">case</span> <span title="String">Some</span><span class="delimiter">(</span><a title="String" id="105945">v</a><span class="delimiter">)</span> =&gt; <a href="#105945" title="String">v</a> <span class="delimiter">}</span>.<span title="=&gt; Option[String]">headOption</span>.<span title="(f: String =&gt; Product with Either[Seq[play.api.data.FormError],Some[T]] with Serializable)Option[Product with Either[Seq[play.api.data.FormError],Some[T]] with Serializable]">map</span> <span class="delimiter">{</span> <a title="String" id="105966">_</a> =&gt;
      <a href="#107338" title="=&gt; play.api.data.Mapping[T]">wrapped</a>.<a href="#100998" title="(data: Map[String,String])Either[Seq[play.api.data.FormError],T]">bind</a><span class="delimiter">(</span><a href="#105824" title="Map[String,String]">data</a><span class="delimiter">)</span>.<span title="=&gt; Either.RightProjection[Seq[play.api.data.FormError],T]">right</span>.<span title="(f: T =&gt; Some[T])Product with Either[Seq[play.api.data.FormError],Some[T]] with Serializable">map</span><span class="delimiter">(</span><span title="(x: T)Some[T]">Some</span><span class="delimiter">(</span><a href="#105974" title="T">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>.<span title="(default: =&gt; Product with Serializable with Either[Seq[play.api.data.FormError],Option[T]])Product with Serializable with Either[Seq[play.api.data.FormError],Option[T]]">getOrElse</span> <span class="delimiter">{</span>
      <span title="(b: None.type)Right[Nothing,None.type]">Right</span><span class="delimiter">(</span><span title="object None">None</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>.<span title="=&gt; Either.RightProjection[Seq[play.api.data.FormError],Option[T]]">right</span>.<span title="(f: Option[T] =&gt; Either[Seq[play.api.data.FormError],Option[T]])Either[Seq[play.api.data.FormError],Option[T]]">flatMap</span><span class="delimiter">(</span><a href="#101008" title="(t: Option[T])Either[Seq[play.api.data.FormError],Option[T]]">applyConstraints</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Unbinds this field, i.e. transforms a concrete value to plain data.
   *
   * @param value The value to unbind.
   * @return Either the plain data or a set of error if the unbinding failed.
   */</span>
  <span class="keyword">def</span> <a title="(value: Option[T])(Map[String,String], Seq[play.api.data.FormError])" id="105711">unbind</a><span class="delimiter">(</span><a title="Option[T]" id="106024">value</a>: <span title="Option[T]">Option</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="(Map[String,String], Seq[play.api.data.FormError])" class="delimiter">(</span>Map<span class="delimiter">[</span>String, String<span class="delimiter">]</span>, Seq<span class="delimiter">[</span>FormError<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Seq[play.api.data.FormError]" id="106027">errors</a> = <a href="#101009" title="(t: Option[T])Seq[play.api.data.FormError]">collectErrors</a><span class="delimiter">(</span><a href="#106024" title="Option[T]">value</a><span class="delimiter">)</span>
    <a href="#106024" title="Option[T]">value</a>.<span title="(f: T =&gt; (Map[String,String], Seq[play.api.data.FormError]))Option[(Map[String,String], Seq[play.api.data.FormError])]">map</span><span class="delimiter">(</span><a href="#107338" title="=&gt; play.api.data.Mapping[T]">wrapped</a>.<a href="#100999" title="(value: T)(Map[String,String], Seq[play.api.data.FormError])">unbind</a><span class="delimiter">(</span><a href="#106033" title="T">_</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(f: (Map[String,String], Seq[play.api.data.FormError]) =&gt; (Map[String,String], Seq[play.api.data.FormError]))Option[(Map[String,String], Seq[play.api.data.FormError])]">map</span><span class="delimiter">(</span><a title="(Map[String,String], Seq[play.api.data.FormError])" id="106040">r</a> =&gt; <a href="#106040" title="(Map[String,String], Seq[play.api.data.FormError])">r</a>.<span title="(x: Map[String,String])ArrowAssoc[Map[String,String]]">_1</span> <span title="(y: Seq[play.api.data.FormError])(Map[String,String], Seq[play.api.data.FormError])">-&gt;</span> <span class="delimiter">(</span><a href="#106040" title="(Map[String,String], Seq[play.api.data.FormError])">r</a>.<span title="=&gt; Seq[play.api.data.FormError]">_2</span> <span title="(that: scala.collection.GenTraversableOnce[play.api.data.FormError])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[play.api.data.FormError],play.api.data.FormError,Seq[play.api.data.FormError]])Seq[play.api.data.FormError]">++</span> <a href="#106027" title="Seq[play.api.data.FormError]">errors</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(default: =&gt; (Map[String,String], Seq[play.api.data.FormError]))(Map[String,String], Seq[play.api.data.FormError])">getOrElse</span><span class="delimiter">(</span><span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="(x: scala.collection.immutable.Map[String,Nothing])ArrowAssoc[scala.collection.immutable.Map[String,Nothing]]">empty</span> <span title="(y: Seq[play.api.data.FormError])(scala.collection.immutable.Map[String,Nothing], Seq[play.api.data.FormError])">-&gt;</span> <a href="#106027" title="Seq[play.api.data.FormError]">errors</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Constructs a new Mapping based on this one, adding a prefix to the key.
   *
   * @param prefix the prefix to add to the key
   * @return the same mapping, with only the key changed
   */</span>
  <span class="keyword">def</span> <a title="(prefix: String)play.api.data.Mapping[Option[T]]" id="105712">withPrefix</a><span class="delimiter">(</span><a title="String" id="106121">prefix</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#11819" title="play.api.data.Mapping[Option[T]]">Mapping</a><span class="delimiter">[</span>Option<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#107351" title="(wrapped: play.api.data.Mapping[T], constraints: Seq[play.api.data.validation.Constraint[Option[T]]])play.api.data.OptionalMapping[T]">copy</a><span class="delimiter">(</span>wrapped = <a href="#107338" title="=&gt; play.api.data.Mapping[T]">wrapped</a>.<a href="#101000" title="(prefix: String)play.api.data.Mapping[T]">withPrefix</a><span class="delimiter">(</span><a href="#106121" title="String">prefix</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Sub-mappings (these can be seen as sub-keys). */</span>
  <span class="keyword">val</span> <a title="Seq[play.api.data.Mapping[_]]" id="105713">mappings</a>: <span title="Seq[play.api.data.Mapping[_]]">Seq</span><span class="delimiter">[</span>Mapping<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#107338" title="=&gt; play.api.data.Mapping[T]">wrapped</a>.<a href="#100994" title="=&gt; Seq[play.api.data.Mapping[_]]">mappings</a>

<span class="delimiter">}</span>

<span class="comment">/**
 * A mapping for a single field.
 *
 * @param key the field key
 * @param constraints the constraints associated with this field.
 */</span>
case <span class="keyword">class</span> <a title="class FieldMapping[T] extends java.lang.Object with play.api.data.Mapping[T] with ScalaObject with Product with Serializable" id="107264">FieldMapping</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="107249">T</a><span class="delimiter">]</span><a href="#107264" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="String" id="107247">key</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span class="keyword">val</span> <a title="Seq[play.api.data.validation.Constraint[T]]" id="107250">constraints</a>: <span title="Seq[play.api.data.validation.Constraint[T]]">Seq</span><span class="delimiter">[</span>Constraint<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span> = <span title="object Nil">Nil</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <span class="keyword">val</span> <a title="play.api.data.format.Formatter[T]" id="107245">binder</a>: <a href="format/Format.scala.html#11979" title="play.api.data.format.Formatter[T]">Formatter</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#11819" title="play.api.data.Mapping[T]">Mapping</a><span class="delimiter">[</span>T<span class="delimiter">]</span> <span class="delimiter">{</span>

  <span class="comment">/**
   * The Format expected for this field, if it exists.
   */</span>
  <span class="keyword">override</span> <span class="keyword">val</span> <a title="Option[(String, Seq[Any])]" id="106213">format</a>: <span title="Option[(String, Seq[Any])]">Option</span><span class="delimiter">[</span><span class="delimiter">(</span>String, Seq<span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span> = <a href="#107245" title="=&gt; play.api.data.format.Formatter[T]">binder</a>.<a href="format/Format.scala.html#106230" title="=&gt; Option[(String, Seq[Any])]">format</a>

  <span class="comment">/**
   * Constructs a new Mapping based on this one, by adding new constraints.
   *
   * For example:
   * {{{
   *   import play.api.data._
   *   import validation.Constraints._
   *
   *   Form(&quot;phonenumber&quot; -&gt; text.verifying(required) )
   * }}}
   *
   * @param constraints the constraints to add
   * @return the new mapping
   */</span>
  <span class="keyword">def</span> <a title="(addConstraints: play.api.data.validation.Constraint[T]*)play.api.data.Mapping[T]" id="106215">verifying</a><span class="delimiter">(</span><a title="play.api.data.validation.Constraint[T]*" id="106256">addConstraints</a>: <span title="play.api.data.validation.Constraint[T]*">Constraint</span><span class="delimiter">[</span>T<span class="delimiter">]</span>*<span class="delimiter">)</span>: <a href="#11819" title="play.api.data.Mapping[T]">Mapping</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#107264" title="FieldMapping.this.type" class="keyword">this</a>.<a href="#107247" title="String" id="106349">copy</a><a href="#107245" title="=&gt; play.api.data.format.Formatter[T]" class="delimiter">(</a>constraints = <a href="#107250" title="=&gt; Seq[play.api.data.validation.Constraint[T]]">constraints</a> <a title="Seq[play.api.data.validation.Constraint[T]]" id="106348">++</a> <a href="#106256" title="play.api.data.validation.Constraint[T]*">addConstraints</a>.<span title="=&gt; Seq[play.api.data.validation.Constraint[T]]">toSeq</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Changes the binder used to handle this field.
   *
   * @param binder the new binder to use
   * @return the same mapping with a new binder
   */</span>
  <span class="keyword">def</span> <a title="(binder: play.api.data.format.Formatter[T])play.api.data.Mapping[T]" id="106216">as</a><span class="delimiter">(</span><a title="play.api.data.format.Formatter[T]" id="106350">binder</a>: <a href="format/Format.scala.html#11979" title="play.api.data.format.Formatter[T]">Formatter</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#11819" title="play.api.data.Mapping[T]">Mapping</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#107264" title="FieldMapping.this.type" class="keyword">this</a>.<a href="#107264" title="(key: String, constraints: Seq[play.api.data.validation.Constraint[T]])(implicit binder: play.api.data.format.Formatter[T])play.api.data.FieldMapping[T]">copy</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#106350" title="play.api.data.format.Formatter[T]">binder</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Binds this field, i.e. constructs a concrete value from submitted data.
   *
   * @param data the submitted data
   * @return either a concrete value of type `T` or a set of errors, if binding failed
   */</span>
  <span class="keyword">def</span> <a title="(data: Map[String,String])Either[Seq[play.api.data.FormError],T]" id="106217">bind</a><span class="delimiter">(</span><a title="Map[String,String]" id="106386">data</a>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Either[Seq[play.api.data.FormError],T]">Either</span><span class="delimiter">[</span>Seq<span class="delimiter">[</span>FormError<span class="delimiter">]</span>, T<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#107245" title="=&gt; play.api.data.format.Formatter[T]">binder</a>.<a href="format/Format.scala.html#106232" title="(key: String, data: Map[String,String])Either[Seq[play.api.data.FormError],T]">bind</a><span class="delimiter">(</span><a href="#107247" title="=&gt; String">key</a>, <a href="#106386" title="Map[String,String]">data</a><span class="delimiter">)</span>.<span title="=&gt; Either.RightProjection[Seq[play.api.data.FormError],T]">right</span>.<span title="(f: T =&gt; Either[Seq[play.api.data.FormError],T])Either[Seq[play.api.data.FormError],T]">flatMap</span> <span class="delimiter">{</span> <a href="#101008" title="(t: T)Either[Seq[play.api.data.FormError],T]">applyConstraints</a><span class="delimiter">(</span><a href="#106399" title="T">_</a><span class="delimiter">)</span> <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Unbinds this field, i.e. transforms a concrete value to plain data.
   *
   * @param value the value to unbind
   * @return either the plain data or a set of errors, if unbinding failed
   */</span>
  <span class="keyword">def</span> <a title="(value: T)(Map[String,String], Seq[play.api.data.FormError])" id="106218">unbind</a><span class="delimiter">(</span><a title="T" id="106402">value</a>: <a href="#107249" title="T">T</a><span class="delimiter">)</span>: <span title="(Map[String,String], Seq[play.api.data.FormError])" class="delimiter">(</span>Map<span class="delimiter">[</span>String, String<span class="delimiter">]</span>, Seq<span class="delimiter">[</span>FormError<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="#107245" title="=&gt; play.api.data.format.Formatter[T]">binder</a>.<a href="format/Format.scala.html#106233" title="(key: String, value: T)Map[String,String]">unbind</a><span title="(x: Map[String,String])ArrowAssoc[Map[String,String]]" class="delimiter">(</span><a href="#107247" title="=&gt; String">key</a>, <a href="#106402" title="T">value</a><span class="delimiter">)</span> <span title="(y: Seq[play.api.data.FormError])(Map[String,String], Seq[play.api.data.FormError])">-&gt;</span> <a href="#101009" title="(t: T)Seq[play.api.data.FormError]">collectErrors</a><span class="delimiter">(</span><a href="#106402" title="T">value</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Constructs a new Mapping based on this one, adding a prefix to the key.
   *
   * @param prefix the prefix to add to the key
   * @return the same mapping, with only the key changed
   */</span>
  <span class="keyword">def</span> <a title="(prefix: String)play.api.data.Mapping[T]" id="106219">withPrefix</a><span class="delimiter">(</span><a title="String" id="106427">prefix</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#11819" title="play.api.data.Mapping[T]">Mapping</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#101007" title="(prefix: String)Option[java.lang.String]">addPrefix</a><span class="delimiter">(</span><a href="#106427" title="String">prefix</a><span class="delimiter">)</span>.<span title="(f: java.lang.String =&gt; play.api.data.FieldMapping[T])Option[play.api.data.FieldMapping[T]]">map</span><span class="delimiter">(</span><a title="java.lang.String" id="106433">newKey</a> =&gt; <a href="#107264" title="FieldMapping.this.type" class="keyword">this</a>.<a href="#107264" title="(key: String, constraints: Seq[play.api.data.validation.Constraint[T]])(implicit binder: play.api.data.format.Formatter[T])play.api.data.FieldMapping[T]">copy</a><a href="#107245" title="=&gt; play.api.data.format.Formatter[T]" class="delimiter">(</a>key = <a href="#106433" title="java.lang.String">newKey</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(default: =&gt; play.api.data.FieldMapping[T])play.api.data.FieldMapping[T]">getOrElse</span><span class="delimiter">(</span><a href="#107264" title="play.api.data.FieldMapping[T]" class="keyword">this</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Sub-mappings (these can be seen as sub-keys). */</span>
  <span class="keyword">val</span> <a title="Seq[play.api.data.Mapping[_]]" id="106220">mappings</a>: <span title="Seq[play.api.data.Mapping[_]]">Seq</span><span class="delimiter">[</span>Mapping<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span> = <span title="(elems: play.api.data.FieldMapping[T]*)Seq[play.api.data.FieldMapping[T]]">Seq</span><span class="delimiter">(</span><a href="#107264" title="play.api.data.FieldMapping[T]" class="keyword">this</a><span class="delimiter">)</span>

<span class="delimiter">}</span>

<span class="comment">/**
 * Common helper methods for all object mappings - mappings including several fields.
 */</span>
<span class="keyword">trait</span> <a title="trait ObjectMapping extends java.lang.Object with ScalaObject" id="11651">ObjectMapping</a> <span title="ScalaObject" class="delimiter">{</span>

  <span class="comment">/**
   * Merges the result of two bindings.
   *
   * @see bind()
   */</span>
  <span class="keyword">def</span> <a title="(a: Either[Seq[play.api.data.FormError],Seq[Any]], b: Either[Seq[play.api.data.FormError],Seq[Any]])Either[Seq[play.api.data.FormError],Seq[Any]]" id="106536">merge2</a><span class="delimiter">(</span><a title="Either[Seq[play.api.data.FormError],Seq[Any]]" id="106540">a</a>: <span title="Either[Seq[play.api.data.FormError],Seq[Any]]">Either</span><span class="delimiter">[</span>Seq<span class="delimiter">[</span>FormError<span class="delimiter">]</span>, Seq<span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Either[Seq[play.api.data.FormError],Seq[Any]]" id="106541">b</a>: <span title="Either[Seq[play.api.data.FormError],Seq[Any]]">Either</span><span class="delimiter">[</span>Seq<span class="delimiter">[</span>FormError<span class="delimiter">]</span>, Seq<span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Either[Seq[play.api.data.FormError],Seq[Any]]">Either</span><span class="delimiter">[</span>Seq<span class="delimiter">[</span>FormError<span class="delimiter">]</span>, Seq<span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">]</span> = <span title="(_1: Either[Seq[play.api.data.FormError],Seq[Any]], _2: Either[Seq[play.api.data.FormError],Seq[Any]])(Either[Seq[play.api.data.FormError],Seq[Any]], Either[Seq[play.api.data.FormError],Seq[Any]])" class="delimiter">(</span><a href="#106540" title="Either[Seq[play.api.data.FormError],Seq[Any]]">a</a>, <a href="#106541" title="Either[Seq[play.api.data.FormError],Seq[Any]]">b</a><span class="delimiter">)</span> <span title="Either[Seq[play.api.data.FormError],Seq[Any]]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Left[Seq[play.api.data.FormError],Nothing]" class="delimiter">(</span>Left<span class="delimiter">(</span><a title="Seq[play.api.data.FormError]" id="106552">errorsA</a><span class="delimiter">)</span>, Left<span class="delimiter">(</span><a title="Seq[play.api.data.FormError]" id="106554">errorsB</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <span title="(a: Seq[play.api.data.FormError])Left[Seq[play.api.data.FormError],Nothing]">Left</span><span class="delimiter">(</span><a href="#106552" title="Seq[play.api.data.FormError]">errorsA</a> <span title="(that: scala.collection.GenTraversableOnce[play.api.data.FormError])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[play.api.data.FormError],play.api.data.FormError,Seq[play.api.data.FormError]])Seq[play.api.data.FormError]">++</span> <a href="#106554" title="Seq[play.api.data.FormError]">errorsB</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Left[Seq[play.api.data.FormError],Nothing]" class="delimiter">(</span>Left<span class="delimiter">(</span><a title="Seq[play.api.data.FormError]" id="106598">errorsA</a><span class="delimiter">)</span>, Right<span class="delimiter">(</span>_<span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <span title="(a: Seq[play.api.data.FormError])Left[Seq[play.api.data.FormError],Nothing]">Left</span><span class="delimiter">(</span><a href="#106598" title="Seq[play.api.data.FormError]">errorsA</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Left[Seq[play.api.data.FormError],Nothing]" class="delimiter">(</span>Right<span class="delimiter">(</span>_<span class="delimiter">)</span>, Left<span class="delimiter">(</span><a title="Seq[play.api.data.FormError]" id="106608">errorsB</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <span title="(a: Seq[play.api.data.FormError])Left[Seq[play.api.data.FormError],Nothing]">Left</span><span class="delimiter">(</span><a href="#106608" title="Seq[play.api.data.FormError]">errorsB</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Right[Nothing,Seq[Any]]" class="delimiter">(</span>Right<span class="delimiter">(</span><a title="Seq[Any]" id="106616">a</a><span class="delimiter">)</span>, Right<span class="delimiter">(</span><a title="Seq[Any]" id="106618">b</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <span title="(b: Seq[Any])Right[Nothing,Seq[Any]]">Right</span><span class="delimiter">(</span><a href="#106616" title="Seq[Any]">a</a> <span title="(that: scala.collection.GenTraversableOnce[Any])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[Any],Any,Seq[Any]])Seq[Any]">++</span> <a href="#106618" title="Seq[Any]">b</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Merges the result of multiple bindings.
   *
   * @see bind()
   */</span>
  <span class="keyword">def</span> <a title="(results: Either[Seq[play.api.data.FormError],Any]*)Either[Seq[play.api.data.FormError],Seq[Any]]" id="106537">merge</a><span class="delimiter">(</span><a title="Either[Seq[play.api.data.FormError],Any]*" id="106659">results</a>: <span title="Either[Seq[play.api.data.FormError],Any]*">Either</span><span class="delimiter">[</span>Seq<span class="delimiter">[</span>FormError<span class="delimiter">]</span>, Any<span class="delimiter">]</span>*<span class="delimiter">)</span>: <span title="Either[Seq[play.api.data.FormError],Seq[Any]]">Either</span><span class="delimiter">[</span>Seq<span class="delimiter">[</span>FormError<span class="delimiter">]</span>, Seq<span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Seq[Either[Seq[play.api.data.FormError],Seq[Any]]]" id="106661">all</a>: <span title="Seq[Either[Seq[play.api.data.FormError],Seq[Any]]]">Seq</span><span class="delimiter">[</span>Either<span class="delimiter">[</span>Seq<span class="delimiter">[</span>FormError<span class="delimiter">]</span>, Seq<span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#106659" title="Either[Seq[play.api.data.FormError],Any]*">results</a>.<span title="(f: Either[Seq[play.api.data.FormError],Any] =&gt; Product with Either[Seq[play.api.data.FormError],Seq[Any]] with Serializable)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[Either[Seq[play.api.data.FormError],Any]],Product with Either[Seq[play.api.data.FormError],Seq[Any]] with Serializable,Seq[Either[Seq[play.api.data.FormError],Seq[Any]]]])Seq[Either[Seq[play.api.data.FormError],Seq[Any]]]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,Product with Either[Seq[play.api.data.FormError],Seq[Any]] with Serializable,Seq[Product with Either[Seq[play.api.data.FormError],Seq[Any]] with Serializable]]" class="delimiter">(</span><a href="#106687" title="Either[Seq[play.api.data.FormError],Any]">_</a>.<span title="=&gt; Either.RightProjection[Seq[play.api.data.FormError],Any]">right</span>.<span title="(f: Any =&gt; Seq[Any])Product with Either[Seq[play.api.data.FormError],Seq[Any]] with Serializable">map</span><span class="delimiter">(</span><span title="(elems: Any*)Seq[Any]">Seq</span><span class="delimiter">(</span><a href="#106695" title="Any">_</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#106661" title="Seq[Either[Seq[play.api.data.FormError],Seq[Any]]]">all</a>.<span title="(z: Either[Seq[play.api.data.FormError],Seq[Any]])(op: (Either[Seq[play.api.data.FormError],Seq[Any]], Either[Seq[play.api.data.FormError],Seq[Any]]) =&gt; Either[Seq[play.api.data.FormError],Seq[Any]])Either[Seq[play.api.data.FormError],Seq[Any]]">fold</span><span class="delimiter">(</span><span title="(b: scala.collection.immutable.Nil.type)Right[Nothing,scala.collection.immutable.Nil.type]">Right</span><span class="delimiter">(</span><span title="object Nil">Nil</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="Either[Seq[play.api.data.FormError],Seq[Any]]" id="106741">s</a>, <a title="Either[Seq[play.api.data.FormError],Seq[Any]]" id="106742">i</a><span class="delimiter">)</span> =&gt; <a href="#106536" title="(a: Either[Seq[play.api.data.FormError],Seq[Any]], b: Either[Seq[play.api.data.FormError],Seq[Any]])Either[Seq[play.api.data.FormError],Seq[Any]]">merge2</a><span class="delimiter">(</span><a href="#106741" title="Either[Seq[play.api.data.FormError],Seq[Any]]">s</a>, <a href="#106742" title="Either[Seq[play.api.data.FormError],Seq[Any]]">i</a><span class="delimiter">)</span> <span class="delimiter">}</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

<span class="comment">/**
 * Represents an object binding (ie. a binding for several fields).
 *
 * This is used for objects with one field. Other versions exist, e.g. `ObjectMapping2`, `ObjectMapping3`, etc.
 *
 * @tparam T the complex object type
 * @tparam A the first field type
 * @param apply a constructor function that creates a instance of `T` using field `A`
 * @param fa a mapping for field `A`
 * @param constraints constraints associated with this mapping
 */</span>
case <span class="keyword">class</span> <a title="class ObjectMapping1[R, A1] extends java.lang.Object with play.api.data.Mapping[R] with play.api.data.ObjectMapping with ScalaObject with Product with Serializable" id="107304">ObjectMapping1</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="107282">R</a>, <a title="&gt;: Nothing &lt;: Any" id="107283">A1</a><span class="delimiter">]</span><a href="#107304" title="ScalaObject" class="delimiter">(</a><a title="A1 =&gt; R" id="107273">apply</a>: <span title="A1 =&gt; R">Function1</span><span class="delimiter">[</span>A1, R<span class="delimiter">]</span>, <a title="R =&gt; Option[A1]" id="107274">unapply</a>: <span title="R =&gt; Option[A1]">Function1</span><span class="delimiter">[</span>R, Option<span class="delimiter">[</span><span class="delimiter">(</span>A1<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">]</span>, <a title="(String, play.api.data.Mapping[A1])" id="107275">f1</a>: <span title="(String, play.api.data.Mapping[A1])" class="delimiter">(</span>String, Mapping<span class="delimiter">[</span>A1<span class="delimiter">]</span><span class="delimiter">)</span>, <span class="keyword">val</span> <a title="String" id="107279">key</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span class="keyword">val</span> <a title="Seq[play.api.data.validation.Constraint[R]]" id="107284">constraints</a>: <span title="Seq[play.api.data.validation.Constraint[R]]">Seq</span><span class="delimiter">[</span>Constraint<span class="delimiter">[</span>R<span class="delimiter">]</span><span class="delimiter">]</span> = <span title="object Nil">Nil</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#11819" title="play.api.data.Mapping[R]">Mapping</a><span class="delimiter">[</span>R<span class="delimiter">]</span> <span class="keyword">with</span> <a href="#11651" title="play.api.data.ObjectMapping">ObjectMapping</a> <span class="delimiter">{</span>

  <span class="keyword">val</span> <a title="play.api.data.Mapping[A1]" id="106759">field1</a> = <a href="#107275" title="=&gt; (String, play.api.data.Mapping[A1])">f1</a>.<span title="=&gt; play.api.data.Mapping[A1]">_2</span>.<a href="#101000" title="(prefix: String)play.api.data.Mapping[A1]">withPrefix</a><span class="delimiter">(</span><a href="#107275" title="=&gt; (String, play.api.data.Mapping[A1])">f1</a>.<span title="=&gt; String">_1</span><span class="delimiter">)</span>.<a href="#101000" title="(prefix: String)play.api.data.Mapping[A1]">withPrefix</a><span class="delimiter">(</span><a href="#107279" title="=&gt; String">key</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(data: Map[String,String])Either[Seq[play.api.data.FormError],R]" id="106761">bind</a><span class="delimiter">(</span><a title="Map[String,String]" id="106871">data</a>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="#106537" title="(results: Either[Seq[play.api.data.FormError],Any]*)Either[Seq[play.api.data.FormError],Seq[Any]]">merge</a><span class="delimiter">(</span><a href="#106759" title="=&gt; play.api.data.Mapping[A1]">field1</a>.<a href="#100998" title="(data: Map[String,String])Either[Seq[play.api.data.FormError],A1]">bind</a><span class="delimiter">(</span><a href="#106871" title="Map[String,String]">data</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Either[Seq[play.api.data.FormError],R]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Left[Seq[play.api.data.FormError],Nothing]">Left</span><span class="delimiter">(</span><a title="Seq[play.api.data.FormError]" id="106875">errors</a><span class="delimiter">)</span> =&gt; <span title="(a: Seq[play.api.data.FormError])Left[Seq[play.api.data.FormError],Nothing]">Left</span><span class="delimiter">(</span><a href="#106875" title="Seq[play.api.data.FormError]">errors</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Either[Seq[play.api.data.FormError],R]">Right</span><span class="delimiter">(</span><a title="Seq[Any]" id="106881">values</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
        <a href="#101008" title="(t: R)Either[Seq[play.api.data.FormError],R]">applyConstraints</a><span class="delimiter">(</span><a href="#107273" title="(v1: A1)R">apply</a><span class="delimiter">(</span>

          <a href="#106881" title="(idx: Int)Any">values</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="A1" class="delimiter">[</span><a href="#107283" title="A1">A1</a><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(value: R)(Map[String,String], Seq[play.api.data.FormError])" id="106762">unbind</a><span class="delimiter">(</span><a title="R" id="106895">value</a>: <a href="#107282" title="R">R</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="#107274" title="(v1: R)Option[A1]">unapply</a><span class="delimiter">(</span><a href="#106895" title="R">value</a><span class="delimiter">)</span>.<span title="(f: A1 =&gt; (Map[String,String], Seq[play.api.data.FormError]))Option[(Map[String,String], Seq[play.api.data.FormError])]">map</span> <span class="delimiter">{</span> <a title="A1" id="106904">fields</a> =&gt;
      <span class="keyword">val</span> <span class="delimiter">(</span><a title="A1" id="106905">v1</a><span class="delimiter">)</span> = <a href="#106904" title="A1">fields</a>
      <span class="keyword">val</span> <a title="(Map[String,String], Seq[play.api.data.FormError])" id="106906">a1</a> = <a href="#106759" title="=&gt; play.api.data.Mapping[A1]">field1</a>.<a href="#100999" title="(value: A1)(Map[String,String], Seq[play.api.data.FormError])">unbind</a><span class="delimiter">(</span><a href="#106905" title="A1">v1</a><span class="delimiter">)</span>

      <span class="delimiter">(</span><a href="#106906" title="(Map[String,String], Seq[play.api.data.FormError])">a1</a>.<span title="(x: Map[String,String])ArrowAssoc[Map[String,String]]">_1</span><span class="delimiter">)</span> <span title="(y: Seq[play.api.data.FormError])(Map[String,String], Seq[play.api.data.FormError])">-&gt;</span>
        <span class="delimiter">(</span><a href="#106906" title="(Map[String,String], Seq[play.api.data.FormError])">a1</a>.<span title="=&gt; Seq[play.api.data.FormError]">_2</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>.<span title="(default: =&gt; (Map[String,String], Seq[play.api.data.FormError]))(Map[String,String], Seq[play.api.data.FormError])">getOrElse</span><span class="delimiter">(</span><span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="(x: scala.collection.immutable.Map[String,Nothing])ArrowAssoc[scala.collection.immutable.Map[String,Nothing]]">empty</span> <span title="(y: Seq[play.api.data.FormError])(scala.collection.immutable.Map[String,Nothing], Seq[play.api.data.FormError])">-&gt;</span> <span title="(elems: play.api.data.FormError*)Seq[play.api.data.FormError]">Seq</span><span class="delimiter">(</span><a href="#107320" title="(key: String, message: String, args: Seq[Any])play.api.data.FormError">FormError</a><span class="delimiter">(</span><a href="#107279" title="=&gt; String">key</a>, <span title="java.lang.String(&quot;unbind.failed&quot;)" class="string">&quot;unbind.failed&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(prefix: String)play.api.data.ObjectMapping1[R,A1]" id="106763">withPrefix</a><span class="delimiter">(</span><a title="String" id="106955">prefix</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#101007" title="(prefix: String)Option[java.lang.String]">addPrefix</a><span class="delimiter">(</span><a href="#106955" title="String">prefix</a><span class="delimiter">)</span>.<span title="(f: java.lang.String =&gt; play.api.data.ObjectMapping1[R,A1])Option[play.api.data.ObjectMapping1[R,A1]]">map</span><span class="delimiter">(</span><a title="java.lang.String" id="106962">newKey</a> =&gt; <a href="#107304" title="ObjectMapping1.this.type" class="keyword">this</a>.<a href="#107273" title="A1 =&gt; R" id="107055">copy</a><span class="delimiter">(</span>key = <a href="#106962" title="java.lang.String" id="107051">newKey</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(default: =&gt; play.api.data.ObjectMapping1[R,A1])play.api.data.ObjectMapping1[R,A1]">getOrElse</span><span class="delimiter">(</span><a href="#107304" title="play.api.data.ObjectMapping1[R,A1]" class="keyword">this</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(addConstraints: play.api.data.validation.Constraint[R]*)play.api.data.ObjectMapping1[R,A1]" id="106764">verifying</a><span class="delimiter">(</span><a title="play.api.data.validation.Constraint[R]*" id="107062">addConstraints</a>: <span title="play.api.data.validation.Constraint[R]*">Constraint</span><span class="delimiter">[</span>R<span class="delimiter">]</span>*<span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="#107304" title="ObjectMapping1.this.type" class="keyword">this</a>.<a href="#107273" title="A1 =&gt; R" id="107145">copy</a><span class="delimiter">(</span>constraints = <a href="#107284" title="=&gt; Seq[play.api.data.validation.Constraint[R]]">constraints</a> <a title="Seq[play.api.data.validation.Constraint[R]]" id="107141">++</a> <a href="#107062" title="play.api.data.validation.Constraint[R]*">addConstraints</a>.<span title="=&gt; Seq[play.api.data.validation.Constraint[R]]">toSeq</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">val</span> <a title="Seq[play.api.data.Mapping[_]]" id="106765">mappings</a> = <span title="(elems: play.api.data.ObjectMapping1[R,A1]*)Seq[play.api.data.ObjectMapping1[R,A1]]">Seq</span><span class="delimiter">(</span><a href="#107304" title="play.api.data.ObjectMapping1[R,A1]" class="keyword">this</a><span class="delimiter">)</span> <span title="(that: scala.collection.GenTraversableOnce[play.api.data.Mapping[_]])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[play.api.data.ObjectMapping1[R,A1]],play.api.data.Mapping[_],Seq[play.api.data.Mapping[_]]])Seq[play.api.data.Mapping[_]]">++</span> <a href="#106759" title="=&gt; play.api.data.Mapping[A1]">field1</a>.<a href="#100994" title="=&gt; Seq[play.api.data.Mapping[_]]">mappings</a>

<span class="delimiter">}</span>


        </pre>
    </body>
</html>