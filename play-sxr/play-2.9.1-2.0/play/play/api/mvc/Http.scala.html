<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>play/play/api/mvc/Http.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> play.api.mvc <span class="delimiter">{</span>

  <span class="keyword">import</span> play.api._
  <span class="keyword">import</span> play.api.libs.iteratee._
  <span class="keyword">import</span> play.api.libs.Crypto

  <span class="keyword">import</span> scala.annotation._

  <span class="comment">/**
   * The HTTP request header. Note that it doesnâ€™t contain the request body yet.
   */</span>
  @implicitNotFound<span class="delimiter">(</span><span class="string">&quot;Cannot find any HTTP Request Header here&quot;</span><span class="delimiter">)</span>
  <span class="keyword">trait</span> <a title="trait RequestHeader extends java.lang.Object with ScalaObject" id="16108">RequestHeader</a> <span title="ScalaObject" class="delimiter">{</span>

    <span class="comment">/**
     * The complete request URI, containing both path and query string.
     */</span>
    <span class="keyword">def</span> <a title="=&gt; String" id="63781">uri</a>: <span title="String">String</span>

    <span class="comment">/**
     * The URI path.
     */</span>
    <span class="keyword">def</span> <a title="=&gt; String" id="63782">path</a>: <span title="String">String</span>

    <span class="comment">/**
     * The HTTP method.
     */</span>
    <span class="keyword">def</span> <a title="=&gt; String" id="63783">method</a>: <span title="String">String</span>

    <span class="comment">/**
     * The parsed query string.
     */</span>
    <span class="keyword">def</span> <a title="=&gt; Map[String,Seq[String]]" id="63784">queryString</a>: <span title="Map[String,Seq[String]]">Map</span><span class="delimiter">[</span>String, Seq<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">]</span>

    <span class="comment">/**
     * The HTTP headers.
     */</span>
    <span class="keyword">def</span> <a title="=&gt; play.api.mvc.Headers" id="63785">headers</a>: <a href="#16075" title="play.api.mvc.Headers">Headers</a>

    <span class="comment">/**
     * The HTTP host (domain, optionally port)
     */</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="String" id="63787">host</a>: <span title="String">String</span> = <a href="#63785" title="=&gt; play.api.mvc.Headers">headers</a>.<a href="#63533" title="(key: String)Option[String]">get</a><span class="delimiter">(</span>play.api.http.<a href="../http/StandardValues.scala.html#12593" title="object play.api.http.HeaderNames">HeaderNames</a>.<a href="../http/StandardValues.scala.html#68394" title="=&gt; java.lang.String">HOST</a><span class="delimiter">)</span>.<span title="(default: =&gt; String)String">getOrElse</span><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>

    <span class="comment">/**
     * The HTTP domain
     */</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="String" id="63789">domain</a>: <span title="String">String</span> = <a href="#63786" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">host</a>.<span title="(separator: Char)Array[String]">split</span><span title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</span><span title="Char(\':\')" class="char">':'</span><span class="delimiter">)</span>.<span title="=&gt; String">head</span>

    <span class="comment">/**
     * The Request Langs, extracted from the Accept-Language header.
     */</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Seq[play.api.i18n.Lang]" id="63791">acceptLanguages</a>: <span title="Seq[play.api.i18n.Lang]">Seq</span><span class="delimiter">[</span>play.api.i18n.Lang<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <a href="#63785" title="=&gt; play.api.mvc.Headers">headers</a>.<a href="#63533" title="(key: String)Option[String]">get</a><span class="delimiter">(</span>play.api.http.<a href="../http/StandardValues.scala.html#12593" title="object play.api.http.HeaderNames">HeaderNames</a>.<a href="../http/StandardValues.scala.html#68350" title="=&gt; java.lang.String">ACCEPT_LANGUAGE</a><span class="delimiter">)</span>.<span title="(f: String =&gt; Seq[play.api.i18n.Lang])Option[Seq[play.api.i18n.Lang]]">map</span> <span class="delimiter">{</span> <a title="String" id="224666">acceptLanguage</a> =&gt;
          <a href="#224666" title="String">acceptLanguage</a>.<span title="(x$1: java.lang.String)Array[java.lang.String]">split</span><span title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]" class="delimiter">(</span><span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span><span class="delimiter">)</span>.<span title="(f: java.lang.String =&gt; play.api.i18n.Lang)(implicit bf: scala.collection.generic.CanBuildFrom[Array[java.lang.String],play.api.i18n.Lang,Array[play.api.i18n.Lang]])Array[play.api.i18n.Lang]">map</span><span title="(xs: Array[play.api.i18n.Lang])scala.collection.mutable.ArrayOps[play.api.i18n.Lang]" class="delimiter">(</span><a title="java.lang.String" id="225114">l</a> =&gt; play.api.i18n.<a href="../i18n/Messages.scala.html#98711" title="(code: String)play.api.i18n.Lang">Lang</a><span class="delimiter">(</span><a href="#225114" title="java.lang.String">l</a>.<span title="(x$1: java.lang.String)Array[java.lang.String]">split</span><span title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]" class="delimiter">(</span><span title="java.lang.String(&quot;;&quot;)" class="string">&quot;;&quot;</span><span class="delimiter">)</span>.<span title="=&gt; java.lang.String">head</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Seq[play.api.i18n.Lang]">toSeq</span>
        <span class="delimiter">}</span>.<span title="(default: =&gt; Seq[play.api.i18n.Lang])Seq[play.api.i18n.Lang]">getOrElse</span><span class="delimiter">(</span><span title="object Nil">Nil</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="scala.collection.immutable.Nil.type" id="225503">e</a> =&gt; <a href="#225503" title="java.lang.Throwable">e</a>.<span title="()Unit">printStackTrace</span><span class="delimiter">(</span><span class="delimiter">)</span>; <span title="object Nil">Nil</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * The HTTP cookies.
     */</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="play.api.mvc.Cookies" id="63793">cookies</a>: <a href="#16060" title="play.api.mvc.Cookies">Cookies</a> = <a href="#76362" title="(header: Option[String])java.lang.Object with play.api.mvc.Cookies{lazy val cookies: Map[String,play.api.mvc.Cookie]}">Cookies</a><span class="delimiter">(</span><a href="#63785" title="=&gt; play.api.mvc.Headers">headers</a>.<a href="#63533" title="(key: String)Option[String]">get</a><span class="delimiter">(</span>play.api.http.<a href="../http/StandardValues.scala.html#12593" title="object play.api.http.HeaderNames">HeaderNames</a>.<a href="../http/StandardValues.scala.html#68382" title="=&gt; java.lang.String">COOKIE</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="comment">/**
     * Parses the `Session` cookie and returns the `Session` data.
     */</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="play.api.mvc.Session" id="63795">session</a>: <a href="#225515" title="play.api.mvc.Session">Session</a> = <a href="#228646" title="object play.api.mvc.Session">Session</a>.<a href="#76500" title="(cookie: Option[play.api.mvc.Cookie])play.api.mvc.Session">decodeFromCookie</a><span class="delimiter">(</span><a href="#63792" title="=&gt; play.api.mvc.Cookies">cookies</a>.<a href="#76357" title="(name: String)Option[play.api.mvc.Cookie]">get</a><span class="delimiter">(</span><a href="#228646" title="object play.api.mvc.Session">Session</a>.<a href="#225507" title="=&gt; java.lang.String">COOKIE_NAME</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="comment">/**
     * Parses the `Flash` cookie and returns the `Flash` data.
     */</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="play.api.mvc.Flash" id="63797">flash</a>: <a href="#76510" title="play.api.mvc.Flash">Flash</a> = <a href="#228798" title="object play.api.mvc.Flash">Flash</a>.<a href="#76500" title="(cookie: Option[play.api.mvc.Cookie])play.api.mvc.Flash">decodeFromCookie</a><span class="delimiter">(</span><a href="#63792" title="=&gt; play.api.mvc.Cookies">cookies</a>.<a href="#76357" title="(name: String)Option[play.api.mvc.Cookie]">get</a><span class="delimiter">(</span><a href="#228798" title="object play.api.mvc.Flash">Flash</a>.<a href="#76504" title="=&gt; java.lang.String">COOKIE_NAME</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="comment">/**
     * Returns the raw query string.
     */</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="String" id="63799">rawQueryString</a>: <span title="String">String</span> = <a href="#63781" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">uri</a>.<span title="(separator: Char)Array[String]">split</span><span title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</span><span title="Char(\'?\')" class="char">'?'</span><span class="delimiter">)</span>.<span title="(n: Int)Array[String]">drop</span><span title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;?&quot;)" class="string">&quot;?&quot;</span><span class="delimiter">)</span>

    <span class="comment">/**
     * Returns the value of the Content-Type header (without the ;charset= part if exists)
     */</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Option[String]" id="63801">contentType</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="#63785" title="=&gt; play.api.mvc.Headers">headers</a>.<a href="#63533" title="(key: String)Option[String]">get</a><span class="delimiter">(</span>play.api.http.<a href="../http/StandardValues.scala.html#12593" title="object play.api.http.HeaderNames">HeaderNames</a>.<a href="../http/StandardValues.scala.html#68380" title="=&gt; java.lang.String">CONTENT_TYPE</a><span class="delimiter">)</span>.<span title="(f: String =&gt; Option[String])Option[String]">flatMap</span><span class="delimiter">(</span><a href="#225781" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">_</a>.<span title="(separator: Char)Array[String]">split</span><span title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</span><span title="Char(\';\')" class="char">';'</span><span class="delimiter">)</span>.<span title="=&gt; Option[String]">headOption</span><span class="delimiter">)</span>.<span title="(f: String =&gt; java.lang.String)Option[java.lang.String]">map</span><span class="delimiter">(</span><a href="#225872" title="String">_</a>.<span title="()java.lang.String">toLowerCase</span><span class="delimiter">)</span>

    <span class="comment">/**
     * Returns the charset of the request for text-based body
     */</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Option[String]" id="63803">charset</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="#63785" title="=&gt; play.api.mvc.Headers">headers</a>.<a href="#63533" title="(key: String)Option[String]">get</a><span class="delimiter">(</span>play.api.http.<a href="../http/StandardValues.scala.html#12593" title="object play.api.http.HeaderNames">HeaderNames</a>.<a href="../http/StandardValues.scala.html#68380" title="=&gt; java.lang.String">CONTENT_TYPE</a><span class="delimiter">)</span>.<span title="(f: String =&gt; Option[String])Option[String]">flatMap</span><span class="delimiter">(</span><a href="#225879" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">_</a>.<span title="(separator: Char)Array[String]">split</span><span title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</span><span title="Char(\';\')" class="char">';'</span><span class="delimiter">)</span>.<span title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]">tail</span>.<span title="=&gt; Option[String]">headOption</span><span class="delimiter">)</span>.<span title="(f: String =&gt; java.lang.String)Option[java.lang.String]">map</span><span class="delimiter">(</span><a href="#226073" title="String">_</a>.<span title="()java.lang.String">toLowerCase</span>.<span title="()java.lang.String">trim</span><span class="delimiter">)</span>.<span title="(p: java.lang.String =&gt; Boolean)Option[java.lang.String]">filter</span><span class="delimiter">(</span><a href="#226079" title="java.lang.String">_</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;charset=&quot;)" class="string">&quot;charset=&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(f: java.lang.String =&gt; Option[String])Option[String]">flatMap</span><span class="delimiter">(</span><a href="#226086" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">_</a>.<span title="(separator: Char)Array[String]">split</span><span title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</span><span title="Char(\'=\')" class="char">'='</span><span class="delimiter">)</span>.<span title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]">tail</span>.<span title="=&gt; Option[String]">headOption</span><span class="delimiter">)</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="63804">toString</a> = <span class="delimiter">{</span>
      <a href="#63783" title="=&gt; String">method</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#63781" title="=&gt; String">uri</a>
    <span class="delimiter">}</span>

  <span class="delimiter">}</span>

  <span class="comment">/**
   * The complete HTTP request.
   *
   * @tparam A the body content type.
   */</span>
  @implicitNotFound<span class="delimiter">(</span><span class="string">&quot;Cannot find any HTTP Request here&quot;</span><span class="delimiter">)</span>
  <span class="keyword">trait</span> <a title="trait Request[+A] extends java.lang.Object with play.api.mvc.RequestHeader with ScalaObject" id="16009">Request</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="16712">A</a><span class="delimiter">]</span> <span title="ScalaObject" class="keyword">extends</span> <a href="#16108" title="play.api.mvc.RequestHeader">RequestHeader</a> <span class="delimiter">{</span>
    self =&gt;

    <span class="comment">/**
     * The body content.
     */</span>
    <span class="keyword">def</span> <a title="=&gt; A" id="63807">body</a>: <a href="#16712" title="A">A</a>

    <span class="comment">/**
     * Transform the request body.
     */</span>
    <span class="keyword">def</span> <a title="[B](f: A =&gt; B)play.api.mvc.Request[B]" id="63808">map</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="63810">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A =&gt; B" id="226277">f</a>: A =&gt; B<span class="delimiter">)</span>: <a href="#16009" title="play.api.mvc.Request[B]">Request</a><span class="delimiter">[</span>B<span class="delimiter">]</span> = <a href="#226280" title="java.lang.Object with play.api.mvc.Request[B]{}" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with play.api.mvc.Request[B]" id="226280">Request</a><span class="delimiter">[</span>B<span class="delimiter">]</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="=&gt; String" id="226284">uri</a> = <a href="#16009" title="Request.this.type">self</a>.<a href="#63781" title="=&gt; String">uri</a>
      <span class="keyword">def</span> <a title="=&gt; String" id="226285">path</a> = <a href="#16009" title="Request.this.type">self</a>.<a href="#63782" title="=&gt; String">path</a>
      <span class="keyword">def</span> <a title="=&gt; String" id="226286">method</a> = <a href="#16009" title="Request.this.type">self</a>.<a href="#63783" title="=&gt; String">method</a>
      <span class="keyword">def</span> <a title="=&gt; Map[String,Seq[String]]" id="226287">queryString</a> = <a href="#16009" title="Request.this.type">self</a>.<a href="#63784" title="=&gt; Map[String,Seq[String]]">queryString</a>
      <span class="keyword">def</span> <a title="=&gt; play.api.mvc.Headers" id="226288">headers</a> = <a href="#16009" title="Request.this.type">self</a>.<a href="#63785" title="=&gt; play.api.mvc.Headers">headers</a>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="B" id="226290">body</a> = <a href="#226277" title="(v1: A)B">f</a><span class="delimiter">(</span><a href="#16009" title="Request.this.type">self</a>.<a href="#63807" title="=&gt; A">body</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="delimiter">}</span>

  <span class="comment">/**
   * Wrap an existing request. Useful to extend a request.
   */</span>
  <span class="keyword">class</span> <a title="class WrappedRequest[A] extends java.lang.Object with play.api.mvc.Request[A] with ScalaObject" id="16201">WrappedRequest</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="16713">A</a><span class="delimiter">]</span><a href="#16201" title="ScalaObject" class="delimiter">(</a><a title="play.api.mvc.Request[A]" id="226320">request</a>: <a href="#16009" title="play.api.mvc.Request[A]">Request</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#16009" title="play.api.mvc.Request[A]">Request</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; A" id="226312">body</a> = <a href="#226320" title="play.api.mvc.Request[A]">request</a>.<a href="#63807" title="=&gt; A">body</a>
    <span class="keyword">def</span> <a title="=&gt; play.api.mvc.Headers" id="226313">headers</a> = <a href="#226320" title="play.api.mvc.Request[A]">request</a>.<a href="#63785" title="=&gt; play.api.mvc.Headers">headers</a>
    <span class="keyword">def</span> <a title="=&gt; Map[String,Seq[String]]" id="226314">queryString</a> = <a href="#226320" title="play.api.mvc.Request[A]">request</a>.<a href="#63784" title="=&gt; Map[String,Seq[String]]">queryString</a>
    <span class="keyword">def</span> <a title="=&gt; String" id="226315">path</a> = <a href="#226320" title="play.api.mvc.Request[A]">request</a>.<a href="#63782" title="=&gt; String">path</a>
    <span class="keyword">def</span> <a title="=&gt; String" id="226316">uri</a> = <a href="#226320" title="play.api.mvc.Request[A]">request</a>.<a href="#63781" title="=&gt; String">uri</a>
    <span class="keyword">def</span> <a title="=&gt; String" id="226317">method</a> = <a href="#226320" title="play.api.mvc.Request[A]">request</a>.<a href="#63783" title="=&gt; String">method</a>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * The HTTP response.
   */</span>
  @implicitNotFound<span class="delimiter">(</span><span class="string">&quot;Cannot find any HTTP Response here&quot;</span><span class="delimiter">)</span>
  <span class="keyword">trait</span> <a title="trait Response extends java.lang.Object" id="16303">Response</a> <span title="java.lang.Object" class="delimiter">{</span>

    <span class="comment">/**
     * Handles a result.
     *
     * Depending on the result type, it will be sent synchronously or asynchronously.
     */</span>
    <span class="keyword">def</span> <a title="(result: play.api.mvc.Result)Unit" id="226339">handle</a><span class="delimiter">(</span><a title="play.api.mvc.Result" id="226341">result</a>: <a href="Results.scala.html#15655" title="play.api.mvc.Result">Result</a><span class="delimiter">)</span>: <span title="Unit">Unit</span>

  <span class="delimiter">}</span>

  <span class="comment">/**
   * Defines a `Call`, which describes an HTTP request and can be used to create links or fill redirect data.
   *
   * These values are usually generated by the reverse router.
   *
   * @param method the request HTTP method
   * @param url the request URL
   */</span>
  case <span class="keyword">class</span> <a title="class Call extends play.mvc.Call with ScalaObject with Product with Serializable" id="229331">Call</a><a href="#229331" title="ScalaObject" class="delimiter">(</a><a title="String" id="229326">method</a>: <span title="String">String</span>, <a title="String" id="229327">url</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> play.mvc.<a href="../../mvc/Call.java.html#21201" title="play.mvc.Call">Call</a> <span class="delimiter">{</span>

    <span class="comment">/**
     * Transform this call to an absolute URL.
     */</span>
    <span class="keyword">def</span> <a title="(secure: Boolean)(implicit request: play.api.mvc.RequestHeader)java.lang.String" id="100768">absoluteURL</a><span class="delimiter">(</span><a title="Boolean" id="226358">secure</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="play.api.mvc.RequestHeader" id="226348">request</a>: <a href="#16108" title="play.api.mvc.RequestHeader">RequestHeader</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="java.lang.String(&quot;http&quot;)" class="string">&quot;http&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#226358" title="Boolean">secure</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;s&quot;)" class="string">&quot;s&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;://&quot;)" class="string">&quot;://&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#226348" title="play.api.mvc.RequestHeader">request</a>.<a href="#63786" title="=&gt; String">host</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#229331" title="Call.this.type" class="keyword">this</a>.<a href="#229327" title="=&gt; String">url</a>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Transform this call to an WebSocket URL.
     */</span>
    <span class="keyword">def</span> <a title="(secure: Boolean)(implicit request: play.api.mvc.RequestHeader)java.lang.String" id="100769">webSocketURL</a><span class="delimiter">(</span><a title="Boolean" id="226368">secure</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="play.api.mvc.RequestHeader" id="226360">request</a>: <a href="#16108" title="play.api.mvc.RequestHeader">RequestHeader</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="java.lang.String(&quot;ws&quot;)" class="string">&quot;ws&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#226368" title="Boolean">secure</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;s&quot;)" class="string">&quot;s&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;://&quot;)" class="string">&quot;://&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#226360" title="play.api.mvc.RequestHeader">request</a>.<a href="#63786" title="=&gt; String">host</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#229331" title="Call.this.type" class="keyword">this</a>.<a href="#229327" title="=&gt; String">url</a>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="100770">toString</a> = <a href="#229327" title="=&gt; String">url</a>

  <span class="delimiter">}</span>

  <span class="comment">/**
   * The HTTP headers set.
   */</span>
  <span class="keyword">trait</span> <a title="trait Headers extends java.lang.Object with ScalaObject" id="16075">Headers</a> <span title="ScalaObject" class="delimiter">{</span>

    <span class="comment">/**
     * Optionally returns the first header value associated with a key.
     */</span>
    <span class="keyword">def</span> <a title="(key: String)Option[String]" id="63533">get</a><span class="delimiter">(</span><a title="String" id="99093">key</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="#63535" title="(key: String)Seq[String]">getAll</a><span class="delimiter">(</span><a href="#99093" title="String">key</a><span class="delimiter">)</span>.<span title="=&gt; Option[String]">headOption</span>

    <span class="comment">/**
     * Retrieves the first header value which is associated with the given key.
     */</span>
    <span class="keyword">def</span> <a title="(key: String)String" id="63534">apply</a><span class="delimiter">(</span><a title="String" id="226437">key</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#63533" title="(key: String)Option[String]">get</a><span class="delimiter">(</span><a href="#226437" title="String">key</a><span class="delimiter">)</span>.<span title="(default: =&gt; String)String">getOrElse</span><span class="delimiter">(</span>scala.sys.<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Header doesn\'t exist&quot;)" class="string">&quot;Header doesn't exist&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="comment">/**
     * Retrieve all header values associated with the given key.
     */</span>
    <span class="keyword">def</span> <a title="(key: String)Seq[String]" id="63535">getAll</a><span class="delimiter">(</span><a title="String" id="63709">key</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span>

    <span class="comment">/**
     * Retrieve all header keys
     */</span>
    <span class="keyword">def</span> <a title="=&gt; Set[String]" id="63536">keys</a>: <span title="Set[String]">Set</span><span class="delimiter">[</span>String<span class="delimiter">]</span>

    <span class="comment">/**
     * Transform the Headers to a Map
     */</span>
    <span class="keyword">def</span> <a title="=&gt; Map[String,Seq[String]]" id="63537">toMap</a>: <span title="Map[String,Seq[String]]">Map</span><span class="delimiter">[</span>String, Seq<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#63536" title="=&gt; Set[String]">keys</a>.<span title="(f: String =&gt; (String, Seq[String]))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Set[String],(String, Seq[String]),scala.collection.immutable.Set[(String, Seq[String])]])scala.collection.immutable.Set[(String, Seq[String])]">map</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.Set.Coll,(String, Seq[String]),scala.collection.immutable.Set[(String, Seq[String])]]" class="delimiter">{</span> <a title="String" id="226473">headerKey</a> =&gt;
      <span title="(_1: String, _2: Seq[String])(String, Seq[String])" class="delimiter">(</span><a href="#226473" title="String">headerKey</a>, <a href="#63535" title="(key: String)Seq[String]">getAll</a><span class="delimiter">(</span><a href="#226473" title="String">headerKey</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>.<span title="(implicit ev: &lt;:&lt;[(String, Seq[String]),(String, Seq[String])])scala.collection.immutable.Map[String,Seq[String]]">toMap</span>

    <span class="comment">/**
     * Transform the Headers to a Map by ignoring multiple values.
     */</span>
    <span class="keyword">def</span> <a title="=&gt; Map[String,String]" id="63538">toSimpleMap</a>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span> = <a href="#63536" title="=&gt; Set[String]">keys</a>.<span title="(f: String =&gt; (String, String))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Set[String],(String, String),scala.collection.immutable.Set[(String, String)]])scala.collection.immutable.Set[(String, String)]">map</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.Set.Coll,(String, String),scala.collection.immutable.Set[(String, String)]]" class="delimiter">{</span> <a title="String" id="226553">headerKey</a> =&gt;
      <span title="(_1: String, _2: String)(String, String)" class="delimiter">(</span><a href="#226553" title="String">headerKey</a>, <a href="#63534" title="(key: String)String">apply</a><span class="delimiter">(</span><a href="#226553" title="String">headerKey</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>.<span title="(implicit ev: &lt;:&lt;[(String, String),(String, String)])scala.collection.immutable.Map[String,String]">toMap</span>

  <span class="delimiter">}</span>

  <span class="comment">/**
   * Trait that should be extended by the Cookie helpers.
   */</span>
  <span class="keyword">trait</span> <a title="trait CookieBaker[T &lt;: AnyRef] extends java.lang.Object with ScalaObject" id="16300">CookieBaker</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: AnyRef" id="16714">T</a> &lt;: AnyRef<span class="delimiter">]</span> <span title="ScalaObject" class="delimiter">{</span>

    <span class="comment">/**
     * The cookie name.
     */</span>
    <span class="keyword">val</span> <a title="=&gt; String" id="76493">COOKIE_NAME</a>: <span title="String">String</span>

    <span class="comment">/**
     * Default cookie, returned in case of error or if missing in the HTTP headers.
     */</span>
    <span class="keyword">val</span> <a title="=&gt; T" id="76494">emptyCookie</a>: <a href="#16714" title="T">T</a>

    <span class="comment">/**
     * `true` if the Cookie is signed. Defaults to false.
     */</span>
    <span class="keyword">val</span> <a title="Boolean" id="76495">isSigned</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>

    <span class="comment">/**
     * Encodes the data as a `String`.
     */</span>
    <span class="keyword">def</span> <a title="(data: Map[String,String])String" id="76497">encode</a><span class="delimiter">(</span><a title="Map[String,String]" id="226605">data</a>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="java.lang.String" id="226607">encoded</a> = java.net.<span title="object java.net.URLEncoder">URLEncoder</span>.<span title="(x$1: java.lang.String, x$2: java.lang.String)java.lang.String">encode</span><span class="delimiter">(</span><a href="#226605" title="Map[String,String]">data</a>.<span title="(p: (String, String) =&gt; Boolean)scala.collection.immutable.Map[String,String]">filterNot</span><span class="delimiter">(</span><a href="#226614" title="(String, String)">_</a>.<span title="=&gt; String">_1</span>.<span title="(x$1: java.lang.CharSequence)Boolean">contains</span><span class="delimiter">(</span><span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(f: (String, String) =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[String,String],java.lang.String,scala.collection.immutable.Iterable[java.lang.String]])scala.collection.immutable.Iterable[java.lang.String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.Iterable.Coll,java.lang.String,scala.collection.immutable.Iterable[java.lang.String]]" class="delimiter">(</span><a title="(String, String)" id="226634">d</a> =&gt; <a href="#226634" title="(String, String)">d</a>.<span title="=&gt; String">_1</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#226634" title="(String, String)">d</a>.<span title="=&gt; String">_2</span><span class="delimiter">)</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;\00&quot;)" class="string">&quot;\u0000&quot;</span><span class="delimiter">)</span>, <span title="java.lang.String(&quot;UTF-8&quot;)" class="string">&quot;UTF-8&quot;</span><span class="delimiter">)</span>
      <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#76495" title="=&gt; Boolean">isSigned</a><span class="delimiter">)</span>
        <a href="../libs/Crypto.scala.html#12956" title="object play.api.libs.Crypto">Crypto</a>.<a href="../libs/Crypto.scala.html#165167" title="(message: String)String">sign</a><span class="delimiter">(</span><a href="#226607" title="java.lang.String">encoded</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;-&quot;)" class="string">&quot;-&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#226607" title="java.lang.String">encoded</a>
      <span class="keyword">else</span>
        <a href="#226607" title="java.lang.String">encoded</a>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Decodes from an encoded `String`.
     */</span>
    <span class="keyword">def</span> <a title="(data: String)Map[String,String]" id="76498">decode</a><span class="delimiter">(</span><a title="String" id="226673">data</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span> = <span class="delimiter">{</span>

      <span class="keyword">def</span> <a title="(data: String)scala.collection.immutable.Map[java.lang.String,String]" id="226675">urldecode</a><span class="delimiter">(</span><a title="String" id="226676">data</a>: <span title="String">String</span><span class="delimiter">)</span> = java.net.<span title="object java.net.URLDecoder">URLDecoder</span>.<span title="(x$1: java.lang.String, x$2: java.lang.String)java.lang.String">decode</span><span class="delimiter">(</span><a href="#226676" title="String">data</a>, <span title="java.lang.String(&quot;UTF-8&quot;)" class="string">&quot;UTF-8&quot;</span><span class="delimiter">)</span>.<span title="(x$1: java.lang.String)Array[java.lang.String]">split</span><span title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]" class="delimiter">(</span><span title="java.lang.String(&quot;\00&quot;)" class="string">&quot;\u0000&quot;</span><span class="delimiter">)</span>.<span title="(f: java.lang.String =&gt; Array[java.lang.String])(implicit bf: scala.collection.generic.CanBuildFrom[Array[java.lang.String],Array[java.lang.String],Array[Array[java.lang.String]]])Array[Array[java.lang.String]]">map</span><span title="(xs: Array[Array[java.lang.String]])scala.collection.mutable.ArrayOps[Array[java.lang.String]]" class="delimiter">(</span><a href="#227126" title="java.lang.String">_</a>.<span title="(x$1: java.lang.String)Array[java.lang.String]">split</span><span class="delimiter">(</span><span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(f: Array[java.lang.String] =&gt; (java.lang.String, String))(implicit bf: scala.collection.generic.CanBuildFrom[Array[Array[java.lang.String]],(java.lang.String, String),Array[(java.lang.String, String)]])Array[(java.lang.String, String)]">map</span><span title="(xs: Array[(java.lang.String, String)])scala.collection.mutable.ArrayOps[(java.lang.String, String)]" class="delimiter">(</span><a title="Array[java.lang.String]" id="227609">p</a> =&gt; <a href="#227609" title="(i: Int)java.lang.String">p</a><span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="(y: String)(java.lang.String, String)">-&gt;</span> <a href="#227609" title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]">p</a>.<span title="(n: Int)Array[java.lang.String]">drop</span><span title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]" class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(implicit ev: &lt;:&lt;[(java.lang.String, String),(java.lang.String, String)])scala.collection.immutable.Map[java.lang.String,String]">toMap</span>

      <span class="keyword">try</span> <span class="delimiter">{</span>
        <span title="Map[String,String]" class="keyword">if</span> <span class="delimiter">(</span><a href="#76495" title="=&gt; Boolean">isSigned</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Array[java.lang.String]" id="228150">splitted</a> = <a href="#226673" title="String">data</a>.<span title="(x$1: java.lang.String)Array[java.lang.String]">split</span><span class="delimiter">(</span><span title="java.lang.String(&quot;-&quot;)" class="string">&quot;-&quot;</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="String" id="228151">message</a> = <a href="#228150" title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]">splitted</a>.<span title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]">tail</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;-&quot;)" class="string">&quot;-&quot;</span><span class="delimiter">)</span>
          <span title="Map[String,String]" class="keyword">if</span> <span class="delimiter">(</span><a href="#228150" title="(i: Int)java.lang.String">splitted</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../libs/Crypto.scala.html#12956" title="object play.api.libs.Crypto">Crypto</a>.<a href="../libs/Crypto.scala.html#165167" title="(message: String)String">sign</a><span class="delimiter">(</span><a href="#228151" title="String">message</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#226675" title="(data: String)scala.collection.immutable.Map[java.lang.String,String]">urldecode</a><span class="delimiter">(</span><a href="#228151" title="String">message</a><span class="delimiter">)</span>
          <span class="keyword">else</span>
            <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="[A, B]=&gt; scala.collection.immutable.Map[A,B]">empty</span><span title="scala.collection.immutable.Map[String,String]" class="delimiter">[</span><span title="String">String</span>, <span title="String">String</span><span class="delimiter">]</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#226675" title="(data: String)scala.collection.immutable.Map[java.lang.String,String]">urldecode</a><span class="delimiter">(</span><a href="#226673" title="String">data</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="comment">// fail gracefully is the session cookie is corrupted</span>
        <span class="keyword">case</span> <span title="scala.collection.immutable.Map[String,String]">_</span> =&gt; <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="[A, B]=&gt; scala.collection.immutable.Map[A,B]">empty</span><span title="scala.collection.immutable.Map[String,String]" class="delimiter">[</span><span title="String">String</span>, <span title="String">String</span><span class="delimiter">]</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Encodes the data as a `Cookie`.
     */</span>
    <span class="keyword">def</span> <a title="(data: T)play.api.mvc.Cookie" id="76499">encodeAsCookie</a><span class="delimiter">(</span><a title="T" id="228420">data</a>: <a href="#16714" title="T">T</a><span class="delimiter">)</span>: <a href="#229345" title="play.api.mvc.Cookie">Cookie</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="String" id="228422">cookie</a> = <a href="#76497" title="(data: Map[String,String])String">encode</a><span class="delimiter">(</span><a href="#76502" title="(cookie: T)Map[String,String]">serialize</a><span class="delimiter">(</span><a href="#228420" title="T">data</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#229345" title="(name: String, value: String, maxAge: Int, path: String, domain: Option[String], secure: Boolean, httpOnly: Boolean)play.api.mvc.Cookie">Cookie</a><span class="delimiter">(</span><a href="#76493" title="=&gt; String">COOKIE_NAME</a>, <a href="#228422" title="String">cookie</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Decodes the data from a `Cookie`.
     */</span>
    <span class="keyword">def</span> <a title="(cookie: Option[play.api.mvc.Cookie])T" id="76500">decodeFromCookie</a><span class="delimiter">(</span><a title="Option[play.api.mvc.Cookie]" id="76512">cookie</a>: <span title="Option[play.api.mvc.Cookie]">Option</span><span class="delimiter">[</span>Cookie<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#16714" title="T">T</a> = <span class="delimiter">{</span>
      <a href="#76512" title="Option[play.api.mvc.Cookie]">cookie</a>.<span title="(p: play.api.mvc.Cookie =&gt; Boolean)Option[play.api.mvc.Cookie]">filter</span><span class="delimiter">(</span><a href="#228477" title="play.api.mvc.Cookie">_</a>.<a href="#228438" title="=&gt; String">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#76493" title="=&gt; String">COOKIE_NAME</a><span class="delimiter">)</span>.<span title="(f: play.api.mvc.Cookie =&gt; T)Option[T]">map</span><span class="delimiter">(</span><a title="play.api.mvc.Cookie" id="228486">c</a> =&gt; <a href="#76501" title="(data: Map[String,String])T">deserialize</a><span class="delimiter">(</span><a href="#76498" title="(data: String)Map[String,String]">decode</a><span class="delimiter">(</span><a href="#228486" title="play.api.mvc.Cookie">c</a>.<a href="#228439" title="=&gt; String">value</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(default: =&gt; T)T">getOrElse</span><span class="delimiter">(</span><a href="#76494" title="=&gt; T">emptyCookie</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Builds the cookie object from the given data map.
     *
     * @param data the data map to build the cookie object
     * @return a new cookie object
     */</span>
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(data: Map[String,String])T" id="76501">deserialize</a><span class="delimiter">(</span><a title="Map[String,String]" id="228487">data</a>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#16714" title="T">T</a>

    <span class="comment">/**
     * Converts the given cookie object into a data map.
     *
     * @param cookie the cookie object to serialize into a map
     * @return a new `Map` storing the key-value pairs for the given cookie
     */</span>
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(cookie: T)Map[String,String]" id="76502">serialize</a><span class="delimiter">(</span><a title="T" id="228423">cookie</a>: <a href="#16714" title="T">T</a><span class="delimiter">)</span>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span>

  <span class="delimiter">}</span>

  <span class="comment">/**
   * HTTP Session.
   *
   * Session data are encoded into an HTTP cookie, and can only contain simple `String` values.
   */</span>
  case <span class="keyword">class</span> <a title="class Session extends java.lang.Object with ScalaObject with Product with Serializable" id="225515">Session</a><a href="#225515" title="ScalaObject" class="delimiter">(</a><a title="Map[String,String]" id="228643">data</a>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span> = <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="[A, B]=&gt; scala.collection.immutable.Map[A,B]">empty</span><span title="scala.collection.immutable.Map[String,String]" class="delimiter">[</span><span title="String">String</span>, <span title="String">String</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>

    <span class="comment">/**
     * Optionally returns the session value associated with a key.
     */</span>
    <span class="keyword">def</span> <a title="(key: String)Option[String]" id="98739">get</a><span class="delimiter">(</span><a title="String" id="228499">key</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#228643" title="=&gt; Map[String,String]">data</a>.<span title="(key: String)Option[String]">get</span><span class="delimiter">(</span><a href="#228499" title="String">key</a><span class="delimiter">)</span>

    <span class="comment">/**
     * Returns `true` if this session is empty.
     */</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="98740">isEmpty</a>: <span title="Boolean">Boolean</span> = <a href="#228643" title="=&gt; Map[String,String]">data</a>.<span title="=&gt; Boolean">isEmpty</span>

    <span class="comment">/**
     * Adds a value to the session, and returns a new session.
     *
     * For example:
     * {{{
     * session + (&quot;username&quot; -&gt; &quot;bob&quot;)
     * }}}
     *
     * @param kv the key-value pair to add
     * @return the modified session
     */</span>
    <span class="keyword">def</span> <a title="(kv: (String, String))play.api.mvc.Session" id="98741">+</a><span class="delimiter">(</span><a title="(String, String)" id="228506">kv</a>: <span title="(String, String)" class="delimiter">(</span>String, String<span class="delimiter">)</span><span class="delimiter">)</span> = <a href="#225515" title="(data: Map[String,String])play.api.mvc.Session">copy</a><span class="delimiter">(</span><a href="#228643" title="=&gt; Map[String,String]">data</a> <span title="(kv: (String, String))scala.collection.immutable.Map[String,String]">+</span> <a href="#228506" title="(String, String)">kv</a><span class="delimiter">)</span>

    <span class="comment">/**
     * Removes any value from the session.
     *
     * For example:
     * {{{
     * session - &quot;username&quot;
     * }}}
     *
     * @param key the key to remove
     * @return the modified session
     */</span>
    <span class="keyword">def</span> <a title="(key: String)play.api.mvc.Session" id="98742">-</a><span class="delimiter">(</span><a title="String" id="228565">key</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#225515" title="(data: Map[String,String])play.api.mvc.Session">copy</a><span class="delimiter">(</span><a href="#228643" title="=&gt; Map[String,String]">data</a> <span title="(key: String)scala.collection.immutable.Map[String,String]">-</span> <a href="#228565" title="String">key</a><span class="delimiter">)</span>

    <span class="comment">/**
     * Retrieves the session value which is associated with the given key.
     */</span>
    <span class="keyword">def</span> <a title="(key: String)String" id="98743">apply</a><span class="delimiter">(</span><a title="String" id="228576">key</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#228643" title="(key: String)String">data</a><span class="delimiter">(</span><a href="#228576" title="String">key</a><span class="delimiter">)</span>

  <span class="delimiter">}</span>

  <span class="comment">/**
   * Helper utilities to manage the Session cookie.
   */</span>
  <span class="keyword">object</span> <a title="object play.api.mvc.Session" id="228646">Session</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#16300" title="play.api.mvc.CookieBaker[play.api.mvc.Session]">CookieBaker</a><span class="delimiter">[</span>Session<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.lang.String" id="225507">COOKIE_NAME</a> = <span title="java.lang.String(&quot;PLAY_SESSION&quot;)" class="string">&quot;PLAY_SESSION&quot;</span>
    <span class="keyword">val</span> <a title="play.api.mvc.Session" id="225509">emptyCookie</a> = <a href="#228643" title="play.api.mvc.Session" class="keyword">new</a> <a href="#225515" title="play.api.mvc.Session">Session</a>
    <span class="keyword">override</span> <span class="keyword">val</span> <a title="Boolean" id="225511">isSigned</a> = <span title="Boolean(true)" class="keyword">true</span>

    <span class="keyword">def</span> <a title="(data: Map[String,String])play.api.mvc.Session" id="225513">deserialize</a><span class="delimiter">(</span><a title="Map[String,String]" id="228634">data</a>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="play.api.mvc.Session" class="keyword">new</span> <a href="#225515" title="play.api.mvc.Session">Session</a><span class="delimiter">(</span><a href="#228634" title="Map[String,String]">data</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(session: play.api.mvc.Session)Map[String,String]" id="225514">serialize</a><span class="delimiter">(</span><a title="play.api.mvc.Session" id="228637">session</a>: <a href="#225515" title="play.api.mvc.Session">Session</a><span class="delimiter">)</span> = <a href="#228637" title="play.api.mvc.Session">session</a>.<a href="#228643" title="=&gt; Map[String,String]">data</a>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * HTTP Flash scope.
   *
   * Flash data are encoded into an HTTP cookie, and can only contain simple `String` values.
   */</span>
  case <span class="keyword">class</span> <a title="class Flash extends java.lang.Object with ScalaObject with Product with Serializable" id="76510">Flash</a><a href="#76510" title="ScalaObject" class="delimiter">(</a><a title="Map[String,String]" id="228795">data</a>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span> = <span title="=&gt; scala.collection.immutable.Map.type">Map</span>.<span title="[A, B]=&gt; scala.collection.immutable.Map[A,B]">empty</span><span title="scala.collection.immutable.Map[String,String]" class="delimiter">[</span><span title="String">String</span>, <span title="String">String</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>

    <span class="comment">/**
     * Optionally returns the flash value associated with a key.
     */</span>
    <span class="keyword">def</span> <a title="(key: String)Option[String]" id="76486">get</a><span class="delimiter">(</span><a title="String" id="228651">key</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#228795" title="=&gt; Map[String,String]">data</a>.<span title="(key: String)Option[String]">get</span><span class="delimiter">(</span><a href="#228651" title="String">key</a><span class="delimiter">)</span>

    <span class="comment">/**
     * Returns `true` if this flash scope is empty.
     */</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="76487">isEmpty</a>: <span title="Boolean">Boolean</span> = <a href="#228795" title="=&gt; Map[String,String]">data</a>.<span title="=&gt; Boolean">isEmpty</span>

    <span class="comment">/**
     * Adds a value to the flash scope, and returns a new flash scope.
     *
     * For example:
     * {{{
     * flash + (&quot;success&quot; -&gt; &quot;Done!&quot;)
     * }}}
     *
     * @param kv the key-value pair to add
     * @return the modified flash scope
     */</span>
    <span class="keyword">def</span> <a title="(kv: (String, String))play.api.mvc.Flash" id="76488">+</a><span class="delimiter">(</span><a title="(String, String)" id="228658">kv</a>: <span title="(String, String)" class="delimiter">(</span>String, String<span class="delimiter">)</span><span class="delimiter">)</span> = <a href="#76510" title="(data: Map[String,String])play.api.mvc.Flash">copy</a><span class="delimiter">(</span><a href="#228795" title="=&gt; Map[String,String]">data</a> <span title="(kv: (String, String))scala.collection.immutable.Map[String,String]">+</span> <a href="#228658" title="(String, String)">kv</a><span class="delimiter">)</span>

    <span class="comment">/**
     * Removes a value from the flash scope.
     *
     * For example:
     * {{{
     * flash - &quot;success&quot;
     * }}}
     *
     * @param key the key to remove
     * @return the modified flash scope
     */</span>
    <span class="keyword">def</span> <a title="(key: String)play.api.mvc.Flash" id="76489">-</a><span class="delimiter">(</span><a title="String" id="228717">key</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#76510" title="(data: Map[String,String])play.api.mvc.Flash">copy</a><span class="delimiter">(</span><a href="#228795" title="=&gt; Map[String,String]">data</a> <span title="(key: String)scala.collection.immutable.Map[String,String]">-</span> <a href="#228717" title="String">key</a><span class="delimiter">)</span>

    <span class="comment">/**
     * Retrieves the flash value that is associated with the given key.
     */</span>
    <span class="keyword">def</span> <a title="(key: String)String" id="76490">apply</a><span class="delimiter">(</span><a title="String" id="228728">key</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#228795" title="(key: String)String">data</a><span class="delimiter">(</span><a href="#228728" title="String">key</a><span class="delimiter">)</span>

  <span class="delimiter">}</span>

  <span class="comment">/**
   * Helper utilities to manage the Flash cookie.
   */</span>
  <span class="keyword">object</span> <a title="object play.api.mvc.Flash" id="228798">Flash</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#16300" title="play.api.mvc.CookieBaker[play.api.mvc.Flash]">CookieBaker</a><span class="delimiter">[</span>Flash<span class="delimiter">]</span> <span class="delimiter">{</span>

    <span class="keyword">val</span> <a title="java.lang.String" id="76504">COOKIE_NAME</a> = <span title="java.lang.String(&quot;PLAY_FLASH&quot;)" class="string">&quot;PLAY_FLASH&quot;</span>
    <span class="keyword">val</span> <a title="play.api.mvc.Flash" id="76506">emptyCookie</a> = <a href="#228795" title="play.api.mvc.Flash" class="keyword">new</a> <a href="#76510" title="play.api.mvc.Flash">Flash</a>

    <span class="keyword">def</span> <a title="(data: Map[String,String])play.api.mvc.Flash" id="76508">deserialize</a><span class="delimiter">(</span><a title="Map[String,String]" id="228786">data</a>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="play.api.mvc.Flash" class="keyword">new</span> <a href="#76510" title="play.api.mvc.Flash">Flash</a><span class="delimiter">(</span><a href="#228786" title="Map[String,String]">data</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(flash: play.api.mvc.Flash)Map[String,String]" id="76509">serialize</a><span class="delimiter">(</span><a title="play.api.mvc.Flash" id="228789">flash</a>: <a href="#76510" title="play.api.mvc.Flash">Flash</a><span class="delimiter">)</span> = <a href="#228789" title="play.api.mvc.Flash">flash</a>.<a href="#228795" title="=&gt; Map[String,String]">data</a>

  <span class="delimiter">}</span>

  <span class="comment">/**
   * An HTTP cookie.
   *
   * @param name the cookie name
   * @param value the cookie value
   * @param maxAge the cookie expiration date in seconds, `-1` for a transient cookie, or `0` for a cookie that expires now
   * @param path the cookie path, defaulting to the root path `/`
   * @param domain the cookie domain
   * @param secure whether this cookie is secured, sent only for HTTPS requests
   * @param httpOnly whether this cookie is HTTP only, i.e. not accessible from client-side JavaScipt code
   */</span>
  case <span class="keyword">class</span> <a title="class Cookie extends java.lang.Object with ScalaObject with Product with Serializable" id="229345">Cookie</a><a href="#229345" title="ScalaObject" class="delimiter">(</a><a title="String" id="228438">name</a>: <span title="String">String</span>, <a title="String" id="228439">value</a>: <span title="String">String</span>, <a title="Int" id="228440">maxAge</a>: <span title="Int">Int</span> = -<span title="Int(-1)" class="int">1</span>, <a title="String" id="228441">path</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span>, <a title="Option[String]" id="228442">domain</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span title="object None">None</span>, <a title="Boolean" id="228443">secure</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>, <a title="Boolean" id="228444">httpOnly</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>

  <span class="comment">/**
   * The HTTP cookies set.
   */</span>
  <span class="keyword">trait</span> <a title="trait Cookies extends java.lang.Object with ScalaObject" id="16060">Cookies</a> <span title="ScalaObject" class="delimiter">{</span>

    <span class="comment">/**
     * Optionally returns the cookie associated with a key.
     */</span>
    <span class="keyword">def</span> <a title="(name: String)Option[play.api.mvc.Cookie]" id="76357">get</a><span class="delimiter">(</span><a title="String" id="76377">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Option[play.api.mvc.Cookie]">Option</span><span class="delimiter">[</span>Cookie<span class="delimiter">]</span>

    <span class="comment">/**
     * Retrieves the cookie that is associated with the given key.
     */</span>
    <span class="keyword">def</span> <a title="(name: String)play.api.mvc.Cookie" id="76358">apply</a><span class="delimiter">(</span><a title="String" id="228942">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#229345" title="play.api.mvc.Cookie">Cookie</a> = <a href="#76357" title="(name: String)Option[play.api.mvc.Cookie]">get</a><span class="delimiter">(</span><a href="#228942" title="String">name</a><span class="delimiter">)</span>.<span title="(default: =&gt; play.api.mvc.Cookie)play.api.mvc.Cookie">getOrElse</span><span class="delimiter">(</span>scala.sys.<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Cookie doesn\'t exist&quot;)" class="string">&quot;Cookie doesn't exist&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="delimiter">}</span>

  <span class="comment">/**
   * Helper utilities to encode Cookies.
   */</span>
  <span class="keyword">object</span> <a title="object play.api.mvc.Cookies" id="16061">Cookies</a> <span title="ScalaObject" class="delimiter">{</span>

    <span class="keyword">import</span> scala.collection.<span title="object scala.collection.JavaConverters">JavaConverters</span>._

    <span class="comment">// We use netty here but just as an API to handle cookies encoding</span>
    <span class="keyword">import</span> org.jboss.netty.handler.codec.http.<span class="delimiter">{</span> CookieEncoder, CookieDecoder, DefaultCookie <span class="delimiter">}</span>

    <span class="comment">/**
     * Extract cookies from the Set-Cookie header.
     */</span>
    <span class="keyword">def</span> <a title="(header: Option[String])java.lang.Object with play.api.mvc.Cookies{lazy val cookies: Map[String,play.api.mvc.Cookie]}" id="76362">apply</a><span class="delimiter">(</span><a title="Option[String]" id="76366">header</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#76369" title="java.lang.Object with play.api.mvc.Cookies{lazy val cookies: Map[String,play.api.mvc.Cookie]}" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with play.api.mvc.Cookies" id="76369">Cookies</a> <span class="delimiter">{</span>

      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Map[String,play.api.mvc.Cookie]" id="76372">cookies</a>: <span title="Map[String,play.api.mvc.Cookie]">Map</span><span class="delimiter">[</span>String, Cookie<span class="delimiter">]</span> = <a href="#76366" title="Option[String]">header</a>.<span title="(f: String =&gt; Seq[play.api.mvc.Cookie])Option[Seq[play.api.mvc.Cookie]]">map</span><span class="delimiter">(</span><a href="#16061" title="object play.api.mvc.Cookies">Cookies</a>.<a href="#76364" title="(cookieHeader: String)Seq[play.api.mvc.Cookie]">decode</a><span class="delimiter">(</span><a href="#76391" title="String">_</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(default: =&gt; Seq[play.api.mvc.Cookie])Seq[play.api.mvc.Cookie]">getOrElse</span><span class="delimiter">(</span><span title="object Seq">Seq</span>.<span title="Seq[Nothing]">empty</span><span class="delimiter">)</span>.<span title="(f: play.api.mvc.Cookie =&gt; String)scala.collection.immutable.Map[String,Seq[play.api.mvc.Cookie]]">groupBy</span><span class="delimiter">(</span><a href="#76441" title="play.api.mvc.Cookie">_</a>.<a href="#228438" title="=&gt; String">name</a><span class="delimiter">)</span>.<span title="(f: Seq[play.api.mvc.Cookie] =&gt; play.api.mvc.Cookie)scala.collection.immutable.Map[String,play.api.mvc.Cookie]">mapValues</span><span class="delimiter">(</span><a href="#76465" title="Seq[play.api.mvc.Cookie]">_</a>.<span title="=&gt; play.api.mvc.Cookie">head</span><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(name: String)Option[play.api.mvc.Cookie]" id="76373">get</a><span class="delimiter">(</span><a title="String" id="76375">name</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#76371" title="=&gt; Map[String,play.api.mvc.Cookie]">cookies</a>.<span title="(key: String)Option[play.api.mvc.Cookie]">get</span><span class="delimiter">(</span><a href="#76375" title="String">name</a><span class="delimiter">)</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="76374">toString</a> = <a href="#76371" title="=&gt; Map[String,play.api.mvc.Cookie]">cookies</a>.<span title="()String">toString</span>

    <span class="delimiter">}</span>

    <span class="comment">/**
     * Encodes cookies as a proper HTTP header.
     *
     * @param cookies the Cookies to encode
     * @param discard discard these cookies as well
     * @return a valid Set-Cookie header value
     */</span>
    <span class="keyword">def</span> <a title="(cookies: Seq[play.api.mvc.Cookie], discard: Seq[String])String" id="76363">encode</a><span class="delimiter">(</span><a title="Seq[play.api.mvc.Cookie]" id="228950">cookies</a>: <span title="Seq[play.api.mvc.Cookie]">Seq</span><span class="delimiter">[</span>Cookie<span class="delimiter">]</span>, <a title="Seq[String]" id="228953">discard</a>: <span title="Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span title="object Nil">Nil</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="org.jboss.netty.handler.codec.http.CookieEncoder" id="228954">encoder</a> = <span title="org.jboss.netty.handler.codec.http.CookieEncoder" class="keyword">new</span> <span title="org.jboss.netty.handler.codec.http.CookieEncoder">CookieEncoder</span><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
      <a href="#228950" title="Seq[play.api.mvc.Cookie]">cookies</a>.<span title="(f: play.api.mvc.Cookie =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="play.api.mvc.Cookie" id="228979">c</a> =&gt;
        <a href="#228954" title="org.jboss.netty.handler.codec.http.CookieEncoder">encoder</a>.<span title="(x$1: org.jboss.netty.handler.codec.http.Cookie)Unit">addCookie</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="org.jboss.netty.handler.codec.http.DefaultCookie" id="229022">nc</a> = <span title="org.jboss.netty.handler.codec.http.DefaultCookie" class="keyword">new</span> <span title="org.jboss.netty.handler.codec.http.DefaultCookie">DefaultCookie</span><span class="delimiter">(</span><a href="#228979" title="play.api.mvc.Cookie">c</a>.<a href="#228438" title="=&gt; String">name</a>, <a href="#228979" title="play.api.mvc.Cookie">c</a>.<a href="#228439" title="=&gt; String">value</a><span class="delimiter">)</span>
          <a href="#229022" title="org.jboss.netty.handler.codec.http.DefaultCookie">nc</a>.<span title="(x$1: Int)Unit">setMaxAge</span><span class="delimiter">(</span><a href="#228979" title="play.api.mvc.Cookie">c</a>.<a href="#228440" title="=&gt; Int">maxAge</a><span class="delimiter">)</span>
          <a href="#229022" title="org.jboss.netty.handler.codec.http.DefaultCookie">nc</a>.<span title="(x$1: java.lang.String)Unit">setPath</span><span class="delimiter">(</span><a href="#228979" title="play.api.mvc.Cookie">c</a>.<a href="#228441" title="=&gt; String">path</a><span class="delimiter">)</span>
          <a href="#228979" title="play.api.mvc.Cookie">c</a>.<a href="#228442" title="=&gt; Option[String]">domain</a>.<span title="(f: String =&gt; Unit)Option[Unit]">map</span><span class="delimiter">(</span><a href="#229022" title="org.jboss.netty.handler.codec.http.DefaultCookie">nc</a>.<span title="(x$1: java.lang.String)Unit">setDomain</span><span class="delimiter">(</span><a href="#229079" title="String">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#229022" title="org.jboss.netty.handler.codec.http.DefaultCookie">nc</a>.<span title="(x$1: Boolean)Unit">setSecure</span><span class="delimiter">(</span><a href="#228979" title="play.api.mvc.Cookie">c</a>.<a href="#228443" title="=&gt; Boolean">secure</a><span class="delimiter">)</span>
          <a href="#229022" title="org.jboss.netty.handler.codec.http.DefaultCookie">nc</a>.<span title="(x$1: Boolean)Unit">setHttpOnly</span><span class="delimiter">(</span><a href="#228979" title="play.api.mvc.Cookie">c</a>.<a href="#228444" title="=&gt; Boolean">httpOnly</a><span class="delimiter">)</span>
          <a href="#229022" title="org.jboss.netty.handler.codec.http.DefaultCookie">nc</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#228953" title="Seq[String]">discard</a>.<span title="(f: String =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="String" id="229098">n</a> =&gt;
        <a href="#228954" title="org.jboss.netty.handler.codec.http.CookieEncoder">encoder</a>.<span title="(x$1: org.jboss.netty.handler.codec.http.Cookie)Unit">addCookie</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="org.jboss.netty.handler.codec.http.DefaultCookie" id="229101">nc</a> = <span title="org.jboss.netty.handler.codec.http.DefaultCookie" class="keyword">new</span> <span title="org.jboss.netty.handler.codec.http.DefaultCookie">DefaultCookie</span><span class="delimiter">(</span><a href="#229098" title="String">n</a>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
          <a href="#229101" title="org.jboss.netty.handler.codec.http.DefaultCookie">nc</a>.<span title="(x$1: Int)Unit">setMaxAge</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
          <a href="#229101" title="org.jboss.netty.handler.codec.http.DefaultCookie">nc</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#228954" title="org.jboss.netty.handler.codec.http.CookieEncoder">encoder</a>.<span title="()java.lang.String">encode</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Decodes a Set-Cookie header value as a proper cookie set.
     *
     * @param cookieHeader the Set-Cookie header value
     * @return decoded cookies
     */</span>
    <span class="keyword">def</span> <a title="(cookieHeader: String)Seq[play.api.mvc.Cookie]" id="76364">decode</a><span class="delimiter">(</span><a title="String" id="76392">cookieHeader</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Seq[play.api.mvc.Cookie]">Seq</span><span class="delimiter">[</span>Cookie<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span title="org.jboss.netty.handler.codec.http.CookieDecoder" class="keyword">new</span> <span title="org.jboss.netty.handler.codec.http.CookieDecoder">CookieDecoder</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="(x$1: java.lang.String)java.util.Set[org.jboss.netty.handler.codec.http.Cookie]">decode</span><span title="(s: java.util.Set[org.jboss.netty.handler.codec.http.Cookie])collection.JavaConverters.AsScala[scala.collection.mutable.Set[org.jboss.netty.handler.codec.http.Cookie]]" class="delimiter">(</span><a href="#76392" title="String">cookieHeader</a><span class="delimiter">)</span>.<span title="=&gt; scala.collection.mutable.Set[org.jboss.netty.handler.codec.http.Cookie]">asScala</span>.<span title="(f: org.jboss.netty.handler.codec.http.Cookie =&gt; play.api.mvc.Cookie)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.mutable.Set[org.jboss.netty.handler.codec.http.Cookie],play.api.mvc.Cookie,scala.collection.mutable.Set[play.api.mvc.Cookie]])scala.collection.mutable.Set[play.api.mvc.Cookie]">map</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.mutable.Set.Coll,play.api.mvc.Cookie,scala.collection.mutable.Set[play.api.mvc.Cookie]]" class="delimiter">{</span> <a title="org.jboss.netty.handler.codec.http.Cookie" id="229178">c</a> =&gt;
        <a href="#229345" title="(name: String, value: String, maxAge: Int, path: String, domain: Option[String], secure: Boolean, httpOnly: Boolean)play.api.mvc.Cookie">Cookie</a><span class="delimiter">(</span><a href="#229178" title="org.jboss.netty.handler.codec.http.Cookie">c</a>.<span title="()java.lang.String">getName</span>, <a href="#229178" title="org.jboss.netty.handler.codec.http.Cookie">c</a>.<span title="()java.lang.String">getValue</span>, <a href="#229178" title="org.jboss.netty.handler.codec.http.Cookie">c</a>.<span title="()Int">getMaxAge</span>, <span title="(x: java.lang.String)Option[java.lang.String]">Option</span><span class="delimiter">(</span><a href="#229178" title="org.jboss.netty.handler.codec.http.Cookie">c</a>.<span title="()java.lang.String">getPath</span><span class="delimiter">)</span>.<span title="(default: =&gt; java.lang.String)java.lang.String">getOrElse</span><span class="delimiter">(</span><span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span>, <span title="(x: java.lang.String)Option[java.lang.String]">Option</span><span class="delimiter">(</span><a href="#229178" title="org.jboss.netty.handler.codec.http.Cookie">c</a>.<span title="()java.lang.String">getDomain</span><span class="delimiter">)</span>, <a href="#229178" title="org.jboss.netty.handler.codec.http.Cookie">c</a>.<span title="()Boolean">isSecure</span>, <a href="#229178" title="org.jboss.netty.handler.codec.http.Cookie">c</a>.<span title="()Boolean">isHttpOnly</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>.<span title="=&gt; Seq[play.api.mvc.Cookie]">toSeq</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Merges an existing Set-Cookie header with new cookie values
     *
     * @param cookieHeader the existing Set-Cookie header value
     * @param cookies the new cookies to encode
     * @param discard discard these cookies as well
     * @return a valid Set-Cookie header value
     */</span>
    <span class="keyword">def</span> <a title="(cookieHeader: String, cookies: Seq[play.api.mvc.Cookie], discard: Seq[String])String" id="76365">merge</a><span class="delimiter">(</span><a title="String" id="229263">cookieHeader</a>: <span title="String">String</span>, <a title="Seq[play.api.mvc.Cookie]" id="229264">cookies</a>: <span title="Seq[play.api.mvc.Cookie]">Seq</span><span class="delimiter">[</span>Cookie<span class="delimiter">]</span>, <a title="Seq[String]" id="229267">discard</a>: <span title="Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span title="object Nil">Nil</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
      <a href="#76363" title="(cookies: Seq[play.api.mvc.Cookie], discard: Seq[String])String">encode</a><span class="delimiter">(</span><a href="#76364" title="(cookieHeader: String)Seq[play.api.mvc.Cookie]">decode</a><span class="delimiter">(</span><a href="#229263" title="String">cookieHeader</a><span class="delimiter">)</span> <span title="(that: scala.collection.GenTraversableOnce[play.api.mvc.Cookie])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[play.api.mvc.Cookie],play.api.mvc.Cookie,Seq[play.api.mvc.Cookie]])Seq[play.api.mvc.Cookie]">++</span> <a href="#229264" title="Seq[play.api.mvc.Cookie]">cookies</a>, <a href="#229267" title="Seq[String]">discard</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="delimiter">}</span>

<span class="delimiter">}</span>

        </pre>
    </body>
</html>