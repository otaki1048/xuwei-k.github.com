<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>play/play/api/libs/ws/WS.scala</title>
        <script type="text/javascript" src="../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> play.api.libs.ws

<span class="keyword">import</span> play.api.libs.concurrent._
<span class="keyword">import</span> play.api.libs.iteratee._
<span class="keyword">import</span> play.api.libs.iteratee.<a href="../iteratee/Iteratee.scala.html#14214" title="object play.api.libs.iteratee.Input">Input</a>._
<span class="keyword">import</span> play.api.libs.json._
<span class="keyword">import</span> play.api.http.<span class="delimiter">{</span> Writeable, ContentTypeOf <span class="delimiter">}</span>

<span class="keyword">import</span> com.ning.http.client.<span class="delimiter">{</span>
  AsyncHttpClient,
  RequestBuilderBase,
  FluentCaseInsensitiveStringsMap,
  HttpResponseBodyPart,
  HttpResponseHeaders,
  HttpResponseStatus,
  Response =&gt; AHCResponse
<span class="delimiter">}</span>

<span class="comment">/**
 * Asynchronous API to to query web services, as an http client.
 *
 * Usage example:
 * {{{
 * WS.url(&quot;http://example.com/feed&quot;).get()
 * WS.url(&quot;http://example.com/item&quot;).post(&quot;content&quot;)
 * }}}
 *
 * The value returned is a Promise[Response],
 * and you should use Play's asynchronous mechanisms to use this response.
 *
 */</span>
<span class="keyword">object</span> <a title="object play.api.libs.ws.WS" id="15345">WS</a> <span title="ScalaObject" class="delimiter">{</span>

  <span class="keyword">import</span> com.ning.http.client.<span title="object com.ning.http.client.Realm">Realm</span>.<span class="delimiter">{</span> AuthScheme, RealmBuilder <span class="delimiter">}</span>

  <span class="comment">/**
   * The underlying HTTP client.
   */</span>
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="com.ning.http.client.AsyncHttpClient" id="204910">client</a> = <span title="com.ning.http.client.AsyncHttpClient" class="keyword">new</span> <span title="com.ning.http.client.AsyncHttpClient">AsyncHttpClient</span><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Prepare a new request. You can then construct it by chaining calls.
   *
   * @param url the URL to request
   */</span>
  <span class="keyword">def</span> <a title="(url: String)play.api.libs.ws.WS.WSRequestHolder" id="204911">url</a><span class="delimiter">(</span><a title="String" id="208662">url</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#212070" title="play.api.libs.ws.WS.WSRequestHolder">WSRequestHolder</a> = <a href="#212070" title="(url: String, headers: Map[String,Seq[String]], queryString: Map[String,String], calc: Option[play.api.libs.ws.SignatureCalculator], auth: Option[(String, String, com.ning.http.client.Realm.AuthScheme)])play.api.libs.ws.WS.WSRequestHolder">WSRequestHolder</a><span class="delimiter">(</span><a href="#208662" title="String">url</a>, <span title="(elems: (String, Nothing)*)scala.collection.immutable.Map[String,Nothing]">Map</span><span class="delimiter">(</span><span class="delimiter">)</span>, <span title="(elems: (String, Nothing)*)scala.collection.immutable.Map[String,Nothing]">Map</span><span class="delimiter">(</span><span class="delimiter">)</span>, <span title="object None">None</span>, <span title="object None">None</span><span class="delimiter">)</span>

  <span class="comment">/**
   * A WS Request.
   */</span>
  <span class="keyword">class</span> <a title="class WSRequest extends com.ning.http.client.RequestBuilderBase[play.api.libs.ws.WS.WSRequest] with ScalaObject" id="204912">WSRequest</a><a href="#204912" title="ScalaObject" class="delimiter">(</a><a title="String" id="209713">_method</a>: <span title="String">String</span>, <a title="Option[(String, String, com.ning.http.client.Realm.AuthScheme)]" id="209714">_auth</a>: <span title="Option[(String, String, com.ning.http.client.Realm.AuthScheme)]">Option</span><span class="delimiter">[</span>Tuple3<span class="delimiter">[</span>String, String, AuthScheme<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Option[play.api.libs.ws.SignatureCalculator]" id="209715">_calc</a>: <span title="Option[play.api.libs.ws.SignatureCalculator]">Option</span><span class="delimiter">[</span>SignatureCalculator<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <span title="com.ning.http.client.RequestBuilderBase[play.api.libs.ws.WS.WSRequest]">RequestBuilderBase</span><span class="delimiter">[</span>WSRequest<span class="delimiter">]</span><span class="delimiter">(</span>classOf<span title="java.lang.Class[play.api.libs.ws.WS.WSRequest](classOf[play.api.libs.ws.WS$$WSRequest])" class="delimiter">[</span>WSRequest<span class="delimiter">]</span>, <a href="#209713" title="String">_method</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span class="delimiter">{</span>

    <span class="keyword">import</span> scala.collection.<span title="object scala.collection.JavaConverters">JavaConverters</span>._

    <span class="keyword">protected</span> <span class="keyword">var</span> <a title="Option[play.api.libs.ws.SignatureCalculator]" id="206014">calculator</a>: <span title="Option[play.api.libs.ws.SignatureCalculator]">Option</span><span class="delimiter">[</span>SignatureCalculator<span class="delimiter">]</span> = <a href="#209715" title="Option[play.api.libs.ws.SignatureCalculator]">_calc</a>

    <span class="keyword">protected</span> <span class="keyword">var</span> <a title="Map[String,Seq[String]]" id="206017">headers</a>: <span title="Map[String,Seq[String]]">Map</span><span class="delimiter">[</span>String, Seq<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">]</span> = <span title="(elems: (String, Nothing)*)scala.collection.immutable.Map[String,Nothing]">Map</span><span class="delimiter">(</span><span class="delimiter">)</span>

    <span class="keyword">protected</span> <span class="keyword">var</span> <a title="String" id="206020">_url</a>: <span title="String">String</span> = <span title="Null(null)" class="keyword">null</span>

    <span class="comment">//this will do a java mutable set hence the {} response</span>
    <a href="#209714" title="Option[(String, String, com.ning.http.client.Realm.AuthScheme)]">_auth</a>.<span title="(f: (String, String, com.ning.http.client.Realm.AuthScheme) =&gt; play.api.libs.ws.WS.WSRequest)Option[play.api.libs.ws.WS.WSRequest]">map</span><span class="delimiter">(</span><a title="(String, String, com.ning.http.client.Realm.AuthScheme)" id="209732">data</a> =&gt; <a href="#206022" title="(username: String, password: String, scheme: com.ning.http.client.Realm.AuthScheme)play.api.libs.ws.WS.WSRequest">auth</a><span class="delimiter">(</span><a href="#209732" title="(String, String, com.ning.http.client.Realm.AuthScheme)">data</a>.<span title="=&gt; String">_1</span>, <a href="#209732" title="(String, String, com.ning.http.client.Realm.AuthScheme)">data</a>.<span title="=&gt; String">_2</span>, <a href="#209732" title="(String, String, com.ning.http.client.Realm.AuthScheme)">data</a>.<span title="=&gt; com.ning.http.client.Realm.AuthScheme">_3</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(default: =&gt; Any)Any">getOrElse</span><span class="delimiter">(</span><span title="Unit" class="delimiter">{</span><span class="delimiter">}</span><span class="delimiter">)</span>

    <span class="comment">/**
     * Add http auth headers
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(username: String, password: String, scheme: com.ning.http.client.Realm.AuthScheme)play.api.libs.ws.WS.WSRequest" id="206022">auth</a><span class="delimiter">(</span><a title="String" id="209733">username</a>: <span title="String">String</span>, <a title="String" id="209734">password</a>: <span title="String">String</span>, <a title="com.ning.http.client.Realm.AuthScheme" id="209735">scheme</a>: <span title="com.ning.http.client.Realm.AuthScheme">AuthScheme</span><span class="delimiter">)</span>: <a href="#204912" title="play.api.libs.ws.WS.WSRequest">WSRequest</a> = <span class="delimiter">{</span>
      <a href="#204912" title="WSRequest.this.type" class="keyword">this</a>.<span title="(x$1: com.ning.http.client.Realm)play.api.libs.ws.WS.WSRequest">setRealm</span><span class="delimiter">(</span><span class="delimiter">(</span><span title="com.ning.http.client.Realm.RealmBuilder" class="keyword">new</span> <span title="com.ning.http.client.Realm.RealmBuilder">RealmBuilder</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        .<span title="(x$1: com.ning.http.client.Realm.AuthScheme)com.ning.http.client.Realm.RealmBuilder">setScheme</span><span class="delimiter">(</span><a href="#209735" title="com.ning.http.client.Realm.AuthScheme">scheme</a><span class="delimiter">)</span>
        .<span title="(x$1: java.lang.String)com.ning.http.client.Realm.RealmBuilder">setPrincipal</span><span class="delimiter">(</span><a href="#209733" title="String">username</a><span class="delimiter">)</span>
        .<span title="(x$1: java.lang.String)com.ning.http.client.Realm.RealmBuilder">setPassword</span><span class="delimiter">(</span><a href="#209734" title="String">password</a><span class="delimiter">)</span>
        .<span title="(x$1: Boolean)com.ning.http.client.Realm.RealmBuilder">setUsePreemptiveAuth</span><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
        .<span title="()com.ning.http.client.Realm">build</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Return the current headers of the request being constructed
     */</span>
    <span class="keyword">def</span> <a title="=&gt; Map[String,Seq[String]]" id="206023">allHeaders</a>: <span title="Map[String,Seq[String]]">Map</span><span class="delimiter">[</span>String, Seq<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span title="(m: java.util.Map[java.lang.String,java.util.List[java.lang.String]])collection.JavaConverters.AsScala[scala.collection.mutable.Map[java.lang.String,java.util.List[java.lang.String]]]">mapAsScalaMapConverter</span><span class="delimiter">(</span><a href="#204912" title="com.ning.http.client.RequestBuilderBase.RequestImpl">request</a>.<span title="()com.ning.http.client.FluentCaseInsensitiveStringsMap">getHeaders</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; scala.collection.mutable.Map[java.lang.String,java.util.List[java.lang.String]]">asScala</span>.<span title="(f: (java.lang.String, java.util.List[java.lang.String]) =&gt; (java.lang.String, Seq[java.lang.String]))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.mutable.Map[java.lang.String,java.util.List[java.lang.String]],(java.lang.String, Seq[java.lang.String]),scala.collection.mutable.Map[java.lang.String,Seq[java.lang.String]]])scala.collection.mutable.Map[java.lang.String,Seq[java.lang.String]]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.mutable.Map.Coll,(java.lang.String, Seq[java.lang.String]),scala.collection.mutable.Map[java.lang.String,Seq[java.lang.String]]]" class="delimiter">(</span><a title="(java.lang.String, java.util.List[java.lang.String])" id="210074">e</a> =&gt; <a href="#210074" title="(java.lang.String, java.util.List[java.lang.String])">e</a>.<span title="(x: java.lang.String)ArrowAssoc[java.lang.String]">_1</span> <span title="(y: Seq[java.lang.String])(java.lang.String, Seq[java.lang.String])">-&gt;</span> <a href="#210074" title="(java.lang.String, java.util.List[java.lang.String])">e</a>.<span title="(l: java.util.List[java.lang.String])collection.JavaConverters.AsScala[scala.collection.mutable.Buffer[java.lang.String]]">_2</span>.<span title="=&gt; scala.collection.mutable.Buffer[java.lang.String]">asScala</span>.<span title="=&gt; Seq[java.lang.String]">toSeq</span><span class="delimiter">)</span>.<span title="(implicit ev: &lt;:&lt;[(java.lang.String, Seq[java.lang.String]),(String, Seq[String])])scala.collection.immutable.Map[String,Seq[String]]">toMap</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Retrieve an HTTP header.
     */</span>
    <span class="keyword">def</span> <a title="(name: String)Option[String]" id="206024">header</a><span class="delimiter">(</span><a title="String" id="206268">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="#206017" title="=&gt; Map[String,Seq[String]]">headers</a>.<span title="(key: String)Option[Seq[String]]">get</span><span class="delimiter">(</span><a href="#206268" title="String">name</a><span class="delimiter">)</span>.<span title="(f: Seq[String] =&gt; Option[String])Option[String]">flatMap</span><span class="delimiter">(</span><a href="#210485" title="Seq[String]">_</a>.<span title="=&gt; Option[String]">headOption</span><span class="delimiter">)</span>

    <span class="comment">/**
     * The HTTP method.
     */</span>
    <span class="keyword">def</span> <a title="=&gt; String" id="206025">method</a>: <span title="String">String</span> = <a href="#209713" title="String">_method</a>

    <span class="comment">/**
     * The URL
     */</span>
    <span class="keyword">def</span> <a title="=&gt; String" id="206026">url</a>: <span title="String">String</span> = <a href="#206020" title="=&gt; String">_url</a>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(headers: java.util.Map[String,java.util.Collection[String]])scala.collection.immutable.Map[String,Seq[String]]" id="206027">ningHeadersToMap</a><span class="delimiter">(</span><a title="java.util.Map[String,java.util.Collection[String]]" id="210487">headers</a>: java.util.<span title="java.util.Map[String,java.util.Collection[String]]">Map</span><span class="delimiter">[</span>String, java.util.Collection<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> =
      <span title="(m: java.util.Map[String,java.util.Collection[String]])collection.JavaConverters.AsScala[scala.collection.mutable.Map[String,java.util.Collection[String]]]">mapAsScalaMapConverter</span><span class="delimiter">(</span><a href="#210487" title="java.util.Map[String,java.util.Collection[String]]">headers</a><span class="delimiter">)</span>.<span title="=&gt; scala.collection.mutable.Map[String,java.util.Collection[String]]">asScala</span>.<span title="(f: (String, java.util.Collection[String]) =&gt; (String, Seq[String]))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.mutable.Map[String,java.util.Collection[String]],(String, Seq[String]),scala.collection.mutable.Map[String,Seq[String]]])scala.collection.mutable.Map[String,Seq[String]]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.mutable.Map.Coll,(String, Seq[String]),scala.collection.mutable.Map[String,Seq[String]]]" class="delimiter">(</span><a title="(String, java.util.Collection[String])" id="210533">e</a> =&gt; <a href="#210533" title="(String, java.util.Collection[String])">e</a>.<span title="(x: String)ArrowAssoc[String]">_1</span> <span title="(y: Seq[String])(String, Seq[String])">-&gt;</span> <a href="#210533" title="(String, java.util.Collection[String])">e</a>.<span title="(i: java.util.Collection[String])collection.JavaConverters.AsScala[Iterable[String]]">_2</span>.<span title="=&gt; Iterable[String]">asScala</span>.<span title="=&gt; Seq[String]">toSeq</span><span class="delimiter">)</span>.<span title="(implicit ev: &lt;:&lt;[(String, Seq[String]),(String, Seq[String])])scala.collection.immutable.Map[String,Seq[String]]">toMap</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(headers: com.ning.http.client.FluentCaseInsensitiveStringsMap)scala.collection.immutable.Map[java.lang.String,Seq[java.lang.String]]" id="206028">ningHeadersToMap</a><span class="delimiter">(</span><a title="com.ning.http.client.FluentCaseInsensitiveStringsMap" id="210643">headers</a>: <span title="com.ning.http.client.FluentCaseInsensitiveStringsMap">FluentCaseInsensitiveStringsMap</span><span class="delimiter">)</span> =
      <span title="(m: java.util.Map[java.lang.String,java.util.List[java.lang.String]])collection.JavaConverters.AsScala[scala.collection.mutable.Map[java.lang.String,java.util.List[java.lang.String]]]">mapAsScalaMapConverter</span><span class="delimiter">(</span><a href="#210643" title="com.ning.http.client.FluentCaseInsensitiveStringsMap">headers</a><span class="delimiter">)</span>.<span title="=&gt; scala.collection.mutable.Map[java.lang.String,java.util.List[java.lang.String]]">asScala</span>.<span title="(f: (java.lang.String, java.util.List[java.lang.String]) =&gt; (java.lang.String, Seq[java.lang.String]))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.mutable.Map[java.lang.String,java.util.List[java.lang.String]],(java.lang.String, Seq[java.lang.String]),scala.collection.mutable.Map[java.lang.String,Seq[java.lang.String]]])scala.collection.mutable.Map[java.lang.String,Seq[java.lang.String]]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.mutable.Map.Coll,(java.lang.String, Seq[java.lang.String]),scala.collection.mutable.Map[java.lang.String,Seq[java.lang.String]]]" class="delimiter">(</span><a title="(java.lang.String, java.util.List[java.lang.String])" id="210669">e</a> =&gt; <a href="#210669" title="(java.lang.String, java.util.List[java.lang.String])">e</a>.<span title="(x: java.lang.String)ArrowAssoc[java.lang.String]">_1</span> <span title="(y: Seq[java.lang.String])(java.lang.String, Seq[java.lang.String])">-&gt;</span> <a href="#210669" title="(java.lang.String, java.util.List[java.lang.String])">e</a>.<span title="(l: java.util.List[java.lang.String])collection.JavaConverters.AsScala[scala.collection.mutable.Buffer[java.lang.String]]">_2</span>.<span title="=&gt; scala.collection.mutable.Buffer[java.lang.String]">asScala</span>.<span title="=&gt; Seq[java.lang.String]">toSeq</span><span class="delimiter">)</span>.<span title="(implicit ev: &lt;:&lt;[(java.lang.String, Seq[java.lang.String]),(java.lang.String, Seq[java.lang.String])])scala.collection.immutable.Map[java.lang.String,Seq[java.lang.String]]">toMap</span>

    <span class="keyword">private</span><span class="delimiter">[</span>libs<span class="delimiter">]</span> <span class="keyword">def</span> <a title="=&gt; play.api.libs.concurrent.Promise[play.api.libs.ws.Response]" id="206029">execute</a>: <a href="../concurrent/Promise.scala.html#13155" title="play.api.libs.concurrent.Promise[play.api.libs.ws.Response]">Promise</a><span class="delimiter">[</span>Response<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">import</span> com.ning.http.client.AsyncCompletionHandler
      <span class="keyword">var</span> <a title="Promise extends play.api.libs.concurrent.Promise[play.api.libs.ws.Response] with play.api.libs.concurrent.Redeemable[play.api.libs.ws.Response]" id="210775">result</a> = <a href="../concurrent/Promise.scala.html#77329" title="[A]()play.api.libs.concurrent.Promise[A] with play.api.libs.concurrent.Redeemable[A]">Promise</a><span title="()play.api.libs.concurrent.Promise[play.api.libs.ws.Response] with play.api.libs.concurrent.Redeemable[play.api.libs.ws.Response]" class="delimiter">[</span><a href="#212276" title="play.api.libs.ws.Response">Response</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#206014" title="=&gt; Option[play.api.libs.ws.SignatureCalculator]">calculator</a>.<span title="(f: play.api.libs.ws.SignatureCalculator =&gt; Unit)Option[Unit]">map</span><span class="delimiter">(</span><a href="#210781" title="play.api.libs.ws.SignatureCalculator">_</a>.<a href="#205558" title="(request: play.api.libs.ws.WS.WSRequest)Unit">sign</a><span class="delimiter">(</span><a href="#204912" title="play.api.libs.ws.WS.WSRequest" class="keyword">this</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#15345" title="object play.api.libs.ws.WS">WS</a>.<a href="#204909" title="=&gt; com.ning.http.client.AsyncHttpClient">client</a>.<span title="(x$1: com.ning.http.client.Request, x$2: com.ning.http.client.AsyncHandler[com.ning.http.client.Response])com.ning.http.client.ListenableFuture[com.ning.http.client.Response]">executeRequest</span><span class="delimiter">(</span><a href="#204912" title="WSRequest.this.type" class="keyword">this</a>.<span title="()com.ning.http.client.Request">build</span><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#210865" title="com.ning.http.client.AsyncCompletionHandler[com.ning.http.client.Response]" class="keyword">new</a> <a title="anonymous class $anon extends com.ning.http.client.AsyncCompletionHandler[com.ning.http.client.Response]" id="210865">AsyncCompletionHandler</a><span class="delimiter">[</span>AHCResponse<span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">override</span> <span class="keyword">def</span> <a title="(response: com.ning.http.client.Response)com.ning.http.client.Response" id="210889">onCompleted</a><span class="delimiter">(</span><a title="com.ning.http.client.Response" id="210899">response</a>: <span title="com.ning.http.client.Response">AHCResponse</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <a href="#210775" title="Promise extends play.api.libs.concurrent.Promise[play.api.libs.ws.Response] with play.api.libs.concurrent.Redeemable[play.api.libs.ws.Response]">result</a>.<a href="../concurrent/Promise.scala.html#99535" title="(a: =&gt; play.api.libs.ws.Response)Unit">redeem</a><span class="delimiter">(</span><a href="#212276" title="(ahcResponse: com.ning.http.client.Response)play.api.libs.ws.Response">Response</a><span class="delimiter">(</span><a href="#210899" title="com.ning.http.client.Response">response</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#210899" title="com.ning.http.client.Response">response</a>
        <span class="delimiter">}</span>
        <span class="keyword">override</span> <span class="keyword">def</span> <a title="(t: Throwable)Unit" id="210890">onThrowable</a><span class="delimiter">(</span><a title="Throwable" id="210913">t</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <a href="#210775" title="Promise extends play.api.libs.concurrent.Promise[play.api.libs.ws.Response] with play.api.libs.concurrent.Redeemable[play.api.libs.ws.Response]">result</a>.<a href="../concurrent/Promise.scala.html#99535" title="(a: =&gt; play.api.libs.ws.Response)Unit">redeem</a><span class="delimiter">(</span><span title="Nothing" class="keyword">throw</span> <a href="#210913" title="Throwable">t</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>
      <a href="#210775" title="Promise extends play.api.libs.concurrent.Promise[play.api.libs.ws.Response] with play.api.libs.concurrent.Redeemable[play.api.libs.ws.Response]">result</a>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Set an HTTP header.
     */</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(name: String, value: String)play.api.libs.ws.WS.WSRequest" id="206030">setHeader</a><span class="delimiter">(</span><a title="String" id="206284">name</a>: <span title="String">String</span>, <a title="String" id="206285">value</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#206017" title="(x$1: Map[String,Seq[String]])Unit">headers</a> = <a href="#206017" title="=&gt; Map[String,Seq[String]]">headers</a> <span title="(kv: (String, Seq[String]))scala.collection.immutable.Map[String,Seq[String]]">+</span> <span class="delimiter">(</span><a href="#206284" title="(x: String)ArrowAssoc[String]">name</a> <span title="(y: List[String])(String, List[String])">-&gt;</span> <span title="(xs: String*)List[String]">List</span><span class="delimiter">(</span><a href="#206285" title="String">value</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#204912" title="play.api.libs.ws.WS.WSRequest" class="keyword">super</a>.<span title="(x$1: java.lang.String, x$2: java.lang.String)play.api.libs.ws.WS.WSRequest">setHeader</span><span class="delimiter">(</span><a href="#206284" title="String">name</a>, <a href="#206285" title="String">value</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Add an HTTP header (used for headers with mutiple values).
     */</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(name: String, value: String)play.api.libs.ws.WS.WSRequest" id="206031">addHeader</a><span class="delimiter">(</span><a title="String" id="210928">name</a>: <span title="String">String</span>, <a title="String" id="210929">value</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#206017" title="(x$1: Map[String,Seq[String]])Unit">headers</a> = <a href="#206017" title="=&gt; Map[String,Seq[String]]">headers</a> <span title="(kv: (String, Seq[String]))scala.collection.immutable.Map[String,Seq[String]]">+</span> <span class="delimiter">(</span><a href="#210928" title="(x: String)ArrowAssoc[String]">name</a> <span title="(y: Seq[String])(String, Seq[String])">-&gt;</span> <span class="delimiter">(</span><a href="#206017" title="=&gt; Map[String,Seq[String]]">headers</a>.<span title="(key: String)Option[Seq[String]]">get</span><span class="delimiter">(</span><a href="#210928" title="String">name</a><span class="delimiter">)</span>.<span title="(default: =&gt; Seq[String])Seq[String]">getOrElse</span><span class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(elem: String)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[String],String,Seq[String]])Seq[String]">:+</span> <a href="#210929" title="String">value</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#204912" title="play.api.libs.ws.WS.WSRequest" class="keyword">super</a>.<span title="(x$1: java.lang.String, x$2: java.lang.String)play.api.libs.ws.WS.WSRequest">addHeader</span><span class="delimiter">(</span><a href="#210928" title="String">name</a>, <a href="#210929" title="String">value</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Defines the request headers.
     */</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(hdrs: com.ning.http.client.FluentCaseInsensitiveStringsMap)play.api.libs.ws.WS.WSRequest" id="206032">setHeaders</a><span class="delimiter">(</span><a title="com.ning.http.client.FluentCaseInsensitiveStringsMap" id="211071">hdrs</a>: <span title="com.ning.http.client.FluentCaseInsensitiveStringsMap">FluentCaseInsensitiveStringsMap</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#206017" title="(x$1: Map[String,Seq[String]])Unit">headers</a> = <a href="#206028" title="(headers: com.ning.http.client.FluentCaseInsensitiveStringsMap)scala.collection.immutable.Map[java.lang.String,Seq[java.lang.String]]">ningHeadersToMap</a><span class="delimiter">(</span><a href="#211071" title="com.ning.http.client.FluentCaseInsensitiveStringsMap">hdrs</a><span class="delimiter">)</span>
      <a href="#204912" title="play.api.libs.ws.WS.WSRequest" class="keyword">super</a>.<span title="(x$1: com.ning.http.client.FluentCaseInsensitiveStringsMap)play.api.libs.ws.WS.WSRequest">setHeaders</span><span class="delimiter">(</span><a href="#211071" title="com.ning.http.client.FluentCaseInsensitiveStringsMap">hdrs</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Defines the request headers.
     */</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(hdrs: java.util.Map[String,java.util.Collection[String]])play.api.libs.ws.WS.WSRequest" id="206033">setHeaders</a><span class="delimiter">(</span><a title="java.util.Map[String,java.util.Collection[String]]" id="211087">hdrs</a>: java.util.<span title="java.util.Map[String,java.util.Collection[String]]">Map</span><span class="delimiter">[</span>String, java.util.Collection<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#206017" title="(x$1: Map[String,Seq[String]])Unit">headers</a> = <a href="#206027" title="(headers: java.util.Map[String,java.util.Collection[String]])scala.collection.immutable.Map[String,Seq[String]]">ningHeadersToMap</a><span class="delimiter">(</span><a href="#211087" title="java.util.Map[String,java.util.Collection[String]]">hdrs</a><span class="delimiter">)</span>
      <a href="#204912" title="play.api.libs.ws.WS.WSRequest" class="keyword">super</a>.<span title="(x$1: java.util.Map[java.lang.String,java.util.Collection[java.lang.String]])play.api.libs.ws.WS.WSRequest">setHeaders</span><span class="delimiter">(</span><a href="#211087" title="java.util.Map[String,java.util.Collection[String]]">hdrs</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Defines the request headers.
     */</span>
    <span class="keyword">def</span> <a title="(hdrs: Map[String,Seq[String]])play.api.libs.ws.WS.WSRequest" id="206034">setHeaders</a><span class="delimiter">(</span><a title="Map[String,Seq[String]]" id="211103">hdrs</a>: <span title="Map[String,Seq[String]]">Map</span><span class="delimiter">[</span>String, Seq<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#206017" title="(x$1: Map[String,Seq[String]])Unit">headers</a> = <a href="#211103" title="Map[String,Seq[String]]">hdrs</a>
      <a href="#211103" title="Map[String,Seq[String]]">hdrs</a>.<span title="(f: (String, Seq[String]) =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a title="(String, Seq[String])" id="211124">header</a> =&gt; <a href="#211124" title="(String, Seq[String])">header</a>.<span title="=&gt; Seq[String]">_2</span>.<span title="(f: String =&gt; play.api.libs.ws.WS.WSRequest)Unit">foreach</span><span class="delimiter">(</span><a title="String" id="211141">value</a> =&gt;
        <a href="#204912" title="play.api.libs.ws.WS.WSRequest" class="keyword">super</a>.<span title="(x$1: java.lang.String, x$2: java.lang.String)play.api.libs.ws.WS.WSRequest">addHeader</span><span class="delimiter">(</span><a href="#211124" title="(String, Seq[String])">header</a>.<span title="=&gt; String">_1</span>, <a href="#211141" title="String">value</a><span class="delimiter">)</span>
      <span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#204912" title="play.api.libs.ws.WS.WSRequest" class="keyword">this</a>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Defines the query string.
     */</span>
    <span class="keyword">def</span> <a title="(queryString: Map[String,String])play.api.libs.ws.WS.WSRequest" id="206035">setQueryString</a><span class="delimiter">(</span><a title="Map[String,String]" id="211145">queryString</a>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#211145" title="Map[String,String]">queryString</a>.<span title="(f: (String, String) =&gt; play.api.libs.ws.WS.WSRequest)Unit">foreach</span> <span class="delimiter">{</span> param: <span title="(String, String)" class="delimiter">(</span>String, String<span class="delimiter">)</span> =&gt; <a href="#204912" title="WSRequest.this.type" class="keyword">this</a>.<span title="(x$1: java.lang.String, x$2: java.lang.String)play.api.libs.ws.WS.WSRequest">addQueryParameter</span><span class="delimiter">(</span><a href="#211164" title="(String, String)">param</a>.<span title="=&gt; String">_1</span>, <a href="#211164" title="(String, String)">param</a>.<span title="=&gt; String">_2</span><span class="delimiter">)</span> <span class="delimiter">}</span>
      <a href="#204912" title="play.api.libs.ws.WS.WSRequest" class="keyword">this</a>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Defines the URL.
     */</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(url: String)play.api.libs.ws.WS.WSRequest" id="206036">setUrl</a><span class="delimiter">(</span><a title="String" id="206435">url</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#206020" title="(x$1: String)Unit">_url</a> = <a href="#206435" title="String">url</a>
      <a href="#204912" title="play.api.libs.ws.WS.WSRequest" class="keyword">super</a>.<span title="(x$1: java.lang.String)play.api.libs.ws.WS.WSRequest">setUrl</span><span class="delimiter">(</span><a href="#206435" title="String">url</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span><span class="delimiter">[</span>libs<span class="delimiter">]</span> <span class="keyword">def</span> <a title="[A](consumer: play.api.libs.ws.ResponseHeaders =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],A])play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[Array[Byte],A]]" id="206037">executeStream</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="206039">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.libs.ws.ResponseHeaders =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],A]" id="211166">consumer</a>: ResponseHeaders =&gt; Iteratee<span class="delimiter">[</span>Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span>, A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../concurrent/Promise.scala.html#13155" title="play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[Array[Byte],A]]">Promise</a><span class="delimiter">[</span>Iteratee<span class="delimiter">[</span>Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span>, A<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">import</span> com.ning.http.client.AsyncHandler
      <span class="keyword">var</span> <a title="Boolean" id="211170">doneOrError</a> = <span title="Boolean(false)" class="keyword">false</span>
      <a href="#206014" title="=&gt; Option[play.api.libs.ws.SignatureCalculator]">calculator</a>.<span title="(f: play.api.libs.ws.SignatureCalculator =&gt; Unit)Option[Unit]">map</span><span class="delimiter">(</span><a href="#211177" title="play.api.libs.ws.SignatureCalculator">_</a>.<a href="#205558" title="(request: play.api.libs.ws.WS.WSRequest)Unit">sign</a><span class="delimiter">(</span><a href="#204912" title="play.api.libs.ws.WS.WSRequest" class="keyword">this</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">var</span> <a title="Int" id="211171">statusCode</a> = <span title="Int(0)" class="int">0</span>
      <span class="keyword">var</span> <a title="play.api.libs.concurrent.STMPromise[play.api.libs.iteratee.Iteratee[Array[Byte],A]]" id="211172">iterateeP</a>: <a href="../concurrent/Promise.scala.html#13257" title="play.api.libs.concurrent.STMPromise[play.api.libs.iteratee.Iteratee[Array[Byte],A]]">STMPromise</a><span class="delimiter">[</span>Iteratee<span class="delimiter">[</span>Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span>, A<span class="delimiter">]</span><span class="delimiter">]</span> = <span title="Null(null)" class="keyword">null</span>
      <span class="keyword">var</span> <a title="play.api.libs.iteratee.Iteratee[Array[Byte],A]" id="211173">iteratee</a>: <a href="../iteratee/Iteratee.scala.html#14189" title="play.api.libs.iteratee.Iteratee[Array[Byte],A]">Iteratee</a><span class="delimiter">[</span>Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span>, A<span class="delimiter">]</span> = <span title="Null(null)" class="keyword">null</span>

      <a href="#15345" title="object play.api.libs.ws.WS">WS</a>.<a href="#204909" title="=&gt; com.ning.http.client.AsyncHttpClient">client</a>.<span title="(x$1: com.ning.http.client.Request, x$2: com.ning.http.client.AsyncHandler[Unit])com.ning.http.client.ListenableFuture[Unit]">executeRequest</span><span class="delimiter">(</span><a href="#204912" title="WSRequest.this.type" class="keyword">this</a>.<span title="()com.ning.http.client.Request">build</span><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#211187" title="java.lang.Object with com.ning.http.client.AsyncHandler[Unit]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with com.ning.http.client.AsyncHandler[Unit]" id="211187">AsyncHandler</a><span class="delimiter">[</span>Unit<span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">import</span> com.ning.http.client.<span title="object com.ning.http.client.AsyncHandler">AsyncHandler</span>.STATE

        <span class="keyword">override</span> <span class="keyword">def</span> <a title="(status: com.ning.http.client.HttpResponseStatus)com.ning.http.client.AsyncHandler.STATE" id="211192">onStatusReceived</a><span class="delimiter">(</span><a title="com.ning.http.client.HttpResponseStatus" id="211197">status</a>: <span title="com.ning.http.client.HttpResponseStatus">HttpResponseStatus</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <a href="#211171" title="Int">statusCode</a> = <a href="#211197" title="com.ning.http.client.HttpResponseStatus">status</a>.<span title="()Int">getStatusCode</span><span class="delimiter">(</span><span class="delimiter">)</span>
          STATE.<span title="com.ning.http.client.AsyncHandler.STATE(value CONTINUE)">CONTINUE</span>
        <span class="delimiter">}</span>

        <span class="keyword">override</span> <span class="keyword">def</span> <a title="(h: com.ning.http.client.HttpResponseHeaders)com.ning.http.client.AsyncHandler.STATE" id="211193">onHeadersReceived</a><span class="delimiter">(</span><a title="com.ning.http.client.HttpResponseHeaders" id="211223">h</a>: <span title="com.ning.http.client.HttpResponseHeaders">HttpResponseHeaders</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="com.ning.http.client.FluentCaseInsensitiveStringsMap" id="211235">headers</a> = <a href="#211223" title="com.ning.http.client.HttpResponseHeaders">h</a>.<span title="()com.ning.http.client.FluentCaseInsensitiveStringsMap">getHeaders</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#211173" title="play.api.libs.iteratee.Iteratee[Array[Byte],A]">iteratee</a> = <a href="#211166" title="(v1: play.api.libs.ws.ResponseHeaders)play.api.libs.iteratee.Iteratee[Array[Byte],A]">consumer</a><span class="delimiter">(</span><a href="#212280" title="(status: Int, headers: Map[String,Seq[String]])play.api.libs.ws.ResponseHeaders">ResponseHeaders</a><span class="delimiter">(</span><a href="#211171" title="Int">statusCode</a>, <a href="#206028" title="(headers: com.ning.http.client.FluentCaseInsensitiveStringsMap)scala.collection.immutable.Map[java.lang.String,Seq[java.lang.String]]">ningHeadersToMap</a><span class="delimiter">(</span><a href="#211235" title="com.ning.http.client.FluentCaseInsensitiveStringsMap">headers</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          STATE.<span title="com.ning.http.client.AsyncHandler.STATE(value CONTINUE)">CONTINUE</span>
        <span class="delimiter">}</span>

        <span class="keyword">override</span> <span class="keyword">def</span> <a title="(bodyPart: com.ning.http.client.HttpResponseBodyPart)com.ning.http.client.AsyncHandler.STATE" id="211194">onBodyPartReceived</a><span class="delimiter">(</span><a title="com.ning.http.client.HttpResponseBodyPart" id="211250">bodyPart</a>: <span title="com.ning.http.client.HttpResponseBodyPart">HttpResponseBodyPart</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span title="com.ning.http.client.AsyncHandler.STATE" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#211170" title="Boolean">doneOrError</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="play.api.libs.iteratee.Iteratee[Array[Byte],A]" id="211263">nextIteratee</a> = <a href="#211173" title="play.api.libs.iteratee.Iteratee[Array[Byte],A]">iteratee</a>.<a href="../iteratee/Iteratee.scala.html#72806" title="(done: (A, play.api.libs.iteratee.Input[Array[Byte]]) =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],A], cont: play.api.libs.iteratee.Input[Array[Byte]] =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],A] =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],A], error: (String, play.api.libs.iteratee.Input[Array[Byte]]) =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],A])play.api.libs.iteratee.Iteratee[Array[Byte],A]">pureFlatFold</a><span class="delimiter">(</span>
              <span class="comment">// DONE</span>
              <span class="delimiter">(</span><a title="A" id="211273">a</a>, <a title="play.api.libs.iteratee.Input[Array[Byte]]" id="211274">e</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="play.api.libs.iteratee.Iteratee[Array[Byte],A]" id="211275">it</a> = <a href="../iteratee/Iteratee.scala.html#72952" title="(a: A, e: play.api.libs.iteratee.Input[Array[Byte]])play.api.libs.iteratee.Iteratee[Array[Byte],A]">Done</a><span class="delimiter">(</span><a href="#211273" title="A">a</a>, <a href="#211274" title="play.api.libs.iteratee.Input[Array[Byte]]">e</a><span class="delimiter">)</span>
                <a href="#211172" title="play.api.libs.concurrent.STMPromise[play.api.libs.iteratee.Iteratee[Array[Byte],A]]">iterateeP</a>.<a href="../concurrent/Promise.scala.html#170022" title="(body: =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],A])Unit">redeem</a><span class="delimiter">(</span><a href="#211275" title="play.api.libs.iteratee.Iteratee[Array[Byte],A]">it</a><span class="delimiter">)</span>
                <a href="#211275" title="play.api.libs.iteratee.Iteratee[Array[Byte],A]">it</a>
              <span class="delimiter">}</span>,

              <span class="comment">// CONTINUE</span>
              <a title="play.api.libs.iteratee.Input[Array[Byte]] =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],A]" id="211287">k</a> =&gt; <span class="delimiter">{</span>
                <a href="#211287" title="(v1: play.api.libs.iteratee.Input[Array[Byte]])play.api.libs.iteratee.Iteratee[Array[Byte],A]">k</a><span class="delimiter">(</span><a href="../iteratee/Iteratee.scala.html#72880" title="(e: Array[Byte])play.api.libs.iteratee.Input.El[Array[Byte]]">El</a><span class="delimiter">(</span><a href="#211250" title="com.ning.http.client.HttpResponseBodyPart">bodyPart</a>.<span title="()Array[Byte]">getBodyPartBytes</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>,

              <span class="comment">// ERROR</span>
              <span class="delimiter">(</span><a title="String" id="211293">e</a>, <a title="play.api.libs.iteratee.Input[Array[Byte]]" id="211294">input</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="play.api.libs.iteratee.Iteratee[Array[Byte],Nothing]" id="211295">it</a> = <a href="../iteratee/Iteratee.scala.html#172353" title="(msg: String, e: play.api.libs.iteratee.Input[Array[Byte]])play.api.libs.iteratee.Iteratee[Array[Byte],Nothing]">Error</a><span class="delimiter">(</span><a href="#211293" title="String">e</a>, <a href="#211294" title="play.api.libs.iteratee.Input[Array[Byte]]">input</a><span class="delimiter">)</span>
                <a href="#211172" title="play.api.libs.concurrent.STMPromise[play.api.libs.iteratee.Iteratee[Array[Byte],A]]">iterateeP</a>.<a href="../concurrent/Promise.scala.html#170022" title="(body: =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],A])Unit">redeem</a><span class="delimiter">(</span><a href="#211295" title="play.api.libs.iteratee.Iteratee[Array[Byte],Nothing]">it</a><span class="delimiter">)</span>
                <a href="#211295" title="play.api.libs.iteratee.Iteratee[Array[Byte],Nothing]">it</a>
              <span class="delimiter">}</span><span class="delimiter">)</span>
            STATE.<span title="com.ning.http.client.AsyncHandler.STATE(value CONTINUE)">CONTINUE</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#211173" title="play.api.libs.iteratee.Iteratee[Array[Byte],A]">iteratee</a> = <span title="Null(null)" class="keyword">null</span>
            STATE.<span title="com.ning.http.client.AsyncHandler.STATE(value ABORT)">ABORT</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Unit" id="211195">onCompleted</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span title="(x: play.api.libs.iteratee.Iteratee[Array[Byte],A])Option[play.api.libs.iteratee.Iteratee[Array[Byte],A]]">Option</span><span class="delimiter">(</span><a href="#211173" title="play.api.libs.iteratee.Iteratee[Array[Byte],A]">iteratee</a><span class="delimiter">)</span>.<span title="(f: play.api.libs.iteratee.Iteratee[Array[Byte],A] =&gt; Unit)Option[Unit]">map</span><span title="Unit" class="delimiter">(</span><a href="#211172" title="play.api.libs.concurrent.STMPromise[play.api.libs.iteratee.Iteratee[Array[Byte],A]]">iterateeP</a>.<a href="../concurrent/Promise.scala.html#170022" title="(body: =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],A])Unit">redeem</a><span class="delimiter">(</span><a href="#211326" title="play.api.libs.iteratee.Iteratee[Array[Byte],A]">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">override</span> <span class="keyword">def</span> <a title="(t: Throwable)Unit" id="211196">onThrowable</a><span class="delimiter">(</span><a title="Throwable" id="211332">t</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <a href="#211172" title="play.api.libs.concurrent.STMPromise[play.api.libs.iteratee.Iteratee[Array[Byte],A]]">iterateeP</a>.<a href="../concurrent/Promise.scala.html#170022" title="(body: =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],A])Unit">redeem</a><span class="delimiter">(</span><span title="Nothing" class="keyword">throw</span> <a href="#211332" title="Throwable">t</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>
      <a href="#211172" title="play.api.libs.concurrent.STMPromise[play.api.libs.iteratee.Iteratee[Array[Byte],A]]">iterateeP</a>
    <span class="delimiter">}</span>

  <span class="delimiter">}</span>

  <span class="comment">/**
   * A WS Request builder.
   */</span>
  case <span class="keyword">class</span> <a title="class WSRequestHolder extends java.lang.Object with ScalaObject with Product with Serializable" id="212070">WSRequestHolder</a><a href="#212070" title="ScalaObject" class="delimiter">(</a><a title="String" id="209684">url</a>: <span title="String">String</span>,
      <a title="Map[String,Seq[String]]" id="209685">headers</a>: <span title="Map[String,Seq[String]]">Map</span><span class="delimiter">[</span>String, Seq<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">]</span>,
      <a title="Map[String,String]" id="209686">queryString</a>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span>,
      <a title="Option[play.api.libs.ws.SignatureCalculator]" id="209687">calc</a>: <span title="Option[play.api.libs.ws.SignatureCalculator]">Option</span><span class="delimiter">[</span>SignatureCalculator<span class="delimiter">]</span>,
      <a title="Option[(String, String, com.ning.http.client.Realm.AuthScheme)]" id="209688">auth</a>: <span title="Option[(String, String, com.ning.http.client.Realm.AuthScheme)]">Option</span><span class="delimiter">[</span>Tuple3<span class="delimiter">[</span>String, String, AuthScheme<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>

    <span class="comment">/**
     * sets the signature calculator for the request
     * @param calc
     */</span>
    <span class="keyword">def</span> <a title="(calc: play.api.libs.ws.SignatureCalculator)play.api.libs.ws.WS.WSRequestHolder" id="208680">sign</a><span class="delimiter">(</span><a title="play.api.libs.ws.SignatureCalculator" id="211364">calc</a>: <a href="#15380" title="play.api.libs.ws.SignatureCalculator">SignatureCalculator</a><span class="delimiter">)</span>: <a href="#212070" title="play.api.libs.ws.WS.WSRequestHolder">WSRequestHolder</a> = <a href="#212070" title="WSRequestHolder.this.type" class="keyword">this</a>.<a href="#209684" title="String" id="211396">copy</a><span class="delimiter">(</span>calc = <span title="(x: play.api.libs.ws.SignatureCalculator)Some[play.api.libs.ws.SignatureCalculator]">Some</span><a title="Some[play.api.libs.ws.SignatureCalculator]" id="211392" class="delimiter">(</a><a href="#211364" title="play.api.libs.ws.SignatureCalculator">calc</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="comment">/**
     * sets the authentication realm
     * @param calc
     */</span>
    <span class="keyword">def</span> <a title="(username: String, password: String, scheme: com.ning.http.client.Realm.AuthScheme)play.api.libs.ws.WS.WSRequestHolder" id="208681">withAuth</a><span class="delimiter">(</span><a title="String" id="211397">username</a>: <span title="String">String</span>, <a title="String" id="211398">password</a>: <span title="String">String</span>, <a title="com.ning.http.client.Realm.AuthScheme" id="211399">scheme</a>: <span title="com.ning.http.client.Realm.AuthScheme">AuthScheme</span><span class="delimiter">)</span>: <a href="#212070" title="play.api.libs.ws.WS.WSRequestHolder">WSRequestHolder</a> =
      <a href="#212070" title="WSRequestHolder.this.type" class="keyword">this</a>.<a href="#209684" title="String" id="211420">copy</a><span class="delimiter">(</span>auth = <span title="(x: (String, String, com.ning.http.client.Realm.AuthScheme))Some[(String, String, com.ning.http.client.Realm.AuthScheme)]">Some</span><a title="Some[(String, String, com.ning.http.client.Realm.AuthScheme)]" id="211416" class="delimiter">(</a><span title="(_1: String, _2: String, _3: com.ning.http.client.Realm.AuthScheme)(String, String, com.ning.http.client.Realm.AuthScheme)" class="delimiter">(</span><a href="#211397" title="String">username</a>, <a href="#211398" title="String">password</a>, <a href="#211399" title="com.ning.http.client.Realm.AuthScheme">scheme</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="comment">/**
     * adds any number of HTTP headers
     * @param hdrs
     */</span>
    <span class="keyword">def</span> <a title="(hdrs: (String, String)*)play.api.libs.ws.WS.WSRequestHolder" id="208682">withHeaders</a><span class="delimiter">(</span><a title="(String, String)*" id="211421">hdrs</a>: <span title="(String, String)*" class="delimiter">(</span>String, String<span class="delimiter">)</span>*<span class="delimiter">)</span>: <a href="#212070" title="play.api.libs.ws.WS.WSRequestHolder">WSRequestHolder</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Map[String,Seq[String]]" id="211423">headers</a> = <a href="#211421" title="(String, String)*">hdrs</a>.<span title="(z: Map[String,Seq[String]])(op: (Map[String,Seq[String]], (String, String)) =&gt; Map[String,Seq[String]])Map[String,Seq[String]]">foldLeft</span><span class="delimiter">(</span><a href="#212070" title="WSRequestHolder.this.type" class="keyword">this</a>.<a href="#209685" title="=&gt; Map[String,Seq[String]]">headers</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="Map[String,Seq[String]]" id="211436">m</a>, <a title="(String, String)" id="211437">hdr</a><span class="delimiter">)</span> =&gt;
        <span title="Map[String,Seq[String]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#211436" title="Map[String,Seq[String]]">m</a>.<span title="(key: String)Boolean">contains</span><span class="delimiter">(</span><a href="#211437" title="(String, String)">hdr</a>.<span title="=&gt; String">_1</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#211436" title="Map[String,Seq[String]]">m</a>.<span title="(key: String, value: Seq[String])scala.collection.immutable.Map[String,Seq[String]]">updated</span><span class="delimiter">(</span><a href="#211437" title="(String, String)">hdr</a>.<span title="=&gt; String">_1</span>, <a href="#211436" title="(key: String)Seq[String]">m</a><span class="delimiter">(</span><a href="#211437" title="(String, String)">hdr</a>.<span title="=&gt; String">_1</span><span class="delimiter">)</span> <span title="(elem: String)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[String],String,Seq[String]])Seq[String]">:+</span> <a href="#211437" title="(String, String)">hdr</a>.<span title="=&gt; String">_2</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <span class="delimiter">(</span><a href="#211436" title="Map[String,Seq[String]]">m</a> <span title="(kv: (String, Seq[String]))scala.collection.immutable.Map[String,Seq[String]]">+</span> <span class="delimiter">(</span><a href="#211437" title="(String, String)">hdr</a>.<span title="(x: String)ArrowAssoc[String]">_1</span> <span title="(y: Seq[String])(String, Seq[String])">-&gt;</span> <span title="(elems: String*)Seq[String]">Seq</span><span class="delimiter">(</span><a href="#211437" title="(String, String)">hdr</a>.<span title="=&gt; String">_2</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">)</span>
      <a href="#212070" title="WSRequestHolder.this.type" class="keyword">this</a>.<a href="#209684" title="String" id="211598">copy</a><span class="delimiter">(</span>headers = <a href="#211423" title="Map[String,Seq[String]]" id="211594">headers</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * adds any number of query string parameters to the
     */</span>
    <span class="keyword">def</span> <a title="(parameters: (String, String)*)play.api.libs.ws.WS.WSRequestHolder" id="208683">withQueryString</a><span class="delimiter">(</span><a title="(String, String)*" id="211599">parameters</a>: <span title="(String, String)*" class="delimiter">(</span>String, String<span class="delimiter">)</span>*<span class="delimiter">)</span>: <a href="#212070" title="play.api.libs.ws.WS.WSRequestHolder">WSRequestHolder</a> =
      <a href="#212070" title="WSRequestHolder.this.type" class="keyword">this</a>.<a href="#209684" title="String" id="211672">copy</a><span class="delimiter">(</span>queryString = <a href="#211599" title="(String, String)*">parameters</a>.<span title="(z: Map[String,String])(op: (Map[String,String], (String, String)) =&gt; Map[String,String])Map[String,String]">foldLeft</span><span class="delimiter">(</span><a href="#209686" title="=&gt; Map[String,String]">queryString</a><span class="delimiter">)</span><a title="Map[String,String]" id="211668" class="delimiter">(</a><span class="delimiter">(</span><a title="Map[String,String]" id="211613">m</a>, <a title="(String, String)" id="211614">param</a><span class="delimiter">)</span> =&gt; <a href="#211613" title="Map[String,String]">m</a> <span title="(kv: (String, String))scala.collection.immutable.Map[String,String]">+</span> <a href="#211614" title="(String, String)">param</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="comment">/**
     * performs a get with supplied body
     */</span>

    <span class="keyword">def</span> <a title="()play.api.libs.concurrent.Promise[play.api.libs.ws.Response]" id="208684">get</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../concurrent/Promise.scala.html#13155" title="play.api.libs.concurrent.Promise[play.api.libs.ws.Response]">Promise</a><span class="delimiter">[</span>Response<span class="delimiter">]</span> = <a href="#208707" title="(method: String)play.api.libs.ws.WS.WSRequest">prepare</a><span class="delimiter">(</span><span title="java.lang.String(&quot;GET&quot;)" class="string">&quot;GET&quot;</span><span class="delimiter">)</span>.<a href="#206029" title="=&gt; play.api.libs.concurrent.Promise[play.api.libs.ws.Response]">execute</a>

    <span class="comment">/**
     * performs a get with supplied body
     * @param consumer that's handling the response
     */</span>
    <span class="keyword">def</span> <a title="[A](consumer: play.api.libs.ws.ResponseHeaders =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],A])play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[Array[Byte],A]]" id="208685">get</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="208687">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="play.api.libs.ws.ResponseHeaders =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],A]" id="209178">consumer</a>: ResponseHeaders =&gt; Iteratee<span class="delimiter">[</span>Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span>, A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../concurrent/Promise.scala.html#13155" title="play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[Array[Byte],A]]">Promise</a><span class="delimiter">[</span>Iteratee<span class="delimiter">[</span>Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span>, A<span class="delimiter">]</span><span class="delimiter">]</span> =
      <a href="#208707" title="(method: String)play.api.libs.ws.WS.WSRequest">prepare</a><span class="delimiter">(</span><span title="java.lang.String(&quot;GET&quot;)" class="string">&quot;GET&quot;</span><span class="delimiter">)</span>.<a href="#206037" title="(consumer: play.api.libs.ws.ResponseHeaders =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],A])play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[Array[Byte],A]]">executeStream</a><span class="delimiter">(</span><a href="#209178" title="play.api.libs.ws.ResponseHeaders =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],A]">consumer</a><span class="delimiter">)</span>

    <span class="comment">/**
     * Perform a POST on the request asynchronously.
     */</span>
    <span class="keyword">def</span> <a title="[T](body: T)(implicit wrt: play.api.http.Writeable[T], implicit ct: play.api.http.ContentTypeOf[T])play.api.libs.concurrent.Promise[play.api.libs.ws.Response]" id="208688">post</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="208690">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="208712">body</a>: <a href="#208690" title="T">T</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="play.api.http.Writeable[T]" id="208713">wrt</a>: <a href="../../http/Writeable.scala.html#12577" title="play.api.http.Writeable[T]">Writeable</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="play.api.http.ContentTypeOf[T]" id="208714">ct</a>: <a href="../../http/ContentTypeOf.scala.html#12556" title="play.api.http.ContentTypeOf[T]">ContentTypeOf</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../concurrent/Promise.scala.html#13155" title="play.api.libs.concurrent.Promise[play.api.libs.ws.Response]">Promise</a><span class="delimiter">[</span>Response<span class="delimiter">]</span> = <a href="#208708" title="(method: String, body: T)(implicit wrt: play.api.http.Writeable[T], implicit ct: play.api.http.ContentTypeOf[T])play.api.libs.ws.WS.WSRequest">prepare</a><a href="#208713" title="play.api.http.Writeable[T]" class="delimiter">(</a><span title="java.lang.String(&quot;POST&quot;)" class="string">&quot;POST&quot;</span>, <a href="#208712" title="T">body</a><span class="delimiter">)</span>.<a href="#206029" title="=&gt; play.api.libs.concurrent.Promise[play.api.libs.ws.Response]">execute</a>

    <span class="comment">/**
     * performs a POST with supplied body
     * @param consumer that's handling the response
     */</span>
    <span class="keyword">def</span> <a title="[A, T](body: T)(consumer: play.api.libs.ws.ResponseHeaders =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],A])(implicit wrt: play.api.http.Writeable[T], implicit ct: play.api.http.ContentTypeOf[T])play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[Array[Byte],A]]" id="208691">postAndRetrieveStream</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="208694">A</a>, <a title="&gt;: Nothing &lt;: Any" id="208695">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="211859">body</a>: <a href="#208695" title="T">T</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="play.api.libs.ws.ResponseHeaders =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],A]" id="211860">consumer</a>: ResponseHeaders =&gt; Iteratee<span class="delimiter">[</span>Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span>, A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="play.api.http.Writeable[T]" id="211861">wrt</a>: <a href="../../http/Writeable.scala.html#12577" title="play.api.http.Writeable[T]">Writeable</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="play.api.http.ContentTypeOf[T]" id="211862">ct</a>: <a href="../../http/ContentTypeOf.scala.html#12556" title="play.api.http.ContentTypeOf[T]">ContentTypeOf</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../concurrent/Promise.scala.html#13155" title="play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[Array[Byte],A]]">Promise</a><span class="delimiter">[</span>Iteratee<span class="delimiter">[</span>Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span>, A<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#208708" title="(method: String, body: T)(implicit wrt: play.api.http.Writeable[T], implicit ct: play.api.http.ContentTypeOf[T])play.api.libs.ws.WS.WSRequest">prepare</a><a href="#211861" title="play.api.http.Writeable[T]" class="delimiter">(</a><span title="java.lang.String(&quot;POST&quot;)" class="string">&quot;POST&quot;</span>, <a href="#211859" title="T">body</a><span class="delimiter">)</span>.<a href="#206037" title="(consumer: play.api.libs.ws.ResponseHeaders =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],A])play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[Array[Byte],A]]">executeStream</a><span class="delimiter">(</span><a href="#211860" title="play.api.libs.ws.ResponseHeaders =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],A]">consumer</a><span class="delimiter">)</span>

    <span class="comment">/**
     * Perform a PUT on the request asynchronously.
     */</span>
    <span class="keyword">def</span> <a title="[T](body: T)(implicit wrt: play.api.http.Writeable[T], implicit ct: play.api.http.ContentTypeOf[T])play.api.libs.concurrent.Promise[play.api.libs.ws.Response]" id="208696">put</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="208698">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="211897">body</a>: <a href="#208698" title="T">T</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="play.api.http.Writeable[T]" id="211898">wrt</a>: <a href="../../http/Writeable.scala.html#12577" title="play.api.http.Writeable[T]">Writeable</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="play.api.http.ContentTypeOf[T]" id="211899">ct</a>: <a href="../../http/ContentTypeOf.scala.html#12556" title="play.api.http.ContentTypeOf[T]">ContentTypeOf</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../concurrent/Promise.scala.html#13155" title="play.api.libs.concurrent.Promise[play.api.libs.ws.Response]">Promise</a><span class="delimiter">[</span>Response<span class="delimiter">]</span> = <a href="#208708" title="(method: String, body: T)(implicit wrt: play.api.http.Writeable[T], implicit ct: play.api.http.ContentTypeOf[T])play.api.libs.ws.WS.WSRequest">prepare</a><a href="#211898" title="play.api.http.Writeable[T]" class="delimiter">(</a><span title="java.lang.String(&quot;PUT&quot;)" class="string">&quot;PUT&quot;</span>, <a href="#211897" title="T">body</a><span class="delimiter">)</span>.<a href="#206029" title="=&gt; play.api.libs.concurrent.Promise[play.api.libs.ws.Response]">execute</a>

    <span class="comment">/**
     * performs a PUT with supplied body
     * @param consumer that's handling the response
     */</span>
    <span class="keyword">def</span> <a title="[A, T](body: T)(consumer: play.api.libs.ws.ResponseHeaders =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],A])(implicit wrt: play.api.http.Writeable[T], implicit ct: play.api.http.ContentTypeOf[T])play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[Array[Byte],A]]" id="208699">putAndRetrieveStream</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="208702">A</a>, <a title="&gt;: Nothing &lt;: Any" id="208703">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="211930">body</a>: <a href="#208703" title="T">T</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="play.api.libs.ws.ResponseHeaders =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],A]" id="211931">consumer</a>: ResponseHeaders =&gt; Iteratee<span class="delimiter">[</span>Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span>, A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="play.api.http.Writeable[T]" id="211932">wrt</a>: <a href="../../http/Writeable.scala.html#12577" title="play.api.http.Writeable[T]">Writeable</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="play.api.http.ContentTypeOf[T]" id="211933">ct</a>: <a href="../../http/ContentTypeOf.scala.html#12556" title="play.api.http.ContentTypeOf[T]">ContentTypeOf</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../concurrent/Promise.scala.html#13155" title="play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[Array[Byte],A]]">Promise</a><span class="delimiter">[</span>Iteratee<span class="delimiter">[</span>Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span>, A<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#208708" title="(method: String, body: T)(implicit wrt: play.api.http.Writeable[T], implicit ct: play.api.http.ContentTypeOf[T])play.api.libs.ws.WS.WSRequest">prepare</a><a href="#211932" title="play.api.http.Writeable[T]" class="delimiter">(</a><span title="java.lang.String(&quot;PUT&quot;)" class="string">&quot;PUT&quot;</span>, <a href="#211930" title="T">body</a><span class="delimiter">)</span>.<a href="#206037" title="(consumer: play.api.libs.ws.ResponseHeaders =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],A])play.api.libs.concurrent.Promise[play.api.libs.iteratee.Iteratee[Array[Byte],A]]">executeStream</a><span class="delimiter">(</span><a href="#211931" title="play.api.libs.ws.ResponseHeaders =&gt; play.api.libs.iteratee.Iteratee[Array[Byte],A]">consumer</a><span class="delimiter">)</span>

    <span class="comment">/**
     * Perform a DELETE on the request asynchronously.
     */</span>
    <span class="keyword">def</span> <a title="()play.api.libs.concurrent.Promise[play.api.libs.ws.Response]" id="208704">delete</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../concurrent/Promise.scala.html#13155" title="play.api.libs.concurrent.Promise[play.api.libs.ws.Response]">Promise</a><span class="delimiter">[</span>Response<span class="delimiter">]</span> = <a href="#208707" title="(method: String)play.api.libs.ws.WS.WSRequest">prepare</a><span class="delimiter">(</span><span title="java.lang.String(&quot;DELETE&quot;)" class="string">&quot;DELETE&quot;</span><span class="delimiter">)</span>.<a href="#206029" title="=&gt; play.api.libs.concurrent.Promise[play.api.libs.ws.Response]">execute</a>

    <span class="comment">/**
     * Perform a HEAD on the request asynchronously.
     */</span>
    <span class="keyword">def</span> <a title="()play.api.libs.concurrent.Promise[play.api.libs.ws.Response]" id="208705">head</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../concurrent/Promise.scala.html#13155" title="play.api.libs.concurrent.Promise[play.api.libs.ws.Response]">Promise</a><span class="delimiter">[</span>Response<span class="delimiter">]</span> = <a href="#208707" title="(method: String)play.api.libs.ws.WS.WSRequest">prepare</a><span class="delimiter">(</span><span title="java.lang.String(&quot;HEAD&quot;)" class="string">&quot;HEAD&quot;</span><span class="delimiter">)</span>.<a href="#206029" title="=&gt; play.api.libs.concurrent.Promise[play.api.libs.ws.Response]">execute</a>

    <span class="comment">/**
     * Perform a OPTIONS on the request asynchronously.
     */</span>
    <span class="keyword">def</span> <a title="()play.api.libs.concurrent.Promise[play.api.libs.ws.Response]" id="208706">options</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../concurrent/Promise.scala.html#13155" title="play.api.libs.concurrent.Promise[play.api.libs.ws.Response]">Promise</a><span class="delimiter">[</span>Response<span class="delimiter">]</span> = <a href="#208707" title="(method: String)play.api.libs.ws.WS.WSRequest">prepare</a><span class="delimiter">(</span><span title="java.lang.String(&quot;OPTIONS&quot;)" class="string">&quot;OPTIONS&quot;</span><span class="delimiter">)</span>.<a href="#206029" title="=&gt; play.api.libs.concurrent.Promise[play.api.libs.ws.Response]">execute</a>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(method: String)play.api.libs.ws.WS.WSRequest" id="208707">prepare</a><span class="delimiter">(</span><a title="String" id="211811">method</a>: <span title="String">String</span><span class="delimiter">)</span> =
      <span title="play.api.libs.ws.WS.WSRequest" class="keyword">new</span> <a href="#204912" title="play.api.libs.ws.WS.WSRequest">WSRequest</a><span class="delimiter">(</span><a href="#211811" title="String">method</a>, <a href="#209688" title="=&gt; Option[(String, String, com.ning.http.client.Realm.AuthScheme)]">auth</a>, <a href="#209687" title="=&gt; Option[play.api.libs.ws.SignatureCalculator]">calc</a><span class="delimiter">)</span>.<a href="#206036" title="(url: String)play.api.libs.ws.WS.WSRequest">setUrl</a><span class="delimiter">(</span><a href="#209684" title="=&gt; String">url</a><span class="delimiter">)</span>
        .<a href="#206034" title="(hdrs: Map[String,Seq[String]])play.api.libs.ws.WS.WSRequest">setHeaders</a><span class="delimiter">(</span><a href="#209685" title="=&gt; Map[String,Seq[String]]">headers</a><span class="delimiter">)</span>
        .<a href="#206035" title="(queryString: Map[String,String])play.api.libs.ws.WS.WSRequest">setQueryString</a><span class="delimiter">(</span><a href="#209686" title="=&gt; Map[String,String]">queryString</a><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="[T](method: String, body: T)(implicit wrt: play.api.http.Writeable[T], implicit ct: play.api.http.ContentTypeOf[T])play.api.libs.ws.WS.WSRequest" id="208708">prepare</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="208710">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="String" id="211677">method</a>: <span title="String">String</span>, <a title="T" id="211678">body</a>: <a href="#208710" title="T">T</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="play.api.http.Writeable[T]" id="211679">wrt</a>: <a href="../../http/Writeable.scala.html#12577" title="play.api.http.Writeable[T]">Writeable</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="play.api.http.ContentTypeOf[T]" id="211680">ct</a>: <a href="../../http/ContentTypeOf.scala.html#12556" title="play.api.http.ContentTypeOf[T]">ContentTypeOf</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> =
      <span title="play.api.libs.ws.WS.WSRequest" class="keyword">new</span> <a href="#204912" title="play.api.libs.ws.WS.WSRequest">WSRequest</a><span class="delimiter">(</span><a href="#211677" title="String">method</a>, <a href="#209688" title="=&gt; Option[(String, String, com.ning.http.client.Realm.AuthScheme)]">auth</a>, <a href="#209687" title="=&gt; Option[play.api.libs.ws.SignatureCalculator]">calc</a><span class="delimiter">)</span>.<a href="#206036" title="(url: String)play.api.libs.ws.WS.WSRequest">setUrl</a><span class="delimiter">(</span><a href="#209684" title="=&gt; String">url</a><span class="delimiter">)</span>
        .<a href="#206034" title="(hdrs: Map[String,Seq[String]])play.api.libs.ws.WS.WSRequest">setHeaders</a><span class="delimiter">(</span><span title="(elems: (java.lang.String, Seq[String])*)scala.collection.immutable.Map[java.lang.String,Seq[String]]">Map</span><span class="delimiter">(</span><span title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;Content-Type&quot;</span> <span title="(y: Seq[String])(java.lang.String, Seq[String])">-&gt;</span> <span title="(elems: String*)Seq[String]">Seq</span><span class="delimiter">(</span><a href="#211680" title="play.api.http.ContentTypeOf[T]">ct</a>.<a href="../../http/ContentTypeOf.scala.html#90731" title="=&gt; Option[String]">mimeType</a>.<span title="(default: =&gt; String)String">getOrElse</span><span class="delimiter">(</span><span title="java.lang.String(&quot;text/plain&quot;)" class="string">&quot;text/plain&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(xs: scala.collection.GenTraversableOnce[(java.lang.String, Seq[String])])scala.collection.immutable.Map[java.lang.String,Seq[String]]">++</span> <a href="#209685" title="=&gt; Map[String,Seq[String]]">headers</a><span class="delimiter">)</span>
        .<a href="#206035" title="(queryString: Map[String,String])play.api.libs.ws.WS.WSRequest">setQueryString</a><span class="delimiter">(</span><a href="#209686" title="=&gt; Map[String,String]">queryString</a><span class="delimiter">)</span>
        .<span title="(x$1: Array[Byte])play.api.libs.ws.WS.WSRequest">setBody</span><span class="delimiter">(</span><a href="#211679" title="play.api.http.Writeable[T]">wrt</a>.<a href="../../http/Writeable.scala.html#73307" title="(v1: T)Array[Byte]">transform</a><span class="delimiter">(</span><a href="#211678" title="T">body</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * A WS HTTP response.
 */</span>
case <span class="keyword">class</span> <a title="class Response extends java.lang.Object with ScalaObject with Product with Serializable" id="212276">Response</a><a href="#212276" title="ScalaObject" class="delimiter">(</a><a title="com.ning.http.client.Response" id="210909">ahcResponse</a>: <span title="com.ning.http.client.Response">AHCResponse</span><span class="delimiter">)</span> <span class="delimiter">{</span>

  <span class="keyword">import</span> scala.xml._
  <span class="keyword">import</span> play.api.libs.json._

  <span class="comment">/**
   * Get the underlying response object.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; com.ning.http.client.Response" id="208745">getAHCResponse</a> = <a href="#210909" title="=&gt; com.ning.http.client.Response">ahcResponse</a>

  <span class="comment">/**
   * The response status code.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Int" id="208746">status</a>: <span title="Int">Int</span> = <a href="#210909" title="=&gt; com.ning.http.client.Response">ahcResponse</a>.<span title="()Int">getStatusCode</span><span class="delimiter">(</span><span class="delimiter">)</span>;

  <span class="comment">/**
   * Get a response header.
   */</span>
  <span class="keyword">def</span> <a title="(key: String)Option[String]" id="208747">header</a><span class="delimiter">(</span><a title="String" id="209236">key</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span title="(x: java.lang.String)Option[java.lang.String]">Option</span><span class="delimiter">(</span><a href="#210909" title="=&gt; com.ning.http.client.Response">ahcResponse</a>.<span title="(x$1: java.lang.String)java.lang.String">getHeader</span><span class="delimiter">(</span><a href="#209236" title="String">key</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * The response body as String.
   */</span>
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="String" id="208749">body</a>: <span title="String">String</span> = <a href="#210909" title="=&gt; com.ning.http.client.Response">ahcResponse</a>.<span title="()java.lang.String">getResponseBody</span><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="comment">/**
   * The response body as Xml.
   */</span>
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="scala.xml.Elem" id="208751">xml</a>: <span title="scala.xml.Elem">Elem</span> = <span title="object scala.xml.XML">XML</span>.<span title="(string: String)scala.xml.Elem">loadString</span><span class="delimiter">(</span><a href="#208748" title="=&gt; String">body</a><span class="delimiter">)</span>

  <span class="comment">/**
   * The response body as Json.
   */</span>
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="play.api.libs.json.JsValue" id="208753">json</a>: <a href="../json/JsValue.scala.html#14880" title="play.api.libs.json.JsValue">JsValue</a> = <a href="../json/Json.scala.html#14974" title="object play.api.libs.json.Json">Json</a>.<a href="../json/Json.scala.html#101961" title="(input: String)play.api.libs.json.JsValue">parse</a><span class="delimiter">(</span><a href="#208748" title="=&gt; String">body</a><span class="delimiter">)</span>

<span class="delimiter">}</span>

<span class="comment">/**
 * An HTTP response header (the body has not been retrieved yet)
 */</span>
case <span class="keyword">class</span> <a title="class ResponseHeaders extends java.lang.Object with ScalaObject with Product with Serializable" id="212280">ResponseHeaders</a><a href="#212280" title="ScalaObject" class="delimiter">(</a><a title="Int" id="211237">status</a>: <span title="Int">Int</span>, <a title="Map[String,Seq[String]]" id="211238">headers</a>: <span title="Map[String,Seq[String]]">Map</span><span class="delimiter">[</span>String, Seq<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>

<span class="comment">/**
 * Sign a WS call.
 */</span>
<span class="keyword">trait</span> <a title="trait SignatureCalculator extends java.lang.Object" id="15380">SignatureCalculator</a> <span title="java.lang.Object" class="delimiter">{</span>

  <span class="comment">/**
   * Sign it.
   */</span>
  <span class="keyword">def</span> <a title="(request: play.api.libs.ws.WS.WSRequest)Unit" id="205558">sign</a><span class="delimiter">(</span><a title="play.api.libs.ws.WS.WSRequest" id="206068">request</a>: WS.<a href="#204912" title="play.api.libs.ws.WS.WSRequest">WSRequest</a><span class="delimiter">)</span>

<span class="delimiter">}</span>


        </pre>
    </body>
</html>