<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>effect/scalaz/effect/MonadCatchIO.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> scalaz
<span class="keyword">package</span> effect

<span class="keyword">trait</span> <a title="trait MonadCatchIO[M[_]] extends java.lang.Object with scalaz.effect.MonadIO[M]" id="32368">MonadCatchIO</a><span class="delimiter">[</span><a title="[_]&gt;: Nothing &lt;: Any" id="32586">M</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="429362">_</a><span class="delimiter">]</span><span class="delimiter">]</span> <span class="keyword">extends</span> <a href="MonadIO.scala.html#32095" title="scalaz.effect.MonadIO[M]">MonadIO</a><span class="delimiter">[</span>M<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="comment">/** Executes the handler if an exception is raised. */</span>
  <span class="keyword">def</span> <a title="[A](ma: M[A])(handler: Throwable =&gt; M[A])M[A]" id="428217">except</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="428219">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="M[A]" id="429360">ma</a>: <a href="#32586" title="M[A]">M</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="Throwable =&gt; M[A]" id="429361">handler</a>: Throwable ⇒ M<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#32586" title="M[A]">M</a><span class="delimiter">[</span>A<span class="delimiter">]</span>
<span class="delimiter">}</span>     

<span class="keyword">object</span> <a title="object scalaz.effect.MonadCatchIO" id="32369">MonadCatchIO</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#32167" title="scalaz.effect.MonadCatchIOFunctions">MonadCatchIOFunctions</a> <span class="delimiter">{</span>
  @inline <span class="keyword">def</span> <a title="[M[_]](implicit M: scalaz.effect.MonadCatchIO[M])scalaz.effect.MonadCatchIO[M]" id="431354">apply</a><span class="delimiter">[</span><a title="[_]&gt;: Nothing &lt;: Any" id="431356">M</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="431359">_</a><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.effect.MonadCatchIO[M]" id="431358">M</a>: <a href="#32368" title="scalaz.effect.MonadCatchIO[M]">MonadCatchIO</a><span class="delimiter">[</span>M<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#32368" title="scalaz.effect.MonadCatchIO[M]">MonadCatchIO</a><span class="delimiter">[</span>M<span class="delimiter">]</span> = <a href="#431358" title="scalaz.effect.MonadCatchIO[M]">M</a>
<span class="delimiter">}</span>

<span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait MonadCatchIOFunctions extends java.lang.Object with ScalaObject" id="32167">MonadCatchIOFunctions</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[M[_], A](ma: M[A])(handler: Throwable =&gt; M[A])(implicit M: scalaz.effect.MonadCatchIO[M])M[A]" id="431306">except</a><span class="delimiter">[</span><a title="[_]&gt;: Nothing &lt;: Any" id="431309">M</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="431367">_</a><span class="delimiter">]</span>, <a title="&gt;: Nothing &lt;: Any" id="431310">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="M[A]" id="431364">ma</a>: <a href="#431309" title="M[A]">M</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="Throwable =&gt; M[A]" id="431365">handler</a>: Throwable ⇒ M<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.effect.MonadCatchIO[M]" id="431366">M</a>: <a href="#32368" title="scalaz.effect.MonadCatchIO[M]">MonadCatchIO</a><span class="delimiter">[</span>M<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#431309" title="M[A]">M</a><span class="delimiter">[</span>A<span class="delimiter">]</span> =
    <a href="#431366" title="scalaz.effect.MonadCatchIO[M]">M</a>.<a href="#428217" title="(ma: M[A])(handler: Throwable =&gt; M[A])M[A]">except</a><span class="delimiter">(</span><a href="#431364" title="M[A]">ma</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#431365" title="Throwable =&gt; M[A]">handler</a><span class="delimiter">)</span>
          
  <span class="keyword">import</span> scalaz.syntax.<a href="../../../core/scalaz/syntax/Syntax.scala.html#38937" title="object scalaz.syntax.package.monad">monad</a>._

  <span class="comment">/**Like &quot;finally&quot;, but only performs the final action if there was an exception. */</span>
  <span class="keyword">def</span> <a title="[M[_], A, B](ma: M[A], action: M[B])(implicit evidence$1: scalaz.effect.MonadCatchIO[M])M[A]" id="431383">onException</a><span class="delimiter">[</span><a title="[_]&gt;: Nothing &lt;: Any" id="431316">M</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="431384">_</a><span class="delimiter">]</span>: MonadCatchIO, <a title="&gt;: Nothing &lt;: Any" id="431317">A</a>, <a title="&gt;: Nothing &lt;: Any" id="431318">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="M[A]" id="431381">ma</a>: <a href="#431316" title="M[A]">M</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="M[B]" id="431382">action</a>: <a href="#431316" title="M[B]">M</a><span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#431316" title="M[A]">M</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = 
    <a href="#431306" title="(ma: M[A])(handler: Throwable =&gt; M[A])(implicit M: scalaz.effect.MonadCatchIO[M])M[A]">except</a><span class="delimiter">(</span><a href="#431381" title="M[A]">ma</a><span class="delimiter">)</span><a href="#431383" title="scalaz.effect.MonadCatchIO[M]" class="delimiter">(</a><a title="Throwable" id="431403">e</a> ⇒
      <span class="keyword">for</span> <span class="delimiter">{</span>
        <a title="B" id="431867">_</a> ← <a href="../../../core/scalaz/syntax/BindSyntax.scala.html#290709" title="(f: B =&gt; M[A])M[A]">action</a>
        <a title="A" id="432308">a</a> ← <span class="delimiter">(</span><span title="Nothing" class="keyword">throw</span> <a href="#431403" title="Throwable">e</a><span class="delimiter">)</span>: <a href="#431316" title="M[A]">M</a><span class="delimiter">[</span>A<span class="delimiter">]</span>
      <span class="delimiter">}</span> <span class="keyword">yield</span> <a href="#432308" title="A">a</a><span class="delimiter">)</span>
                 
  <span class="keyword">def</span> <a title="[M[_], A, B, C](before: M[A])(after: A =&gt; M[B])(during: A =&gt; M[C])(implicit evidence$2: scalaz.effect.MonadCatchIO[M])M[C]" id="432314">bracket</a><span class="delimiter">[</span><a title="[_]&gt;: Nothing &lt;: Any" id="431324">M</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="432315">_</a><span class="delimiter">]</span>: MonadCatchIO, <a title="&gt;: Nothing &lt;: Any" id="431325">A</a>, <a title="&gt;: Nothing &lt;: Any" id="431326">B</a>, <a title="&gt;: Nothing &lt;: Any" id="431327">C</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="M[A]" id="432311">before</a>: <a href="#431324" title="M[A]">M</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="A =&gt; M[B]" id="432312">after</a>: A ⇒ M<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="A =&gt; M[C]" id="432313">during</a>: A ⇒ M<span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#431324" title="M[C]">M</a><span class="delimiter">[</span>C<span class="delimiter">]</span> =
    <span class="keyword">for</span> <span class="delimiter">{</span>
      <a title="A" id="432777">a</a> ← <a href="../../../core/scalaz/syntax/BindSyntax.scala.html#290709" title="(f: A =&gt; M[C])M[C]">before</a>
      <a title="C" id="433228">r</a> ← <a href="#431383" title="(ma: M[C], action: M[B])(implicit evidence$1: scalaz.effect.MonadCatchIO[M])M[C]">onException</a><a href="../../../core/scalaz/syntax/BindSyntax.scala.html#290709" title="(f: C =&gt; M[C])M[C]" class="delimiter">(</a><a href="#432313" title="(v1: A)M[C]">during</a><span class="delimiter">(</span><a href="#432777" title="A">a</a><span class="delimiter">)</span>, <a href="#432312" title="(v1: A)M[B]">after</a><span class="delimiter">(</span><a href="#432777" title="A">a</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a title="B" id="433669">_</a> ← <a href="#432312" title="(v1: A)M[B]">after</a><a href="../../../core/scalaz/syntax/FunctorSyntax.scala.html#102635" title="(f: B =&gt; C)M[C]" class="delimiter">(</a><a href="#432777" title="A">a</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">yield</span> <a href="#433228" title="C">r</a>

  <span class="comment">/**Like &quot;bracket&quot;, but takes only a computation to run afterward. Generalizes &quot;finally&quot;. */</span>
  <span class="keyword">def</span> <a title="[M[_], A, B](ma: M[A], sequel: M[B])(implicit evidence$3: scalaz.effect.MonadCatchIO[M])M[A]" id="433675">ensuring</a><span class="delimiter">[</span><a title="[_]&gt;: Nothing &lt;: Any" id="431332">M</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="433676">_</a><span class="delimiter">]</span>: MonadCatchIO, <a title="&gt;: Nothing &lt;: Any" id="431333">A</a>, <a title="&gt;: Nothing &lt;: Any" id="431334">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="M[A]" id="433673">ma</a>: <a href="#431332" title="M[A]">M</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="M[B]" id="433674">sequel</a>: <a href="#431332" title="M[B]">M</a><span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#431332" title="M[A]">M</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = 
    <span class="keyword">for</span> <span class="delimiter">{</span>
      <a title="A" id="434129">r</a> ← <a href="#431383" title="(ma: M[A], action: M[B])(implicit evidence$1: scalaz.effect.MonadCatchIO[M])M[A]">onException</a><a href="../../../core/scalaz/syntax/BindSyntax.scala.html#290709" title="(f: A =&gt; M[A])M[A]" class="delimiter">(</a><a href="#433673" title="M[A]">ma</a>, <a href="#433674" title="M[B]">sequel</a><span class="delimiter">)</span>
      <a title="B" id="434590">_</a> ← <a href="../../../core/scalaz/syntax/FunctorSyntax.scala.html#102635" title="(f: B =&gt; A)M[A]">sequel</a>
    <span class="delimiter">}</span> <span class="keyword">yield</span> <a href="#434129" title="A">r</a>

  <span class="comment">/**A variant of &quot;bracket&quot; where the return value of this computation is not needed. */</span>
  <span class="keyword">def</span> <a title="[M[_], A, B, C](before: M[A])(after: M[B])(during: M[C])(implicit evidence$4: scalaz.effect.MonadCatchIO[M])M[C]" id="434596">bracket_</a><span class="delimiter">[</span><a title="[_]&gt;: Nothing &lt;: Any" id="431340">M</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="434597">_</a><span class="delimiter">]</span>: MonadCatchIO, <a title="&gt;: Nothing &lt;: Any" id="431341">A</a>, <a title="&gt;: Nothing &lt;: Any" id="431342">B</a>, <a title="&gt;: Nothing &lt;: Any" id="431343">C</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="M[A]" id="434593">before</a>: <a href="#431340" title="M[A]">M</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="M[B]" id="434594">after</a>: <a href="#431340" title="M[B]">M</a><span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="M[C]" id="434595">during</a>: <a href="#431340" title="M[C]">M</a><span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#431340" title="M[C]">M</a><span class="delimiter">[</span>C<span class="delimiter">]</span> =
    <a href="#432314" title="(before: M[A])(after: A =&gt; M[B])(during: A =&gt; M[C])(implicit evidence$2: scalaz.effect.MonadCatchIO[M])M[C]">bracket</a><span class="delimiter">(</span><a href="#434593" title="M[A]">before</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="A" id="434626">_</a> ⇒ <a href="#434594" title="M[B]">after</a><span class="delimiter">)</span><a href="#434596" title="scalaz.effect.MonadCatchIO[M]" class="delimiter">(</a><a title="A" id="434631">_</a> ⇒ <a href="#434595" title="M[C]">during</a><span class="delimiter">)</span>
                             
  <span class="comment">/**A variant of &quot;bracket&quot; that performs the final action only if there was an error. */</span>
  <span class="keyword">def</span> <a title="[M[_], A, B, C](before: M[A])(after: A =&gt; M[B])(during: A =&gt; M[C])(implicit evidence$5: scalaz.effect.MonadCatchIO[M])M[C]" id="434638">bracketOnError</a><span class="delimiter">[</span><a title="[_]&gt;: Nothing &lt;: Any" id="431349">M</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="434639">_</a><span class="delimiter">]</span>: MonadCatchIO, <a title="&gt;: Nothing &lt;: Any" id="431350">A</a>, <a title="&gt;: Nothing &lt;: Any" id="431351">B</a>, <a title="&gt;: Nothing &lt;: Any" id="431352">C</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="M[A]" id="434635">before</a>: <a href="#431349" title="M[A]">M</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="A =&gt; M[B]" id="434636">after</a>: A ⇒ M<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="A =&gt; M[C]" id="434637">during</a>: A ⇒ M<span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#431349" title="M[C]">M</a><span class="delimiter">[</span>C<span class="delimiter">]</span> = 
    <span class="keyword">for</span> <span class="delimiter">{</span>
      <a title="A" id="435101">a</a> ← <a href="../../../core/scalaz/syntax/BindSyntax.scala.html#290709" title="(f: A =&gt; M[C])M[C]">before</a>
      <a title="C" id="435556">r</a> ← <a href="#431383" title="(ma: M[C], action: M[B])(implicit evidence$1: scalaz.effect.MonadCatchIO[M])M[C]">onException</a><a href="../../../core/scalaz/syntax/FunctorSyntax.scala.html#102635" title="(f: C =&gt; C)M[C]" class="delimiter">(</a><a href="#434637" title="(v1: A)M[C]">during</a><span class="delimiter">(</span><a href="#435101" title="A">a</a><span class="delimiter">)</span>, <a href="#434636" title="(v1: A)M[B]">after</a><span class="delimiter">(</span><a href="#435101" title="A">a</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">yield</span> <a href="#435556" title="C">r</a>      
<span class="delimiter">}</span>


        </pre>
    </body>
</html>