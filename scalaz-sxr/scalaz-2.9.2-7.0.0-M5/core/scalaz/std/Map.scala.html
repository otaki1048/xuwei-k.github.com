<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>core/scalaz/std/Map.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> scalaz
<span class="keyword">package</span> std

<span class="keyword">trait</span> <a title="trait MapInstances extends java.lang.Object with ScalaObject" id="26719">MapInstances</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">import</span> syntax.std.<a href="../syntax/std/package.scala.html#39011" title="object scalaz.syntax.std.package.function2">function2</a>._

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[K]=&gt; java.lang.Object with scalaz.Traverse[[V]scala.collection.immutable.Map[K,V]]" id="54242">mapInstance</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="54244">K</a><span class="delimiter">]</span> = <a href="#99768" title="java.lang.Object with scalaz.Traverse[[V]scala.collection.immutable.Map[K,V]]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.Traverse[[V]scala.collection.immutable.Map[K,V]]" id="99768">Traverse</a><span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">{</span><span class="keyword">type</span> F<span class="delimiter">[</span>V<span class="delimiter">]</span> = Map<span class="delimiter">[</span>K,V<span class="delimiter">]</span><span class="delimiter">}</span><span class="delimiter">)</span>#F<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="[G[_], A, B](m: Map[K,A])(f: A =&gt; G[B])(implicit G: scalaz.Applicative[G])G[Map[K,B]]" id="99775">traverseImpl</a><span class="delimiter">[</span><a title="[_]&gt;: Nothing &lt;: Any" id="99779">G</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="99785">_</a><span class="delimiter">]</span>,<a title="&gt;: Nothing &lt;: Any" id="99780">A</a>,<a title="&gt;: Nothing &lt;: Any" id="99781">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Map[K,A]" id="99782">m</a>: <span title="Map[K,A]">Map</span><span class="delimiter">[</span>K,A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="A =&gt; G[B]" id="99783">f</a>: A =&gt; G<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Applicative[G]" id="99784">G</a>: <a href="../Applicative.scala.html#19664" title="scalaz.Applicative[G]">Applicative</a><span class="delimiter">[</span>G<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#99779" title="G[Map[K,B]]">G</a><span class="delimiter">[</span>Map<span class="delimiter">[</span>K,B<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">import</span> <a href="#99784" title="scalaz.Applicative[G]">G</a>.<a href="../Functor.scala.html#42517" title="=&gt; java.lang.Object with scalaz.syntax.FunctorSyntax[G]">functorSyntax</a>._
      <a href="List.scala.html#26333" title="object scalaz.std.list">list</a>.<a href="List.scala.html#54229" title="=&gt; java.lang.Object with scalaz.Traverse[List] with scalaz.MonadPlus[List] with scalaz.Each[List] with scalaz.Index[List] with scalaz.Length[List] with scalaz.ApplicativePlus[List] with scalaz.Zip[List] with scalaz.Unzip[List]{def empty[A]: List[Nothing]}">listInstance</a>.<a href="../Traverse.scala.html#42521" title="(fa: List[(K, A)])(f: ((K, A)) =&gt; G[(K, B)])(implicit evidence$1: scalaz.Applicative[G])G[List[(K, B)]]">traverseImpl</a><span class="delimiter">(</span><a href="#99782" title="Map[K,A]">m</a>.<span title="=&gt; List[(K, A)]">toList</span><span class="delimiter">)</span><a href="../syntax/FunctorSyntax.scala.html#99810" title="(v: G[List[(K, B)]])scalaz.syntax.FunctorOps[G,List[(K, B)]]" class="delimiter">(</a><a href="#102614" title="G[(K, B)]" class="delimiter">{</a> <span class="keyword">case</span> <span title="G[(K, B)]" class="delimiter">(</span><a title="K" id="102617">k</a>, <a title="A" id="102618">v</a><span class="delimiter">)</span> =&gt; <a href="#99783" title="(v1: A)G[B]">f</a><a href="../syntax/FunctorSyntax.scala.html#99810" title="(v: G[B])scalaz.syntax.FunctorOps[G,B]" class="delimiter">(</a><a href="#102618" title="A">v</a><span class="delimiter">)</span> <a href="../syntax/FunctorSyntax.scala.html#102635" title="(f: B =&gt; (K, B))G[(K, B)]">map</a> <span class="delimiter">(</span><a href="#102617" title="(x: K)ArrowAssoc[K]">k</a> <span title="(y: B)(K, B)">-&gt;</span> <a href="#103861" title="B">_</a><span class="delimiter">)</span> <span class="delimiter">}</span><span class="delimiter">)</span> <a href="../syntax/FunctorSyntax.scala.html#102635" title="(f: List[(K, B)] =&gt; scala.collection.immutable.Map[K,B])G[scala.collection.immutable.Map[K,B]]">map</a> <span class="delimiter">(</span><a href="#104276" title="List[(K, B)]">_</a>.<span title="(implicit ev: &lt;:&lt;[(K, B),(K, B)])scala.collection.immutable.Map[K,B]">toMap</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[K, V](implicit evidence$1: scalaz.Semigroup[V])scalaz.Monoid[Map[K,V]]" id="99762">mapMonoid</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="54248">K</a>, <a title="&gt;: Nothing &lt;: Any" id="54249">V</a>: Semigroup<span class="delimiter">]</span>: <a href="../Monoid.scala.html#19193" title="scalaz.Monoid[Map[K,V]]">Monoid</a><span class="delimiter">[</span>Map<span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#399674" title="java.lang.Object with scalaz.Monoid[Map[K,V]]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.Monoid[Map[K,V]]" id="399674">Monoid</a><span class="delimiter">[</span>Map<span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.Map[K,V]" id="399678">zero</a> = <span title="[A, B](elems: (A, B)*)scala.collection.immutable.Map[A,B]">Map</span><span title="(elems: (K, V)*)scala.collection.immutable.Map[K,V]" class="delimiter">[</span><a href="#54248" title="K">K</a>, <a href="#54249" title="V">V</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(m1: Map[K,V], m2: =&gt; Map[K,V])Map[K,V]" id="399679">append</a><span class="delimiter">(</span><a title="Map[K,V]" id="399684">m1</a>: <span title="Map[K,V]">Map</span><span class="delimiter">[</span>K, V<span class="delimiter">]</span>, <a title="=&gt; Map[K,V]" id="399685">m2</a>: =&gt; Map<span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="comment">// Eagerly consume m2 as the value is used more than once.</span>
      <span class="keyword">val</span> <a title="Map[K,V]" id="399690">m2Instance</a>: <span title="Map[K,V]">Map</span><span class="delimiter">[</span>K, V<span class="delimiter">]</span> = <a href="#399685" title="=&gt; Map[K,V]">m2</a>
      <span class="comment">// semigroups are not commutative, so order may matter. </span>
      <span class="keyword">val</span> <a href="#399692" title="(Map[K,V], Map[K,V], (V, V) =&gt; V)" class="delimiter">(</a><a href="#399691" title="Map[K,V]" id="399692">from</a>, <a href="#399691" title="Map[K,V]" id="399693">to</a>, <a href="#399691" title="(V, V) =&gt; V" id="399694">semigroup</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span title="(Map[K,V], Map[K,V], (V, V) =&gt; V)" class="keyword">if</span> <span class="delimiter">(</span><a href="#399684" title="Map[K,V]">m1</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&gt;</span> <a href="#399690" title="Map[K,V]">m2Instance</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span> <span title="(_1: Map[K,V], _2: Map[K,V], _3: (V, V) =&gt; V)(Map[K,V], Map[K,V], (V, V) =&gt; V)" class="delimiter">(</span><a href="#399690" title="Map[K,V]">m2Instance</a>, <a href="#399684" title="Map[K,V]">m1</a>, <a href="../Semigroup.scala.html#57303" title="[F](implicit F: scalaz.Semigroup[F])scalaz.Semigroup[F]">Semigroup</a><a href="#99762" title="(implicit F: scalaz.Semigroup[V])scalaz.Semigroup[V]" class="delimiter">[</a><a href="#54249" title="V">V</a><span class="delimiter">]</span>.<a href="../Semigroup.scala.html#57239" title="(f1: V, f2: =&gt; V)V">append</a><span class="delimiter">(</span><a href="#399706" title="V">_</a>: <a href="#54249" title="V">V</a>, <a href="#399707" title="V">_</a>: <a href="#54249" title="V">V</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="(_1: Map[K,V], _2: Map[K,V], _3: (V, V) =&gt; V)(Map[K,V], Map[K,V], (V, V) =&gt; V)" class="delimiter">(</span><a href="#399684" title="Map[K,V]">m1</a>, <a href="#399690" title="Map[K,V]">m2Instance</a>, <span class="delimiter">(</span><a href="../Semigroup.scala.html#57303" title="[F](implicit F: scalaz.Semigroup[F])scalaz.Semigroup[F]">Semigroup</a><a href="#99762" title="(implicit F: scalaz.Semigroup[V])scalaz.Semigroup[V]" class="delimiter">[</a><a href="#54249" title="V">V</a><span class="delimiter">]</span>.<a href="../Semigroup.scala.html#57239" title="(f1: V, f2: =&gt; V)V">append</a><a href="../syntax/std/Function2Ops.scala.html#55609" title="(f: (V, V) =&gt; V)java.lang.Object with scalaz.syntax.std.Function2Ops[V,V,V]" class="delimiter">(</a><a href="#399736" title="V">_</a>: <a href="#54249" title="V">V</a>, <a href="#399737" title="V">_</a>: <a href="#54249" title="V">V</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../syntax/std/Function2Ops.scala.html#102689" title="=&gt; (V, V) =&gt; V">flip</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <a href="#399692" title="Map[K,V]">from</a>.<span title="(z: Map[K,V])(op: (Map[K,V], (K, V)) =&gt; Map[K,V])Map[K,V]">foldLeft</span><span class="delimiter">(</span><a href="#399693" title="Map[K,V]">to</a><span class="delimiter">)</span> <a href="#399795" title="Map[K,V]" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="scala.collection.immutable.Map[K,V]" class="delimiter">(</span><a title="Map[K,V]" id="399805">to</a>, <span class="delimiter">(</span><a title="K" id="399808">k</a>, <a title="V" id="399809">v</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#399805" title="Map[K,V]">to</a> <span title="(kv: (K, V))scala.collection.immutable.Map[K,V]">+</span> <span class="delimiter">(</span><a href="#399808" title="(x: K)ArrowAssoc[K]">k</a> <span title="(y: V)(K, V)">-&gt;</span> <a href="#399805" title="Map[K,V]">to</a>.<span title="(key: K)Option[V]">get</span><span class="delimiter">(</span><a href="#399808" title="K">k</a><span class="delimiter">)</span>.<span title="(f: V =&gt; V)Option[V]">map</span><span class="delimiter">(</span><a href="#399694" title="(v1: V, v2: V)V">semigroup</a><span class="delimiter">(</span><a href="#399889" title="V">_</a>, <a href="#399809" title="V">v</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(default: =&gt; V)V">getOrElse</span><span class="delimiter">(</span><a href="#399809" title="V">v</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[K, V](implicit evidence$2: scalaz.Order[K], implicit evidence$3: scalaz.Order[V])scalaz.Order[Map[K,V]]" id="99550">mapOrder</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="54253">K</a>: Order, <a title="&gt;: Nothing &lt;: Any" id="54254">V</a>: Order<span class="delimiter">]</span>: <a href="../Order.scala.html#20228" title="scalaz.Order[Map[K,V]]">Order</a><span class="delimiter">[</span>Map<span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#399904" title="java.lang.Object with scalaz.Order[Map[K,V]]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.Order[Map[K,V]]" id="399904">Order</a><span class="delimiter">[</span>Map<span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(x: Map[K,V], y: Map[K,V])scalaz.Ordering" id="399916">order</a><span class="delimiter">(</span><a title="Map[K,V]" id="399917">x</a>: <span title="Map[K,V]">Map</span><span class="delimiter">[</span>K, V<span class="delimiter">]</span>, <a title="Map[K,V]" id="399918">y</a>: <span title="Map[K,V]">Map</span><span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../Ordering.scala.html#12086" title="scalaz.Ordering">Ordering</a> = <span class="delimiter">{</span>
      <span class="keyword">import</span> <a href="List.scala.html#26333" title="object scalaz.std.list">list</a>._
      <span class="keyword">import</span> <a href="Tuple.scala.html#26852" title="object scalaz.std.tuple">tuple</a>._
      <a href="../Order.scala.html#56159" title="[F](implicit F: scalaz.Order[F])scalaz.Order[F]">Order</a><a href="List.scala.html#54237" title="(implicit F: scalaz.Order[List[(K, V)]])scalaz.Order[List[(K, V)]]" class="delimiter">[</a><span title="List[(K, V)]">List</span><span class="delimiter">[</span><span class="delimiter">(</span>K, V<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">]</span>.<a href="../Order.scala.html#56194" title="(x: List[(K, V)], y: List[(K, V)])scalaz.Ordering">order</a><span class="delimiter">(</span><a href="#399917" title="Map[K,V]">x</a>.<span title="=&gt; List[(K, V)]">toList</span>, <a href="#399918" title="Map[K,V]">y</a>.<span title="=&gt; List[(K, V)]">toList</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">// TODO: Make this a lower-priority instance</span>
  <span class="comment">/*implicit def mapEqual[K: Order, V: Equal]: Equal[Map[K, V]] = new Equal[Map[K, V]] {
    def equal(a1: Map[K, V], a2: Map[K, V]): Boolean = {
      import set._
      if (equalIsNatural) a1 == a2
      else Equal[Set[K]].equal(a1.keySet, a1.keySet) &amp;&amp; {
        a1.forall {
          case (k, v) =&gt; Equal[V].equal(v, a2(k))
        }
      }
    }
    override val equalIsNatural: Boolean = Equal[K].equalIsNatural &amp;&amp; Equal[V].equalIsNatural
  }*/</span>
<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait MapFunctions extends java.lang.Object with ScalaObject" id="27040">MapFunctions</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[K, A](m: Map[K,A], k: K)(f: Option[A] =&gt; Option[A])Map[K,A]" id="401037">alter</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="401040">K</a>, <a title="&gt;: Nothing &lt;: Any" id="401041">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Map[K,A]" id="401084">m</a>: <span title="Map[K,A]">Map</span><span class="delimiter">[</span>K, A<span class="delimiter">]</span>, <a title="K" id="401085">k</a>: <a href="#401040" title="K">K</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="Option[A] =&gt; Option[A]" id="401086">f</a>: <span class="delimiter">(</span>Option<span class="delimiter">[</span>A<span class="delimiter">]</span> =&gt; Option<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>: <span title="Map[K,A]">Map</span><span class="delimiter">[</span>K, A<span class="delimiter">]</span> =
    <a href="#401086" title="(v1: Option[A])Option[A]">f</a><span class="delimiter">(</span><a href="#401084" title="Map[K,A]">m</a> <span title="(key: K)Option[A]">get</span> <a href="#401085" title="K">k</a><span class="delimiter">)</span> <span title="(f: A =&gt; scala.collection.immutable.Map[K,A])Option[scala.collection.immutable.Map[K,A]]">map</span> <span class="delimiter">(</span><a href="#401084" title="Map[K,A]">m</a>.<span title="(key: K, value: A)scala.collection.immutable.Map[K,A]">updated</span><span class="delimiter">(</span><a href="#401085" title="K">k</a>, <a href="#401098" title="A">_</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(default: =&gt; scala.collection.immutable.Map[K,A])scala.collection.immutable.Map[K,A]">getOrElse</span> <span class="delimiter">(</span><a href="#401084" title="Map[K,A]">m</a> <span title="(key: K)scala.collection.immutable.Map[K,A]">-</span> <a href="#401085" title="K">k</a><span class="delimiter">)</span>

  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[K, A, B, C](m1: Map[K,A], m2: Map[K,B])(f: (K, A, B) =&gt; C)Map[K,C]" id="401042">intersectWithKey</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="401047">K</a>,<a title="&gt;: Nothing &lt;: Any" id="401048">A</a>,<a title="&gt;: Nothing &lt;: Any" id="401049">B</a>,<a title="&gt;: Nothing &lt;: Any" id="401050">C</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Map[K,A]" id="401153">m1</a>: <span title="Map[K,A]">Map</span><span class="delimiter">[</span>K, A<span class="delimiter">]</span>, <a title="Map[K,B]" id="401154">m2</a>: <span title="Map[K,B]">Map</span><span class="delimiter">[</span>K, B<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="(K, A, B) =&gt; C" id="401155">f</a>: <span class="delimiter">(</span>K, A, B<span class="delimiter">)</span> =&gt; C<span class="delimiter">)</span>: <span title="Map[K,C]">Map</span><span class="delimiter">[</span>K, C<span class="delimiter">]</span> = <a href="#401153" title="Map[K,A]">m1</a> <span title="(pf: PartialFunction[(K, A),(K, C)])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[K,A],(K, C),Map[K,C]])Map[K,C]">collect</span> <a href="#401183" title="(K, C)" class="delimiter">{</a>
    <span class="keyword">case</span> <span title="(K, C)" class="delimiter">(</span><a title="K" id="401186">k</a>, <a title="A" id="401187">v</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#401154" title="Map[K,B]">m2</a> <span title="(key: K)Boolean">contains</span> <a href="#401186" title="K">k</a> =&gt; <a href="#401186" title="(x: K)ArrowAssoc[K]">k</a> <span title="(y: C)(K, C)">-&gt;</span> <a href="#401155" title="(v1: K, v2: A, v3: B)C">f</a><span class="delimiter">(</span><a href="#401186" title="K">k</a>, <a href="#401187" title="A">v</a>, <a href="#401154" title="(key: K)B">m2</a><span class="delimiter">(</span><a href="#401186" title="K">k</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[K, A, B, C](m1: Map[K,A], m2: Map[K,B])(f: (A, B) =&gt; C)Map[K,C]" id="401051">intersectWith</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="401056">K</a>,<a title="&gt;: Nothing &lt;: Any" id="401057">A</a>,<a title="&gt;: Nothing &lt;: Any" id="401058">B</a>,<a title="&gt;: Nothing &lt;: Any" id="401059">C</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Map[K,A]" id="401475">m1</a>: <span title="Map[K,A]">Map</span><span class="delimiter">[</span>K, A<span class="delimiter">]</span>, <a title="Map[K,B]" id="401476">m2</a>: <span title="Map[K,B]">Map</span><span class="delimiter">[</span>K, B<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="(A, B) =&gt; C" id="401477">f</a>: <span class="delimiter">(</span>A, B<span class="delimiter">)</span> =&gt; C<span class="delimiter">)</span>: <span title="Map[K,C]">Map</span><span class="delimiter">[</span>K, C<span class="delimiter">]</span> =
    <a href="#401042" title="(m1: Map[K,A], m2: Map[K,B])(f: (K, A, B) =&gt; C)Map[K,C]">intersectWithKey</a><span class="delimiter">(</span><a href="#401475" title="Map[K,A]">m1</a>, <a href="#401476" title="Map[K,B]">m2</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="K" id="401539">_</a>, <a title="A" id="401540">x</a>, <a title="B" id="401541">y</a><span class="delimiter">)</span> =&gt; <a href="#401477" title="(v1: A, v2: B)C">f</a><span class="delimiter">(</span><a href="#401540" title="A">x</a>, <a href="#401541" title="B">y</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/** Exchange keys of `m` according to `f`.  Result may be smaller if
    * `f` maps two or more `K`s to the same `K2`, in which case the
    * resulting associated value is an arbitrary choice.
    */</span>
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[K, K2, A](m: Map[K,A])(f: K =&gt; K2)Map[K2,A]" id="401060">mapKeys</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="401064">K</a>, <a title="&gt;: Nothing &lt;: Any" id="401065">K2</a>, <a title="&gt;: Nothing &lt;: Any" id="401066">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Map[K,A]" id="401546">m</a>: <span title="Map[K,A]">Map</span><span class="delimiter">[</span>K, A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="K =&gt; K2" id="401547">f</a>: K =&gt; K2<span class="delimiter">)</span>: <span title="Map[K2,A]">Map</span><span class="delimiter">[</span>K2, A<span class="delimiter">]</span> =
    <a href="#401546" title="Map[K,A]">m</a> <span title="(f: ((K, A)) =&gt; (K2, A))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[K,A],(K2, A),Map[K2,A]])Map[K2,A]">map</span> <a href="#401578" title="(K2, A)" class="delimiter">{</a><span class="keyword">case</span> <span title="(K2, A)" class="delimiter">(</span><a title="K" id="401581">k</a>, <a title="A" id="401582">v</a><span class="delimiter">)</span> =&gt; <a href="#401547" title="(v1: K)K2">f</a><span title="(x: K2)ArrowAssoc[K2]" class="delimiter">(</span><a href="#401581" title="K">k</a><span class="delimiter">)</span> <span title="(y: A)(K2, A)">-&gt;</span> <a href="#401582" title="A">v</a><span class="delimiter">}</span>

  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[K, A](m1: Map[K,A], m2: Map[K,A])(f: (K, A, A) =&gt; A)Map[K,A]" id="401067">unionWithKey</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="401070">K</a>,<a title="&gt;: Nothing &lt;: Any" id="401071">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Map[K,A]" id="401634">m1</a>: <span title="Map[K,A]">Map</span><span class="delimiter">[</span>K, A<span class="delimiter">]</span>, <a title="Map[K,A]" id="401635">m2</a>: <span title="Map[K,A]">Map</span><span class="delimiter">[</span>K, A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="(K, A, A) =&gt; A" id="401636">f</a>: <span class="delimiter">(</span>K, A, A<span class="delimiter">)</span> =&gt; A<span class="delimiter">)</span>: <span title="Map[K,A]">Map</span><span class="delimiter">[</span>K, A<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.immutable.Map[K,A]" id="401641">diff</a> = <a href="#401635" title="Map[K,A]">m2</a> <span title="(xs: scala.collection.GenTraversableOnce[K])scala.collection.immutable.Map[K,A]">--</span> <a href="#401634" title="Map[K,A]">m1</a>.<span title="=&gt; scala.collection.immutable.Set[K]">keySet</span>
    <span class="keyword">val</span> <a title="scala.collection.immutable.Map[K,A]" id="401642">aug</a> = <a href="#401634" title="Map[K,A]">m1</a> <span title="(f: ((K, A)) =&gt; (K, A))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[K,A],(K, A),scala.collection.immutable.Map[K,A]])scala.collection.immutable.Map[K,A]">map</span> <a href="#401660" title="(K, A)" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="(K, A)" class="delimiter">(</span><a title="K" id="401663">k</a>, <a title="A" id="401664">v</a><span class="delimiter">)</span> =&gt; <span title="(K, A)" class="keyword">if</span> <span class="delimiter">(</span><a href="#401635" title="Map[K,A]">m2</a> <span title="(key: K)Boolean">contains</span> <a href="#401663" title="K">k</a><span class="delimiter">)</span> <a href="#401663" title="(x: K)ArrowAssoc[K]">k</a> <span title="(y: A)(K, A)">-&gt;</span> <a href="#401636" title="(v1: K, v2: A, v3: A)A">f</a><span class="delimiter">(</span><a href="#401663" title="K">k</a>, <a href="#401664" title="A">v</a>, <a href="#401635" title="(key: K)A">m2</a><span class="delimiter">(</span><a href="#401663" title="K">k</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">else</span> <span title="(_1: K, _2: A)(K, A)" class="delimiter">(</span><a href="#401663" title="K">k</a>, <a href="#401664" title="A">v</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#401642" title="scala.collection.immutable.Map[K,A]">aug</a> <span title="(xs: scala.collection.GenTraversableOnce[(K, A)])scala.collection.immutable.Map[K,A]">++</span> <a href="#401641" title="scala.collection.immutable.Map[K,A]">diff</a>
  <span class="delimiter">}</span>

  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[K, A](m1: Map[K,A], m2: Map[K,A])(f: (A, A) =&gt; A)Map[K,A]" id="401072">unionWith</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="401075">K</a>,<a title="&gt;: Nothing &lt;: Any" id="401076">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Map[K,A]" id="401942">m1</a>: <span title="Map[K,A]">Map</span><span class="delimiter">[</span>K, A<span class="delimiter">]</span>, <a title="Map[K,A]" id="401943">m2</a>: <span title="Map[K,A]">Map</span><span class="delimiter">[</span>K, A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="(A, A) =&gt; A" id="401944">f</a>: <span class="delimiter">(</span>A, A<span class="delimiter">)</span> =&gt; A<span class="delimiter">)</span>: <span title="Map[K,A]">Map</span><span class="delimiter">[</span>K, A<span class="delimiter">]</span> =
    <a href="#401067" title="(m1: Map[K,A], m2: Map[K,A])(f: (K, A, A) =&gt; A)Map[K,A]">unionWithKey</a><span class="delimiter">(</span><a href="#401942" title="Map[K,A]">m1</a>, <a href="#401943" title="Map[K,A]">m2</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="K" id="401982">_</a>, <a title="A" id="401983">x</a>, <a title="A" id="401984">y</a><span class="delimiter">)</span> =&gt; <a href="#401944" title="(v1: A, v2: A)A">f</a><span class="delimiter">(</span><a href="#401983" title="A">x</a>, <a href="#401984" title="A">y</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[K, A](m1: Map[K,A], k: K, v: A)(f: (A, A) =&gt; A)Map[K,A]" id="401077">insertWith</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="401080">K</a>,<a title="&gt;: Nothing &lt;: Any" id="401081">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Map[K,A]" id="401987">m1</a>: <span title="Map[K,A]">Map</span><span class="delimiter">[</span>K, A<span class="delimiter">]</span>, <a title="K" id="401988">k</a>: <a href="#401080" title="K">K</a>, <a title="A" id="401989">v</a>: <a href="#401081" title="A">A</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="(A, A) =&gt; A" id="401990">f</a>: <span class="delimiter">(</span>A, A<span class="delimiter">)</span> =&gt; A<span class="delimiter">)</span>: <span title="Map[K,A]">Map</span><span class="delimiter">[</span>K, A<span class="delimiter">]</span> =
    <span title="Map[K,A]" class="keyword">if</span><span class="delimiter">(</span><a href="#401987" title="Map[K,A]">m1</a> <span title="(key: K)Boolean">contains</span> <a href="#401988" title="K">k</a><span class="delimiter">)</span> <a href="#401987" title="Map[K,A]">m1</a> <span title="(kv: (K, A))scala.collection.immutable.Map[K,A]">+</span> <span class="delimiter">(</span><a href="#401988" title="(x: K)ArrowAssoc[K]">k</a> <span title="(y: A)(K, A)">-&gt;</span> <a href="#401990" title="(v1: A, v2: A)A">f</a><span class="delimiter">(</span><a href="#401987" title="(key: K)A">m1</a><span class="delimiter">(</span><a href="#401988" title="K">k</a><span class="delimiter">)</span>, <a href="#401989" title="A">v</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#401987" title="Map[K,A]">m1</a> <span title="(kv: (K, A))scala.collection.immutable.Map[K,A]">+</span> <span class="delimiter">(</span><a href="#401988" title="(x: K)ArrowAssoc[K]">k</a> <span title="(y: A)(K, A)">-&gt;</span> <a href="#401989" title="A">v</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="object scalaz.std.map" id="26483">map</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#26719" title="scalaz.std.MapInstances">MapInstances</a> <span class="keyword">with</span> <a href="#27040" title="scalaz.std.MapFunctions">MapFunctions</a>


        </pre>
    </body>
</html>