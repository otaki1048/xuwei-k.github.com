<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>core/scalaz/std/Stream.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> scalaz
<span class="keyword">package</span> std

<span class="keyword">import</span> annotation.tailrec

<span class="keyword">trait</span> <a title="trait StreamInstances extends java.lang.Object with ScalaObject" id="27484">StreamInstances</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="StreamInstances extends scalaz.Traverse[Stream] with scalaz.MonadPlus[Stream] with scalaz.Each[Stream] with scalaz.Index[Stream] with scalaz.Length[Stream] with scalaz.Zip[Stream] with scalaz.Unzip[Stream]" id="54336">streamInstance</a>: <a href="#92375" title="StreamInstances extends scalaz.Traverse[Stream] with scalaz.MonadPlus[Stream] with scalaz.Each[Stream] with scalaz.Index[Stream] with scalaz.Length[Stream] with scalaz.Zip[Stream] with scalaz.Unzip[Stream]">Traverse</a><span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> MonadPlus<span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> Each<span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> Index<span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> Length<span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> Zip<span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> Unzip<span class="delimiter">[</span>Stream<span class="delimiter">]</span> = <a href="#405160" title="java.lang.Object with scalaz.Traverse[Stream] with scalaz.MonadPlus[Stream] with scalaz.Each[Stream] with scalaz.Index[Stream] with scalaz.Length[Stream] with scalaz.Zip[Stream] with scalaz.Unzip[Stream]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.Traverse[Stream] with scalaz.MonadPlus[Stream] with scalaz.Each[Stream] with scalaz.Index[Stream] with scalaz.Length[Stream] with scalaz.Zip[Stream] with scalaz.Unzip[Stream]" id="405160">Traverse</a><span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> <a href="../MonadPlus.scala.html#17903" title="scalaz.MonadPlus[Stream]">MonadPlus</a><span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> <a href="../Each.scala.html#22520" title="scalaz.Each[Stream]">Each</a><span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> <a href="../Index.scala.html#21164" title="scalaz.Index[Stream]">Index</a><span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> <a href="../Length.scala.html#16709" title="scalaz.Length[Stream]">Length</a><span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> <a href="../Zip.scala.html#12860" title="scalaz.Zip[Stream]">Zip</a><span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> <a href="../Unzip.scala.html#16730" title="scalaz.Unzip[Stream]">Unzip</a><span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="[G[_], A, B](fa: Stream[A])(f: A =&gt; G[B])(implicit G: scalaz.Applicative[G])G[Stream[B]]" id="405409">traverseImpl</a><span class="delimiter">[</span><a title="[_]&gt;: Nothing &lt;: Any" id="405413">G</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="405457">_</a><span class="delimiter">]</span>, <a title="&gt;: Nothing &lt;: Any" id="405414">A</a>, <a title="&gt;: Nothing &lt;: Any" id="405415">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="405454">fa</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="A =&gt; G[B]" id="405455">f</a>: <span class="delimiter">(</span>A<span class="delimiter">)</span> =&gt; G<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Applicative[G]" id="405456">G</a>: <a href="../Applicative.scala.html#19664" title="scalaz.Applicative[G]">Applicative</a><span class="delimiter">[</span>G<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#405413" title="G[Stream[B]]">G</a><span class="delimiter">[</span>Stream<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="G[Stream[B]]" id="405975">seed</a>: <a href="#405413" title="G[Stream[B]]">G</a><span class="delimiter">[</span>Stream<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#405456" title="scalaz.Applicative[G]">G</a>.<a href="../Pointed.scala.html#43518" title="(a: =&gt; scala.collection.immutable.Stream[B])G[scala.collection.immutable.Stream[B]]">point</a><span class="delimiter">(</span><span title="[A](xs: A*)scala.collection.immutable.Stream[A]">Stream</span><span title="(xs: B*)scala.collection.immutable.Stream[B]" class="delimiter">[</span><a href="#405415" title="B">B</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

      <a href="#405425" title="(fa: Stream[A], z: =&gt; G[Stream[B]])(f: (A, =&gt; G[Stream[B]]) =&gt; G[Stream[B]])G[Stream[B]]">foldRight</a><span class="delimiter">(</span><a href="#405454" title="Stream[A]">fa</a>, <a href="#405975" title="G[Stream[B]]">seed</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="delimiter">(</span><a title="A" id="406030">x</a>, <a title="=&gt; G[Stream[B]]" id="406031">ys</a><span class="delimiter">)</span> =&gt; <a href="#405456" title="scalaz.Applicative[G]">G</a>.<a href="../Applicative.scala.html#43465" title="(fa: =&gt; G[B], fb: =&gt; G[Stream[B]])(f: (B, Stream[B]) =&gt; scala.collection.immutable.Stream[B])G[scala.collection.immutable.Stream[B]]">apply2</a><span class="delimiter">(</span><a href="#405455" title="(v1: A)G[B]">f</a><span class="delimiter">(</span><a href="#406030" title="A">x</a><span class="delimiter">)</span>, <a href="#406031" title="=&gt; G[Stream[B]]">ys</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="B" id="406052">b</a>, <a title="Stream[B]" id="406053">bs</a><span class="delimiter">)</span> =&gt; <a href="#406052" title="B">b</a> <a href="#406054" title="(hd: B)scala.collection.immutable.Stream[B]">#::</a> <a href="#406053" title="(stream: =&gt; scala.collection.immutable.Stream[B])scala.collection.immutable.Stream.ConsWrapper[B]">bs</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="[A](fa: Stream[A])(f: A =&gt; Unit)Unit" id="405416">each</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="405418">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="405472">fa</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="A =&gt; Unit" id="405473">f</a>: <span class="delimiter">(</span>A<span class="delimiter">)</span> =&gt; Unit<span class="delimiter">)</span> = <a href="#405472" title="Stream[A]">fa</a> <span title="(f: A =&gt; Unit)Unit">foreach</span> <a href="#405473" title="A =&gt; Unit">f</a>
    <span class="keyword">def</span> <a title="[A](fa: Stream[A])Int" id="405419">length</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="405421">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="405513">fa</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#405513" title="Stream[A]">fa</a>.<span title="=&gt; Int">length</span>
    <span class="keyword">def</span> <a title="[A](fa: Stream[A], i: Int)Option[A]" id="405422">index</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="405424">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="405524">fa</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Int" id="405525">i</a>: <span title="Int">Int</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Int" id="405540">n</a> = <span title="Int(0)" class="int">0</span>
      <span class="keyword">var</span> <a title="Option[A]" id="405541">k</a>: <span title="Option[A]">Option</span><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span title="object None">None</span>
      <span class="keyword">val</span> <a title="Iterator[A]" id="405542">it</a> = <a href="#405524" title="Stream[A]">fa</a>.<span title="=&gt; Iterator[A]">iterator</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#405542" title="Iterator[A]">it</a>.<span title="=&gt; Boolean">hasNext</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#405541" title="Option[A]">k</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#405543" title="()Unit" class="delimiter">{</a>
        <span class="keyword">val</span> <a title="A" id="405544">z</a> = <a href="#405542" title="Iterator[A]">it</a>.<span title="()A">next</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#405540" title="Int">n</a> <span title="(x: Int)Boolean">==</span> <a href="#405525" title="Int">i</a><span class="delimiter">)</span> <a href="#405541" title="Option[A]">k</a> = <span title="(x: A)Some[A]">Some</span><span class="delimiter">(</span><a href="#405544" title="A">z</a><span class="delimiter">)</span>
        <a href="#405540" title="Int">n</a> = <a href="#405540" title="Int">n</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>

      <a href="#405541" title="Option[A]">k</a>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="[A, B](fa: Stream[A], z: =&gt; B)(f: (A, =&gt; B) =&gt; B)B" id="405425">foldRight</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="405428">A</a>, <a title="&gt;: Nothing &lt;: Any" id="405429">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="405603">fa</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="=&gt; B" id="405604">z</a>: =&gt; B<span class="delimiter">)</span><span class="delimiter">(</span><a title="(A, =&gt; B) =&gt; B" id="405605">f</a>: <span class="delimiter">(</span>A, =&gt; B<span class="delimiter">)</span> =&gt; B<span class="delimiter">)</span>: <a href="#405429" title="B">B</a> = <span title="B" class="keyword">if</span> <span class="delimiter">(</span><a href="#405603" title="Stream[A]">fa</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
      <a href="#405604" title="=&gt; B">z</a>
    <span class="keyword">else</span>
      <a href="#405605" title="(v1: A, v2: =&gt; B)B">f</a><span class="delimiter">(</span><a href="#405603" title="Stream[A]">fa</a>.<span title="=&gt; A">head</span>, <a href="#405425" title="(fa: Stream[A], z: =&gt; B)(f: (A, =&gt; B) =&gt; B)B">foldRight</a><span class="delimiter">(</span><a href="#405603" title="Stream[A]">fa</a>.<span title="=&gt; scala.collection.immutable.Stream[A]">tail</span>, <a href="#405604" title="=&gt; B">z</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#405605" title="(A, =&gt; B) =&gt; B">f</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="[A, B](fa: Stream[A])(f: A =&gt; Stream[B])Stream[B]" id="405430">bind</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="405433">A</a>, <a title="&gt;: Nothing &lt;: Any" id="405434">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="405633">fa</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="A =&gt; Stream[B]" id="405634">f</a>: <span class="delimiter">(</span>A<span class="delimiter">)</span> =&gt; Stream<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#405633" title="Stream[A]">fa</a> <span title="(f: A =&gt; scala.collection.GenTraversableOnce[B])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream[A],B,Stream[B]])Stream[B]">flatMap</span> <a href="#405634" title="A =&gt; Stream[B]">f</a>
    <span class="keyword">def</span> <a title="[A]=&gt; Stream[A]" id="405435">empty</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="405437">A</a><span class="delimiter">]</span>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span> = scala.<span title="=&gt; collection.immutable.Stream.type">Stream</span>.<span title="scala.collection.immutable.Stream[Nothing]">empty</span>
    <span class="keyword">def</span> <a title="[A](a: Stream[A], b: =&gt; Stream[A])scala.collection.immutable.Stream[A]" id="405438">plus</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="405440">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="405725">a</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="=&gt; Stream[A]" id="405726">b</a>: =&gt; Stream<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#405725" title="Stream[A]">a</a> <a href="#405741" title="(prefix: scala.collection.immutable.Stream[A])scala.collection.immutable.Stream[A]">#:::</a> <a href="#405726" title="(stream: =&gt; scala.collection.immutable.Stream[A])scala.collection.immutable.Stream.ConsWrapper[A]">b</a>
    <span class="keyword">def</span> <a title="[A](a: =&gt; A)scala.collection.immutable.Stream[A]" id="405441">point</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="405443">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; A" id="405786">a</a>: =&gt; A<span class="delimiter">)</span> = scala.<span title="(xs: A*)scala.collection.immutable.Stream[A]">Stream</span><span class="delimiter">(</span><a href="#405786" title="=&gt; A">a</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="[A, B](a: =&gt; Stream[A], b: =&gt; Stream[B])Stream[(A, B)]" id="405444">zip</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="405447">A</a>, <a title="&gt;: Nothing &lt;: Any" id="405448">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; Stream[A]" id="405803">a</a>: =&gt; Stream<span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="=&gt; Stream[B]" id="405804">b</a>: =&gt; Stream<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#405803" title="=&gt; Stream[A]">a</a> <span title="(that: scala.collection.GenIterable[B])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream[A],(A, B),Stream[(A, B)]])Stream[(A, B)]">zip</span> <a href="#405804" title="=&gt; Stream[B]">b</a>
    <span class="keyword">def</span> <a title="[A, B](a: Stream[(A, B)])(scala.collection.immutable.Stream[A], scala.collection.immutable.Stream[B])" id="405449">unzip</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="405452">A</a>, <a title="&gt;: Nothing &lt;: Any" id="405453">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[(A, B)]" id="405927">a</a>: <span title="Stream[(A, B)]">Stream</span><span class="delimiter">[</span><span class="delimiter">(</span>A, B<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#405927" title="Stream[(A, B)]">a</a>.<span title="(implicit asPair: ((A, B)) =&gt; (A, B))(scala.collection.immutable.Stream[A], scala.collection.immutable.Stream[B])">unzip</span>

  <span class="delimiter">}</span>

  <span class="keyword">import</span> <a href="../Tags.scala.html#18189" title="object scalaz.Tags">Tags</a>.Zip

  <span class="comment">/**
   * An alternative [[scalaz.Applicative]] instance for `Stream`, discriminated by the type tag [[scalaz.Tags.Zip]],
   * that zips streams together.
   *
   * Example:
   * {{{
   * streamZipApplicative(Stream(1, 2), Stream(3, 4))(_ * _) // Stream(3, 8)
   * }}}
   */</span>
  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scalaz.Applicative[[α]scala.collection.immutable.Stream[α] with java.lang.Object{type Tag = scalaz.Tags.Zip}]" id="54339">streamZipApplicative</a>: <a href="../Applicative.scala.html#19664" title="scalaz.Applicative[[α]scala.collection.immutable.Stream[α] with java.lang.Object{type Tag = scalaz.Tags.Zip}]">Applicative</a><span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">{</span><span class="keyword">type</span> λ<span class="delimiter">[</span>α<span class="delimiter">]</span>=Stream<span class="delimiter">[</span>α<span class="delimiter">]</span> @@ Zip<span class="delimiter">}</span><span class="delimiter">)</span>#λ<span class="delimiter">]</span> = <a href="#406392" title="java.lang.Object with scalaz.Applicative[[α]scala.collection.immutable.Stream[α] with java.lang.Object{type Tag = scalaz.Tags.Zip}]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.Applicative[[α]scala.collection.immutable.Stream[α] with java.lang.Object{type Tag = scalaz.Tags.Zip}]" id="406392">Applicative</a><span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">{</span><span class="keyword">type</span> λ<span class="delimiter">[</span>α<span class="delimiter">]</span>=Stream<span class="delimiter">[</span>α<span class="delimiter">]</span> @@ Zip<span class="delimiter">}</span><span class="delimiter">)</span>#λ<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="[A](a: =&gt; A)scalaz.package.@@[scala.collection.immutable.Stream[A],scalaz.Tags.Zip]" id="406489">point</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="406491">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; A" id="406497">a</a>: =&gt; A<span class="delimiter">)</span> = <a href="../Tags.scala.html#64614" title="(a: scala.collection.immutable.Stream[A])scalaz.package.@@[scala.collection.immutable.Stream[A],scalaz.Tags.Zip]">Zip</a><span class="delimiter">(</span><span title="=&gt; collection.immutable.Stream.type">Stream</span>.<span title="(elem: =&gt; A)scala.collection.immutable.Stream[A]">continually</span><span class="delimiter">(</span><a href="#406497" title="=&gt; A">a</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="[A, B](fa: =&gt; scalaz.package.@@[Stream[A],scalaz.Tags.Zip])(f: =&gt; scalaz.package.@@[Stream[A =&gt; B],scalaz.Tags.Zip])scalaz.package.@@[scala.collection.immutable.Stream[B],scalaz.Tags.Zip]" id="406492">ap</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="406495">A</a>, <a title="&gt;: Nothing &lt;: Any" id="406496">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; scalaz.package.@@[Stream[A],scalaz.Tags.Zip]" id="406556">fa</a>: =&gt; <span class="delimiter">(</span>Stream<span class="delimiter">[</span>A<span class="delimiter">]</span> @@ Zip<span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; scalaz.package.@@[Stream[A =&gt; B],scalaz.Tags.Zip]" id="406557">f</a>: =&gt; <span class="delimiter">(</span>Stream<span class="delimiter">[</span>A =&gt; B<span class="delimiter">]</span> @@ Zip<span class="delimiter">)</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="../Tags.scala.html#64614" title="(a: scala.collection.immutable.Stream[B])scalaz.package.@@[scala.collection.immutable.Stream[B],scalaz.Tags.Zip]">Zip</a><span class="delimiter">(</span><span title="scala.collection.immutable.Stream[B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#406557" title="=&gt; scalaz.package.@@[Stream[A =&gt; B],scalaz.Tags.Zip]">f</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">||</span> <a href="#406556" title="=&gt; scalaz.package.@@[Stream[A],scalaz.Tags.Zip]">fa</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="=&gt; collection.immutable.Stream.type">Stream</span>.<span title="[A]=&gt; scala.collection.immutable.Stream[A]">empty</span><span title="scala.collection.immutable.Stream[B]" class="delimiter">[</span><a href="#406496" title="B">B</a><span class="delimiter">]</span>
      <span class="keyword">else</span> <span title="=&gt; collection.immutable.Stream.type">Stream</span>.<span title="(hd: B, tl: =&gt; scala.collection.immutable.Stream[B])Stream.Cons[B]">cons</span><span class="delimiter">(</span><span class="delimiter">(</span><a href="#406557" title="=&gt; scalaz.package.@@[Stream[A =&gt; B],scalaz.Tags.Zip]">f</a>.<span title="(v1: A)B">head</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#406556" title="=&gt; scalaz.package.@@[Stream[A],scalaz.Tags.Zip]">fa</a>.<span title="=&gt; A">head</span><span class="delimiter">)</span>, <a href="#406492" title="(fa: =&gt; scalaz.package.@@[Stream[A],scalaz.Tags.Zip])(f: =&gt; scalaz.package.@@[Stream[A =&gt; B],scalaz.Tags.Zip])scala.collection.immutable.Stream[Nothing] with java.lang.Object{type Tag = scalaz.Tags.Zip}">ap</a><span class="delimiter">(</span><a href="../Tags.scala.html#64614" title="(a: scala.collection.immutable.Stream[A])scalaz.package.@@[scala.collection.immutable.Stream[A],scalaz.Tags.Zip]">Zip</a><span class="delimiter">(</span><a href="#406556" title="=&gt; scalaz.package.@@[Stream[A],scalaz.Tags.Zip]">fa</a>.<span title="=&gt; scala.collection.immutable.Stream[A]">tail</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="../Tags.scala.html#64614" title="(a: scala.collection.immutable.Stream[A =&gt; B])scalaz.package.@@[scala.collection.immutable.Stream[A =&gt; B],scalaz.Tags.Zip]">Zip</a><span class="delimiter">(</span><a href="#406557" title="=&gt; scalaz.package.@@[Stream[A =&gt; B],scalaz.Tags.Zip]">f</a>.<span title="=&gt; scala.collection.immutable.Stream[A =&gt; B]">tail</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[A]=&gt; java.lang.Object with scalaz.Monoid[Stream[A]]" id="54341">streamMonoid</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="54343">A</a><span class="delimiter">]</span> = <a href="#92392" title="java.lang.Object with scalaz.Monoid[Stream[A]]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.Monoid[Stream[A]]" id="92392">Monoid</a><span class="delimiter">[</span>Stream<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(f1: Stream[A], f2: =&gt; Stream[A])scala.collection.immutable.Stream[A]" id="92394">append</a><span class="delimiter">(</span><a title="Stream[A]" id="92396">f1</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="=&gt; Stream[A]" id="92397">f2</a>: =&gt; Stream<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#92396" title="Stream[A]">f1</a> <a href="#92405" title="(prefix: scala.collection.immutable.Stream[A])scala.collection.immutable.Stream[A]">#:::</a> <a href="#92397" title="(stream: =&gt; scala.collection.immutable.Stream[A])scala.collection.immutable.Stream.ConsWrapper[A]">f2</a>
    <span class="keyword">def</span> <a title="=&gt; Stream[A]" id="92395">zero</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span> = scala.<span title="=&gt; collection.immutable.Stream.type">Stream</span>.<span title="scala.collection.immutable.Stream[Nothing]">empty</span>
  <span class="delimiter">}</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[A](implicit A0: scalaz.Equal[A])java.lang.Object with scalaz.Equal[Stream[A]]" id="54344">streamEqual</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="54346">A</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Equal[A]" id="94525">A0</a>: <a href="../Equal.scala.html#20114" title="scalaz.Equal[A]">Equal</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#94528" title="java.lang.Object with scalaz.Equal[Stream[A]]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.Equal[Stream[A]]" id="94528">Equal</a><span class="delimiter">[</span>Stream<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(a1: Stream[A], a2: Stream[A])Boolean" id="94530">equal</a><span class="delimiter">(</span><a title="Stream[A]" id="94531">a1</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Stream[A]" id="94532">a2</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">(</span><a href="#94531" title="Stream[A]">a1</a> <span title="(that: scala.collection.GenSeq[A])(p: (A, A) =&gt; Boolean)Boolean">corresponds</span> <a href="#94532" title="Stream[A]">a2</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#94525" title="scalaz.Equal[A]">A0</a>.<a href="../Equal.scala.html#56182" title="(a1: A, a2: A)Boolean">equal</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[A](implicit A0: scalaz.Show[A])java.lang.Object with scalaz.Show[Stream[A]]" id="54347">streamShow</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="54349">A</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Show[A]" id="91977">A0</a>: <a href="../Show.scala.html#18794" title="scalaz.Show[A]">Show</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#91980" title="java.lang.Object with scalaz.Show[Stream[A]]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.Show[Stream[A]]" id="91980">Show</a><span class="delimiter">[</span>Stream<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(as: Stream[A])scalaz.Cord" id="92256">show</a><span class="delimiter">(</span><a title="Stream[A]" id="92257">as</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="java.lang.String(&quot;Stream(&quot;)" class="string">&quot;Stream(&quot;</span> <a href="../Cord.scala.html#92353" title="(x: =&gt; String)scalaz.Cord">+:</a> <a href="#27959" title="object scalaz.std.stream">stream</a>.<a href="#55456" title="(as: Stream[scalaz.Cord], a: scalaz.Cord)Stream[scalaz.Cord]">intersperse</a><span class="delimiter">(</span><a href="#92257" title="Stream[A]">as</a>.<span title="(f: A =&gt; scalaz.Cord)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream[A],scalaz.Cord,scala.collection.immutable.Stream[scalaz.Cord]])scala.collection.immutable.Stream[scalaz.Cord]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream.Coll,scalaz.Cord,scala.collection.immutable.Stream[scalaz.Cord]]" class="delimiter">(</span><a href="#91977" title="scalaz.Show[A]">A0</a>.<a href="../Show.scala.html#64361" title="(f: A)scalaz.Cord">show</a><span class="delimiter">)</span>, <a href="../Cord.scala.html#94598" title="(as: scalaz.Cord*)scalaz.Cord">Cord</a><span class="delimiter">(</span><a href="../Cord.scala.html#94595" title="implicit scalaz.Cord.stringToCord : (s: String)scalaz.Cord" class="string">&quot;,&quot;</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(z: scalaz.Cord)(op: (scalaz.Cord, scalaz.Cord) =&gt; scalaz.Cord)scalaz.Cord">foldLeft</span><span class="delimiter">(</span><a href="../Cord.scala.html#94598" title="(as: scalaz.Cord*)scalaz.Cord">Cord</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#97789" title="scalaz.Cord">_</a> <a href="../Cord.scala.html#92351" title="(xs: scalaz.Cord)scalaz.Cord">++</a> <a href="#97790" title="scalaz.Cord">_</a><span class="delimiter">)</span> <a href="../Cord.scala.html#92352" title="(x: =&gt; String)scalaz.Cord">:+</a> <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
  <span class="delimiter">}</span>


  <span class="comment">// TODO order, ...</span>
<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait StreamFunctions extends java.lang.Object with ScalaObject" id="26749">StreamFunctions</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[A](s1: Stream[A], s2: Stream[A])Stream[A]" id="55421">merge</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="55423">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="406947">s1</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Stream[A]" id="406948">s2</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span title="Stream[A]" class="keyword">if</span> <span class="delimiter">(</span><a href="#406947" title="Stream[A]">s1</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#406948" title="Stream[A]">s2</a>
    <span class="keyword">else</span> <a href="#406947" title="Stream[A]">s1</a>.<span title="=&gt; A">head</span> <a href="#406952" title="(hd: A)scala.collection.immutable.Stream[A]">#::</a> <a href="#55421" title="(s1: Stream[A], s2: Stream[A])Stream[A]">merge</a><span title="(stream: =&gt; scala.collection.immutable.Stream[A])scala.collection.immutable.Stream.ConsWrapper[A]" class="delimiter">(</span><a href="#406948" title="Stream[A]">s2</a>, <a href="#406947" title="Stream[A]">s1</a>.<span title="=&gt; scala.collection.immutable.Stream[A]">tail</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">import</span> scala.<span title="=&gt; collection.immutable.Stream.type">Stream</span>.<span class="delimiter">{</span>Empty, empty<span class="delimiter">}</span>

  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[A](as: Stream[A])Option[scalaz.Zipper[A]]" id="55425">toZipper</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="55427">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="381924">as</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Option[scalaz.Zipper[A]]">Option</span><span class="delimiter">[</span>Zipper<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#381924" title="Stream[A]">as</a> <span title="Option[scalaz.Zipper[A]]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="None.type">Empty</span>   =&gt; <span title="object None">None</span>
    <span class="keyword">case</span> <a title="Some[scalaz.Zipper[A]]" id="407016">h</a> <a href="#406998" title="(xs: scala.collection.immutable.Stream[A])Option[(A, scala.collection.immutable.Stream[A])]">#::</a> <a title="scala.collection.immutable.Stream[A]" id="407017">t</a> =&gt; <span title="(x: scalaz.Zipper[A])Some[scalaz.Zipper[A]]">Some</span><span class="delimiter">(</span><a href="../Zipper.scala.html#23430" title="object scalaz.Zipper">Zipper</a>.<a href="../Zipper.scala.html#327051" title="(ls: Stream[A], a: A, rs: Stream[A])scalaz.Zipper[A]">zipper</a><span class="delimiter">(</span><span title="scala.collection.immutable.Stream[Nothing]">empty</span>, <a href="#407016" title="A">h</a>, <a href="#407017" title="scala.collection.immutable.Stream[A]">t</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[A](as: Stream[A])Option[scalaz.Zipper[A]]" id="55428">zipperEnd</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="55430">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="382018">as</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Option[scalaz.Zipper[A]]">Option</span><span class="delimiter">[</span>Zipper<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#382018" title="Stream[A]">as</a> <span title="Option[scalaz.Zipper[A]]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="None.type">Empty</span> =&gt; <span title="object None">None</span>
    <span class="keyword">case</span> <span title="Some[scalaz.Zipper[A]]">_</span>     =&gt;
      <span class="keyword">val</span> <a title="scala.collection.immutable.Stream[A]" id="407041">x</a> = <a href="#382018" title="Stream[A]">as</a>.<span title="=&gt; scala.collection.immutable.Stream[A]">reverse</span>
      <span title="(x: scalaz.Zipper[A])Some[scalaz.Zipper[A]]">Some</span><span class="delimiter">(</span><a href="../Zipper.scala.html#23430" title="object scalaz.Zipper">Zipper</a>.<a href="../Zipper.scala.html#327051" title="(ls: Stream[A], a: A, rs: Stream[A])scalaz.Zipper[A]">zipper</a><span class="delimiter">(</span><a href="#407041" title="scala.collection.immutable.Stream[A]">x</a>.<span title="=&gt; scala.collection.immutable.Stream[A]">tail</span>, <a href="#407041" title="scala.collection.immutable.Stream[A]">x</a>.<span title="=&gt; A">head</span>, <span title="scala.collection.immutable.Stream[Nothing]">empty</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[A](as: Stream[A])Stream[Stream[A]]" id="55431">heads</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="55433">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="407073">as</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Stream[Stream[A]]">Stream</span><span class="delimiter">[</span>Stream<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#407073" title="Stream[A]">as</a> <span title="Stream[Stream[A]]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a title="scala.collection.immutable.Stream[scala.collection.immutable.Stream[A]]" id="407094">h</a> <a href="#407076" title="(xs: scala.collection.immutable.Stream[A])Option[(A, scala.collection.immutable.Stream[A])]">#::</a> <a title="scala.collection.immutable.Stream[A]" id="407095">t</a> =&gt; scala.<span title="(xs: A*)scala.collection.immutable.Stream[A]">Stream</span><span class="delimiter">(</span><a href="#407094" title="A">h</a><span class="delimiter">)</span> <a href="#407096" title="(hd: scala.collection.immutable.Stream[A])scala.collection.immutable.Stream[scala.collection.immutable.Stream[A]]">#::</a> <a href="#55431" title="(as: Stream[A])Stream[Stream[A]]">heads</a><span class="delimiter">(</span><a href="#407095" title="scala.collection.immutable.Stream[A]">t</a><span class="delimiter">)</span>.<span title="(f: Stream[A] =&gt; scala.collection.immutable.Stream[A])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream[Stream[A]],scala.collection.immutable.Stream[A],scala.collection.immutable.Stream[scala.collection.immutable.Stream[A]]])scala.collection.immutable.Stream[scala.collection.immutable.Stream[A]]">map</span><span title="(stream: =&gt; scala.collection.immutable.Stream[scala.collection.immutable.Stream[A]])scala.collection.immutable.Stream.ConsWrapper[scala.collection.immutable.Stream[A]]" class="delimiter">(</span><a href="#407094" title="A">h</a> <a href="#407147" title="(hd: A)scala.collection.immutable.Stream[A]">#::</a> <a href="#407146" title="(stream: =&gt; scala.collection.immutable.Stream[A])scala.collection.immutable.Stream.ConsWrapper[A]">_</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="scala.collection.immutable.Stream[Nothing]">_</span>       =&gt; <span title="scala.collection.immutable.Stream[Nothing]">empty</span>
  <span class="delimiter">}</span>

  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[A](as: Stream[A])Stream[Stream[A]]" id="55434">tails</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="55436">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="407235">as</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Stream[Stream[A]]">Stream</span><span class="delimiter">[</span>Stream<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#407235" title="Stream[A]">as</a> <span title="Stream[Stream[A]]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a title="scala.collection.immutable.Stream[Stream[A]]" id="407256">h</a> <a href="#407238" title="(xs: scala.collection.immutable.Stream[A])Option[(A, scala.collection.immutable.Stream[A])]">#::</a> <a title="scala.collection.immutable.Stream[A]" id="407257">t</a> =&gt; <a href="#407235" title="Stream[A]">as</a> <a href="#407258" title="(hd: Stream[A])scala.collection.immutable.Stream[Stream[A]]">#::</a> <a href="#55434" title="(as: Stream[A])Stream[Stream[A]]">tails</a><span title="(stream: =&gt; scala.collection.immutable.Stream[Stream[A]])scala.collection.immutable.Stream.ConsWrapper[Stream[A]]" class="delimiter">(</span><a href="#407257" title="scala.collection.immutable.Stream[A]">t</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="scala.collection.immutable.Stream[Nothing]">_</span>       =&gt; <span title="scala.collection.immutable.Stream[Nothing]">empty</span>
  <span class="delimiter">}</span>

  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[A, B, C](a: Stream[A])(f: Stream[A =&gt; (B =&gt; C)])Stream[B =&gt; C]" id="55437">zapp</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="55441">A</a>, <a title="&gt;: Nothing &lt;: Any" id="55442">B</a>, <a title="&gt;: Nothing &lt;: Any" id="55443">C</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="407305">a</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="Stream[A =&gt; (B =&gt; C)]" id="407306">f</a>: <span title="Stream[A =&gt; (B =&gt; C)]">Stream</span><span class="delimiter">[</span>A =&gt; B =&gt; C<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Stream[B =&gt; C]">Stream</span><span class="delimiter">[</span>B =&gt; C<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Stream[A =&gt; (B =&gt; C)]" id="407310">ff</a> = <a href="#407306" title="Stream[A =&gt; (B =&gt; C)]">f</a>
    <span class="keyword">val</span> <a title="Stream[A]" id="407311">aa</a> = <a href="#407305" title="Stream[A]">a</a>
    <span title="Stream[B =&gt; C]" class="keyword">if</span> <span class="delimiter">(</span><a href="#407310" title="Stream[A =&gt; (B =&gt; C)]">ff</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">||</span> <a href="#407311" title="Stream[A]">aa</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="scala.collection.immutable.Stream[Nothing]">empty</span>
    <span class="keyword">else</span> scala.<span title="=&gt; collection.immutable.Stream.type">Stream</span>.<span title="(hd: B =&gt; C, tl: =&gt; scala.collection.immutable.Stream[B =&gt; C])Stream.Cons[B =&gt; C]">cons</span><span class="delimiter">(</span><span class="delimiter">(</span><a href="#407310" title="Stream[A =&gt; (B =&gt; C)]">ff</a>.<span title="(v1: A)B =&gt; C">head</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#407311" title="Stream[A]">aa</a>.<span title="=&gt; A">head</span><span class="delimiter">)</span>, <a href="#55437" title="(a: Stream[A])(f: Stream[A =&gt; (B =&gt; C)])Stream[B =&gt; C]">zapp</a><span class="delimiter">(</span><a href="#407311" title="Stream[A]">aa</a>.<span title="=&gt; scala.collection.immutable.Stream[A]">tail</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#407310" title="Stream[A =&gt; (B =&gt; C)]">ff</a>.<span title="=&gt; scala.collection.immutable.Stream[A =&gt; (B =&gt; C)]">tail</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[A, B](as: Stream[A])(f: A =&gt; (B, () =&gt; Stream[A]))Stream[scalaz.Tree[B]]" id="55444">unfoldForest</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="55447">A</a>, <a title="&gt;: Nothing &lt;: Any" id="55448">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="407362">as</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="A =&gt; (B, () =&gt; Stream[A])" id="407363">f</a>: A =&gt; <span class="delimiter">(</span>B, <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Stream<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>: <span title="Stream[scalaz.Tree[B]]">Stream</span><span class="delimiter">[</span>Tree<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">]</span> =
    <a href="#407362" title="Stream[A]">as</a>.<span title="(f: A =&gt; scalaz.Tree[B])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream[A],scalaz.Tree[B],Stream[scalaz.Tree[B]]])Stream[scalaz.Tree[B]]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream.Coll,scalaz.Tree[B],scala.collection.immutable.Stream[scalaz.Tree[B]]]" class="delimiter">(</span><a title="A" id="407397">a</a> =&gt; <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(x: A)scalaz.Tree[B]" id="407398">unfoldTree</a><span class="delimiter">(</span><a title="A" id="407399">x</a>: <a href="#55447" title="A">A</a><span class="delimiter">)</span>: <a href="../Tree.scala.html#12404" title="scalaz.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span> =
        <a href="#407363" title="(v1: A)(B, () =&gt; Stream[A])">f</a><span class="delimiter">(</span><a href="#407399" title="A">x</a><span class="delimiter">)</span> <span title="scalaz.Tree[B]" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="scalaz.Tree[B]" class="delimiter">(</span><a title="B" id="407403">b</a>, <a title="() =&gt; Stream[A]" id="407404">bs</a><span class="delimiter">)</span> =&gt; <a href="../Tree.scala.html#12405" title="object scalaz.Tree">Tree</a>.<a href="../Tree.scala.html#214202" title="(root: =&gt; B, forest: =&gt; Stream[scalaz.Tree[B]])scalaz.Tree[B]">node</a><span class="delimiter">(</span><a href="#407403" title="B">b</a>, <a href="#55444" title="(as: Stream[A])(f: A =&gt; (B, () =&gt; Stream[A]))Stream[scalaz.Tree[B]]">unfoldForest</a><span class="delimiter">(</span><a href="#407404" title="()Stream[A]">bs</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#407363" title="A =&gt; (B, () =&gt; Stream[A])">f</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

      <a href="#407398" title="(x: A)scalaz.Tree[B]">unfoldTree</a><span class="delimiter">(</span><a href="#407397" title="A">a</a><span class="delimiter">)</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[A, B, M[_]](as: Stream[A])(f: A =&gt; M[(B, Stream[A])])(implicit evidence$1: scalaz.Monad[M])M[Stream[scalaz.Tree[B]]]" id="407473">unfoldForestM</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="55453">A</a>, <a title="&gt;: Nothing &lt;: Any" id="55454">B</a>, <a title="[_]&gt;: Nothing &lt;: Any" id="55455">M</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="407474">_</a><span class="delimiter">]</span> : Monad<span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="407471">as</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="A =&gt; M[(B, Stream[A])]" id="407472">f</a>: A =&gt; M<span class="delimiter">[</span><span class="delimiter">(</span>B, Stream<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#55455" title="M[Stream[scalaz.Tree[B]]]">M</a><span class="delimiter">[</span>Stream<span class="delimiter">[</span>Tree<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="[T, U](ts: Stream[T], f: T =&gt; M[U])M[Stream[U]]" id="407479">mapM</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="407482">T</a>, <a title="&gt;: Nothing &lt;: Any" id="407483">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[T]" id="407485">ts</a>: <span title="Stream[T]">Stream</span><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="T =&gt; M[U]" id="407486">f</a>: T =&gt; M<span class="delimiter">[</span>U<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#55455" title="M[Stream[U]]">M</a><span class="delimiter">[</span>Stream<span class="delimiter">[</span>U<span class="delimiter">]</span><span class="delimiter">]</span> =
      <a href="#407485" title="Stream[T]">ts</a>.<span title="[B](z: B)(f: (T, B) =&gt; B)B">foldRight</span><span title="(z: M[Stream[U]])(f: (T, M[Stream[U]]) =&gt; M[Stream[U]])M[Stream[U]]" class="delimiter">[</span><a href="#55455" title="M[Stream[U]]">M</a><span class="delimiter">[</span>Stream<span class="delimiter">[</span>U<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="../Monad.scala.html#166034" title="[F[_]](implicit F: scalaz.Monad[F])scalaz.Monad[F]">Monad</a><a href="#407473" title="(implicit F: scalaz.Monad[M])scalaz.Monad[M]" class="delimiter">[</a><a href="#55455" title="M">M</a><span class="delimiter">]</span>.<a href="../Pointed.scala.html#43518" title="(a: =&gt; Stream[U])M[Stream[U]]">point</a><span class="delimiter">(</span>scala.<span title="(xs: Nothing*)scala.collection.immutable.Stream[Nothing]">Stream</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#407526" title="M[Stream[U]]" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="M[scala.collection.immutable.Stream[U]]" class="delimiter">(</span><a title="T" id="407536">g</a>, <a title="M[Stream[U]]" id="407537">h</a><span class="delimiter">)</span> =&gt; <a href="../Monad.scala.html#166034" title="[F[_]](implicit F: scalaz.Monad[F])scalaz.Monad[F]">Monad</a><a href="#407473" title="(implicit F: scalaz.Monad[M])scalaz.Monad[M]" class="delimiter">[</a><a href="#55455" title="M">M</a><span class="delimiter">]</span>.<a href="../Applicative.scala.html#43465" title="(fa: =&gt; M[U], fb: =&gt; M[Stream[U]])(f: (U, Stream[U]) =&gt; scala.collection.immutable.Stream[U])M[scala.collection.immutable.Stream[U]]">apply2</a><span class="delimiter">(</span><a href="#407486" title="(v1: T)M[U]">f</a><span class="delimiter">(</span><a href="#407536" title="T">g</a><span class="delimiter">)</span>, <a href="#407537" title="M[Stream[U]]">h</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#407563" title="U">_</a> <a href="#407565" title="(hd: U)scala.collection.immutable.Stream[U]">#::</a> <a href="#407564" title="(stream: =&gt; scala.collection.immutable.Stream[U])scala.collection.immutable.Stream.ConsWrapper[U]">_</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(v: A)M[scalaz.Tree[B]]" id="407484">unfoldTreeM</a><span class="delimiter">(</span><a title="A" id="407593">v</a>: <a href="#55453" title="A">A</a><span class="delimiter">)</span> =
      <a href="../Monad.scala.html#166034" title="[F[_]](implicit F: scalaz.Monad[F])scalaz.Monad[F]">Monad</a><a href="#407473" title="(implicit F: scalaz.Monad[M])scalaz.Monad[M]" class="delimiter">[</a><a href="#55455" title="M">M</a><span class="delimiter">]</span>.<a href="../Bind.scala.html#43534" title="(fa: M[(B, Stream[A])])(f: ((B, Stream[A])) =&gt; M[scalaz.Tree[B]])M[scalaz.Tree[B]]">bind</a><span class="delimiter">(</span><a href="#407472" title="(v1: A)M[(B, Stream[A])]">f</a><span class="delimiter">(</span><a href="#407593" title="A">v</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span>abs: <span title="(B, Stream[A])" class="delimiter">(</span>B, Stream<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
        <a href="../Monad.scala.html#166034" title="[F[_]](implicit F: scalaz.Monad[F])scalaz.Monad[F]">Monad</a><a href="#407473" title="(implicit F: scalaz.Monad[M])scalaz.Monad[M]" class="delimiter">[</a><a href="#55455" title="M">M</a><span class="delimiter">]</span>.<a href="../Monad.scala.html#43497" title="(fa: M[Stream[scalaz.Tree[B]]])(f: Stream[scalaz.Tree[B]] =&gt; scalaz.Tree[B])M[scalaz.Tree[B]]">map</a><span class="delimiter">(</span><a href="#407473" title="[A, B, M[_]](as: Stream[A])(f: A =&gt; M[(B, Stream[A])])(implicit evidence$1: scalaz.Monad[M])M[Stream[scalaz.Tree[B]]]">unfoldForestM</a><span title="(as: Stream[A])(f: A =&gt; M[(B, Stream[A])])(implicit evidence$1: scalaz.Monad[M])M[Stream[scalaz.Tree[B]]]" class="delimiter">[</span><a href="#55453" title="A">A</a>, <a href="#55454" title="B">B</a>, <a href="#55455" title="M">M</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#407608" title="(B, Stream[A])">abs</a>.<span title="=&gt; Stream[A]">_2</span><span class="delimiter">)</span><a href="#407473" title="scalaz.Monad[M]" class="delimiter">(</a><a href="#407472" title="A =&gt; M[(B, Stream[A])]">f</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span>ts: <span title="Stream[scalaz.Tree[B]]">Stream</span><span class="delimiter">[</span>Tree<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> =&gt;
          <a href="../Tree.scala.html#12405" title="object scalaz.Tree">Tree</a>.<a href="../Tree.scala.html#214202" title="(root: =&gt; B, forest: =&gt; Stream[scalaz.Tree[B]])scalaz.Tree[B]">node</a><span class="delimiter">(</span><a href="#407608" title="(B, Stream[A])">abs</a>.<span title="=&gt; B">_1</span>, <a href="#407635" title="Stream[scalaz.Tree[B]]">ts</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

    <a href="#407479" title="(ts: Stream[A], f: A =&gt; M[scalaz.Tree[B]])M[Stream[scalaz.Tree[B]]]">mapM</a><span class="delimiter">(</span><a href="#407471" title="Stream[A]">as</a>, <a href="#407484" title="(v: A)M[scalaz.Tree[B]]">unfoldTreeM</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Intersperse the element `a` between each adjacent pair of elements in `as` */</span>
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[A](as: Stream[A], a: A)Stream[A]" id="55456">intersperse</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="55458">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="92267">as</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="A" id="92268">a</a>: <a href="#55458" title="A">A</a><span class="delimiter">)</span>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(rest: Stream[A])Stream[A]" id="407685">loop</a><span class="delimiter">(</span><a title="Stream[A]" id="407686">rest</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span> = <a href="#407686" title="Stream[A]">rest</a> <span title="Stream[A]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="scala.collection.immutable.Stream[Nothing]">Stream</span>.<span title="object Stream.Empty">Empty</span> =&gt; <span title="=&gt; collection.immutable.Stream.type">Stream</span>.<span title="scala.collection.immutable.Stream[Nothing]">empty</span>
      <span class="keyword">case</span> <a title="scala.collection.immutable.Stream[A]" id="407708">h</a> <a href="#407698" title="(xs: scala.collection.immutable.Stream[A])Option[(A, scala.collection.immutable.Stream[A])]">#::</a> <a title="scala.collection.immutable.Stream[A]" id="407709">t</a>      =&gt; <a href="#92268" title="A">a</a> <a href="#407710" title="(hd: A)scala.collection.immutable.Stream[A]">#::</a> <a href="#407708" title="A">h</a> <a href="#407711" title="(stream: =&gt; scala.collection.immutable.Stream[A])scala.collection.immutable.Stream.ConsWrapper[A]">#::</a> <a href="#407685" title="(rest: Stream[A])Stream[A]">loop</a><span title="(stream: =&gt; scala.collection.immutable.Stream[A])scala.collection.immutable.Stream.ConsWrapper[A]" class="delimiter">(</span><a href="#407709" title="scala.collection.immutable.Stream[A]">t</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#92267" title="Stream[A]">as</a> <span title="Stream[A]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="scala.collection.immutable.Stream[Nothing]">Stream</span>.<span title="object Stream.Empty">Empty</span> =&gt; <span title="=&gt; collection.immutable.Stream.type">Stream</span>.<span title="scala.collection.immutable.Stream[Nothing]">empty</span>
      <span class="keyword">case</span> <a title="scala.collection.immutable.Stream[A]" id="407770">h</a> <a href="#407760" title="(xs: scala.collection.immutable.Stream[A])Option[(A, scala.collection.immutable.Stream[A])]">#::</a> <a title="scala.collection.immutable.Stream[A]" id="407771">t</a>      =&gt; <a href="#407770" title="A">h</a> <a href="#407772" title="(hd: A)scala.collection.immutable.Stream[A]">#::</a> <a href="#407685" title="(rest: Stream[A])Stream[A]">loop</a><span title="(stream: =&gt; scala.collection.immutable.Stream[A])scala.collection.immutable.Stream.ConsWrapper[A]" class="delimiter">(</span><a href="#407771" title="scala.collection.immutable.Stream[A]">t</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[A](as1: Stream[Stream[A]], as2: Stream[A])Stream[A]" id="55459">intercalate</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="55461">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[Stream[A]]" id="407794">as1</a>: <span title="Stream[Stream[A]]">Stream</span><span class="delimiter">[</span>Stream<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Stream[A]" id="407795">as2</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span> =
    <a href="#55456" title="(as: Stream[Stream[A]], a: Stream[A])Stream[Stream[A]]">intersperse</a><span class="delimiter">(</span><a href="#407794" title="Stream[Stream[A]]">as1</a>, <a href="#407795" title="Stream[A]">as2</a><span class="delimiter">)</span>.<span title="(implicit asTraversable: Stream[A] =&gt; scala.collection.TraversableOnce[A])scala.collection.immutable.Stream[A]">flatten</span>

  <span class="keyword">def</span> <a title="[A, B](seed: A)(f: A =&gt; Option[(B, A)])Stream[B]" id="55462">unfold</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="55465">A</a>, <a title="&gt;: Nothing &lt;: Any" id="55466">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="225593">seed</a>: <a href="#55465" title="A">A</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="A =&gt; Option[(B, A)]" id="225594">f</a>: A =&gt; Option<span class="delimiter">[</span><span class="delimiter">(</span>B, A<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Stream[B]">Stream</span><span class="delimiter">[</span>B<span class="delimiter">]</span> =
    <a href="#225594" title="(v1: A)Option[(B, A)]">f</a><span class="delimiter">(</span><a href="#225593" title="A">seed</a><span class="delimiter">)</span> <span title="Stream[B]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="scala.collection.immutable.Stream[Nothing]">None</span>         =&gt; <span title="=&gt; collection.immutable.Stream.type">Stream</span>.<span title="scala.collection.immutable.Stream[Nothing]">empty</span>
      <span class="keyword">case</span> <span title="Stream.Cons[B]">Some</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="B" id="407889">b</a>, <a title="A" id="407890">a</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <span title="=&gt; collection.immutable.Stream.type">Stream</span>.<span title="(hd: B, tl: =&gt; scala.collection.immutable.Stream[B])Stream.Cons[B]">cons</span><span class="delimiter">(</span><a href="#407889" title="B">b</a>, <a href="#55462" title="(seed: A)(f: A =&gt; Option[(B, A)])Stream[B]">unfold</a><span class="delimiter">(</span><a href="#407890" title="A">a</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#225594" title="A =&gt; Option[(B, A)]">f</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="object scalaz.std.stream" id="27959">stream</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#27484" title="scalaz.std.StreamInstances">StreamInstances</a> <span class="keyword">with</span> <a href="#26749" title="scalaz.std.StreamFunctions">StreamFunctions</a> <span class="delimiter">{</span>
  <span class="keyword">object</span> <a title="object scalaz.std.stream.streamSyntax" id="92265">streamSyntax</a> <span title="ScalaObject" class="keyword">extends</span> scalaz.syntax.std.<a href="../syntax/std/StreamOps.scala.html#30764" title="scalaz.syntax.std.ToStreamOps">ToStreamOps</a>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>