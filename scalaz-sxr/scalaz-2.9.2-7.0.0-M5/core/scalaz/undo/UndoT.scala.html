<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>core/scalaz/undo/UndoT.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> scalaz
<span class="keyword">package</span> undo

<span class="comment">/**
 * UndoT Monad Transformer.
 *
 * Ported from [[http://hackage.haskell.org/packages/archive/Hedi/0.1.1/doc/html/Undo.html]]
 *
 * Supports undo, redo and hput to push the last state on history. The redo stack is blanked on hput.
 *
 * @author Gerolf Seitz
 * @author Jason Zaugg
 */</span>
<span class="keyword">final</span> case <span class="keyword">class</span> <a title="class UndoT[F[+_], S, +A] extends java.lang.Object with ScalaObject with Product with Serializable" id="426662">UndoT</a><span class="delimiter">[</span><a title="[+_]&gt;: Nothing &lt;: Any" id="426666">F</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="427131">_</a><span class="delimiter">]</span>, <a title="&gt;: Nothing &lt;: Any" id="426667">S</a>, +<a title="&gt;: Nothing &lt;: Any" id="426668">A</a><span class="delimiter">]</span><a href="#426662" title="ScalaObject" class="delimiter">(</a><a title="scalaz.StateT[F,scalaz.undo.History[S],A]" id="427130">hstate</a>: <a href="../StateT.scala.html#11747" title="scalaz.StateT[F,scalaz.undo.History[S],A]">StateT</a><span class="delimiter">[</span>F, History<span class="delimiter">[</span>S<span class="delimiter">]</span>, A<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(initial: S)(implicit F: scalaz.Functor[F])F[(scalaz.undo.History[S], A)]" id="426512">apply</a><span class="delimiter">(</span><a title="S" id="426532">initial</a>: <a href="#426667" title="S">S</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Functor[F]" id="426533">F</a>: <a href="../Functor.scala.html#14441" title="scalaz.Functor[F]">Functor</a><span class="delimiter">[</span>F<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#426666" title="F[(scalaz.undo.History[S], A)]">F</a><span class="delimiter">[</span><span class="delimiter">(</span>History<span class="delimiter">[</span>S<span class="delimiter">]</span>, A<span class="delimiter">)</span><span class="delimiter">]</span> = <a href="../StateT.scala.html#86238" title="(initial: scalaz.undo.History[S])F[(scalaz.undo.History[S], A)]">hstate</a><span class="delimiter">(</span><a href="History.scala.html#426140" title="(current: S, undos: List[S], redos: List[S])scalaz.undo.History[S]">History</a><span class="delimiter">(</span><a href="#426532" title="S">initial</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(initial: S)(implicit F: scalaz.Functor[F])F[A]" id="426513">eval</a><span class="delimiter">(</span><a title="S" id="426567">initial</a>: <a href="#426667" title="S">S</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Functor[F]" id="426568">F</a>: <a href="../Functor.scala.html#14441" title="scalaz.Functor[F]">Functor</a><span class="delimiter">[</span>F<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#426666" title="F[A]">F</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <a href="#426568" title="scalaz.Functor[F]">F</a>.<a href="../Functor.scala.html#42468" title="(fa: F[(scalaz.undo.History[S], A)])(f: ((scalaz.undo.History[S], A)) =&gt; A)F[A]">map</a><span class="delimiter">(</span><a href="#426512" title="(initial: S)(implicit F: scalaz.Functor[F])F[(scalaz.undo.History[S], A)]">apply</a><a href="#426568" title="scalaz.Functor[F]" class="delimiter">(</a><a href="#426567" title="S">initial</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#426586" title="(scalaz.undo.History[S], A)">_</a>.<span title="=&gt; A">_2</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(initial: S)(implicit F: scalaz.Functor[F])F[S]" id="426514">exec</a><span class="delimiter">(</span><a title="S" id="426602">initial</a>: <a href="#426667" title="S">S</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Functor[F]" id="426603">F</a>: <a href="../Functor.scala.html#14441" title="scalaz.Functor[F]">Functor</a><span class="delimiter">[</span>F<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#426666" title="F[S]">F</a><span class="delimiter">[</span>S<span class="delimiter">]</span> = <a href="#426603" title="scalaz.Functor[F]">F</a>.<a href="../Functor.scala.html#42468" title="(fa: F[(scalaz.undo.History[S], A)])(f: ((scalaz.undo.History[S], A)) =&gt; S)F[S]">map</a><span class="delimiter">(</span><a href="#426512" title="(initial: S)(implicit F: scalaz.Functor[F])F[(scalaz.undo.History[S], A)]">apply</a><a href="#426603" title="scalaz.Functor[F]" class="delimiter">(</a><a href="#426602" title="S">initial</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#426620" title="(scalaz.undo.History[S], A)">_</a>.<span title="=&gt; scalaz.undo.History[S]">_1</span>.<a href="History.scala.html#426117" title="=&gt; S">current</a><span class="delimiter">)</span>
  
  <span class="keyword">def</span> <a title="[B](f: A =&gt; B)(implicit F: scalaz.Functor[F])scalaz.undo.UndoT[F,S,B]" id="426515">map</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="426517">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A =&gt; B" id="426636">f</a>: A =&gt; B<span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Functor[F]" id="426637">F</a>: <a href="../Functor.scala.html#14441" title="scalaz.Functor[F]">Functor</a><span class="delimiter">[</span>F<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#427381" title="object scalaz.undo.UndoT">UndoT</a>.<a href="#426677" title="[F[+_], S, A](f: scalaz.undo.History[S] =&gt; F[(scalaz.undo.History[S], A)])scalaz.undo.UndoT[F,S,A]">mkUndoT</a><span title="(f: scalaz.undo.History[S] =&gt; F[(scalaz.undo.History[S], B)])scalaz.undo.UndoT[F,S,B]" class="delimiter">[</span><a href="#426666" title="F">F</a>, <a href="#426667" title="S">S</a>, <a href="#426517" title="B">B</a><span class="delimiter">]</span><span class="delimiter">(</span>
    <a title="scalaz.undo.History[S]" id="426712">hs</a> =&gt; <a href="#426637" title="scalaz.Functor[F]">F</a>.<a href="../Functor.scala.html#42468" title="(fa: F[(scalaz.undo.History[S], A)])(f: ((scalaz.undo.History[S], A)) =&gt; (scalaz.undo.History[S], B))F[(scalaz.undo.History[S], B)]">map</a><span class="delimiter">(</span><a href="../StateT.scala.html#86238" title="(initial: scalaz.undo.History[S])F[(scalaz.undo.History[S], A)]">hstate</a><span class="delimiter">(</span><a href="#426712" title="scalaz.undo.History[S]">hs</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#426723" title="(scalaz.undo.History[S], B)" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="(scalaz.undo.History[S], B)" class="delimiter">(</span><a title="scalaz.undo.History[S]" id="426726">s</a>, <a title="A" id="426727">a</a><span class="delimiter">)</span> =&gt; <span title="(_1: scalaz.undo.History[S], _2: B)(scalaz.undo.History[S], B)" class="delimiter">(</span><a href="#426726" title="scalaz.undo.History[S]">s</a>, <a href="#426636" title="(v1: A)B">f</a><span class="delimiter">(</span><a href="#426727" title="A">a</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="[B](f: A =&gt; scalaz.undo.UndoT[F,S,B])(implicit F: scalaz.Bind[F])scalaz.undo.UndoT[F,S,B]" id="426518">flatMap</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="426520">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A =&gt; scalaz.undo.UndoT[F,S,B]" id="426738">f</a>: A =&gt; UndoT<span class="delimiter">[</span>F, S, B<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Bind[F]" id="426739">F</a>: <a href="../Bind.scala.html#22496" title="scalaz.Bind[F]">Bind</a><span class="delimiter">[</span>F<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#426662" title="scalaz.undo.UndoT[F,S,B]">UndoT</a><span class="delimiter">[</span>F, S, B<span class="delimiter">]</span> = <a href="#427381" title="object scalaz.undo.UndoT">UndoT</a>.<a href="#426677" title="[F[+_], S, A](f: scalaz.undo.History[S] =&gt; F[(scalaz.undo.History[S], A)])scalaz.undo.UndoT[F,S,A]">mkUndoT</a><span title="(f: scalaz.undo.History[S] =&gt; F[(scalaz.undo.History[S], B)])scalaz.undo.UndoT[F,S,B]" class="delimiter">[</span><a href="#426666" title="F">F</a>, <a href="#426667" title="S">S</a>, <a href="#426520" title="B">B</a><span class="delimiter">]</span><span class="delimiter">(</span>
    <a title="scalaz.undo.History[S]" id="426744">hs</a> =&gt; <a href="#426739" title="scalaz.Bind[F]">F</a>.<a href="../Bind.scala.html#43534" title="(fa: F[(scalaz.undo.History[S], A)])(f: ((scalaz.undo.History[S], A)) =&gt; F[(scalaz.undo.History[S], B)])F[(scalaz.undo.History[S], B)]">bind</a><span class="delimiter">(</span><a href="../StateT.scala.html#86238" title="(initial: scalaz.undo.History[S])F[(scalaz.undo.History[S], A)]">hstate</a><span class="delimiter">(</span><a href="#426744" title="scalaz.undo.History[S]">hs</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#426756" title="F[(scalaz.undo.History[S], B)]" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="F[(scalaz.undo.History[S], B)]" class="delimiter">(</span><a title="scalaz.undo.History[S]" id="426759">s</a>, <a title="A" id="426760">a</a><span class="delimiter">)</span> =&gt; <a href="#426738" title="(v1: A)scalaz.undo.UndoT[F,S,B]">f</a><span class="delimiter">(</span><a href="#426760" title="A">a</a><span class="delimiter">)</span>.<a href="../StateT.scala.html#86238" title="(initial: scalaz.undo.History[S])F[(scalaz.undo.History[S], B)]">hstate</a><span class="delimiter">(</span><a href="#426759" title="scalaz.undo.History[S]">s</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">//</span>
<span class="comment">// Prioritized Implicits for type class instances</span>
<span class="comment">//</span>

<span class="keyword">trait</span> <a title="trait UndoTInstances1 extends java.lang.Object with ScalaObject" id="31680">UndoTInstances1</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="comment">// Prefer Pointed over Functor</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[S, F[+_]](implicit F0: scalaz.Functor[F])scalaz.Functor[[+x]scalaz.undo.UndoT[F,S,x]]" id="426641">undoTFunctor</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="426644">S</a>, <a title="[+_]&gt;: Nothing &lt;: Any" id="426645">F</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="426824">_</a><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Functor[F]" id="426820">F0</a>: <a href="../Functor.scala.html#14441" title="scalaz.Functor[F]">Functor</a><span class="delimiter">[</span>F<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../Functor.scala.html#14441" title="scalaz.Functor[[+x]scalaz.undo.UndoT[F,S,x]]">Functor</a><span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">{</span><span class="keyword">type</span> G<span class="delimiter">[</span>+x<span class="delimiter">]</span> = UndoT<span class="delimiter">[</span>F, S, x<span class="delimiter">]</span><span class="delimiter">}</span><span class="delimiter">)</span>#G<span class="delimiter">]</span> = <a href="#426833" title="java.lang.Object with scalaz.undo.UndoTFunctor[S,F]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.undo.UndoTFunctor[S,F]" id="426833">UndoTFunctor</a><span class="delimiter">[</span>S, F<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="=&gt; scalaz.Functor[F]" id="426850">F</a>: <a href="../Functor.scala.html#14441" title="scalaz.Functor[F]">Functor</a><span class="delimiter">[</span>F<span class="delimiter">]</span> = <a href="#426820" title="scalaz.Functor[F]">F0</a>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait UndoTInstances0 extends java.lang.Object with scalaz.undo.UndoTInstances1 with ScalaObject" id="31695">UndoTInstances0</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#31680" title="scalaz.undo.UndoTInstances1">UndoTInstances1</a> <span class="delimiter">{</span>
  <span class="comment">// Prefer Monad over Pointed</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[S, F[+_]](implicit F0: scalaz.Pointed[F])scalaz.Pointed[[+x]scalaz.undo.UndoT[F,S,x]]" id="426647">undoTPointed</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="426650">S</a>, <a title="[+_]&gt;: Nothing &lt;: Any" id="426651">F</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="426867">_</a><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Pointed[F]" id="426863">F0</a>: <a href="../Pointed.scala.html#9812" title="scalaz.Pointed[F]">Pointed</a><span class="delimiter">[</span>F<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../Pointed.scala.html#9812" title="scalaz.Pointed[[+x]scalaz.undo.UndoT[F,S,x]]">Pointed</a><span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">{</span><span class="keyword">type</span> G<span class="delimiter">[</span>+x<span class="delimiter">]</span> = UndoT<span class="delimiter">[</span>F, S, x<span class="delimiter">]</span><span class="delimiter">}</span><span class="delimiter">)</span>#G<span class="delimiter">]</span> = <a href="#426876" title="java.lang.Object with scalaz.undo.UndoTPointed[S,F]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.undo.UndoTPointed[S,F]" id="426876">UndoTPointed</a><span class="delimiter">[</span>S, F<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="=&gt; scalaz.Pointed[F]" id="426895">F</a>: <a href="../Pointed.scala.html#9812" title="scalaz.Pointed[F]">Pointed</a><span class="delimiter">[</span>F<span class="delimiter">]</span> = <a href="#426863" title="scalaz.Pointed[F]">F0</a>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait UndoTInstances extends java.lang.Object with scalaz.undo.UndoTInstances0 with ScalaObject" id="31632">UndoTInstances</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#31695" title="scalaz.undo.UndoTInstances0">UndoTInstances0</a> <span class="delimiter">{</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[S]=&gt; scalaz.Hoist[[x[+_], +a]scalaz.undo.UndoT[x,S,a]]" id="426653">undoTMonadTrans</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="426655">S</a><span class="delimiter">]</span>: <a href="../MonadTrans.scala.html#19751" title="scalaz.Hoist[[x[+_], +a]scalaz.undo.UndoT[x,S,a]]">Hoist</a><span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">{</span><span class="keyword">type</span> G<span class="delimiter">[</span>x<span class="delimiter">[</span>+_<span class="delimiter">]</span>, +a<span class="delimiter">]</span> = UndoT<span class="delimiter">[</span>x, S, a<span class="delimiter">]</span><span class="delimiter">}</span><span class="delimiter">)</span>#G<span class="delimiter">]</span> = <a href="#426921" title="java.lang.Object with scalaz.undo.UndoTHoist[S]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.undo.UndoTHoist[S]" id="426921">UndoTHoist</a><span class="delimiter">[</span>S<span class="delimiter">]</span> <span class="delimiter">{</span><span class="delimiter">}</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[S, F[+_]](implicit F0: scalaz.Monad[F])scalaz.MonadState[[X, Y]scalaz.undo.UndoT[F,S,Y],S]" id="426656">undoTMonadState</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="426659">S</a>, <a title="[+_]&gt;: Nothing &lt;: Any" id="426660">F</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="426972">_</a><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Monad[F]" id="426967">F0</a>: <a href="../Monad.scala.html#22208" title="scalaz.Monad[F]">Monad</a><span class="delimiter">[</span>F<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../MonadState.scala.html#20519" title="scalaz.MonadState[[X, Y]scalaz.undo.UndoT[F,S,Y],S]">MonadState</a><span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">{</span><span class="keyword">type</span> HS<span class="delimiter">[</span>X, Y<span class="delimiter">]</span> = UndoT<span class="delimiter">[</span>F, S, Y<span class="delimiter">]</span><span class="delimiter">}</span><span class="delimiter">)</span>#HS, S<span class="delimiter">]</span> = <a href="#426981" title="java.lang.Object with scalaz.undo.UndoTMonadState[S,F]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.undo.UndoTMonadState[S,F]" id="426981">UndoTMonadState</a><span class="delimiter">[</span>S, F<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="=&gt; scalaz.Monad[F]" id="427051">F</a>: <a href="../Monad.scala.html#22208" title="scalaz.Monad[F]">Monad</a><span class="delimiter">[</span>F<span class="delimiter">]</span> = <a href="#426967" title="scalaz.Monad[F]">F0</a>

    <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="=&gt; scalaz.undo.package.HStateTMonadState[F,S]" id="427052">HMS</a>: <a href="../MonadState.scala.html#20519" title="scalaz.undo.package.HStateTMonadState[F,S]">HStateTMonadState</a><span class="delimiter">[</span>F, S<span class="delimiter">]</span> = <a href="../MonadState.scala.html#324464" title="[F[_,_], S](implicit F: scalaz.MonadState[F,S])scalaz.MonadState[F,S]">MonadState</a><a href="#427052" title="(implicit F: scalaz.MonadState[[s, +a]scalaz.StateT[F,s,a],scalaz.undo.History[S]])scalaz.MonadState[[s, +a]scalaz.StateT[F,s,a],scalaz.undo.History[S]]" class="delimiter">[</a><span class="delimiter">(</span><span class="delimiter">{</span><span class="keyword">type</span> f<span class="delimiter">[</span>s, +a<span class="delimiter">]</span> = StateT<span class="delimiter">[</span>F, s, a<span class="delimiter">]</span><span class="delimiter">}</span><span class="delimiter">)</span>#<a href="../StateT.scala.html#11747" title="[s, +a]scalaz.StateT[F,s,a]">f</a>, <a href="History.scala.html#31686" title="scalaz.undo.History[S]">History</a><span class="delimiter">[</span>S<span class="delimiter">]</span><span class="delimiter">]</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait UndoTFunctions extends java.lang.Object with ScalaObject" id="31653">UndoTFunctions</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[F[+_], S, A](f: scalaz.undo.History[S] =&gt; F[(scalaz.undo.History[S], A)])scalaz.undo.UndoT[F,S,A]" id="426677">mkUndoT</a><span class="delimiter">[</span><a title="[+_]&gt;: Nothing &lt;: Any" id="426681">F</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="426707">_</a><span class="delimiter">]</span>, <a title="&gt;: Nothing &lt;: Any" id="426682">S</a>, <a title="&gt;: Nothing &lt;: Any" id="426683">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.undo.History[S] =&gt; F[(scalaz.undo.History[S], A)]" id="426706">f</a>: History<span class="delimiter">[</span>S<span class="delimiter">]</span> =&gt; F<span class="delimiter">[</span><span class="delimiter">(</span>History<span class="delimiter">[</span>S<span class="delimiter">]</span>, A<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#426662" title="scalaz.undo.UndoT[F,S,A]">UndoT</a><span class="delimiter">[</span>F, S, A<span class="delimiter">]</span> =
    <span title="scalaz.undo.UndoT[F,S,A]" class="keyword">new</span> <a href="#426662" title="scalaz.undo.UndoT[F,S,A]">UndoT</a><span class="delimiter">[</span>F, S, A<span class="delimiter">]</span><span class="delimiter">(</span><a href="../StateT.scala.html#130504" title="(f: scalaz.undo.History[S] =&gt; F[(scalaz.undo.History[S], A)])scalaz.StateT[F,scalaz.undo.History[S],A]">StateT</a><span class="delimiter">(</span><a href="#426706" title="scalaz.undo.History[S] =&gt; F[(scalaz.undo.History[S], A)]">f</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="[F[+_], S, B](f: scalaz.undo.History[S] =&gt; scalaz.undo.package.StateTHistory[F,S,B])(implicit HMS: scalaz.undo.package.HStateTMonadState[F,S])scalaz.undo.UndoT[F,S,B]" id="426684">bindInit</a><span class="delimiter">[</span><a title="[+_]&gt;: Nothing &lt;: Any" id="426688">F</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="427125">_</a><span class="delimiter">]</span>, <a title="&gt;: Nothing &lt;: Any" id="426689">S</a>, <a title="&gt;: Nothing &lt;: Any" id="426690">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.undo.History[S] =&gt; scalaz.undo.package.StateTHistory[F,S,B]" id="427123">f</a>: History<span class="delimiter">[</span>S<span class="delimiter">]</span> =&gt; StateTHistory<span class="delimiter">[</span>F, S, B<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.undo.package.HStateTMonadState[F,S]" id="427124">HMS</a>: <a href="../MonadState.scala.html#20519" title="scalaz.undo.package.HStateTMonadState[F,S]">HStateTMonadState</a><span class="delimiter">[</span>F, S<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#426662" title="scalaz.undo.UndoT[F,S,B]">UndoT</a><span class="delimiter">[</span>F, S, B<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">import</span> <a href="#427124" title="scalaz.undo.package.HStateTMonadState[F,S]">HMS</a>._
    <a href="#426662" title="(hstate: scalaz.StateT[F,scalaz.undo.History[S],B])scalaz.undo.UndoT[F,S,B]">UndoT</a><span class="delimiter">(</span><a href="../Bind.scala.html#43534" title="(fa: scalaz.StateT[F,scalaz.undo.History[S],scalaz.undo.History[S]])(f: scalaz.undo.History[S] =&gt; scalaz.StateT[F,scalaz.undo.History[S],B])scalaz.StateT[F,scalaz.undo.History[S],B]">bind</a><span class="delimiter">(</span><a href="../MonadState.scala.html#145681" title="=&gt; scalaz.StateT[F,scalaz.undo.History[S],scalaz.undo.History[S]]">init</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#427123" title="scalaz.undo.History[S] =&gt; scalaz.undo.package.StateTHistory[F,S,B]">f</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Restores the latest item in the history
   *
   */</span>
  <span class="keyword">def</span> <a title="[F[+_], S](implicit HMS: scalaz.undo.package.HStateTMonadState[F,S])scalaz.undo.UndoT[F,S,Boolean]" id="426691">undo</a><span class="delimiter">[</span><a title="[+_]&gt;: Nothing &lt;: Any" id="426694">F</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="427160">_</a><span class="delimiter">]</span>, <a title="&gt;: Nothing &lt;: Any" id="426695">S</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.undo.package.HStateTMonadState[F,S]" id="427159">HMS</a>: <a href="../MonadState.scala.html#20519" title="scalaz.undo.package.HStateTMonadState[F,S]">HStateTMonadState</a><span class="delimiter">[</span>F, S<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#426662" title="scalaz.undo.UndoT[F,S,Boolean]">UndoT</a><span class="delimiter">[</span>F, S, Boolean<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">import</span> <a href="#427159" title="scalaz.undo.package.HStateTMonadState[F,S]">HMS</a>._
    <a href="#426684" title="(f: scalaz.undo.History[S] =&gt; scalaz.undo.package.StateTHistory[F,S,Boolean])(implicit HMS: scalaz.undo.package.HStateTMonadState[F,S])scalaz.undo.UndoT[F,S,Boolean]">bindInit</a> <a href="#427174" title="scalaz.StateT[F,scalaz.undo.History[S],Boolean]" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="scalaz.StateT[F,scalaz.undo.History[S],Boolean]">History</span><span class="delimiter">(</span><a title="S" id="427178">current</a>, <span title="object Nil">Nil</span>, <a title="List[S]" id="427179">redos</a><span class="delimiter">)</span> =&gt;
        <a href="../Pointed.scala.html#43518" title="(a: =&gt; Boolean)scalaz.StateT[F,scalaz.undo.History[S],Boolean]">point</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="scalaz.StateT[F,scalaz.undo.History[S],Boolean]">History</span><span class="delimiter">(</span><a title="S" id="427186">current</a>, <a title="S" id="427193">u</a> :: <a title="List[S]" id="427194">us</a>, <a title="List[S]" id="427195">redos</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="scalaz.undo.History[S]" id="427196">newHistory</a> = <a href="History.scala.html#426140" title="[S](current: S, undos: List[S], redos: List[S])scalaz.undo.History[S]">History</a><span title="(current: S, undos: List[S], redos: List[S])scalaz.undo.History[S]" class="delimiter">[</span><a href="#426695" title="S">S</a><span class="delimiter">]</span><span class="delimiter">(</span>current = <a href="#427193" title="S">u</a>, undos = <a href="#427194" title="List[S]">us</a>, redos = <a href="#427186" title="S">current</a> <a href="#427200" title="(x: S)List[S]">::</a> <a href="#427195" title="List[S]">redos</a><span class="delimiter">)</span>
        <a href="../Bind.scala.html#43534" title="(fa: scalaz.StateT[F,scalaz.undo.History[S],Unit])(f: Unit =&gt; scalaz.StateT[F,scalaz.undo.History[S],Boolean])scalaz.StateT[F,scalaz.undo.History[S],Boolean]">bind</a><span class="delimiter">(</span><a href="../MonadState.scala.html#145682" title="(s: scalaz.undo.History[S])scalaz.StateT[F,scalaz.undo.History[S],Unit]">put</a><span class="delimiter">(</span><a href="#427196" title="scalaz.undo.History[S]">newHistory</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="Unit" id="427218">_</a> =&gt; <a href="../Pointed.scala.html#43518" title="(a: =&gt; Boolean)scalaz.StateT[F,scalaz.undo.History[S],Boolean]">point</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**Reverses the previous undo */</span>
  <span class="keyword">def</span> <a title="[F[+_], S](implicit HMS: scalaz.undo.package.HStateTMonadState[F,S])scalaz.undo.UndoT[F,S,Boolean]" id="426696">redo</a><span class="delimiter">[</span><a title="[+_]&gt;: Nothing &lt;: Any" id="426699">F</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="427232">_</a><span class="delimiter">]</span>, <a title="&gt;: Nothing &lt;: Any" id="426700">S</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.undo.package.HStateTMonadState[F,S]" id="427231">HMS</a>: <a href="../MonadState.scala.html#20519" title="scalaz.undo.package.HStateTMonadState[F,S]">HStateTMonadState</a><span class="delimiter">[</span>F, S<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#426662" title="scalaz.undo.UndoT[F,S,Boolean]">UndoT</a><span class="delimiter">[</span>F, S, Boolean<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">import</span> <a href="#427231" title="scalaz.undo.package.HStateTMonadState[F,S]">HMS</a>._
    <a href="#426684" title="(f: scalaz.undo.History[S] =&gt; scalaz.undo.package.StateTHistory[F,S,Boolean])(implicit HMS: scalaz.undo.package.HStateTMonadState[F,S])scalaz.undo.UndoT[F,S,Boolean]">bindInit</a> <a href="#427246" title="scalaz.StateT[F,scalaz.undo.History[S],Boolean]" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="scalaz.StateT[F,scalaz.undo.History[S],Boolean]">History</span><span class="delimiter">(</span><a title="S" id="427250">current</a>, <a title="List[S]" id="427251">undos</a>, <span title="object Nil">Nil</span><span class="delimiter">)</span> =&gt;
        <a href="../Pointed.scala.html#43518" title="(a: =&gt; Boolean)scalaz.StateT[F,scalaz.undo.History[S],Boolean]">point</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="scalaz.StateT[F,scalaz.undo.History[S],Boolean]">History</span><span class="delimiter">(</span><a title="S" id="427258">current</a>, <a title="List[S]" id="427259">undos</a>, <a title="S" id="427266">r</a> :: <a title="List[S]" id="427267">rs</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="scalaz.undo.History[S]" id="427268">newHistory</a> = <a href="History.scala.html#426140" title="(current: S, undos: List[S], redos: List[S])scalaz.undo.History[S]">History</a><span class="delimiter">(</span>current = <a href="#427266" title="S">r</a>, undos = <a href="#427258" title="S">current</a> <a href="#427273" title="(x: S)List[S]">::</a> <a href="#427259" title="List[S]">undos</a>, <a href="#427267" title="List[S]">rs</a><span class="delimiter">)</span>
        <a href="../Bind.scala.html#43534" title="(fa: scalaz.StateT[F,scalaz.undo.History[S],Unit])(f: Unit =&gt; scalaz.StateT[F,scalaz.undo.History[S],Boolean])scalaz.StateT[F,scalaz.undo.History[S],Boolean]">bind</a><span class="delimiter">(</span><a href="../MonadState.scala.html#145682" title="(s: scalaz.undo.History[S])scalaz.StateT[F,scalaz.undo.History[S],Unit]">put</a><span class="delimiter">(</span><a href="#427268" title="scalaz.undo.History[S]">newHistory</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="Unit" id="427308">_</a> =&gt; <a href="../Pointed.scala.html#43518" title="(a: =&gt; Boolean)scalaz.StateT[F,scalaz.undo.History[S],Boolean]">point</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**Replace the current state with `s`. The redo stack is cleared. A subsequent `undo` will restore the previous state. */</span>
  <span class="keyword">def</span> <a title="[F[+_], S](s: S)(implicit HMS: scalaz.undo.package.HStateTMonadState[F,S])scalaz.undo.UndoT[F,S,Unit]" id="426701">hput</a><span class="delimiter">[</span><a title="[+_]&gt;: Nothing &lt;: Any" id="426704">F</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="427323">_</a><span class="delimiter">]</span>, <a title="&gt;: Nothing &lt;: Any" id="426705">S</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="S" id="427321">s</a>: <a href="#426705" title="S">S</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.undo.package.HStateTMonadState[F,S]" id="427322">HMS</a>: <a href="../MonadState.scala.html#20519" title="scalaz.undo.package.HStateTMonadState[F,S]">HStateTMonadState</a><span class="delimiter">[</span>F, S<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#426662" title="scalaz.undo.UndoT[F,S,Unit]">UndoT</a><span class="delimiter">[</span>F, S, Unit<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">import</span> <a href="#427322" title="scalaz.undo.package.HStateTMonadState[F,S]">HMS</a>._
    <a href="#426684" title="(f: scalaz.undo.History[S] =&gt; scalaz.undo.package.StateTHistory[F,S,Unit])(implicit HMS: scalaz.undo.package.HStateTMonadState[F,S])scalaz.undo.UndoT[F,S,Unit]">bindInit</a> <a href="#427338" title="scalaz.StateT[F,scalaz.undo.History[S],Unit]" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="scalaz.StateT[F,scalaz.undo.History[S],Unit]">History</span><span class="delimiter">(</span><a title="S" id="427342">current</a>, <a title="List[S]" id="427343">undos</a>, <a title="List[S]" id="427344">redos</a><span class="delimiter">)</span> =&gt; <a href="../MonadState.scala.html#145682" title="(s: scalaz.undo.History[S])scalaz.StateT[F,scalaz.undo.History[S],Unit]">put</a><span class="delimiter">(</span><a href="History.scala.html#426140" title="(current: S, undos: List[S], redos: List[S])scalaz.undo.History[S]">History</a><span class="delimiter">(</span><a href="#427321" title="S">s</a>, <a href="#427342" title="S">current</a> <a href="#427350" title="(x: S)List[S]">::</a> <a href="#427343" title="List[S]">undos</a>, <span title="object Nil">Nil</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="object scalaz.undo.UndoT" id="427381">UndoT</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#31632" title="scalaz.undo.UndoTInstances">UndoTInstances</a> <span class="keyword">with</span> <a href="#31653" title="scalaz.undo.UndoTFunctions">UndoTFunctions</a>

<span class="comment">//</span>
<span class="comment">// Implementation traits for type class instances</span>
<span class="comment">//</span>

<span class="keyword">private</span><span class="delimiter">[</span>scalaz<span class="delimiter">]</span> <span class="keyword">trait</span> <a title="trait UndoTFunctor[S, F[+_]] extends java.lang.Object with scalaz.Functor[[+x]scalaz.undo.UndoT[F,S,x]] with ScalaObject" id="31626">UndoTFunctor</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="31776">S</a>, <a title="[+_]&gt;: Nothing &lt;: Any" id="31777">F</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="426840">_</a><span class="delimiter">]</span><span class="delimiter">]</span>
  <span title="ScalaObject" class="keyword">extends</span> <a href="../Functor.scala.html#14441" title="scalaz.Functor[[+x]scalaz.undo.UndoT[F,S,x]]">Functor</a><span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">{</span><span class="keyword">type</span> G<span class="delimiter">[</span>+x<span class="delimiter">]</span> = UndoT<span class="delimiter">[</span>F, S, x<span class="delimiter">]</span><span class="delimiter">}</span><span class="delimiter">)</span>#G<span class="delimiter">]</span> <span class="delimiter">{</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="=&gt; scalaz.Functor[F]" id="426843">F</a>: <a href="../Functor.scala.html#14441" title="scalaz.Functor[F]">Functor</a><span class="delimiter">[</span>F<span class="delimiter">]</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="[A, B](fa: scalaz.undo.UndoT[F,S,A])(f: A =&gt; B)scalaz.undo.UndoT[F,S,B]" id="426844">map</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="426847">A</a>, <a title="&gt;: Nothing &lt;: Any" id="426848">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.undo.UndoT[F,S,A]" id="427386">fa</a>: <a href="#426662" title="scalaz.undo.UndoT[F,S,A]">UndoT</a><span class="delimiter">[</span>F, S, A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="A =&gt; B" id="427387">f</a>: A =&gt; B<span class="delimiter">)</span> = <a href="#427386" title="scalaz.undo.UndoT[F,S,A]">fa</a>.<a href="#426515" title="(f: A =&gt; B)(implicit F: scalaz.Functor[F])scalaz.undo.UndoT[F,S,B]">map</a><a href="#426843" title="=&gt; scalaz.Functor[F]" class="delimiter">(</a><a href="#427387" title="A =&gt; B">f</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">private</span><span class="delimiter">[</span>scalaz<span class="delimiter">]</span> <span class="keyword">trait</span> <a title="trait UndoTPointed[S, F[+_]] extends java.lang.Object with scalaz.Pointed[[x]scalaz.undo.UndoT[F,S,x]] with scalaz.undo.UndoTFunctor[S,F] with ScalaObject" id="31701">UndoTPointed</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="31778">S</a>, <a title="[+_]&gt;: Nothing &lt;: Any" id="31779">F</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="426887">_</a><span class="delimiter">]</span><span class="delimiter">]</span>
  <span title="ScalaObject" class="keyword">extends</span> <a href="../Pointed.scala.html#9812" title="scalaz.Pointed[[x]scalaz.undo.UndoT[F,S,x]]">Pointed</a><span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">{</span><span class="keyword">type</span> G<span class="delimiter">[</span>x<span class="delimiter">]</span> = UndoT<span class="delimiter">[</span>F, S, x<span class="delimiter">]</span><span class="delimiter">}</span><span class="delimiter">)</span>#G<span class="delimiter">]</span>
  <span class="keyword">with</span> <a href="#31626" title="scalaz.undo.UndoTFunctor[S,F]">UndoTFunctor</a><span class="delimiter">[</span>S, F<span class="delimiter">]</span> <span class="delimiter">{</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="=&gt; scalaz.Pointed[F]" id="426890">F</a>: <a href="../Pointed.scala.html#9812" title="scalaz.Pointed[F]">Pointed</a><span class="delimiter">[</span>F<span class="delimiter">]</span>

  <span class="keyword">def</span> <a title="[A](a: =&gt; A)scalaz.undo.UndoT[F,S,A]" id="426891">point</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="426893">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; A" id="427418">a</a>: =&gt; A<span class="delimiter">)</span> = <a href="#426662" title="[F[+_], S, A](hstate: scalaz.StateT[F,scalaz.undo.History[S],A])scalaz.undo.UndoT[F,S,A]">UndoT</a><span title="(hstate: scalaz.StateT[F,scalaz.undo.History[S],A])scalaz.undo.UndoT[F,S,A]" class="delimiter">[</span><a href="#31779" title="F">F</a>, <a href="#31778" title="S">S</a>, <a href="#426893" title="A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="../StateT.scala.html#130504" title="(f: scalaz.undo.History[S] =&gt; F[(scalaz.undo.History[S], A)])scalaz.StateT[F,scalaz.undo.History[S],A]">StateT</a><span class="delimiter">(</span><a title="scalaz.undo.History[S]" id="427435">s</a> =&gt; <a href="#426890" title="=&gt; scalaz.Pointed[F]">F</a>.<a href="../Pointed.scala.html#43518" title="(a: =&gt; (scalaz.undo.History[S], A))F[(scalaz.undo.History[S], A)]">point</a><span title="(_1: scalaz.undo.History[S], _2: A)(scalaz.undo.History[S], A)" class="delimiter">(</span><a href="#427435" title="scalaz.undo.History[S]">s</a>, <a href="#427418" title="=&gt; A">a</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">private</span><span class="delimiter">[</span>scalaz<span class="delimiter">]</span> <span class="keyword">trait</span> <a title="trait UndoTMonadState[S, F[+_]] extends java.lang.Object with scalaz.MonadState[[X, Y]scalaz.undo.UndoT[F,S,Y],S] with scalaz.undo.UndoTPointed[S,F] with ScalaObject" id="31674">UndoTMonadState</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="31780">S</a>, <a title="[+_]&gt;: Nothing &lt;: Any" id="31781">F</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="427038">_</a><span class="delimiter">]</span><span class="delimiter">]</span>
  <span title="ScalaObject" class="keyword">extends</span> <a href="../MonadState.scala.html#20519" title="scalaz.MonadState[[X, Y]scalaz.undo.UndoT[F,S,Y],S]">MonadState</a><span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">{</span><span class="keyword">type</span> HS<span class="delimiter">[</span>X, Y<span class="delimiter">]</span> = UndoT<span class="delimiter">[</span>F, S, Y<span class="delimiter">]</span><span class="delimiter">}</span><span class="delimiter">)</span>#HS, S<span class="delimiter">]</span>
  <span class="keyword">with</span> <a href="#31701" title="scalaz.undo.UndoTPointed[S,F]">UndoTPointed</a><span class="delimiter">[</span>S, F<span class="delimiter">]</span> <span class="delimiter">{</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="=&gt; scalaz.Monad[F]" id="427041">F</a>: <a href="../Monad.scala.html#22208" title="scalaz.Monad[F]">Monad</a><span class="delimiter">[</span>F<span class="delimiter">]</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="=&gt; scalaz.undo.package.HStateTMonadState[F,S]" id="427042">HMS</a>: <a href="../MonadState.scala.html#20519" title="scalaz.undo.package.HStateTMonadState[F,S]">HStateTMonadState</a><span class="delimiter">[</span>F, S<span class="delimiter">]</span>

  <span class="keyword">def</span> <a title="[A, B](fa: scalaz.undo.UndoT[F,S,A])(f: A =&gt; scalaz.undo.UndoT[F,S,B])scalaz.undo.UndoT[F,S,B]" id="427043">bind</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="427046">A</a>, <a title="&gt;: Nothing &lt;: Any" id="427047">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.undo.UndoT[F,S,A]" id="427453">fa</a>: <a href="#426662" title="scalaz.undo.UndoT[F,S,A]">UndoT</a><span class="delimiter">[</span>F, S, A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="A =&gt; scalaz.undo.UndoT[F,S,B]" id="427454">f</a>: A =&gt; UndoT<span class="delimiter">[</span>F, S, B<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#427453" title="scalaz.undo.UndoT[F,S,A]">fa</a>.<a href="#426518" title="(f: A =&gt; scalaz.undo.UndoT[F,S,B])(implicit F: scalaz.Bind[F])scalaz.undo.UndoT[F,S,B]">flatMap</a><a href="#427041" title="=&gt; scalaz.Monad[F]" class="delimiter">(</a><a href="#427454" title="A =&gt; scalaz.undo.UndoT[F,S,B]">f</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="=&gt; scalaz.undo.UndoT[F,S,S]" id="427048">init</a> = <a href="#426662" title="[F[+_], S, A](hstate: scalaz.StateT[F,scalaz.undo.History[S],A])scalaz.undo.UndoT[F,S,A]">UndoT</a><span title="(hstate: scalaz.StateT[F,scalaz.undo.History[S],S])scalaz.undo.UndoT[F,S,S]" class="delimiter">[</span><a href="#31781" title="F">F</a>, <a href="#31780" title="S">S</a>, <a href="#31780" title="S">S</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#427042" title="=&gt; scalaz.undo.package.HStateTMonadState[F,S]">HMS</a>.<a href="../MonadState.scala.html#145684" title="(f: scalaz.undo.History[S] =&gt; S)scalaz.StateT[F,scalaz.undo.History[S],S]">gets</a><span class="delimiter">(</span><a title="scalaz.undo.History[S]" id="427490">s</a> =&gt; <a href="#427490" title="scalaz.undo.History[S]">s</a>.<a href="History.scala.html#426117" title="=&gt; S">current</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(s: S)scalaz.undo.UndoT[F,S,Unit]" id="427049">put</a><span class="delimiter">(</span><a title="S" id="427498">s</a>: <a href="#31780" title="S">S</a><span class="delimiter">)</span> = <a href="#426662" title="[F[+_], S, A](hstate: scalaz.StateT[F,scalaz.undo.History[S],A])scalaz.undo.UndoT[F,S,A]">UndoT</a><span title="(hstate: scalaz.StateT[F,scalaz.undo.History[S],Unit])scalaz.undo.UndoT[F,S,Unit]" class="delimiter">[</span><a href="#31781" title="F">F</a>, <a href="#31780" title="S">S</a>, <span title="Unit">Unit</span><span class="delimiter">]</span><span class="delimiter">(</span>
    <a href="#427042" title="=&gt; scalaz.undo.package.HStateTMonadState[F,S]">HMS</a>.<a href="../Bind.scala.html#43534" title="(fa: scalaz.StateT[F,scalaz.undo.History[S],scalaz.undo.History[S]])(f: scalaz.undo.History[S] =&gt; scalaz.StateT[F,scalaz.undo.History[S],Unit])scalaz.StateT[F,scalaz.undo.History[S],Unit]">bind</a><span class="delimiter">(</span><a href="#427042" title="=&gt; scalaz.undo.package.HStateTMonadState[F,S]">HMS</a>.<a href="../MonadState.scala.html#145681" title="=&gt; scalaz.StateT[F,scalaz.undo.History[S],scalaz.undo.History[S]]">init</a><span class="delimiter">)</span> <a href="#427514" title="scalaz.StateT[F,scalaz.undo.History[S],Unit]" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="scalaz.StateT[F,scalaz.undo.History[S],Unit]">History</span><span class="delimiter">(</span>_, <a title="List[S]" id="427518">us</a>, <a title="List[S]" id="427519">rs</a><span class="delimiter">)</span> =&gt; <a href="#427042" title="=&gt; scalaz.undo.package.HStateTMonadState[F,S]">HMS</a>.<a href="../MonadState.scala.html#145682" title="(s: scalaz.undo.History[S])scalaz.StateT[F,scalaz.undo.History[S],Unit]">put</a><span class="delimiter">(</span><a href="History.scala.html#426140" title="(current: S, undos: List[S], redos: List[S])scalaz.undo.History[S]">History</a><span class="delimiter">(</span><a href="#427498" title="S">s</a>, <a href="#427518" title="List[S]">us</a>, <a href="#427519" title="List[S]">rs</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">private</span><span class="delimiter">[</span>scalaz<span class="delimiter">]</span> <span class="keyword">trait</span> <a title="trait UndoTHoist[S] extends java.lang.Object with scalaz.Hoist[[x[+_], a]scalaz.undo.UndoT[x,S,a]] with ScalaObject" id="31704">UndoTHoist</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="31782">S</a><span class="delimiter">]</span> <span title="ScalaObject" class="keyword">extends</span> <a href="../MonadTrans.scala.html#19751" title="scalaz.Hoist[[x[+_], a]scalaz.undo.UndoT[x,S,a]]">Hoist</a><span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">{</span><span class="keyword">type</span> G<span class="delimiter">[</span>x<span class="delimiter">[</span>+_<span class="delimiter">]</span>, a<span class="delimiter">]</span> = UndoT<span class="delimiter">[</span>x, S, a<span class="delimiter">]</span><span class="delimiter">}</span><span class="delimiter">)</span>#G<span class="delimiter">]</span> <span class="delimiter">{</span>

  <span class="keyword">trait</span> <a title="trait UndoTF[G[+_], S] extends java.lang.Object" id="426932">UndoTF</a><span class="delimiter">[</span><a title="[+_]&gt;: Nothing &lt;: Any" id="426933">G</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="427558">_</a><span class="delimiter">]</span>, <a title="&gt;: Nothing &lt;: Any" id="426934">S</a><span class="delimiter">]</span> <span title="java.lang.Object" class="delimiter">{</span>
    <span class="keyword">type</span> <a title="[α]scalaz.undo.UndoT[G,S,α]" id="427556">λ</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="427557">α</a><span class="delimiter">]</span> = <a href="#426662" title="scalaz.undo.UndoT[G,S,α]">UndoT</a><span class="delimiter">[</span>G, S, α<span class="delimiter">]</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[M[+_], N[+_]](f: scalaz.package.~&gt;[M,N])(implicit evidence$1: scalaz.Monad[M])java.lang.Object with scalaz.package.~&gt;[[α]scalaz.undo.UndoT[M,S,α],[α]scalaz.undo.UndoT[N,S,α]]" id="427561">hoist</a><span class="delimiter">[</span><a title="[+_]&gt;: Nothing &lt;: Any" id="426938">M</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="427563">_</a><span class="delimiter">]</span>: Monad, <a title="[+_]&gt;: Nothing &lt;: Any" id="426939">N</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="427564">_</a><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.package.~&gt;[M,N]" id="427560">f</a>: M <a href="../NaturalTransformation.scala.html#16934" title="scalaz.package.~&gt;[M,N]">~&gt;</a> N<span class="delimiter">)</span> = <a href="#427576" title="java.lang.Object with scalaz.package.~&gt;[[α]scalaz.undo.UndoT[M,S,α],[α]scalaz.undo.UndoT[N,S,α]]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.package.~&gt;[[α]scalaz.undo.UndoT[M,S,α],[α]scalaz.undo.UndoT[N,S,α]]" id="427576" class="delimiter">(</a>UndoTF<span class="delimiter">[</span>M, S<span class="delimiter">]</span>#λ <a href="../NaturalTransformation.scala.html#16934" title="scalaz.package.~&gt;[[α]scalaz.undo.UndoT[M,S,α],[α]scalaz.undo.UndoT[N,S,α]]">~&gt;</a> UndoTF<span class="delimiter">[</span>N, S<span class="delimiter">]</span>#λ<span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="[A](fa: scalaz.undo.UndoT[M,S,A])scalaz.undo.UndoT[N,S,A]" id="427584">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="427586">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.undo.UndoT[M,S,A]" id="427587">fa</a>: <a href="#426662" title="scalaz.undo.UndoT[M,S,A]">UndoT</a><span class="delimiter">[</span>M, S, A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#426662" title="scalaz.undo.UndoT[N,S,A]">UndoT</a><span class="delimiter">[</span>N, S, A<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <a href="#426662" title="[F[+_], S, A](hstate: scalaz.StateT[F,scalaz.undo.History[S],A])scalaz.undo.UndoT[F,S,A]">UndoT</a><span title="(hstate: scalaz.StateT[N,scalaz.undo.History[S],A])scalaz.undo.UndoT[N,S,A]" class="delimiter">[</span><a href="#426939" title="N">N</a>, <a href="#31782" title="S">S</a>,<a href="#427586" title="A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="../StateT.scala.html#130504" title="(f: scalaz.undo.History[S] =&gt; N[(scalaz.undo.History[S], A)])scalaz.StateT[N,scalaz.undo.History[S],A]">StateT</a><span class="delimiter">(</span><a title="scalaz.undo.History[S]" id="427610">s</a> =&gt; <a href="../NaturalTransformation.scala.html#148051" title="(fa: M[(scalaz.undo.History[S], A)])N[(scalaz.undo.History[S], A)]">f</a><span class="delimiter">(</span><a href="#427587" title="scalaz.undo.UndoT[M,S,A]">fa</a>.<a href="../StateT.scala.html#86238" title="(initial: scalaz.undo.History[S])M[(scalaz.undo.History[S], A)]">hstate</a><span class="delimiter">(</span><a href="#427610" title="scalaz.undo.History[S]">s</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[G[+_], A](ga: G[A])(implicit G: scalaz.Monad[G])scalaz.undo.UndoT[G,S,A]" id="426940">liftM</a><span class="delimiter">[</span><a title="[+_]&gt;: Nothing &lt;: Any" id="426943">G</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="427648">_</a><span class="delimiter">]</span>, <a title="&gt;: Nothing &lt;: Any" id="426944">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="G[A]" id="427646">ga</a>: <a href="#426943" title="G[A]">G</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Monad[G]" id="427647">G</a>: <a href="../Monad.scala.html#22208" title="scalaz.Monad[G]">Monad</a><span class="delimiter">[</span>G<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#426662" title="scalaz.undo.UndoT[G,S,A]">UndoT</a><span class="delimiter">[</span>G, S, A<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#426662" title="[F[+_], S, A](hstate: scalaz.StateT[F,scalaz.undo.History[S],A])scalaz.undo.UndoT[F,S,A]">UndoT</a><span title="(hstate: scalaz.StateT[G,scalaz.undo.History[S],A])scalaz.undo.UndoT[G,S,A]" class="delimiter">[</span><a href="#426943" title="G">G</a>, <a href="#31782" title="S">S</a>, <a href="#426944" title="A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="../StateT.scala.html#130504" title="(f: scalaz.undo.History[S] =&gt; G[(scalaz.undo.History[S], A)])scalaz.StateT[G,scalaz.undo.History[S],A]">StateT</a><span class="delimiter">(</span><a title="scalaz.undo.History[S]" id="427665">s</a> =&gt; <a href="#427647" title="scalaz.Monad[G]">G</a>.<a href="../Monad.scala.html#43497" title="(fa: G[A])(f: A =&gt; (scalaz.undo.History[S], A))G[(scalaz.undo.History[S], A)]">map</a><span class="delimiter">(</span><a href="#427646" title="G[A]">ga</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="A" id="427684">a</a> =&gt; <span title="(_1: scalaz.undo.History[S], _2: A)(scalaz.undo.History[S], A)" class="delimiter">(</span><a href="#427665" title="scalaz.undo.History[S]">s</a>, <a href="#427684" title="A">a</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[G[+_]](implicit evidence$2: scalaz.Monad[G])scalaz.Monad[[α]scalaz.undo.UndoT[G,S,α]]" id="427696">apply</a><span class="delimiter">[</span><a title="[+_]&gt;: Nothing &lt;: Any" id="426947">G</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="427697">_</a><span class="delimiter">]</span>: Monad<span class="delimiter">]</span>: <a href="../Monad.scala.html#22208" title="scalaz.Monad[[α]scalaz.undo.UndoT[G,S,α]]">Monad</a><span class="delimiter">[</span>UndoTF<span class="delimiter">[</span>G, S<span class="delimiter">]</span>#λ<span class="delimiter">]</span> = <a href="#427381" title="object scalaz.undo.UndoT">UndoT</a>.<a href="#426656" title="[S, F[+_]](implicit F0: scalaz.Monad[F])scalaz.MonadState[[X, Y]scalaz.undo.UndoT[F,S,Y],S]">undoTMonadState</a><a href="#427696" title="(implicit F0: scalaz.Monad[G])scalaz.MonadState[[X, Y]scalaz.undo.UndoT[G,S,Y],S]" class="delimiter">[</a><a href="#31782" title="S">S</a>, <a href="#426947" title="G">G</a><span class="delimiter">]</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>