<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>core/scalaz/BKTree.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> scalaz

<span class="keyword">import</span> collection.immutable.IntMap
<span class="keyword">import</span> annotation.tailrec

<span class="keyword">import</span> <a href="#10182" title="object scalaz.BKTree">BKTree</a>._

<span class="comment">/**
 * Burkhard-Keller trees provide an implementation of sets which apart
 * from the ordinary operations also has an approximate member search,
 * allowing you to search for elements that are of a distance `n` from
 * the element you are searching for. The distance is determined using
 * a metric on the type of elements. Therefore all elements must
 * implement the [[scalaz.MetricSpace]] type class, rather than the more usual
 * [[scalaz.Ordering]].
 *
 * The worst case complexity of many of these operations is quite bad,
 * but the expected behavior varies greatly with the metric. For
 * example, the discrete metric (`distance x y | y == x = 0 |
 * otherwise = 1`) makes BK-trees behave abysmally. The metrics
 * mentioned above should give good performance characteristics.
 *
 * This implementation is a port of Haskell's [[http://hackage.haskell.org/packages/archive/bktrees/0.2.1/doc/html/src/Data-Set-BKTree.html Data.Set.BKTree]]
 */</span>
<span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait BKTree[A] extends java.lang.Object with ScalaObject" id="10181">BKTree</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="24744">A</a><span class="delimiter">]</span> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="120874">isEmpty</a>: <span title="Boolean">Boolean</span> =
    <a href="#10181" title="scalaz.BKTree[A]" class="keyword">this</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean(true)">BKTreeEmpty</span><span class="delimiter">(</span><span class="delimiter">)</span>       =&gt; <span title="Boolean(true)" class="keyword">true</span>
      <span class="keyword">case</span> <span title="Boolean(false)">BKTreeNode</span><span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
    <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[B](f: A =&gt; B)scalaz.BKTree[B]" id="120875">map</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="120877">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A =&gt; B" id="121267">f</a>: A =&gt; B<span class="delimiter">)</span>: <a href="#10181" title="scalaz.BKTree[B]">BKTree</a><span class="delimiter">[</span>B<span class="delimiter">]</span> =
    <a href="#10181" title="scalaz.BKTree[A]" class="keyword">this</a> <span title="scalaz.BKTree[B]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="scalaz.BKTreeEmpty[B]">BKTreeEmpty</span><span class="delimiter">(</span><span class="delimiter">)</span>       =&gt; <a href="#123884" title="()scalaz.BKTreeEmpty[B]">BKTreeEmpty</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="scalaz.BKTreeNode[B]">BKTreeNode</span><span class="delimiter">(</span><a title="A" id="121275">a</a>, <a title="Int" id="121276">s</a>, <a title="scala.collection.immutable.IntMap[scalaz.BKTree[A]]" id="121277">c</a><span class="delimiter">)</span> =&gt; <a href="#123891" title="(value: B, sz: Int, children: scala.collection.immutable.IntMap[scalaz.BKTree[B]])scalaz.BKTreeNode[B]">BKTreeNode</a><span class="delimiter">(</span><a href="#121267" title="(v1: A)B">f</a><span class="delimiter">(</span><a href="#121275" title="A">a</a><span class="delimiter">)</span>, <a href="#121276" title="Int">s</a>, <a href="#121277" title="scala.collection.immutable.IntMap[scalaz.BKTree[A]]">c</a>.<span title="(f: (scala.collection.immutable.IntMapUtils.Int, scalaz.BKTree[A]) =&gt; scalaz.BKTree[B])scala.collection.immutable.IntMap[scalaz.BKTree[B]]">transform</span><span class="delimiter">(</span><span class="delimiter">(</span>_: <span title="Int">Int</span>, z: <a href="#10181" title="scalaz.BKTree[A]">BKTree</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; <a href="#121331" title="scalaz.BKTree[A]">z</a> <a href="#120875" title="(f: A =&gt; B)scalaz.BKTree[B]">map</a> <a href="#121267" title="A =&gt; B">f</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; Int" id="120878">size</a>: <span title="Int">Int</span> =
    <a href="#10181" title="scalaz.BKTree[A]" class="keyword">this</a> <span title="Int" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Int(0)">BKTreeEmpty</span><span class="delimiter">(</span><span class="delimiter">)</span>       =&gt; <span title="Int(0)" class="int">0</span>
      <span class="keyword">case</span> <span title="Int">BKTreeNode</span><span class="delimiter">(</span>_, <a title="Int" id="121395">s</a>, _<span class="delimiter">)</span> =&gt; <a href="#121395" title="Int">s</a>
    <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(a: A)(implicit A: scalaz.MetricSpace[A])scalaz.BKTree[A]" id="120879">+</a><span class="delimiter">(</span><a title="A" id="121396">a</a>: <a href="#24744" title="A">A</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.MetricSpace[A]" id="121397">A</a>: <a href="MetricSpace.scala.html#14834" title="scalaz.MetricSpace[A]">MetricSpace</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#10181" title="scalaz.BKTree[A]">BKTree</a><span class="delimiter">[</span>A<span class="delimiter">]</span> =
    <a href="#10181" title="scalaz.BKTree[A]" class="keyword">this</a> <span title="scalaz.BKTree[A]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="scalaz.BKTreeNode[A]">BKTreeEmpty</span><span class="delimiter">(</span><span class="delimiter">)</span>       =&gt; <a href="#123891" title="(value: A, sz: Int, children: scala.collection.immutable.IntMap[scalaz.BKTree[A]])scalaz.BKTreeNode[A]">BKTreeNode</a><span class="delimiter">(</span><a href="#121396" title="A">a</a>, <span title="Int(1)" class="int">1</span>, <span title="object scala.collection.immutable.IntMap">IntMap</span>.<span title="scala.collection.immutable.IntMap[Nothing]">empty</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="scalaz.BKTreeNode[A]">BKTreeNode</span><span class="delimiter">(</span><a title="A" id="121443">v</a>, <a title="Int" id="121444">s</a>, <a title="scala.collection.immutable.IntMap[scalaz.BKTree[A]]" id="121445">c</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Int" id="121446">d</a> = <a href="#121397" title="scalaz.MetricSpace[A]">A</a>.<a href="MetricSpace.scala.html#106370" title="(a: A, b: A)Int">distance</a><span class="delimiter">(</span><a href="#121443" title="A">v</a>, <a href="#121396" title="A">a</a><span class="delimiter">)</span>
        <a href="#123891" title="(value: A, sz: Int, children: scala.collection.immutable.IntMap[scalaz.BKTree[A]])scalaz.BKTreeNode[A]">BKTreeNode</a><span class="delimiter">(</span><a href="#121443" title="A">v</a>, <a href="#121444" title="Int">s</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>, <a href="#121445" title="scala.collection.immutable.IntMap[scalaz.BKTree[A]]">c</a> <span title="(kv: (scala.collection.immutable.IntMapUtils.Int, scalaz.BKTree[A]))scala.collection.immutable.IntMap[scalaz.BKTree[A]]">+</span> <span class="delimiter">(</span><span title="(_1: Int, _2: scalaz.BKTree[A])(Int, scalaz.BKTree[A])" class="delimiter">(</span><a href="#121446" title="Int">d</a>, <a href="#121445" title="scala.collection.immutable.IntMap[scalaz.BKTree[A]]">c</a> <span title="(key: scala.collection.immutable.IntMapUtils.Int)Option[scalaz.BKTree[A]]">get</span> <a href="#121446" title="Int">d</a> <span title="scalaz.BKTree[A]" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="scalaz.BKTreeNode[A]">None</span>    =&gt; <a href="#123891" title="(value: A, sz: Int, children: scala.collection.immutable.IntMap[scalaz.BKTree[A]])scalaz.BKTreeNode[A]">BKTreeNode</a><span class="delimiter">(</span><a href="#121396" title="A">a</a>, <span title="Int(1)" class="int">1</span>, <span title="object scala.collection.immutable.IntMap">IntMap</span>.<span title="scala.collection.immutable.IntMap[Nothing]">empty</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="scalaz.BKTree[A]">Some</span><span class="delimiter">(</span><a title="scalaz.BKTree[A]" id="121563">w</a><span class="delimiter">)</span> =&gt; <a href="#121563" title="scalaz.BKTree[A]">w</a> <a href="#120879" title="(a: A)(implicit A: scalaz.MetricSpace[A])scalaz.BKTree[A]">+</a> <a href="#121396" title="A">a</a>
        <span class="delimiter">}</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(t: scalaz.BKTree[A])(implicit m: scalaz.MetricSpace[A])scalaz.BKTree[A]" id="120880">++</a><span class="delimiter">(</span><a title="scalaz.BKTree[A]" id="121579">t</a>: <a href="#10181" title="scalaz.BKTree[A]">BKTree</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.MetricSpace[A]" id="121580">m</a>: <a href="MetricSpace.scala.html#14834" title="scalaz.MetricSpace[A]">MetricSpace</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#10181" title="scalaz.BKTree[A]">BKTree</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="scalaz.BKTree[A]" id="121582">k</a>: <a href="#10181" title="scalaz.BKTree[A]">BKTree</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <a href="#10181" title="scalaz.BKTree[A]" class="keyword">this</a>
    <span class="keyword">for</span> <span class="delimiter">(</span><a title="A" id="121610">v</a> &lt;- <a href="#121579" title="scalaz.BKTree[A]">t</a>.<a href="#120883" title="(f: A =&gt; Unit)Unit">values</a><span class="delimiter">)</span>
      <a href="#121582" title="scalaz.BKTree[A]">k</a> = <a href="#121582" title="scalaz.BKTree[A]">k</a> <a href="#120879" title="(a: A)(implicit A: scalaz.MetricSpace[A])scalaz.BKTree[A]">+</a> <a href="#121610" title="A">v</a>
    <a href="#121582" title="scalaz.BKTree[A]">k</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(a: A)(implicit A: scalaz.MetricSpace[A])scalaz.BKTree[A]" id="120881">-</a><span class="delimiter">(</span><a title="A" id="121612">a</a>: <a href="#24744" title="A">A</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.MetricSpace[A]" id="121613">A</a>: <a href="MetricSpace.scala.html#14834" title="scalaz.MetricSpace[A]">MetricSpace</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#10181" title="scalaz.BKTree[A]">BKTree</a><span class="delimiter">[</span>A<span class="delimiter">]</span> =
    <a href="#10181" title="scalaz.BKTree[A]" class="keyword">this</a> <span title="scalaz.BKTree[A]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="scalaz.BKTreeEmpty[A]">BKTreeEmpty</span><span class="delimiter">(</span><span class="delimiter">)</span>       =&gt; <a href="#123884" title="()scalaz.BKTreeEmpty[A]">BKTreeEmpty</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="scalaz.BKTree[A]">BKTreeNode</span><span class="delimiter">(</span><a title="A" id="121619">v</a>, _, <a title="scala.collection.immutable.IntMap[scalaz.BKTree[A]]" id="121620">c</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Int" id="121621">d</a> = <a href="#121613" title="scalaz.MetricSpace[A]">A</a>.<a href="MetricSpace.scala.html#106370" title="(a: A, b: A)Int">distance</a><span class="delimiter">(</span><a href="#121619" title="A">v</a>, <a href="#121612" title="A">a</a><span class="delimiter">)</span>
        <span title="scalaz.BKTree[A]" class="keyword">if</span><span class="delimiter">(</span><a href="#121621" title="Int">d</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#121629" title="(as: A*)(implicit evidence$1: scalaz.MetricSpace[A])scalaz.BKTree[A]">BKTree</a><a href="#121613" title="scalaz.MetricSpace[A]" class="delimiter">(</a><a href="#121620" title="scala.collection.immutable.IntMap[scalaz.BKTree[A]]">c</a>.<span title="=&gt; Iterable[scalaz.BKTree[A]]">values</span>.<span title="=&gt; Iterable[scalaz.BKTree[A]]">seq</span>.<span title="(f: scalaz.BKTree[A] =&gt; scala.collection.GenTraversableOnce[A])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[scalaz.BKTree[A]],A,Iterable[A]])Iterable[A]">flatMap</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,A,Iterable[A]]" class="delimiter">(</span><a href="#121669" title="scalaz.BKTree[A]">_</a>.<a href="#120883" title="=&gt; List[A]">values</a><span class="delimiter">)</span>.<span title="=&gt; Seq[A]">toSeq</span>: _*<span class="delimiter">)</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="BKTree.this.M[scalaz.BKTree[A]]" id="121726">subTree</a> = <a href="#120896" title="(m: BKTree.this.M[scalaz.BKTree[A]], k: Int, f: scalaz.BKTree[A] =&gt; Option[scalaz.BKTree[A]])BKTree.this.M[scalaz.BKTree[A]]">updateMap</a><span class="delimiter">(</span><a href="#121620" title="scala.collection.immutable.IntMap[scalaz.BKTree[A]]">c</a>, <a href="#121621" title="Int">d</a>, <span class="delimiter">(</span>t: <a href="#10181" title="scalaz.BKTree[A]">BKTree</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; <span title="(x: scalaz.BKTree[A])Some[scalaz.BKTree[A]]">Some</span><span class="delimiter">(</span><a href="#121798" title="scalaz.BKTree[A]">t</a> <a href="#120881" title="(a: A)(implicit A: scalaz.MetricSpace[A])scalaz.BKTree[A]">-</a> <a href="#121612" title="A">a</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Int" id="121727">size</a> = <a href="#121726" title="BKTree.this.M[scalaz.BKTree[A]]">subTree</a>.<span title="=&gt; Iterable[scalaz.BKTree[A]]">values</span>.<span title="(f: scalaz.BKTree[A] =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[scalaz.BKTree[A]],Int,Iterable[Int]])Iterable[Int]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,Int,Iterable[Int]]" class="delimiter">(</span><a href="#121821" title="scalaz.BKTree[A]">_</a>.<a href="#120878" title="=&gt; Int">size</a><span class="delimiter">)</span>.<span title="(implicit num: Numeric[Int])Int">sum</span> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>
          <a href="#123891" title="(value: A, sz: Int, children: scala.collection.immutable.IntMap[scalaz.BKTree[A]])scalaz.BKTreeNode[A]">BKTreeNode</a><span class="delimiter">(</span><a href="#121619" title="A">v</a>, <a href="#121727" title="Int">size</a>, <a href="#121726" title="BKTree.this.M[scalaz.BKTree[A]]">subTree</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(t: scalaz.BKTree[A])(implicit m: scalaz.MetricSpace[A])scalaz.BKTree[A]" id="120882">--</a><span class="delimiter">(</span><a title="scalaz.BKTree[A]" id="122871">t</a>: <a href="#10181" title="scalaz.BKTree[A]">BKTree</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.MetricSpace[A]" id="122872">m</a>: <a href="MetricSpace.scala.html#14834" title="scalaz.MetricSpace[A]">MetricSpace</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#10181" title="scalaz.BKTree[A]">BKTree</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="scalaz.BKTree[A]" id="122874">k</a>: <a href="#10181" title="scalaz.BKTree[A]">BKTree</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <a href="#10181" title="scalaz.BKTree[A]" class="keyword">this</a>
    <span class="keyword">for</span> <span class="delimiter">(</span><a title="A" id="122896">v</a> &lt;- <a href="#122871" title="scalaz.BKTree[A]">t</a>.<a href="#120883" title="(f: A =&gt; Unit)Unit">values</a><span class="delimiter">)</span>
      <a href="#122874" title="scalaz.BKTree[A]">k</a> = <a href="#122874" title="scalaz.BKTree[A]">k</a> <a href="#120881" title="(a: A)(implicit A: scalaz.MetricSpace[A])scalaz.BKTree[A]">-</a> <a href="#122896" title="A">v</a>
    <a href="#122874" title="scalaz.BKTree[A]">k</a>
  <span class="delimiter">}</span>  

  <span class="keyword">def</span> <a title="=&gt; List[A]" id="120883">values</a>: <span title="List[A]">List</span><span class="delimiter">[</span>A<span class="delimiter">]</span> =
    <a href="#10181" title="scalaz.BKTree[A]" class="keyword">this</a> <span title="List[A]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">BKTreeEmpty</span><span class="delimiter">(</span><span class="delimiter">)</span>       =&gt; <span title="object Nil">Nil</span>
      <span class="keyword">case</span> <span title="List[A]">BKTreeNode</span><span class="delimiter">(</span><a title="A" id="122901">v</a>, _, <a title="scala.collection.immutable.IntMap[scalaz.BKTree[A]]" id="122902">c</a><span class="delimiter">)</span> =&gt; <a href="#122901" title="A">v</a> <a href="#122903" title="(x: A)List[A]">::</a> <a href="#122902" title="scala.collection.immutable.IntMap[scalaz.BKTree[A]]">c</a>.<span title="=&gt; Iterator[scalaz.BKTree[A]]">valuesIterator</span>.<span title="=&gt; List[scalaz.BKTree[A]]">toList</span>.<span title="(f: scalaz.BKTree[A] =&gt; scala.collection.GenTraversableOnce[A])(implicit bf: scala.collection.generic.CanBuildFrom[List[scalaz.BKTree[A]],A,List[A]])List[A]">flatMap</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,A,List[A]]" class="delimiter">(</span><a href="#122928" title="scalaz.BKTree[A]">_</a>.<a href="#120883" title="=&gt; List[A]">values</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>


  <span class="comment">/**
   * Returns true of this set contains `a`.
   */</span>
  @tailrec
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(a: A)(implicit A: scalaz.MetricSpace[A])Boolean" id="120884">contains</a><span class="delimiter">(</span><a title="A" id="123048">a</a>: <a href="#24744" title="A">A</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.MetricSpace[A]" id="123049">A</a>: <a href="MetricSpace.scala.html#14834" title="scalaz.MetricSpace[A]">MetricSpace</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
    <a href="#10181" title="scalaz.BKTree[A]" class="keyword">this</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean(false)">BKTreeEmpty</span><span class="delimiter">(</span><span class="delimiter">)</span>       =&gt; <span title="Boolean(false)" class="keyword">false</span>
      <span class="keyword">case</span> <span title="Boolean">BKTreeNode</span><span class="delimiter">(</span><a title="A" id="123054">v</a>, _, <a title="scala.collection.immutable.IntMap[scalaz.BKTree[A]]" id="123055">c</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="Int" id="123056">d</a> = <a href="#123049" title="scalaz.MetricSpace[A]">A</a>.<a href="MetricSpace.scala.html#106370" title="(a: A, b: A)Int">distance</a><span class="delimiter">(</span><a href="#123054" title="A">v</a>, <a href="#123048" title="A">a</a><span class="delimiter">)</span>
        <a href="#123056" title="Int">d</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#123055" title="scala.collection.immutable.IntMap[scalaz.BKTree[A]]">c</a> <span title="(key: scala.collection.immutable.IntMapUtils.Int)Option[scalaz.BKTree[A]]">get</span> <a href="#123056" title="Int">d</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Boolean(false)">None</span>    =&gt; <span title="Boolean(false)" class="keyword">false</span>
          <span class="keyword">case</span> <span title="Boolean">Some</span><span class="delimiter">(</span><a title="scalaz.BKTree[A]" id="123066">w</a><span class="delimiter">)</span> =&gt; <a href="#123066" title="scalaz.BKTree[A]">w</a> <a href="#120884" title="(a: A)(implicit A: scalaz.MetricSpace[A])Boolean">contains</a> <a href="#123048" title="A">a</a>
        <span class="delimiter">}</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="comment">/** An alias for `contains` */</span>
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(a: A)(implicit A: scalaz.MetricSpace[A])Boolean" id="120885">-?-</a><span class="delimiter">(</span><a title="A" id="123067">a</a>: <a href="#24744" title="A">A</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.MetricSpace[A]" id="123068">A</a>: <a href="MetricSpace.scala.html#14834" title="scalaz.MetricSpace[A]">MetricSpace</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#120884" title="(a: A)(implicit A: scalaz.MetricSpace[A])Boolean">contains</a><a href="#123068" title="scalaz.MetricSpace[A]" class="delimiter">(</a><a href="#123067" title="A">a</a><span class="delimiter">)</span>

  <span class="comment">/** Returns true if this set contains an element which has a distance from `a` that is less than or equal to `n` */</span>
  <span class="keyword">def</span> <a title="(a: A, n: Int)(implicit A: scalaz.MetricSpace[A])Boolean" id="120886">containsApproximate</a><span class="delimiter">(</span><a title="A" id="123070">a</a>: <a href="#24744" title="A">A</a>, <a title="Int" id="123071">n</a>: <span title="Int">Int</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.MetricSpace[A]" id="123072">A</a>: <a href="MetricSpace.scala.html#14834" title="scalaz.MetricSpace[A]">MetricSpace</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
    <a href="#10181" title="scalaz.BKTree[A]" class="keyword">this</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean(false)">BKTreeEmpty</span><span class="delimiter">(</span><span class="delimiter">)</span>       =&gt; <span title="Boolean(false)" class="keyword">false</span>
      <span class="keyword">case</span> <span title="Boolean">BKTreeNode</span><span class="delimiter">(</span><a title="A" id="123077">v</a>, _, <a title="scala.collection.immutable.IntMap[scalaz.BKTree[A]]" id="123078">c</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="Int" id="123079">d</a> = <a href="#123072" title="scalaz.MetricSpace[A]">A</a>.<a href="MetricSpace.scala.html#106370" title="(a: A, b: A)Int">distance</a><span class="delimiter">(</span><a href="#123077" title="A">v</a>, <a href="#123070" title="A">a</a><span class="delimiter">)</span>
        <a href="#123079" title="Int">d</a> <span title="(x: Int)Boolean">&lt;=</span> <a href="#123071" title="Int">n</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#120892" title="(d: Int, n: Int)BKTree.this.M[scalaz.BKTree[A]]">subChildren</a><span class="delimiter">(</span><a href="#123079" title="Int">d</a>, <a href="#123071" title="Int">n</a><span class="delimiter">)</span> <span title="(p: ((scala.collection.immutable.IntMapUtils.Int, scalaz.BKTree[A])) =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#123107" title="(scala.collection.immutable.IntMapUtils.Int, scalaz.BKTree[A])">_</a>.<span title="=&gt; scalaz.BKTree[A]">_2</span> <a href="#120886" title="(a: A, n: Int)(implicit A: scalaz.MetricSpace[A])Boolean">containsApproximate</a><span class="delimiter">(</span><a href="#123070" title="A">a</a>, <a href="#123071" title="Int">n</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="comment">/** An alias for `containsApproximate` */</span>
  <span class="keyword">def</span> <a title="(a: A, n: Int)(implicit A: scalaz.MetricSpace[A])Boolean" id="120887">=?=</a><span class="delimiter">(</span><a title="A" id="123108">a</a>: <a href="#24744" title="A">A</a>, <a title="Int" id="123109">n</a>: <span title="Int">Int</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.MetricSpace[A]" id="123110">A</a>: <a href="MetricSpace.scala.html#14834" title="scalaz.MetricSpace[A]">MetricSpace</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#120886" title="(a: A, n: Int)(implicit A: scalaz.MetricSpace[A])Boolean">containsApproximate</a><a href="#123110" title="scalaz.MetricSpace[A]" class="delimiter">(</a><a href="#123108" title="A">a</a>, <a href="#123109" title="Int">n</a><span class="delimiter">)</span>

  <span class="comment">/** Returns the elements which have an distance from `a` that is less than or equal to `n`. */</span>
  <span class="keyword">def</span> <a title="(a: A, n: Int)(implicit A: scalaz.MetricSpace[A])List[A]" id="120888">valuesApproximate</a><span class="delimiter">(</span><a title="A" id="123112">a</a>: <a href="#24744" title="A">A</a>, <a title="Int" id="123113">n</a>: <span title="Int">Int</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.MetricSpace[A]" id="123114">A</a>: <a href="MetricSpace.scala.html#14834" title="scalaz.MetricSpace[A]">MetricSpace</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[A]">List</span><span class="delimiter">[</span>A<span class="delimiter">]</span> =
    <a href="#10181" title="scalaz.BKTree[A]" class="keyword">this</a> <span title="List[A]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">BKTreeEmpty</span><span class="delimiter">(</span><span class="delimiter">)</span>       =&gt; <span title="object Nil">Nil</span>
      <span class="keyword">case</span> <span title="List[A]">BKTreeNode</span><span class="delimiter">(</span><a title="A" id="123119">v</a>, _, <a title="scala.collection.immutable.IntMap[scalaz.BKTree[A]]" id="123120">c</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="Int" id="123121">d</a> = <a href="#123114" title="scalaz.MetricSpace[A]">A</a>.<a href="MetricSpace.scala.html#106370" title="(a: A, b: A)Int">distance</a><span class="delimiter">(</span><a href="#123119" title="A">v</a>, <a href="#123112" title="A">a</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="List[A]" id="123122">k</a> = <a href="#120892" title="(d: Int, n: Int)BKTree.this.M[scalaz.BKTree[A]]">subChildren</a><span class="delimiter">(</span><a href="#123121" title="Int">d</a>, <a href="#123113" title="Int">n</a><span class="delimiter">)</span>.<span title="=&gt; Iterator[scalaz.BKTree[A]]">valuesIterator</span>.<span title="=&gt; List[scalaz.BKTree[A]]">toList</span> <span title="(f: scalaz.BKTree[A] =&gt; scala.collection.GenTraversableOnce[A])(implicit bf: scala.collection.generic.CanBuildFrom[List[scalaz.BKTree[A]],A,List[A]])List[A]">flatMap</span> <span class="delimiter">(</span><a href="#123149" title="scalaz.BKTree[A]">_</a> <a href="#120888" title="(a: A, n: Int)(implicit A: scalaz.MetricSpace[A])List[A]">valuesApproximate</a><span class="delimiter">(</span><a href="#123112" title="A">a</a>, <a href="#123113" title="Int">n</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="List[A]" class="keyword">if</span> <span class="delimiter">(</span><a href="#123121" title="Int">d</a> <span title="(x: Int)Boolean">&lt;=</span> <a href="#123113" title="Int">n</a><span class="delimiter">)</span>
          <a href="#123119" title="A">v</a> <a href="#123181" title="(x: A)List[A]">::</a> <a href="#123122" title="List[A]">k</a>
        <span class="keyword">else</span>
          <a href="#123122" title="List[A]">k</a>
    <span class="delimiter">}</span>

  <span class="comment">/** An alias for `valuesApproximate` */</span>
  <span class="keyword">def</span> <a title="(a: A, n: Int)(implicit A: scalaz.MetricSpace[A])List[A]" id="120889">|=|</a><span class="delimiter">(</span><a title="A" id="123187">a</a>: <a href="#24744" title="A">A</a>, <a title="Int" id="123188">n</a>: <span title="Int">Int</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.MetricSpace[A]" id="123189">A</a>: <a href="MetricSpace.scala.html#14834" title="scalaz.MetricSpace[A]">MetricSpace</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[A]">List</span><span class="delimiter">[</span>A<span class="delimiter">]</span> = <a href="#120888" title="(a: A, n: Int)(implicit A: scalaz.MetricSpace[A])List[A]">valuesApproximate</a><a href="#123189" title="scalaz.MetricSpace[A]" class="delimiter">(</a><a href="#123187" title="A">a</a>, <a href="#123188" title="Int">n</a><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">type</span> <a title="[A]scala.collection.immutable.IntMap[A]" id="120890">M</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="120891">A</a><span class="delimiter">]</span> = <span title="scala.collection.immutable.IntMap[A]">IntMap</span><span class="delimiter">[</span>A<span class="delimiter">]</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(d: Int, n: Int)BKTree.this.M[scalaz.BKTree[A]]" id="120892">subChildren</a><span class="delimiter">(</span><a title="Int" id="123086">d</a>: <span title="Int">Int</span>, <a title="Int" id="123087">n</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="BKTree.this.M[scalaz.BKTree[A]]">M</span><span class="delimiter">[</span>BKTree<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> =
    <a href="#10181" title="scalaz.BKTree[A]" class="keyword">this</a> <span title="BKTree.this.M[scalaz.BKTree[A]]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="scala.collection.immutable.IntMap[Nothing]">BKTreeEmpty</span><span class="delimiter">(</span><span class="delimiter">)</span>       =&gt; <span title="object scala.collection.immutable.IntMap">IntMap</span>.<span title="scala.collection.immutable.IntMap[Nothing]">empty</span>
      <span class="keyword">case</span> <span title="BKTree.this.M[scalaz.BKTree[A]]">BKTreeNode</span><span class="delimiter">(</span>_, _, <a title="scala.collection.immutable.IntMap[scalaz.BKTree[A]]" id="123202">c</a><span class="delimiter">)</span> =&gt; <a href="#120893" title="(m: BKTree.this.M[scalaz.BKTree[A]], d: Int, n: Int)BKTree.this.M[scalaz.BKTree[A]]">subMap</a><span class="delimiter">(</span><a href="#123202" title="scala.collection.immutable.IntMap[scalaz.BKTree[A]]">c</a>, <a href="#123086" title="Int">d</a>, <a href="#123087" title="Int">n</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(m: BKTree.this.M[scalaz.BKTree[A]], d: Int, n: Int)BKTree.this.M[scalaz.BKTree[A]]" id="120893">subMap</a><span class="delimiter">(</span><a title="BKTree.this.M[scalaz.BKTree[A]]" id="123203">m</a>: <span title="BKTree.this.M[scalaz.BKTree[A]]">M</span><span class="delimiter">[</span>BKTree<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Int" id="123204">d</a>: <span title="Int">Int</span>, <a title="Int" id="123205">n</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="BKTree.this.M[scalaz.BKTree[A]]">M</span><span class="delimiter">[</span>BKTree<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> =
    <a href="#120895" title="(m: BKTree.this.M[scalaz.BKTree[A]], k: Int)(BKTree.this.M[scalaz.BKTree[A]], BKTree.this.M[scalaz.BKTree[A]])">splitMap</a><span class="delimiter">(</span><a href="#120895" title="(m: BKTree.this.M[scalaz.BKTree[A]], k: Int)(BKTree.this.M[scalaz.BKTree[A]], BKTree.this.M[scalaz.BKTree[A]])">splitMap</a><span class="delimiter">(</span><a href="#123203" title="BKTree.this.M[scalaz.BKTree[A]]">m</a>, <a href="#123204" title="Int">d</a> <span title="(x: Int)Int">-</span> <a href="#123205" title="Int">n</a> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="=&gt; BKTree.this.M[scalaz.BKTree[A]]">_2</span>, <a href="#123204" title="Int">d</a> <span title="(x: Int)Int">+</span> <a href="#123205" title="Int">n</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="=&gt; BKTree.this.M[scalaz.BKTree[A]]">_1</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(k: Int)(BKTree.this.M[scalaz.BKTree[A]], BKTree.this.M[scalaz.BKTree[A]])" id="120894">splitChildren</a><span class="delimiter">(</span><a title="Int" id="123228">k</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="(BKTree.this.M[scalaz.BKTree[A]], BKTree.this.M[scalaz.BKTree[A]])" class="delimiter">(</span>M<span class="delimiter">[</span>BKTree<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>, M<span class="delimiter">[</span>BKTree<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> =
    <a href="#10181" title="scalaz.BKTree[A]" class="keyword">this</a> <span title="(BKTree.this.M[scalaz.BKTree[A]], BKTree.this.M[scalaz.BKTree[A]])" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="(scala.collection.immutable.IntMap[Nothing], scala.collection.immutable.IntMap[Nothing])">BKTreeEmpty</span><span class="delimiter">(</span><span class="delimiter">)</span>       =&gt; <span title="(_1: scala.collection.immutable.IntMap[Nothing], _2: scala.collection.immutable.IntMap[Nothing])(scala.collection.immutable.IntMap[Nothing], scala.collection.immutable.IntMap[Nothing])" class="delimiter">(</span><span title="object scala.collection.immutable.IntMap">IntMap</span>.<span title="scala.collection.immutable.IntMap[Nothing]">empty</span>, <span title="object scala.collection.immutable.IntMap">IntMap</span>.<span title="scala.collection.immutable.IntMap[Nothing]">empty</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="(BKTree.this.M[scalaz.BKTree[A]], BKTree.this.M[scalaz.BKTree[A]])">BKTreeNode</span><span class="delimiter">(</span>_, _, <a title="scala.collection.immutable.IntMap[scalaz.BKTree[A]]" id="123255">c</a><span class="delimiter">)</span> =&gt; <a href="#120895" title="(m: BKTree.this.M[scalaz.BKTree[A]], k: Int)(BKTree.this.M[scalaz.BKTree[A]], BKTree.this.M[scalaz.BKTree[A]])">splitMap</a><span class="delimiter">(</span><a href="#123255" title="scala.collection.immutable.IntMap[scalaz.BKTree[A]]">c</a>, <a href="#123228" title="Int">k</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(m: BKTree.this.M[scalaz.BKTree[A]], k: Int)(BKTree.this.M[scalaz.BKTree[A]], BKTree.this.M[scalaz.BKTree[A]])" id="120895">splitMap</a><span class="delimiter">(</span><a title="BKTree.this.M[scalaz.BKTree[A]]" id="123207">m</a>: <span title="BKTree.this.M[scalaz.BKTree[A]]">M</span><span class="delimiter">[</span>BKTree<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Int" id="123208">k</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="(BKTree.this.M[scalaz.BKTree[A]], BKTree.this.M[scalaz.BKTree[A]])" class="delimiter">(</span>M<span class="delimiter">[</span>BKTree<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>, M<span class="delimiter">[</span>BKTree<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="BKTree.this.M[scalaz.BKTree[A]]" id="123256">m1</a>: <span title="BKTree.this.M[scalaz.BKTree[A]]">M</span><span class="delimiter">[</span>BKTree<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> = <span title="object scala.collection.immutable.IntMap">IntMap</span>.<span title="scala.collection.immutable.IntMap[Nothing]">empty</span>
    <span class="keyword">var</span> <a title="BKTree.this.M[scalaz.BKTree[A]]" id="123257">m2</a>: <span title="BKTree.this.M[scalaz.BKTree[A]]">M</span><span class="delimiter">[</span>BKTree<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> = <span title="object scala.collection.immutable.IntMap">IntMap</span>.<span title="scala.collection.immutable.IntMap[Nothing]">empty</span>
    <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="scala.collection.immutable.IntMapUtils.Int" id="123294">i</a>, <a title="scalaz.BKTree[A]" id="123295">v</a><span class="delimiter">)</span> &lt;- <a href="#123207" title="BKTree.this.M[scalaz.BKTree[A]]">m</a>.<a href="#123276" title="(f: ((scala.collection.immutable.IntMapUtils.Int, scalaz.BKTree[A])) =&gt; Unit)Unit">iterator</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#123294" title="scala.collection.immutable.IntMapUtils.Int">i</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#123208" title="Int">k</a><span class="delimiter">)</span>
        <a href="#123256" title="BKTree.this.M[scalaz.BKTree[A]]">m1</a> = <a href="#123256" title="BKTree.this.M[scalaz.BKTree[A]]">m1</a> <span title="(kv: (scala.collection.immutable.IntMapUtils.Int, scalaz.BKTree[A]))scala.collection.immutable.IntMap[scalaz.BKTree[A]]">+</span> <span class="delimiter">(</span><span title="(_1: scala.collection.immutable.IntMapUtils.Int, _2: scalaz.BKTree[A])(scala.collection.immutable.IntMapUtils.Int, scalaz.BKTree[A])" class="delimiter">(</span><a href="#123294" title="scala.collection.immutable.IntMapUtils.Int">i</a>, <a href="#123295" title="scalaz.BKTree[A]">v</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#123294" title="scala.collection.immutable.IntMapUtils.Int">i</a> <span title="(x: Int)Boolean">&gt;</span> <a href="#123208" title="Int">k</a><span class="delimiter">)</span>
        <a href="#123257" title="BKTree.this.M[scalaz.BKTree[A]]">m2</a> = <a href="#123257" title="BKTree.this.M[scalaz.BKTree[A]]">m2</a> <span title="(kv: (scala.collection.immutable.IntMapUtils.Int, scalaz.BKTree[A]))scala.collection.immutable.IntMap[scalaz.BKTree[A]]">+</span> <span class="delimiter">(</span><span title="(_1: scala.collection.immutable.IntMapUtils.Int, _2: scalaz.BKTree[A])(scala.collection.immutable.IntMapUtils.Int, scalaz.BKTree[A])" class="delimiter">(</span><a href="#123294" title="scala.collection.immutable.IntMapUtils.Int">i</a>, <a href="#123295" title="scalaz.BKTree[A]">v</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span title="(_1: BKTree.this.M[scalaz.BKTree[A]], _2: BKTree.this.M[scalaz.BKTree[A]])(BKTree.this.M[scalaz.BKTree[A]], BKTree.this.M[scalaz.BKTree[A]])" class="delimiter">(</span><a href="#123256" title="BKTree.this.M[scalaz.BKTree[A]]">m1</a>, <a href="#123257" title="BKTree.this.M[scalaz.BKTree[A]]">m2</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(m: BKTree.this.M[scalaz.BKTree[A]], k: Int, f: scalaz.BKTree[A] =&gt; Option[scalaz.BKTree[A]])BKTree.this.M[scalaz.BKTree[A]]" id="120896">updateMap</a><span class="delimiter">(</span><a title="BKTree.this.M[scalaz.BKTree[A]]" id="121728">m</a>: <span title="BKTree.this.M[scalaz.BKTree[A]]">M</span><span class="delimiter">[</span>BKTree<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Int" id="121729">k</a>: <span title="Int">Int</span>, <a title="scalaz.BKTree[A] =&gt; Option[scalaz.BKTree[A]]" id="121730">f</a>: BKTree<span class="delimiter">[</span>A<span class="delimiter">]</span> =&gt; Option<span class="delimiter">[</span>BKTree<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> =
    <a href="#121728" title="BKTree.this.M[scalaz.BKTree[A]]">m</a> <span title="(key: scala.collection.immutable.IntMapUtils.Int)Option[scalaz.BKTree[A]]">get</span> <a href="#121729" title="Int">k</a> <span title="BKTree.this.M[scalaz.BKTree[A]]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="BKTree.this.M[scalaz.BKTree[A]]">None</span> =&gt; <a href="#121728" title="BKTree.this.M[scalaz.BKTree[A]]">m</a>
      <span class="keyword">case</span> <span title="scala.collection.immutable.IntMap[scalaz.BKTree[A]]">Some</span><span class="delimiter">(</span><a title="scalaz.BKTree[A]" id="121736">v</a><span class="delimiter">)</span> =&gt; <a href="#121730" title="(v1: scalaz.BKTree[A])Option[scalaz.BKTree[A]]">f</a><span class="delimiter">(</span><a href="#121736" title="scalaz.BKTree[A]">v</a><span class="delimiter">)</span> <span title="scala.collection.immutable.IntMap[scalaz.BKTree[A]]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="scala.collection.immutable.IntMap[scalaz.BKTree[A]]">None</span> =&gt; <a href="#121728" title="BKTree.this.M[scalaz.BKTree[A]]">m</a> <span title="(key: scala.collection.immutable.IntMapUtils.Int)scala.collection.immutable.IntMap[scalaz.BKTree[A]]">-</span> <a href="#121729" title="Int">k</a>
        <span class="keyword">case</span> <span title="scala.collection.immutable.IntMap[scalaz.BKTree[A]]">Some</span><span class="delimiter">(</span><a title="scalaz.BKTree[A]" id="121747">value</a><span class="delimiter">)</span> =&gt; <a href="#121728" title="BKTree.this.M[scalaz.BKTree[A]]">m</a>.<span title="(key: scala.collection.immutable.IntMapUtils.Int, value: scalaz.BKTree[A])scala.collection.immutable.IntMap[scalaz.BKTree[A]]">updated</span><span class="delimiter">(</span><a href="#121729" title="Int">k</a>, <a href="#121747" title="scalaz.BKTree[A]">value</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">private</span> case <span class="keyword">class</span> <a title="class BKTreeNode[A] extends java.lang.Object with scalaz.BKTree[A] with ScalaObject with Product with Serializable" id="123891">BKTreeNode</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="120926">A</a><span class="delimiter">]</span><a href="#123891" title="ScalaObject" class="delimiter">(</a><a title="A" id="121278">value</a>: <a href="#120926" title="A">A</a>, <a title="Int" id="121279">sz</a>: <span title="Int">Int</span>, <a title="scala.collection.immutable.IntMap[scalaz.BKTree[A]]" id="121280">children</a>: <span title="scala.collection.immutable.IntMap[scalaz.BKTree[A]]">IntMap</span><span class="delimiter">[</span>BKTree<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#10181" title="scalaz.BKTree[A]">BKTree</a><span class="delimiter">[</span>A<span class="delimiter">]</span>

<span class="keyword">private</span> case <span class="keyword">class</span> <a title="class BKTreeEmpty[A] extends java.lang.Object with scalaz.BKTree[A] with ScalaObject with Product with Serializable" id="123884">BKTreeEmpty</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="120913">A</a><span class="delimiter">]</span><a href="#123884" title="ScalaObject" class="delimiter">(</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#10181" title="scalaz.BKTree[A]">BKTree</a><span class="delimiter">[</span>A<span class="delimiter">]</span>

<span class="keyword">object</span> <a title="object scalaz.BKTree" id="10182">BKTree</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#22706" title="scalaz.BKTreeFunctions">BKTreeFunctions</a> <span class="keyword">with</span> <a href="#20645" title="scalaz.BKTreeInstances">BKTreeInstances</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[A](as: A*)(implicit evidence$1: scalaz.MetricSpace[A])scalaz.BKTree[A]" id="121629">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="120872">A</a>: MetricSpace<span class="delimiter">]</span><span class="delimiter">(</span><a title="A*" id="121628">as</a>: <span title="A*">A</span>*<span class="delimiter">)</span>: <a href="#10181" title="scalaz.BKTree[A]">BKTree</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <a href="#121628" title="A*">as</a>.<span title="(z: scalaz.BKTree[A])(op: (scalaz.BKTree[A], A) =&gt; scalaz.BKTree[A])scalaz.BKTree[A]">foldLeft</span><span class="delimiter">(</span><a href="#120866" title="[A]=&gt; scalaz.BKTree[A]">emptyBKTree</a><span title="scalaz.BKTree[A]" class="delimiter">[</span><a href="#120872" title="A">A</a><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="scalaz.BKTree[A]" id="123545">b</a>, <a title="A" id="123546">a</a><span class="delimiter">)</span> =&gt; <a href="#123545" title="scalaz.BKTree[A]">b</a> <a href="#120879" title="(a: A)(implicit A: scalaz.MetricSpace[A])scalaz.BKTree[A]">+</a> <a href="#123546" title="A">a</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait BKTreeFunctions extends java.lang.Object with ScalaObject" id="22706">BKTreeFunctions</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[A]=&gt; scalaz.BKTree[A]" id="120866">emptyBKTree</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="120868">A</a><span class="delimiter">]</span>: <a href="#10181" title="scalaz.BKTree[A]">BKTree</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <a href="#123884" title="()scalaz.BKTreeEmpty[A]">BKTreeEmpty</a><span class="delimiter">(</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait BKTreeInstances extends java.lang.Object with ScalaObject" id="20645">BKTreeInstances</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="=&gt; scalaz.Functor[scalaz.BKTree] with scalaz.Length[scalaz.BKTree]" id="120898">bKTreeInstance</a>: <a href="#121463" title="BKTreeInstances extends scalaz.Functor[scalaz.BKTree] with scalaz.Length[scalaz.BKTree]">Functor</a><span class="delimiter">[</span>BKTree<span class="delimiter">]</span> <span class="keyword">with</span> Length<span class="delimiter">[</span>BKTree<span class="delimiter">]</span> = <a href="#123555" title="java.lang.Object with scalaz.Functor[scalaz.BKTree] with scalaz.Length[scalaz.BKTree]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.Functor[scalaz.BKTree] with scalaz.Length[scalaz.BKTree]" id="123555">Functor</a><span class="delimiter">[</span>BKTree<span class="delimiter">]</span> <span class="keyword">with</span> <a href="Length.scala.html#16709" title="scalaz.Length[scalaz.BKTree]">Length</a><span class="delimiter">[</span>BKTree<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="[A, B](fa: scalaz.BKTree[A])(f: A =&gt; B)scalaz.BKTree[B]" id="123559">map</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="123562">A</a>, <a title="&gt;: Nothing &lt;: Any" id="123563">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.BKTree[A]" id="123567">fa</a>: <a href="#10181" title="scalaz.BKTree[A]">BKTree</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="A =&gt; B" id="123568">f</a>: <span class="delimiter">(</span>A<span class="delimiter">)</span> =&gt; B<span class="delimiter">)</span>: <a href="#10181" title="scalaz.BKTree[B]">BKTree</a><span class="delimiter">[</span>B<span class="delimiter">]</span> = <a href="#123567" title="scalaz.BKTree[A]">fa</a> <a href="#120875" title="(f: A =&gt; B)scalaz.BKTree[B]">map</a> <a href="#123568" title="A =&gt; B">f</a>
    <span class="keyword">def</span> <a title="[A](fa: scalaz.BKTree[A])Int" id="123564">length</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="123566">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.BKTree[A]" id="123579">fa</a>: <a href="#10181" title="scalaz.BKTree[A]">BKTree</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Int">Int</span> = <a href="#123579" title="scalaz.BKTree[A]">fa</a>.<a href="#120878" title="=&gt; Int">size</a>
  <span class="delimiter">}</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[A](implicit evidence$2: scalaz.MetricSpace[A])scalaz.Monoid[scalaz.BKTree[A]]" id="121460">bKTreeMonoid</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="120901">A</a>: MetricSpace<span class="delimiter">]</span>: <a href="Monoid.scala.html#19193" title="scalaz.Monoid[scalaz.BKTree[A]]">Monoid</a><span class="delimiter">[</span>BKTree<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#123601" title="java.lang.Object with scalaz.Monoid[scalaz.BKTree[A]]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.Monoid[scalaz.BKTree[A]]" id="123601">Monoid</a><span class="delimiter">[</span>BKTree<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(f1: scalaz.BKTree[A], f2: =&gt; scalaz.BKTree[A])scalaz.BKTree[A]" id="123607">append</a><span class="delimiter">(</span><a title="scalaz.BKTree[A]" id="123609">f1</a>: <a href="#10181" title="scalaz.BKTree[A]">BKTree</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="=&gt; scalaz.BKTree[A]" id="123610">f2</a>: =&gt; BKTree<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#10181" title="scalaz.BKTree[A]">BKTree</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <a href="#123609" title="scalaz.BKTree[A]">f1</a> <a href="#120880" title="(t: scalaz.BKTree[A])(implicit m: scalaz.MetricSpace[A])scalaz.BKTree[A]">++</a> <a href="#123610" title="=&gt; scalaz.BKTree[A]">f2</a>
    <span class="keyword">def</span> <a title="=&gt; scalaz.BKTree[A]" id="123608">zero</a>: <a href="#10181" title="scalaz.BKTree[A]">BKTree</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <a href="#121629" title="[A](as: A*)(implicit evidence$1: scalaz.MetricSpace[A])scalaz.BKTree[A]">BKTree</a><span title="(as: A*)(implicit evidence$1: scalaz.MetricSpace[A])scalaz.BKTree[A]" class="delimiter">[</span><a href="#120901" title="A">A</a><span class="delimiter">]</span><a href="#121460" title="scalaz.MetricSpace[A]" class="delimiter">(</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[A](implicit A: scalaz.Equal[A])scalaz.Equal[scalaz.BKTree[A]]" id="120902">bkTreeEqual</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="120904">A</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Equal[A]" id="123623">A</a>: <a href="Equal.scala.html#20114" title="scalaz.Equal[A]">Equal</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">import</span> std.<a href="std/List.scala.html#26333" title="object scalaz.std.list">list</a>._
    <a href="Equal.scala.html#20115" title="object scalaz.Equal">Equal</a>.<a href="Equal.scala.html#105777" title="(f: scalaz.BKTree[A] =&gt; List[A])(implicit evidence$1: scalaz.Equal[List[A]])scalaz.Equal[scalaz.BKTree[A]]">equalBy</a><a href="std/List.scala.html#54225" title="(implicit A0: scalaz.Equal[A])java.lang.Object with scalaz.std.ListEqual[A]" class="delimiter">(</a><span class="delimiter">(</span>ba: <a href="#10181" title="scalaz.BKTree[A]">BKTree</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; <a href="#123638" title="scalaz.BKTree[A]">ba</a>.<a href="#120883" title="=&gt; List[A]">values</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>