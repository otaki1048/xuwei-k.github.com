<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>core/scalaz/std/Stream.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> scalaz
<span class="keyword">package</span> std

<span class="keyword">import</span> annotation.tailrec

<span class="keyword">trait</span> <a title="trait StreamInstances extends java.lang.Object with ScalaObject" id="27436">StreamInstances</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="StreamInstances extends scalaz.Traverse[Stream] with scalaz.MonadPlus[Stream] with scalaz.Each[Stream] with scalaz.Index[Stream] with scalaz.Length[Stream] with scalaz.Zip[Stream] with scalaz.Unzip[Stream]" id="54208">streamInstance</a>: <a href="#92235" title="StreamInstances extends scalaz.Traverse[Stream] with scalaz.MonadPlus[Stream] with scalaz.Each[Stream] with scalaz.Index[Stream] with scalaz.Length[Stream] with scalaz.Zip[Stream] with scalaz.Unzip[Stream]">Traverse</a><span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> MonadPlus<span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> Each<span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> Index<span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> Length<span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> Zip<span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> Unzip<span class="delimiter">[</span>Stream<span class="delimiter">]</span> = <a href="#404229" title="java.lang.Object with scalaz.Traverse[Stream] with scalaz.MonadPlus[Stream] with scalaz.Each[Stream] with scalaz.Index[Stream] with scalaz.Length[Stream] with scalaz.Zip[Stream] with scalaz.Unzip[Stream]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.Traverse[Stream] with scalaz.MonadPlus[Stream] with scalaz.Each[Stream] with scalaz.Index[Stream] with scalaz.Length[Stream] with scalaz.Zip[Stream] with scalaz.Unzip[Stream]" id="404229">Traverse</a><span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> <a href="../MonadPlus.scala.html#17882" title="scalaz.MonadPlus[Stream]">MonadPlus</a><span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> <a href="../Each.scala.html#22484" title="scalaz.Each[Stream]">Each</a><span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> <a href="../Index.scala.html#21125" title="scalaz.Index[Stream]">Index</a><span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> <a href="../Length.scala.html#16694" title="scalaz.Length[Stream]">Length</a><span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> <a href="../Zip.scala.html#12854" title="scalaz.Zip[Stream]">Zip</a><span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="keyword">with</span> <a href="../Unzip.scala.html#16715" title="scalaz.Unzip[Stream]">Unzip</a><span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="[G[_], A, B](fa: Stream[A])(f: A =&gt; G[B])(implicit G: scalaz.Applicative[G])G[Stream[B]]" id="404478">traverseImpl</a><span class="delimiter">[</span><a title="[_]&gt;: Nothing &lt;: Any" id="404482">G</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="404526">_</a><span class="delimiter">]</span>, <a title="&gt;: Nothing &lt;: Any" id="404483">A</a>, <a title="&gt;: Nothing &lt;: Any" id="404484">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="404523">fa</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="A =&gt; G[B]" id="404524">f</a>: <span class="delimiter">(</span>A<span class="delimiter">)</span> =&gt; G<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Applicative[G]" id="404525">G</a>: <a href="../Applicative.scala.html#19637" title="scalaz.Applicative[G]">Applicative</a><span class="delimiter">[</span>G<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#404482" title="G[Stream[B]]">G</a><span class="delimiter">[</span>Stream<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="G[Stream[B]]" id="405044">seed</a>: <a href="#404482" title="G[Stream[B]]">G</a><span class="delimiter">[</span>Stream<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#404525" title="scalaz.Applicative[G]">G</a>.<a href="../Pointed.scala.html#43393" title="(a: =&gt; scala.collection.immutable.Stream[B])G[scala.collection.immutable.Stream[B]]">point</a><span class="delimiter">(</span><span title="[A](xs: A*)scala.collection.immutable.Stream[A]">Stream</span><span title="(xs: B*)scala.collection.immutable.Stream[B]" class="delimiter">[</span><a href="#404484" title="B">B</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

      <a href="#404494" title="(fa: Stream[A], z: =&gt; G[Stream[B]])(f: (A, =&gt; G[Stream[B]]) =&gt; G[Stream[B]])G[Stream[B]]">foldRight</a><span class="delimiter">(</span><a href="#404523" title="Stream[A]">fa</a>, <a href="#405044" title="G[Stream[B]]">seed</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="delimiter">(</span><a title="A" id="405099">x</a>, <a title="=&gt; G[Stream[B]]" id="405100">ys</a><span class="delimiter">)</span> =&gt; <a href="#404525" title="scalaz.Applicative[G]">G</a>.<a href="../Applicative.scala.html#43340" title="(fa: =&gt; G[B], fb: =&gt; G[Stream[B]])(f: (B, Stream[B]) =&gt; scala.collection.immutable.Stream[B])G[scala.collection.immutable.Stream[B]]">apply2</a><span class="delimiter">(</span><a href="#404524" title="(v1: A)G[B]">f</a><span class="delimiter">(</span><a href="#405099" title="A">x</a><span class="delimiter">)</span>, <a href="#405100" title="=&gt; G[Stream[B]]">ys</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="B" id="405121">b</a>, <a title="Stream[B]" id="405122">bs</a><span class="delimiter">)</span> =&gt; <a href="#405121" title="B">b</a> <a href="#405123" title="(hd: B)scala.collection.immutable.Stream[B]">#::</a> <a href="#405122" title="(stream: =&gt; scala.collection.immutable.Stream[B])scala.collection.immutable.Stream.ConsWrapper[B]">bs</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="[A](fa: Stream[A])(f: A =&gt; Unit)Unit" id="404485">each</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="404487">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="404541">fa</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="A =&gt; Unit" id="404542">f</a>: <span class="delimiter">(</span>A<span class="delimiter">)</span> =&gt; Unit<span class="delimiter">)</span> = <a href="#404541" title="Stream[A]">fa</a> <span title="(f: A =&gt; Unit)Unit">foreach</span> <a href="#404542" title="A =&gt; Unit">f</a>
    <span class="keyword">def</span> <a title="[A](fa: Stream[A])Int" id="404488">length</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="404490">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="404582">fa</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#404582" title="Stream[A]">fa</a>.<span title="=&gt; Int">length</span>
    <span class="keyword">def</span> <a title="[A](fa: Stream[A], i: Int)Option[A]" id="404491">index</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="404493">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="404593">fa</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Int" id="404594">i</a>: <span title="Int">Int</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Int" id="404609">n</a> = <span title="Int(0)" class="int">0</span>
      <span class="keyword">var</span> <a title="Option[A]" id="404610">k</a>: <span title="Option[A]">Option</span><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span title="object None">None</span>
      <span class="keyword">val</span> <a title="Iterator[A]" id="404611">it</a> = <a href="#404593" title="Stream[A]">fa</a>.<span title="=&gt; Iterator[A]">iterator</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#404611" title="Iterator[A]">it</a>.<span title="=&gt; Boolean">hasNext</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#404610" title="Option[A]">k</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#404612" title="()Unit" class="delimiter">{</a>
        <span class="keyword">val</span> <a title="A" id="404613">z</a> = <a href="#404611" title="Iterator[A]">it</a>.<span title="()A">next</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#404609" title="Int">n</a> <span title="(x: Int)Boolean">==</span> <a href="#404594" title="Int">i</a><span class="delimiter">)</span> <a href="#404610" title="Option[A]">k</a> = <span title="(x: A)Some[A]">Some</span><span class="delimiter">(</span><a href="#404613" title="A">z</a><span class="delimiter">)</span>
        <a href="#404609" title="Int">n</a> = <a href="#404609" title="Int">n</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>

      <a href="#404610" title="Option[A]">k</a>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="[A, B](fa: Stream[A], z: =&gt; B)(f: (A, =&gt; B) =&gt; B)B" id="404494">foldRight</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="404497">A</a>, <a title="&gt;: Nothing &lt;: Any" id="404498">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="404672">fa</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="=&gt; B" id="404673">z</a>: =&gt; B<span class="delimiter">)</span><span class="delimiter">(</span><a title="(A, =&gt; B) =&gt; B" id="404674">f</a>: <span class="delimiter">(</span>A, =&gt; B<span class="delimiter">)</span> =&gt; B<span class="delimiter">)</span>: <a href="#404498" title="B">B</a> = <span title="B" class="keyword">if</span> <span class="delimiter">(</span><a href="#404672" title="Stream[A]">fa</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
      <a href="#404673" title="=&gt; B">z</a>
    <span class="keyword">else</span>
      <a href="#404674" title="(v1: A, v2: =&gt; B)B">f</a><span class="delimiter">(</span><a href="#404672" title="Stream[A]">fa</a>.<span title="=&gt; A">head</span>, <a href="#404494" title="(fa: Stream[A], z: =&gt; B)(f: (A, =&gt; B) =&gt; B)B">foldRight</a><span class="delimiter">(</span><a href="#404672" title="Stream[A]">fa</a>.<span title="=&gt; scala.collection.immutable.Stream[A]">tail</span>, <a href="#404673" title="=&gt; B">z</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#404674" title="(A, =&gt; B) =&gt; B">f</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="[A, B](fa: Stream[A])(f: A =&gt; Stream[B])Stream[B]" id="404499">bind</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="404502">A</a>, <a title="&gt;: Nothing &lt;: Any" id="404503">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="404702">fa</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="A =&gt; Stream[B]" id="404703">f</a>: <span class="delimiter">(</span>A<span class="delimiter">)</span> =&gt; Stream<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#404702" title="Stream[A]">fa</a> <span title="(f: A =&gt; scala.collection.GenTraversableOnce[B])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream[A],B,Stream[B]])Stream[B]">flatMap</span> <a href="#404703" title="A =&gt; Stream[B]">f</a>
    <span class="keyword">def</span> <a title="[A]=&gt; Stream[A]" id="404504">empty</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="404506">A</a><span class="delimiter">]</span>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span> = scala.<span title="=&gt; collection.immutable.Stream.type">Stream</span>.<span title="scala.collection.immutable.Stream[Nothing]">empty</span>
    <span class="keyword">def</span> <a title="[A](a: Stream[A], b: =&gt; Stream[A])scala.collection.immutable.Stream[A]" id="404507">plus</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="404509">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="404794">a</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="=&gt; Stream[A]" id="404795">b</a>: =&gt; Stream<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#404794" title="Stream[A]">a</a> <a href="#404810" title="(prefix: scala.collection.immutable.Stream[A])scala.collection.immutable.Stream[A]">#:::</a> <a href="#404795" title="(stream: =&gt; scala.collection.immutable.Stream[A])scala.collection.immutable.Stream.ConsWrapper[A]">b</a>
    <span class="keyword">def</span> <a title="[A](a: =&gt; A)scala.collection.immutable.Stream[A]" id="404510">point</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="404512">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; A" id="404855">a</a>: =&gt; A<span class="delimiter">)</span> = scala.<span title="(xs: A*)scala.collection.immutable.Stream[A]">Stream</span><span class="delimiter">(</span><a href="#404855" title="=&gt; A">a</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="[A, B](a: =&gt; Stream[A], b: =&gt; Stream[B])Stream[(A, B)]" id="404513">zip</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="404516">A</a>, <a title="&gt;: Nothing &lt;: Any" id="404517">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; Stream[A]" id="404872">a</a>: =&gt; Stream<span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="=&gt; Stream[B]" id="404873">b</a>: =&gt; Stream<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#404872" title="=&gt; Stream[A]">a</a> <span title="(that: scala.collection.GenIterable[B])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream[A],(A, B),Stream[(A, B)]])Stream[(A, B)]">zip</span> <a href="#404873" title="=&gt; Stream[B]">b</a>
    <span class="keyword">def</span> <a title="[A, B](a: Stream[(A, B)])(scala.collection.immutable.Stream[A], scala.collection.immutable.Stream[B])" id="404518">unzip</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="404521">A</a>, <a title="&gt;: Nothing &lt;: Any" id="404522">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[(A, B)]" id="404996">a</a>: <span title="Stream[(A, B)]">Stream</span><span class="delimiter">[</span><span class="delimiter">(</span>A, B<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#404996" title="Stream[(A, B)]">a</a>.<span title="(implicit asPair: ((A, B)) =&gt; (A, B))(scala.collection.immutable.Stream[A], scala.collection.immutable.Stream[B])">unzip</span>

  <span class="delimiter">}</span>

  <span class="keyword">import</span> <a href="../Tags.scala.html#18168" title="object scalaz.Tags">Tags</a>.Zip

  <span class="comment">/**
   * An alternative [[scalaz.Applicative]] instance for `Stream`, discriminated by the type tag [[scalaz.Tags.Zip]],
   * that zips streams together.
   *
   * Example:
   * {{{
   * streamZipApplicative(Stream(1, 2), Stream(3, 4))(_ * _) // Stream(3, 8)
   * }}}
   */</span>
  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scalaz.Applicative[[α]scala.collection.immutable.Stream[α] with java.lang.Object{type Tag = scalaz.Tags.Zip}]" id="54211">streamZipApplicative</a>: <a href="../Applicative.scala.html#19637" title="scalaz.Applicative[[α]scala.collection.immutable.Stream[α] with java.lang.Object{type Tag = scalaz.Tags.Zip}]">Applicative</a><span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">{</span><span class="keyword">type</span> λ<span class="delimiter">[</span>α<span class="delimiter">]</span>=Stream<span class="delimiter">[</span>α<span class="delimiter">]</span> @@ Zip<span class="delimiter">}</span><span class="delimiter">)</span>#λ<span class="delimiter">]</span> = <a href="#405461" title="java.lang.Object with scalaz.Applicative[[α]scala.collection.immutable.Stream[α] with java.lang.Object{type Tag = scalaz.Tags.Zip}]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.Applicative[[α]scala.collection.immutable.Stream[α] with java.lang.Object{type Tag = scalaz.Tags.Zip}]" id="405461">Applicative</a><span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">{</span><span class="keyword">type</span> λ<span class="delimiter">[</span>α<span class="delimiter">]</span>=Stream<span class="delimiter">[</span>α<span class="delimiter">]</span> @@ Zip<span class="delimiter">}</span><span class="delimiter">)</span>#λ<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="[A](a: =&gt; A)scalaz.package.@@[scala.collection.immutable.Stream[A],scalaz.Tags.Zip]" id="405558">point</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="405560">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; A" id="405566">a</a>: =&gt; A<span class="delimiter">)</span> = <a href="../Tags.scala.html#64486" title="(a: scala.collection.immutable.Stream[A])scalaz.package.@@[scala.collection.immutable.Stream[A],scalaz.Tags.Zip]">Zip</a><span class="delimiter">(</span><span title="=&gt; collection.immutable.Stream.type">Stream</span>.<span title="(elem: =&gt; A)scala.collection.immutable.Stream[A]">continually</span><span class="delimiter">(</span><a href="#405566" title="=&gt; A">a</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="[A, B](fa: =&gt; scalaz.package.@@[Stream[A],scalaz.Tags.Zip])(f: =&gt; scalaz.package.@@[Stream[A =&gt; B],scalaz.Tags.Zip])scalaz.package.@@[scala.collection.immutable.Stream[B],scalaz.Tags.Zip]" id="405561">ap</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="405564">A</a>, <a title="&gt;: Nothing &lt;: Any" id="405565">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; scalaz.package.@@[Stream[A],scalaz.Tags.Zip]" id="405625">fa</a>: =&gt; <span class="delimiter">(</span>Stream<span class="delimiter">[</span>A<span class="delimiter">]</span> @@ Zip<span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; scalaz.package.@@[Stream[A =&gt; B],scalaz.Tags.Zip]" id="405626">f</a>: =&gt; <span class="delimiter">(</span>Stream<span class="delimiter">[</span>A =&gt; B<span class="delimiter">]</span> @@ Zip<span class="delimiter">)</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="../Tags.scala.html#64486" title="(a: scala.collection.immutable.Stream[B])scalaz.package.@@[scala.collection.immutable.Stream[B],scalaz.Tags.Zip]">Zip</a><span class="delimiter">(</span><span title="scala.collection.immutable.Stream[B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#405626" title="=&gt; scalaz.package.@@[Stream[A =&gt; B],scalaz.Tags.Zip]">f</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">||</span> <a href="#405625" title="=&gt; scalaz.package.@@[Stream[A],scalaz.Tags.Zip]">fa</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="=&gt; collection.immutable.Stream.type">Stream</span>.<span title="[A]=&gt; scala.collection.immutable.Stream[A]">empty</span><span title="scala.collection.immutable.Stream[B]" class="delimiter">[</span><a href="#405565" title="B">B</a><span class="delimiter">]</span>
      <span class="keyword">else</span> <span title="=&gt; collection.immutable.Stream.type">Stream</span>.<span title="(hd: B, tl: =&gt; scala.collection.immutable.Stream[B])Stream.Cons[B]">cons</span><span class="delimiter">(</span><span class="delimiter">(</span><a href="#405626" title="=&gt; scalaz.package.@@[Stream[A =&gt; B],scalaz.Tags.Zip]">f</a>.<span title="(v1: A)B">head</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#405625" title="=&gt; scalaz.package.@@[Stream[A],scalaz.Tags.Zip]">fa</a>.<span title="=&gt; A">head</span><span class="delimiter">)</span>, <a href="#405561" title="(fa: =&gt; scalaz.package.@@[Stream[A],scalaz.Tags.Zip])(f: =&gt; scalaz.package.@@[Stream[A =&gt; B],scalaz.Tags.Zip])scala.collection.immutable.Stream[Nothing] with java.lang.Object{type Tag = scalaz.Tags.Zip}">ap</a><span class="delimiter">(</span><a href="../Tags.scala.html#64486" title="(a: scala.collection.immutable.Stream[A])scalaz.package.@@[scala.collection.immutable.Stream[A],scalaz.Tags.Zip]">Zip</a><span class="delimiter">(</span><a href="#405625" title="=&gt; scalaz.package.@@[Stream[A],scalaz.Tags.Zip]">fa</a>.<span title="=&gt; scala.collection.immutable.Stream[A]">tail</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="../Tags.scala.html#64486" title="(a: scala.collection.immutable.Stream[A =&gt; B])scalaz.package.@@[scala.collection.immutable.Stream[A =&gt; B],scalaz.Tags.Zip]">Zip</a><span class="delimiter">(</span><a href="#405626" title="=&gt; scalaz.package.@@[Stream[A =&gt; B],scalaz.Tags.Zip]">f</a>.<span title="=&gt; scala.collection.immutable.Stream[A =&gt; B]">tail</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[A]=&gt; java.lang.Object with scalaz.Monoid[Stream[A]]" id="54213">streamMonoid</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="54215">A</a><span class="delimiter">]</span> = <a href="#92252" title="java.lang.Object with scalaz.Monoid[Stream[A]]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.Monoid[Stream[A]]" id="92252">Monoid</a><span class="delimiter">[</span>Stream<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(f1: Stream[A], f2: =&gt; Stream[A])scala.collection.immutable.Stream[A]" id="92254">append</a><span class="delimiter">(</span><a title="Stream[A]" id="92256">f1</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="=&gt; Stream[A]" id="92257">f2</a>: =&gt; Stream<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#92256" title="Stream[A]">f1</a> <a href="#92265" title="(prefix: scala.collection.immutable.Stream[A])scala.collection.immutable.Stream[A]">#:::</a> <a href="#92257" title="(stream: =&gt; scala.collection.immutable.Stream[A])scala.collection.immutable.Stream.ConsWrapper[A]">f2</a>
    <span class="keyword">def</span> <a title="=&gt; Stream[A]" id="92255">zero</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span> = scala.<span title="=&gt; collection.immutable.Stream.type">Stream</span>.<span title="scala.collection.immutable.Stream[Nothing]">empty</span>
  <span class="delimiter">}</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[A](implicit A0: scalaz.Equal[A])java.lang.Object with scalaz.Equal[Stream[A]]" id="54216">streamEqual</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="54218">A</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Equal[A]" id="94385">A0</a>: <a href="../Equal.scala.html#20078" title="scalaz.Equal[A]">Equal</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#94388" title="java.lang.Object with scalaz.Equal[Stream[A]]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.Equal[Stream[A]]" id="94388">Equal</a><span class="delimiter">[</span>Stream<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(a1: Stream[A], a2: Stream[A])Boolean" id="94390">equal</a><span class="delimiter">(</span><a title="Stream[A]" id="94391">a1</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Stream[A]" id="94392">a2</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">(</span><a href="#94391" title="Stream[A]">a1</a> <span title="(that: scala.collection.GenSeq[A])(p: (A, A) =&gt; Boolean)Boolean">corresponds</span> <a href="#94392" title="Stream[A]">a2</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#94385" title="scalaz.Equal[A]">A0</a>.<a href="../Equal.scala.html#56054" title="(a1: A, a2: A)Boolean">equal</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[A](implicit A0: scalaz.Show[A])java.lang.Object with scalaz.Show[Stream[A]]" id="54219">streamShow</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="54221">A</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Show[A]" id="91837">A0</a>: <a href="../Show.scala.html#18773" title="scalaz.Show[A]">Show</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#91840" title="java.lang.Object with scalaz.Show[Stream[A]]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.Show[Stream[A]]" id="91840">Show</a><span class="delimiter">[</span>Stream<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(as: Stream[A])scalaz.Cord" id="92116">show</a><span class="delimiter">(</span><a title="Stream[A]" id="92117">as</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="java.lang.String(&quot;Stream(&quot;)" class="string">&quot;Stream(&quot;</span> <a href="../Cord.scala.html#92213" title="(x: =&gt; String)scalaz.Cord">+:</a> <a href="#27911" title="object scalaz.std.stream">stream</a>.<a href="#55328" title="(as: Stream[scalaz.Cord], a: scalaz.Cord)Stream[scalaz.Cord]">intersperse</a><span class="delimiter">(</span><a href="#92117" title="Stream[A]">as</a>.<span title="(f: A =&gt; scalaz.Cord)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream[A],scalaz.Cord,scala.collection.immutable.Stream[scalaz.Cord]])scala.collection.immutable.Stream[scalaz.Cord]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream.Coll,scalaz.Cord,scala.collection.immutable.Stream[scalaz.Cord]]" class="delimiter">(</span><a href="#91837" title="scalaz.Show[A]">A0</a>.<a href="../Show.scala.html#64233" title="(f: A)scalaz.Cord">show</a><span class="delimiter">)</span>, <a href="../Cord.scala.html#94458" title="(as: scalaz.Cord*)scalaz.Cord">Cord</a><span class="delimiter">(</span><a href="../Cord.scala.html#94455" title="implicit scalaz.Cord.stringToCord : (s: String)scalaz.Cord" class="string">&quot;,&quot;</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(z: scalaz.Cord)(op: (scalaz.Cord, scalaz.Cord) =&gt; scalaz.Cord)scalaz.Cord">foldLeft</span><span class="delimiter">(</span><a href="../Cord.scala.html#94458" title="(as: scalaz.Cord*)scalaz.Cord">Cord</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#97649" title="scalaz.Cord">_</a> <a href="../Cord.scala.html#92211" title="(xs: scalaz.Cord)scalaz.Cord">++</a> <a href="#97650" title="scalaz.Cord">_</a><span class="delimiter">)</span> <a href="../Cord.scala.html#92212" title="(x: =&gt; String)scalaz.Cord">:+</a> <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
  <span class="delimiter">}</span>


  <span class="comment">// TODO order, ...</span>
<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait StreamFunctions extends java.lang.Object with ScalaObject" id="26701">StreamFunctions</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[A](s1: Stream[A], s2: Stream[A])Stream[A]" id="55293">merge</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="55295">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="406016">s1</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Stream[A]" id="406017">s2</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span title="Stream[A]" class="keyword">if</span> <span class="delimiter">(</span><a href="#406016" title="Stream[A]">s1</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#406017" title="Stream[A]">s2</a>
    <span class="keyword">else</span> <a href="#406016" title="Stream[A]">s1</a>.<span title="=&gt; A">head</span> <a href="#406021" title="(hd: A)scala.collection.immutable.Stream[A]">#::</a> <a href="#55293" title="(s1: Stream[A], s2: Stream[A])Stream[A]">merge</a><span title="(stream: =&gt; scala.collection.immutable.Stream[A])scala.collection.immutable.Stream.ConsWrapper[A]" class="delimiter">(</span><a href="#406017" title="Stream[A]">s2</a>, <a href="#406016" title="Stream[A]">s1</a>.<span title="=&gt; scala.collection.immutable.Stream[A]">tail</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">import</span> scala.<span title="=&gt; collection.immutable.Stream.type">Stream</span>.<span class="delimiter">{</span>Empty, empty<span class="delimiter">}</span>

  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[A](as: Stream[A])Option[scalaz.Zipper[A]]" id="55297">toZipper</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="55299">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="380980">as</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Option[scalaz.Zipper[A]]">Option</span><span class="delimiter">[</span>Zipper<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#380980" title="Stream[A]">as</a> <span title="Option[scalaz.Zipper[A]]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="None.type">Empty</span>   =&gt; <span title="object None">None</span>
    <span class="keyword">case</span> <a title="Some[scalaz.Zipper[A]]" id="406085">h</a> <a href="#406067" title="(xs: scala.collection.immutable.Stream[A])Option[(A, scala.collection.immutable.Stream[A])]">#::</a> <a title="scala.collection.immutable.Stream[A]" id="406086">t</a> =&gt; <span title="(x: scalaz.Zipper[A])Some[scalaz.Zipper[A]]">Some</span><span class="delimiter">(</span><a href="../Zipper.scala.html#23394" title="object scalaz.Zipper">Zipper</a>.<a href="../Zipper.scala.html#326092" title="(ls: Stream[A], a: A, rs: Stream[A])scalaz.Zipper[A]">zipper</a><span class="delimiter">(</span><span title="scala.collection.immutable.Stream[Nothing]">empty</span>, <a href="#406085" title="A">h</a>, <a href="#406086" title="scala.collection.immutable.Stream[A]">t</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[A](as: Stream[A])Option[scalaz.Zipper[A]]" id="55300">zipperEnd</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="55302">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="381074">as</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Option[scalaz.Zipper[A]]">Option</span><span class="delimiter">[</span>Zipper<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#381074" title="Stream[A]">as</a> <span title="Option[scalaz.Zipper[A]]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="None.type">Empty</span> =&gt; <span title="object None">None</span>
    <span class="keyword">case</span> <span title="Some[scalaz.Zipper[A]]">_</span>     =&gt;
      <span class="keyword">val</span> <a title="scala.collection.immutable.Stream[A]" id="406110">x</a> = <a href="#381074" title="Stream[A]">as</a>.<span title="=&gt; scala.collection.immutable.Stream[A]">reverse</span>
      <span title="(x: scalaz.Zipper[A])Some[scalaz.Zipper[A]]">Some</span><span class="delimiter">(</span><a href="../Zipper.scala.html#23394" title="object scalaz.Zipper">Zipper</a>.<a href="../Zipper.scala.html#326092" title="(ls: Stream[A], a: A, rs: Stream[A])scalaz.Zipper[A]">zipper</a><span class="delimiter">(</span><a href="#406110" title="scala.collection.immutable.Stream[A]">x</a>.<span title="=&gt; scala.collection.immutable.Stream[A]">tail</span>, <a href="#406110" title="scala.collection.immutable.Stream[A]">x</a>.<span title="=&gt; A">head</span>, <span title="scala.collection.immutable.Stream[Nothing]">empty</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[A](as: Stream[A])Stream[Stream[A]]" id="55303">heads</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="55305">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="406142">as</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Stream[Stream[A]]">Stream</span><span class="delimiter">[</span>Stream<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#406142" title="Stream[A]">as</a> <span title="Stream[Stream[A]]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a title="scala.collection.immutable.Stream[scala.collection.immutable.Stream[A]]" id="406163">h</a> <a href="#406145" title="(xs: scala.collection.immutable.Stream[A])Option[(A, scala.collection.immutable.Stream[A])]">#::</a> <a title="scala.collection.immutable.Stream[A]" id="406164">t</a> =&gt; scala.<span title="(xs: A*)scala.collection.immutable.Stream[A]">Stream</span><span class="delimiter">(</span><a href="#406163" title="A">h</a><span class="delimiter">)</span> <a href="#406165" title="(hd: scala.collection.immutable.Stream[A])scala.collection.immutable.Stream[scala.collection.immutable.Stream[A]]">#::</a> <a href="#55303" title="(as: Stream[A])Stream[Stream[A]]">heads</a><span class="delimiter">(</span><a href="#406164" title="scala.collection.immutable.Stream[A]">t</a><span class="delimiter">)</span>.<span title="(f: Stream[A] =&gt; scala.collection.immutable.Stream[A])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream[Stream[A]],scala.collection.immutable.Stream[A],scala.collection.immutable.Stream[scala.collection.immutable.Stream[A]]])scala.collection.immutable.Stream[scala.collection.immutable.Stream[A]]">map</span><span title="(stream: =&gt; scala.collection.immutable.Stream[scala.collection.immutable.Stream[A]])scala.collection.immutable.Stream.ConsWrapper[scala.collection.immutable.Stream[A]]" class="delimiter">(</span><a href="#406163" title="A">h</a> <a href="#406216" title="(hd: A)scala.collection.immutable.Stream[A]">#::</a> <a href="#406215" title="(stream: =&gt; scala.collection.immutable.Stream[A])scala.collection.immutable.Stream.ConsWrapper[A]">_</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="scala.collection.immutable.Stream[Nothing]">_</span>       =&gt; <span title="scala.collection.immutable.Stream[Nothing]">empty</span>
  <span class="delimiter">}</span>

  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[A](as: Stream[A])Stream[Stream[A]]" id="55306">tails</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="55308">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="406304">as</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Stream[Stream[A]]">Stream</span><span class="delimiter">[</span>Stream<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#406304" title="Stream[A]">as</a> <span title="Stream[Stream[A]]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a title="scala.collection.immutable.Stream[Stream[A]]" id="406325">h</a> <a href="#406307" title="(xs: scala.collection.immutable.Stream[A])Option[(A, scala.collection.immutable.Stream[A])]">#::</a> <a title="scala.collection.immutable.Stream[A]" id="406326">t</a> =&gt; <a href="#406304" title="Stream[A]">as</a> <a href="#406327" title="(hd: Stream[A])scala.collection.immutable.Stream[Stream[A]]">#::</a> <a href="#55306" title="(as: Stream[A])Stream[Stream[A]]">tails</a><span title="(stream: =&gt; scala.collection.immutable.Stream[Stream[A]])scala.collection.immutable.Stream.ConsWrapper[Stream[A]]" class="delimiter">(</span><a href="#406326" title="scala.collection.immutable.Stream[A]">t</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="scala.collection.immutable.Stream[Nothing]">_</span>       =&gt; <span title="scala.collection.immutable.Stream[Nothing]">empty</span>
  <span class="delimiter">}</span>

  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[A, B, C](a: Stream[A])(f: Stream[A =&gt; (B =&gt; C)])Stream[B =&gt; C]" id="55309">zapp</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="55313">A</a>, <a title="&gt;: Nothing &lt;: Any" id="55314">B</a>, <a title="&gt;: Nothing &lt;: Any" id="55315">C</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="406374">a</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="Stream[A =&gt; (B =&gt; C)]" id="406375">f</a>: <span title="Stream[A =&gt; (B =&gt; C)]">Stream</span><span class="delimiter">[</span>A =&gt; B =&gt; C<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Stream[B =&gt; C]">Stream</span><span class="delimiter">[</span>B =&gt; C<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Stream[A =&gt; (B =&gt; C)]" id="406379">ff</a> = <a href="#406375" title="Stream[A =&gt; (B =&gt; C)]">f</a>
    <span class="keyword">val</span> <a title="Stream[A]" id="406380">aa</a> = <a href="#406374" title="Stream[A]">a</a>
    <span title="Stream[B =&gt; C]" class="keyword">if</span> <span class="delimiter">(</span><a href="#406379" title="Stream[A =&gt; (B =&gt; C)]">ff</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">||</span> <a href="#406380" title="Stream[A]">aa</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="scala.collection.immutable.Stream[Nothing]">empty</span>
    <span class="keyword">else</span> scala.<span title="=&gt; collection.immutable.Stream.type">Stream</span>.<span title="(hd: B =&gt; C, tl: =&gt; scala.collection.immutable.Stream[B =&gt; C])Stream.Cons[B =&gt; C]">cons</span><span class="delimiter">(</span><span class="delimiter">(</span><a href="#406379" title="Stream[A =&gt; (B =&gt; C)]">ff</a>.<span title="(v1: A)B =&gt; C">head</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#406380" title="Stream[A]">aa</a>.<span title="=&gt; A">head</span><span class="delimiter">)</span>, <a href="#55309" title="(a: Stream[A])(f: Stream[A =&gt; (B =&gt; C)])Stream[B =&gt; C]">zapp</a><span class="delimiter">(</span><a href="#406380" title="Stream[A]">aa</a>.<span title="=&gt; scala.collection.immutable.Stream[A]">tail</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#406379" title="Stream[A =&gt; (B =&gt; C)]">ff</a>.<span title="=&gt; scala.collection.immutable.Stream[A =&gt; (B =&gt; C)]">tail</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[A, B](as: Stream[A])(f: A =&gt; (B, () =&gt; Stream[A]))Stream[scalaz.Tree[B]]" id="55316">unfoldForest</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="55319">A</a>, <a title="&gt;: Nothing &lt;: Any" id="55320">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="406431">as</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="A =&gt; (B, () =&gt; Stream[A])" id="406432">f</a>: A =&gt; <span class="delimiter">(</span>B, <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Stream<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>: <span title="Stream[scalaz.Tree[B]]">Stream</span><span class="delimiter">[</span>Tree<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">]</span> =
    <a href="#406431" title="Stream[A]">as</a>.<span title="(f: A =&gt; scalaz.Tree[B])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream[A],scalaz.Tree[B],Stream[scalaz.Tree[B]]])Stream[scalaz.Tree[B]]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream.Coll,scalaz.Tree[B],scala.collection.immutable.Stream[scalaz.Tree[B]]]" class="delimiter">(</span><a title="A" id="406466">a</a> =&gt; <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(x: A)scalaz.Tree[B]" id="406467">unfoldTree</a><span class="delimiter">(</span><a title="A" id="406468">x</a>: <a href="#55319" title="A">A</a><span class="delimiter">)</span>: <a href="../Tree.scala.html#12401" title="scalaz.Tree[B]">Tree</a><span class="delimiter">[</span>B<span class="delimiter">]</span> =
        <a href="#406432" title="(v1: A)(B, () =&gt; Stream[A])">f</a><span class="delimiter">(</span><a href="#406468" title="A">x</a><span class="delimiter">)</span> <span title="scalaz.Tree[B]" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="scalaz.Tree[B]" class="delimiter">(</span><a title="B" id="406472">b</a>, <a title="() =&gt; Stream[A]" id="406473">bs</a><span class="delimiter">)</span> =&gt; <a href="../Tree.scala.html#12402" title="object scalaz.Tree">Tree</a>.<a href="../Tree.scala.html#212794" title="(root: =&gt; B, forest: =&gt; Stream[scalaz.Tree[B]])scalaz.Tree[B]">node</a><span class="delimiter">(</span><a href="#406472" title="B">b</a>, <a href="#55316" title="(as: Stream[A])(f: A =&gt; (B, () =&gt; Stream[A]))Stream[scalaz.Tree[B]]">unfoldForest</a><span class="delimiter">(</span><a href="#406473" title="()Stream[A]">bs</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#406432" title="A =&gt; (B, () =&gt; Stream[A])">f</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

      <a href="#406467" title="(x: A)scalaz.Tree[B]">unfoldTree</a><span class="delimiter">(</span><a href="#406466" title="A">a</a><span class="delimiter">)</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[A, B, M[_]](as: Stream[A])(f: A =&gt; M[(B, Stream[A])])(implicit evidence$1: scalaz.Monad[M])M[Stream[scalaz.Tree[B]]]" id="406542">unfoldForestM</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="55325">A</a>, <a title="&gt;: Nothing &lt;: Any" id="55326">B</a>, <a title="[_]&gt;: Nothing &lt;: Any" id="55327">M</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="406543">_</a><span class="delimiter">]</span> : Monad<span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="406540">as</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="A =&gt; M[(B, Stream[A])]" id="406541">f</a>: A =&gt; M<span class="delimiter">[</span><span class="delimiter">(</span>B, Stream<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#55327" title="M[Stream[scalaz.Tree[B]]]">M</a><span class="delimiter">[</span>Stream<span class="delimiter">[</span>Tree<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="[T, U](ts: Stream[T], f: T =&gt; M[U])M[Stream[U]]" id="406548">mapM</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="406551">T</a>, <a title="&gt;: Nothing &lt;: Any" id="406552">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[T]" id="406554">ts</a>: <span title="Stream[T]">Stream</span><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="T =&gt; M[U]" id="406555">f</a>: T =&gt; M<span class="delimiter">[</span>U<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#55327" title="M[Stream[U]]">M</a><span class="delimiter">[</span>Stream<span class="delimiter">[</span>U<span class="delimiter">]</span><span class="delimiter">]</span> =
      <a href="#406554" title="Stream[T]">ts</a>.<span title="[B](z: B)(f: (T, B) =&gt; B)B">foldRight</span><span title="(z: M[Stream[U]])(f: (T, M[Stream[U]]) =&gt; M[Stream[U]])M[Stream[U]]" class="delimiter">[</span><a href="#55327" title="M[Stream[U]]">M</a><span class="delimiter">[</span>Stream<span class="delimiter">[</span>U<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="../Monad.scala.html#164650" title="[F[_]](implicit F: scalaz.Monad[F])scalaz.Monad[F]">Monad</a><a href="#406542" title="(implicit F: scalaz.Monad[M])scalaz.Monad[M]" class="delimiter">[</a><a href="#55327" title="M">M</a><span class="delimiter">]</span>.<a href="../Pointed.scala.html#43393" title="(a: =&gt; Stream[U])M[Stream[U]]">point</a><span class="delimiter">(</span>scala.<span title="(xs: Nothing*)scala.collection.immutable.Stream[Nothing]">Stream</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#406595" title="M[Stream[U]]" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="M[scala.collection.immutable.Stream[U]]" class="delimiter">(</span><a title="T" id="406605">g</a>, <a title="M[Stream[U]]" id="406606">h</a><span class="delimiter">)</span> =&gt; <a href="../Monad.scala.html#164650" title="[F[_]](implicit F: scalaz.Monad[F])scalaz.Monad[F]">Monad</a><a href="#406542" title="(implicit F: scalaz.Monad[M])scalaz.Monad[M]" class="delimiter">[</a><a href="#55327" title="M">M</a><span class="delimiter">]</span>.<a href="../Applicative.scala.html#43340" title="(fa: =&gt; M[U], fb: =&gt; M[Stream[U]])(f: (U, Stream[U]) =&gt; scala.collection.immutable.Stream[U])M[scala.collection.immutable.Stream[U]]">apply2</a><span class="delimiter">(</span><a href="#406555" title="(v1: T)M[U]">f</a><span class="delimiter">(</span><a href="#406605" title="T">g</a><span class="delimiter">)</span>, <a href="#406606" title="M[Stream[U]]">h</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#406632" title="U">_</a> <a href="#406634" title="(hd: U)scala.collection.immutable.Stream[U]">#::</a> <a href="#406633" title="(stream: =&gt; scala.collection.immutable.Stream[U])scala.collection.immutable.Stream.ConsWrapper[U]">_</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(v: A)M[scalaz.Tree[B]]" id="406553">unfoldTreeM</a><span class="delimiter">(</span><a title="A" id="406662">v</a>: <a href="#55325" title="A">A</a><span class="delimiter">)</span> =
      <a href="../Monad.scala.html#164650" title="[F[_]](implicit F: scalaz.Monad[F])scalaz.Monad[F]">Monad</a><a href="#406542" title="(implicit F: scalaz.Monad[M])scalaz.Monad[M]" class="delimiter">[</a><a href="#55327" title="M">M</a><span class="delimiter">]</span>.<a href="../Bind.scala.html#43409" title="(fa: M[(B, Stream[A])])(f: ((B, Stream[A])) =&gt; M[scalaz.Tree[B]])M[scalaz.Tree[B]]">bind</a><span class="delimiter">(</span><a href="#406541" title="(v1: A)M[(B, Stream[A])]">f</a><span class="delimiter">(</span><a href="#406662" title="A">v</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span>abs: <span title="(B, Stream[A])" class="delimiter">(</span>B, Stream<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
        <a href="../Monad.scala.html#164650" title="[F[_]](implicit F: scalaz.Monad[F])scalaz.Monad[F]">Monad</a><a href="#406542" title="(implicit F: scalaz.Monad[M])scalaz.Monad[M]" class="delimiter">[</a><a href="#55327" title="M">M</a><span class="delimiter">]</span>.<a href="../Monad.scala.html#43372" title="(fa: M[Stream[scalaz.Tree[B]]])(f: Stream[scalaz.Tree[B]] =&gt; scalaz.Tree[B])M[scalaz.Tree[B]]">map</a><span class="delimiter">(</span><a href="#406542" title="[A, B, M[_]](as: Stream[A])(f: A =&gt; M[(B, Stream[A])])(implicit evidence$1: scalaz.Monad[M])M[Stream[scalaz.Tree[B]]]">unfoldForestM</a><span title="(as: Stream[A])(f: A =&gt; M[(B, Stream[A])])(implicit evidence$1: scalaz.Monad[M])M[Stream[scalaz.Tree[B]]]" class="delimiter">[</span><a href="#55325" title="A">A</a>, <a href="#55326" title="B">B</a>, <a href="#55327" title="M">M</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#406677" title="(B, Stream[A])">abs</a>.<span title="=&gt; Stream[A]">_2</span><span class="delimiter">)</span><a href="#406542" title="scalaz.Monad[M]" class="delimiter">(</a><a href="#406541" title="A =&gt; M[(B, Stream[A])]">f</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span>ts: <span title="Stream[scalaz.Tree[B]]">Stream</span><span class="delimiter">[</span>Tree<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> =&gt;
          <a href="../Tree.scala.html#12402" title="object scalaz.Tree">Tree</a>.<a href="../Tree.scala.html#212794" title="(root: =&gt; B, forest: =&gt; Stream[scalaz.Tree[B]])scalaz.Tree[B]">node</a><span class="delimiter">(</span><a href="#406677" title="(B, Stream[A])">abs</a>.<span title="=&gt; B">_1</span>, <a href="#406704" title="Stream[scalaz.Tree[B]]">ts</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

    <a href="#406548" title="(ts: Stream[A], f: A =&gt; M[scalaz.Tree[B]])M[Stream[scalaz.Tree[B]]]">mapM</a><span class="delimiter">(</span><a href="#406540" title="Stream[A]">as</a>, <a href="#406553" title="(v: A)M[scalaz.Tree[B]]">unfoldTreeM</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Intersperse the element `a` between each adjacent pair of elements in `as` */</span>
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[A](as: Stream[A], a: A)Stream[A]" id="55328">intersperse</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="55330">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[A]" id="92127">as</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="A" id="92128">a</a>: <a href="#55330" title="A">A</a><span class="delimiter">)</span>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(rest: Stream[A])Stream[A]" id="406754">loop</a><span class="delimiter">(</span><a title="Stream[A]" id="406755">rest</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span> = <a href="#406755" title="Stream[A]">rest</a> <span title="Stream[A]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="scala.collection.immutable.Stream[Nothing]">Stream</span>.<span title="object Stream.Empty">Empty</span> =&gt; <span title="=&gt; collection.immutable.Stream.type">Stream</span>.<span title="scala.collection.immutable.Stream[Nothing]">empty</span>
      <span class="keyword">case</span> <a title="scala.collection.immutable.Stream[A]" id="406777">h</a> <a href="#406767" title="(xs: scala.collection.immutable.Stream[A])Option[(A, scala.collection.immutable.Stream[A])]">#::</a> <a title="scala.collection.immutable.Stream[A]" id="406778">t</a>      =&gt; <a href="#92128" title="A">a</a> <a href="#406779" title="(hd: A)scala.collection.immutable.Stream[A]">#::</a> <a href="#406777" title="A">h</a> <a href="#406780" title="(stream: =&gt; scala.collection.immutable.Stream[A])scala.collection.immutable.Stream.ConsWrapper[A]">#::</a> <a href="#406754" title="(rest: Stream[A])Stream[A]">loop</a><span title="(stream: =&gt; scala.collection.immutable.Stream[A])scala.collection.immutable.Stream.ConsWrapper[A]" class="delimiter">(</span><a href="#406778" title="scala.collection.immutable.Stream[A]">t</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#92127" title="Stream[A]">as</a> <span title="Stream[A]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="scala.collection.immutable.Stream[Nothing]">Stream</span>.<span title="object Stream.Empty">Empty</span> =&gt; <span title="=&gt; collection.immutable.Stream.type">Stream</span>.<span title="scala.collection.immutable.Stream[Nothing]">empty</span>
      <span class="keyword">case</span> <a title="scala.collection.immutable.Stream[A]" id="406839">h</a> <a href="#406829" title="(xs: scala.collection.immutable.Stream[A])Option[(A, scala.collection.immutable.Stream[A])]">#::</a> <a title="scala.collection.immutable.Stream[A]" id="406840">t</a>      =&gt; <a href="#406839" title="A">h</a> <a href="#406841" title="(hd: A)scala.collection.immutable.Stream[A]">#::</a> <a href="#406754" title="(rest: Stream[A])Stream[A]">loop</a><span title="(stream: =&gt; scala.collection.immutable.Stream[A])scala.collection.immutable.Stream.ConsWrapper[A]" class="delimiter">(</span><a href="#406840" title="scala.collection.immutable.Stream[A]">t</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">final</span> <span class="keyword">def</span> <a title="[A](as1: Stream[Stream[A]], as2: Stream[A])Stream[A]" id="55331">intercalate</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="55333">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[Stream[A]]" id="406863">as1</a>: <span title="Stream[Stream[A]]">Stream</span><span class="delimiter">[</span>Stream<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Stream[A]" id="406864">as2</a>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Stream[A]">Stream</span><span class="delimiter">[</span>A<span class="delimiter">]</span> =
    <a href="#55328" title="(as: Stream[Stream[A]], a: Stream[A])Stream[Stream[A]]">intersperse</a><span class="delimiter">(</span><a href="#406863" title="Stream[Stream[A]]">as1</a>, <a href="#406864" title="Stream[A]">as2</a><span class="delimiter">)</span>.<span title="(implicit asTraversable: Stream[A] =&gt; scala.collection.TraversableOnce[A])scala.collection.immutable.Stream[A]">flatten</span>

  <span class="keyword">def</span> <a title="[A, B](seed: A)(f: A =&gt; Option[(B, A)])Stream[B]" id="55334">unfold</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="55337">A</a>, <a title="&gt;: Nothing &lt;: Any" id="55338">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="224185">seed</a>: <a href="#55337" title="A">A</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="A =&gt; Option[(B, A)]" id="224186">f</a>: A =&gt; Option<span class="delimiter">[</span><span class="delimiter">(</span>B, A<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Stream[B]">Stream</span><span class="delimiter">[</span>B<span class="delimiter">]</span> =
    <a href="#224186" title="(v1: A)Option[(B, A)]">f</a><span class="delimiter">(</span><a href="#224185" title="A">seed</a><span class="delimiter">)</span> <span title="Stream[B]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="scala.collection.immutable.Stream[Nothing]">None</span>         =&gt; <span title="=&gt; collection.immutable.Stream.type">Stream</span>.<span title="scala.collection.immutable.Stream[Nothing]">empty</span>
      <span class="keyword">case</span> <span title="Stream.Cons[B]">Some</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="B" id="406958">b</a>, <a title="A" id="406959">a</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <span title="=&gt; collection.immutable.Stream.type">Stream</span>.<span title="(hd: B, tl: =&gt; scala.collection.immutable.Stream[B])Stream.Cons[B]">cons</span><span class="delimiter">(</span><a href="#406958" title="B">b</a>, <a href="#55334" title="(seed: A)(f: A =&gt; Option[(B, A)])Stream[B]">unfold</a><span class="delimiter">(</span><a href="#406959" title="A">a</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#224186" title="A =&gt; Option[(B, A)]">f</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="object scalaz.std.stream" id="27911">stream</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#27436" title="scalaz.std.StreamInstances">StreamInstances</a> <span class="keyword">with</span> <a href="#26701" title="scalaz.std.StreamFunctions">StreamFunctions</a> <span class="delimiter">{</span>
  <span class="keyword">object</span> <a title="object scalaz.std.stream.streamSyntax" id="92125">streamSyntax</a> <span title="ScalaObject" class="keyword">extends</span> scalaz.syntax.std.<a href="../syntax/std/StreamOps.scala.html#30716" title="scalaz.syntax.std.ToStreamOps">ToStreamOps</a>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>