<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>core/scalaz/undo/UndoT.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> scalaz
<span class="keyword">package</span> undo

<span class="comment">/**
 * UndoT Monad Transformer.
 *
 * Ported from [[http://hackage.haskell.org/packages/archive/Hedi/0.1.1/doc/html/Undo.html]]
 *
 * Supports undo, redo and hput to push the last state on history. The redo stack is blanked on hput.
 *
 * @author Gerolf Seitz
 * @author Jason Zaugg
 */</span>
<span class="keyword">final</span> case <span class="keyword">class</span> <a title="class UndoT[F[+_], S, +A] extends java.lang.Object with ScalaObject with Product with Serializable" id="425718">UndoT</a><span class="delimiter">[</span><a title="[+_]&gt;: Nothing &lt;: Any" id="425722">F</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="426187">_</a><span class="delimiter">]</span>, <a title="&gt;: Nothing &lt;: Any" id="425723">S</a>, +<a title="&gt;: Nothing &lt;: Any" id="425724">A</a><span class="delimiter">]</span><a href="#425718" title="ScalaObject" class="delimiter">(</a><a title="scalaz.StateT[F,scalaz.undo.History[S],A]" id="426186">hstate</a>: <a href="../StateT.scala.html#11753" title="scalaz.StateT[F,scalaz.undo.History[S],A]">StateT</a><span class="delimiter">[</span>F, History<span class="delimiter">[</span>S<span class="delimiter">]</span>, A<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(initial: S)(implicit F: scalaz.Functor[F])F[(scalaz.undo.History[S], A)]" id="425568">apply</a><span class="delimiter">(</span><a title="S" id="425588">initial</a>: <a href="#425723" title="S">S</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Functor[F]" id="425589">F</a>: <a href="../Functor.scala.html#14432" title="scalaz.Functor[F]">Functor</a><span class="delimiter">[</span>F<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#425722" title="F[(scalaz.undo.History[S], A)]">F</a><span class="delimiter">[</span><span class="delimiter">(</span>History<span class="delimiter">[</span>S<span class="delimiter">]</span>, A<span class="delimiter">)</span><span class="delimiter">]</span> = <a href="../StateT.scala.html#86098" title="(initial: scalaz.undo.History[S])F[(scalaz.undo.History[S], A)]">hstate</a><span class="delimiter">(</span><a href="History.scala.html#425196" title="(current: S, undos: List[S], redos: List[S])scalaz.undo.History[S]">History</a><span class="delimiter">(</span><a href="#425588" title="S">initial</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(initial: S)(implicit F: scalaz.Functor[F])F[A]" id="425569">eval</a><span class="delimiter">(</span><a title="S" id="425623">initial</a>: <a href="#425723" title="S">S</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Functor[F]" id="425624">F</a>: <a href="../Functor.scala.html#14432" title="scalaz.Functor[F]">Functor</a><span class="delimiter">[</span>F<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#425722" title="F[A]">F</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <a href="#425624" title="scalaz.Functor[F]">F</a>.<a href="../Functor.scala.html#42343" title="(fa: F[(scalaz.undo.History[S], A)])(f: ((scalaz.undo.History[S], A)) =&gt; A)F[A]">map</a><span class="delimiter">(</span><a href="#425568" title="(initial: S)(implicit F: scalaz.Functor[F])F[(scalaz.undo.History[S], A)]">apply</a><a href="#425624" title="scalaz.Functor[F]" class="delimiter">(</a><a href="#425623" title="S">initial</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#425642" title="(scalaz.undo.History[S], A)">_</a>.<span title="=&gt; A">_2</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(initial: S)(implicit F: scalaz.Functor[F])F[S]" id="425570">exec</a><span class="delimiter">(</span><a title="S" id="425658">initial</a>: <a href="#425723" title="S">S</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Functor[F]" id="425659">F</a>: <a href="../Functor.scala.html#14432" title="scalaz.Functor[F]">Functor</a><span class="delimiter">[</span>F<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#425722" title="F[S]">F</a><span class="delimiter">[</span>S<span class="delimiter">]</span> = <a href="#425659" title="scalaz.Functor[F]">F</a>.<a href="../Functor.scala.html#42343" title="(fa: F[(scalaz.undo.History[S], A)])(f: ((scalaz.undo.History[S], A)) =&gt; S)F[S]">map</a><span class="delimiter">(</span><a href="#425568" title="(initial: S)(implicit F: scalaz.Functor[F])F[(scalaz.undo.History[S], A)]">apply</a><a href="#425659" title="scalaz.Functor[F]" class="delimiter">(</a><a href="#425658" title="S">initial</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#425676" title="(scalaz.undo.History[S], A)">_</a>.<span title="=&gt; scalaz.undo.History[S]">_1</span>.<a href="History.scala.html#425173" title="=&gt; S">current</a><span class="delimiter">)</span>
  
  <span class="keyword">def</span> <a title="[B](f: A =&gt; B)(implicit F: scalaz.Functor[F])scalaz.undo.UndoT[F,S,B]" id="425571">map</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="425573">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A =&gt; B" id="425692">f</a>: A =&gt; B<span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Functor[F]" id="425693">F</a>: <a href="../Functor.scala.html#14432" title="scalaz.Functor[F]">Functor</a><span class="delimiter">[</span>F<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#426437" title="object scalaz.undo.UndoT">UndoT</a>.<a href="#425733" title="[F[+_], S, A](f: scalaz.undo.History[S] =&gt; F[(scalaz.undo.History[S], A)])scalaz.undo.UndoT[F,S,A]">mkUndoT</a><span title="(f: scalaz.undo.History[S] =&gt; F[(scalaz.undo.History[S], B)])scalaz.undo.UndoT[F,S,B]" class="delimiter">[</span><a href="#425722" title="F">F</a>, <a href="#425723" title="S">S</a>, <a href="#425573" title="B">B</a><span class="delimiter">]</span><span class="delimiter">(</span>
    <a title="scalaz.undo.History[S]" id="425768">hs</a> =&gt; <a href="#425693" title="scalaz.Functor[F]">F</a>.<a href="../Functor.scala.html#42343" title="(fa: F[(scalaz.undo.History[S], A)])(f: ((scalaz.undo.History[S], A)) =&gt; (scalaz.undo.History[S], B))F[(scalaz.undo.History[S], B)]">map</a><span class="delimiter">(</span><a href="../StateT.scala.html#86098" title="(initial: scalaz.undo.History[S])F[(scalaz.undo.History[S], A)]">hstate</a><span class="delimiter">(</span><a href="#425768" title="scalaz.undo.History[S]">hs</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#425779" title="(scalaz.undo.History[S], B)" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="(scalaz.undo.History[S], B)" class="delimiter">(</span><a title="scalaz.undo.History[S]" id="425782">s</a>, <a title="A" id="425783">a</a><span class="delimiter">)</span> =&gt; <span title="(_1: scalaz.undo.History[S], _2: B)(scalaz.undo.History[S], B)" class="delimiter">(</span><a href="#425782" title="scalaz.undo.History[S]">s</a>, <a href="#425692" title="(v1: A)B">f</a><span class="delimiter">(</span><a href="#425783" title="A">a</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="[B](f: A =&gt; scalaz.undo.UndoT[F,S,B])(implicit F: scalaz.Bind[F])scalaz.undo.UndoT[F,S,B]" id="425574">flatMap</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="425576">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A =&gt; scalaz.undo.UndoT[F,S,B]" id="425794">f</a>: A =&gt; UndoT<span class="delimiter">[</span>F, S, B<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Bind[F]" id="425795">F</a>: <a href="../Bind.scala.html#22460" title="scalaz.Bind[F]">Bind</a><span class="delimiter">[</span>F<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#425718" title="scalaz.undo.UndoT[F,S,B]">UndoT</a><span class="delimiter">[</span>F, S, B<span class="delimiter">]</span> = <a href="#426437" title="object scalaz.undo.UndoT">UndoT</a>.<a href="#425733" title="[F[+_], S, A](f: scalaz.undo.History[S] =&gt; F[(scalaz.undo.History[S], A)])scalaz.undo.UndoT[F,S,A]">mkUndoT</a><span title="(f: scalaz.undo.History[S] =&gt; F[(scalaz.undo.History[S], B)])scalaz.undo.UndoT[F,S,B]" class="delimiter">[</span><a href="#425722" title="F">F</a>, <a href="#425723" title="S">S</a>, <a href="#425576" title="B">B</a><span class="delimiter">]</span><span class="delimiter">(</span>
    <a title="scalaz.undo.History[S]" id="425800">hs</a> =&gt; <a href="#425795" title="scalaz.Bind[F]">F</a>.<a href="../Bind.scala.html#43409" title="(fa: F[(scalaz.undo.History[S], A)])(f: ((scalaz.undo.History[S], A)) =&gt; F[(scalaz.undo.History[S], B)])F[(scalaz.undo.History[S], B)]">bind</a><span class="delimiter">(</span><a href="../StateT.scala.html#86098" title="(initial: scalaz.undo.History[S])F[(scalaz.undo.History[S], A)]">hstate</a><span class="delimiter">(</span><a href="#425800" title="scalaz.undo.History[S]">hs</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#425812" title="F[(scalaz.undo.History[S], B)]" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="F[(scalaz.undo.History[S], B)]" class="delimiter">(</span><a title="scalaz.undo.History[S]" id="425815">s</a>, <a title="A" id="425816">a</a><span class="delimiter">)</span> =&gt; <a href="#425794" title="(v1: A)scalaz.undo.UndoT[F,S,B]">f</a><span class="delimiter">(</span><a href="#425816" title="A">a</a><span class="delimiter">)</span>.<a href="../StateT.scala.html#86098" title="(initial: scalaz.undo.History[S])F[(scalaz.undo.History[S], B)]">hstate</a><span class="delimiter">(</span><a href="#425815" title="scalaz.undo.History[S]">s</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">//</span>
<span class="comment">// Prioritized Implicits for type class instances</span>
<span class="comment">//</span>

<span class="keyword">trait</span> <a title="trait UndoTInstances1 extends java.lang.Object with ScalaObject" id="31632">UndoTInstances1</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="comment">// Prefer Pointed over Functor</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[S, F[+_]](implicit F0: scalaz.Functor[F])scalaz.Functor[[+x]scalaz.undo.UndoT[F,S,x]]" id="425697">undoTFunctor</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="425700">S</a>, <a title="[+_]&gt;: Nothing &lt;: Any" id="425701">F</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="425880">_</a><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Functor[F]" id="425876">F0</a>: <a href="../Functor.scala.html#14432" title="scalaz.Functor[F]">Functor</a><span class="delimiter">[</span>F<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../Functor.scala.html#14432" title="scalaz.Functor[[+x]scalaz.undo.UndoT[F,S,x]]">Functor</a><span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">{</span><span class="keyword">type</span> G<span class="delimiter">[</span>+x<span class="delimiter">]</span> = UndoT<span class="delimiter">[</span>F, S, x<span class="delimiter">]</span><span class="delimiter">}</span><span class="delimiter">)</span>#G<span class="delimiter">]</span> = <a href="#425889" title="java.lang.Object with scalaz.undo.UndoTFunctor[S,F]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.undo.UndoTFunctor[S,F]" id="425889">UndoTFunctor</a><span class="delimiter">[</span>S, F<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="=&gt; scalaz.Functor[F]" id="425906">F</a>: <a href="../Functor.scala.html#14432" title="scalaz.Functor[F]">Functor</a><span class="delimiter">[</span>F<span class="delimiter">]</span> = <a href="#425876" title="scalaz.Functor[F]">F0</a>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait UndoTInstances0 extends java.lang.Object with scalaz.undo.UndoTInstances1 with ScalaObject" id="31647">UndoTInstances0</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#31632" title="scalaz.undo.UndoTInstances1">UndoTInstances1</a> <span class="delimiter">{</span>
  <span class="comment">// Prefer Monad over Pointed</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[S, F[+_]](implicit F0: scalaz.Pointed[F])scalaz.Pointed[[+x]scalaz.undo.UndoT[F,S,x]]" id="425703">undoTPointed</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="425706">S</a>, <a title="[+_]&gt;: Nothing &lt;: Any" id="425707">F</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="425923">_</a><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Pointed[F]" id="425919">F0</a>: <a href="../Pointed.scala.html#9812" title="scalaz.Pointed[F]">Pointed</a><span class="delimiter">[</span>F<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../Pointed.scala.html#9812" title="scalaz.Pointed[[+x]scalaz.undo.UndoT[F,S,x]]">Pointed</a><span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">{</span><span class="keyword">type</span> G<span class="delimiter">[</span>+x<span class="delimiter">]</span> = UndoT<span class="delimiter">[</span>F, S, x<span class="delimiter">]</span><span class="delimiter">}</span><span class="delimiter">)</span>#G<span class="delimiter">]</span> = <a href="#425932" title="java.lang.Object with scalaz.undo.UndoTPointed[S,F]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.undo.UndoTPointed[S,F]" id="425932">UndoTPointed</a><span class="delimiter">[</span>S, F<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="=&gt; scalaz.Pointed[F]" id="425951">F</a>: <a href="../Pointed.scala.html#9812" title="scalaz.Pointed[F]">Pointed</a><span class="delimiter">[</span>F<span class="delimiter">]</span> = <a href="#425919" title="scalaz.Pointed[F]">F0</a>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait UndoTInstances extends java.lang.Object with scalaz.undo.UndoTInstances0 with ScalaObject" id="31584">UndoTInstances</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#31647" title="scalaz.undo.UndoTInstances0">UndoTInstances0</a> <span class="delimiter">{</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[S]=&gt; scalaz.Hoist[[x[+_], +a]scalaz.undo.UndoT[x,S,a]]" id="425709">undoTMonadTrans</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="425711">S</a><span class="delimiter">]</span>: <a href="../MonadTrans.scala.html#19721" title="scalaz.Hoist[[x[+_], +a]scalaz.undo.UndoT[x,S,a]]">Hoist</a><span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">{</span><span class="keyword">type</span> G<span class="delimiter">[</span>x<span class="delimiter">[</span>+_<span class="delimiter">]</span>, +a<span class="delimiter">]</span> = UndoT<span class="delimiter">[</span>x, S, a<span class="delimiter">]</span><span class="delimiter">}</span><span class="delimiter">)</span>#G<span class="delimiter">]</span> = <a href="#425977" title="java.lang.Object with scalaz.undo.UndoTHoist[S]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.undo.UndoTHoist[S]" id="425977">UndoTHoist</a><span class="delimiter">[</span>S<span class="delimiter">]</span> <span class="delimiter">{</span><span class="delimiter">}</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[S, F[+_]](implicit F0: scalaz.Monad[F])scalaz.MonadState[[X, Y]scalaz.undo.UndoT[F,S,Y],S]" id="425712">undoTMonadState</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="425715">S</a>, <a title="[+_]&gt;: Nothing &lt;: Any" id="425716">F</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="426028">_</a><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Monad[F]" id="426023">F0</a>: <a href="../Monad.scala.html#22172" title="scalaz.Monad[F]">Monad</a><span class="delimiter">[</span>F<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../MonadState.scala.html#20486" title="scalaz.MonadState[[X, Y]scalaz.undo.UndoT[F,S,Y],S]">MonadState</a><span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">{</span><span class="keyword">type</span> HS<span class="delimiter">[</span>X, Y<span class="delimiter">]</span> = UndoT<span class="delimiter">[</span>F, S, Y<span class="delimiter">]</span><span class="delimiter">}</span><span class="delimiter">)</span>#HS, S<span class="delimiter">]</span> = <a href="#426037" title="java.lang.Object with scalaz.undo.UndoTMonadState[S,F]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.undo.UndoTMonadState[S,F]" id="426037">UndoTMonadState</a><span class="delimiter">[</span>S, F<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="=&gt; scalaz.Monad[F]" id="426107">F</a>: <a href="../Monad.scala.html#22172" title="scalaz.Monad[F]">Monad</a><span class="delimiter">[</span>F<span class="delimiter">]</span> = <a href="#426023" title="scalaz.Monad[F]">F0</a>

    <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="=&gt; scalaz.undo.package.HStateTMonadState[F,S]" id="426108">HMS</a>: <a href="../MonadState.scala.html#20486" title="scalaz.undo.package.HStateTMonadState[F,S]">HStateTMonadState</a><span class="delimiter">[</span>F, S<span class="delimiter">]</span> = <a href="../MonadState.scala.html#323505" title="[F[_,_], S](implicit F: scalaz.MonadState[F,S])scalaz.MonadState[F,S]">MonadState</a><a href="#426108" title="(implicit F: scalaz.MonadState[[s, +a]scalaz.StateT[F,s,a],scalaz.undo.History[S]])scalaz.MonadState[[s, +a]scalaz.StateT[F,s,a],scalaz.undo.History[S]]" class="delimiter">[</a><span class="delimiter">(</span><span class="delimiter">{</span><span class="keyword">type</span> f<span class="delimiter">[</span>s, +a<span class="delimiter">]</span> = StateT<span class="delimiter">[</span>F, s, a<span class="delimiter">]</span><span class="delimiter">}</span><span class="delimiter">)</span>#<a href="../StateT.scala.html#11753" title="[s, +a]scalaz.StateT[F,s,a]">f</a>, <a href="History.scala.html#31638" title="scalaz.undo.History[S]">History</a><span class="delimiter">[</span>S<span class="delimiter">]</span><span class="delimiter">]</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait UndoTFunctions extends java.lang.Object with ScalaObject" id="31605">UndoTFunctions</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[F[+_], S, A](f: scalaz.undo.History[S] =&gt; F[(scalaz.undo.History[S], A)])scalaz.undo.UndoT[F,S,A]" id="425733">mkUndoT</a><span class="delimiter">[</span><a title="[+_]&gt;: Nothing &lt;: Any" id="425737">F</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="425763">_</a><span class="delimiter">]</span>, <a title="&gt;: Nothing &lt;: Any" id="425738">S</a>, <a title="&gt;: Nothing &lt;: Any" id="425739">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.undo.History[S] =&gt; F[(scalaz.undo.History[S], A)]" id="425762">f</a>: History<span class="delimiter">[</span>S<span class="delimiter">]</span> =&gt; F<span class="delimiter">[</span><span class="delimiter">(</span>History<span class="delimiter">[</span>S<span class="delimiter">]</span>, A<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#425718" title="scalaz.undo.UndoT[F,S,A]">UndoT</a><span class="delimiter">[</span>F, S, A<span class="delimiter">]</span> =
    <span title="scalaz.undo.UndoT[F,S,A]" class="keyword">new</span> <a href="#425718" title="scalaz.undo.UndoT[F,S,A]">UndoT</a><span class="delimiter">[</span>F, S, A<span class="delimiter">]</span><span class="delimiter">(</span><a href="../StateT.scala.html#129353" title="(f: scalaz.undo.History[S] =&gt; F[(scalaz.undo.History[S], A)])scalaz.StateT[F,scalaz.undo.History[S],A]">StateT</a><span class="delimiter">(</span><a href="#425762" title="scalaz.undo.History[S] =&gt; F[(scalaz.undo.History[S], A)]">f</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="[F[+_], S, B](f: scalaz.undo.History[S] =&gt; scalaz.undo.package.StateTHistory[F,S,B])(implicit HMS: scalaz.undo.package.HStateTMonadState[F,S])scalaz.undo.UndoT[F,S,B]" id="425740">bindInit</a><span class="delimiter">[</span><a title="[+_]&gt;: Nothing &lt;: Any" id="425744">F</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="426181">_</a><span class="delimiter">]</span>, <a title="&gt;: Nothing &lt;: Any" id="425745">S</a>, <a title="&gt;: Nothing &lt;: Any" id="425746">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.undo.History[S] =&gt; scalaz.undo.package.StateTHistory[F,S,B]" id="426179">f</a>: History<span class="delimiter">[</span>S<span class="delimiter">]</span> =&gt; StateTHistory<span class="delimiter">[</span>F, S, B<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.undo.package.HStateTMonadState[F,S]" id="426180">HMS</a>: <a href="../MonadState.scala.html#20486" title="scalaz.undo.package.HStateTMonadState[F,S]">HStateTMonadState</a><span class="delimiter">[</span>F, S<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#425718" title="scalaz.undo.UndoT[F,S,B]">UndoT</a><span class="delimiter">[</span>F, S, B<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">import</span> <a href="#426180" title="scalaz.undo.package.HStateTMonadState[F,S]">HMS</a>._
    <a href="#425718" title="(hstate: scalaz.StateT[F,scalaz.undo.History[S],B])scalaz.undo.UndoT[F,S,B]">UndoT</a><span class="delimiter">(</span><a href="../Bind.scala.html#43409" title="(fa: scalaz.StateT[F,scalaz.undo.History[S],scalaz.undo.History[S]])(f: scalaz.undo.History[S] =&gt; scalaz.StateT[F,scalaz.undo.History[S],B])scalaz.StateT[F,scalaz.undo.History[S],B]">bind</a><span class="delimiter">(</span><a href="../MonadState.scala.html#144176" title="=&gt; scalaz.StateT[F,scalaz.undo.History[S],scalaz.undo.History[S]]">init</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#426179" title="scalaz.undo.History[S] =&gt; scalaz.undo.package.StateTHistory[F,S,B]">f</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Restores the latest item in the history
   *
   */</span>
  <span class="keyword">def</span> <a title="[F[+_], S](implicit HMS: scalaz.undo.package.HStateTMonadState[F,S])scalaz.undo.UndoT[F,S,Boolean]" id="425747">undo</a><span class="delimiter">[</span><a title="[+_]&gt;: Nothing &lt;: Any" id="425750">F</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="426216">_</a><span class="delimiter">]</span>, <a title="&gt;: Nothing &lt;: Any" id="425751">S</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.undo.package.HStateTMonadState[F,S]" id="426215">HMS</a>: <a href="../MonadState.scala.html#20486" title="scalaz.undo.package.HStateTMonadState[F,S]">HStateTMonadState</a><span class="delimiter">[</span>F, S<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#425718" title="scalaz.undo.UndoT[F,S,Boolean]">UndoT</a><span class="delimiter">[</span>F, S, Boolean<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">import</span> <a href="#426215" title="scalaz.undo.package.HStateTMonadState[F,S]">HMS</a>._
    <a href="#425740" title="(f: scalaz.undo.History[S] =&gt; scalaz.undo.package.StateTHistory[F,S,Boolean])(implicit HMS: scalaz.undo.package.HStateTMonadState[F,S])scalaz.undo.UndoT[F,S,Boolean]">bindInit</a> <a href="#426230" title="scalaz.StateT[F,scalaz.undo.History[S],Boolean]" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="scalaz.StateT[F,scalaz.undo.History[S],Boolean]">History</span><span class="delimiter">(</span><a title="S" id="426234">current</a>, <span title="object Nil">Nil</span>, <a title="List[S]" id="426235">redos</a><span class="delimiter">)</span> =&gt;
        <a href="../Pointed.scala.html#43393" title="(a: =&gt; Boolean)scalaz.StateT[F,scalaz.undo.History[S],Boolean]">point</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="scalaz.StateT[F,scalaz.undo.History[S],Boolean]">History</span><span class="delimiter">(</span><a title="S" id="426242">current</a>, <a title="S" id="426249">u</a> :: <a title="List[S]" id="426250">us</a>, <a title="List[S]" id="426251">redos</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="scalaz.undo.History[S]" id="426252">newHistory</a> = <a href="History.scala.html#425196" title="[S](current: S, undos: List[S], redos: List[S])scalaz.undo.History[S]">History</a><span title="(current: S, undos: List[S], redos: List[S])scalaz.undo.History[S]" class="delimiter">[</span><a href="#425751" title="S">S</a><span class="delimiter">]</span><span class="delimiter">(</span>current = <a href="#426249" title="S">u</a>, undos = <a href="#426250" title="List[S]">us</a>, redos = <a href="#426242" title="S">current</a> <a href="#426256" title="(x: S)List[S]">::</a> <a href="#426251" title="List[S]">redos</a><span class="delimiter">)</span>
        <a href="../Bind.scala.html#43409" title="(fa: scalaz.StateT[F,scalaz.undo.History[S],Unit])(f: Unit =&gt; scalaz.StateT[F,scalaz.undo.History[S],Boolean])scalaz.StateT[F,scalaz.undo.History[S],Boolean]">bind</a><span class="delimiter">(</span><a href="../MonadState.scala.html#144177" title="(s: scalaz.undo.History[S])scalaz.StateT[F,scalaz.undo.History[S],Unit]">put</a><span class="delimiter">(</span><a href="#426252" title="scalaz.undo.History[S]">newHistory</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="Unit" id="426274">_</a> =&gt; <a href="../Pointed.scala.html#43393" title="(a: =&gt; Boolean)scalaz.StateT[F,scalaz.undo.History[S],Boolean]">point</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**Reverses the previous undo */</span>
  <span class="keyword">def</span> <a title="[F[+_], S](implicit HMS: scalaz.undo.package.HStateTMonadState[F,S])scalaz.undo.UndoT[F,S,Boolean]" id="425752">redo</a><span class="delimiter">[</span><a title="[+_]&gt;: Nothing &lt;: Any" id="425755">F</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="426288">_</a><span class="delimiter">]</span>, <a title="&gt;: Nothing &lt;: Any" id="425756">S</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.undo.package.HStateTMonadState[F,S]" id="426287">HMS</a>: <a href="../MonadState.scala.html#20486" title="scalaz.undo.package.HStateTMonadState[F,S]">HStateTMonadState</a><span class="delimiter">[</span>F, S<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#425718" title="scalaz.undo.UndoT[F,S,Boolean]">UndoT</a><span class="delimiter">[</span>F, S, Boolean<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">import</span> <a href="#426287" title="scalaz.undo.package.HStateTMonadState[F,S]">HMS</a>._
    <a href="#425740" title="(f: scalaz.undo.History[S] =&gt; scalaz.undo.package.StateTHistory[F,S,Boolean])(implicit HMS: scalaz.undo.package.HStateTMonadState[F,S])scalaz.undo.UndoT[F,S,Boolean]">bindInit</a> <a href="#426302" title="scalaz.StateT[F,scalaz.undo.History[S],Boolean]" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="scalaz.StateT[F,scalaz.undo.History[S],Boolean]">History</span><span class="delimiter">(</span><a title="S" id="426306">current</a>, <a title="List[S]" id="426307">undos</a>, <span title="object Nil">Nil</span><span class="delimiter">)</span> =&gt;
        <a href="../Pointed.scala.html#43393" title="(a: =&gt; Boolean)scalaz.StateT[F,scalaz.undo.History[S],Boolean]">point</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="scalaz.StateT[F,scalaz.undo.History[S],Boolean]">History</span><span class="delimiter">(</span><a title="S" id="426314">current</a>, <a title="List[S]" id="426315">undos</a>, <a title="S" id="426322">r</a> :: <a title="List[S]" id="426323">rs</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="scalaz.undo.History[S]" id="426324">newHistory</a> = <a href="History.scala.html#425196" title="(current: S, undos: List[S], redos: List[S])scalaz.undo.History[S]">History</a><span class="delimiter">(</span>current = <a href="#426322" title="S">r</a>, undos = <a href="#426314" title="S">current</a> <a href="#426329" title="(x: S)List[S]">::</a> <a href="#426315" title="List[S]">undos</a>, <a href="#426323" title="List[S]">rs</a><span class="delimiter">)</span>
        <a href="../Bind.scala.html#43409" title="(fa: scalaz.StateT[F,scalaz.undo.History[S],Unit])(f: Unit =&gt; scalaz.StateT[F,scalaz.undo.History[S],Boolean])scalaz.StateT[F,scalaz.undo.History[S],Boolean]">bind</a><span class="delimiter">(</span><a href="../MonadState.scala.html#144177" title="(s: scalaz.undo.History[S])scalaz.StateT[F,scalaz.undo.History[S],Unit]">put</a><span class="delimiter">(</span><a href="#426324" title="scalaz.undo.History[S]">newHistory</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="Unit" id="426364">_</a> =&gt; <a href="../Pointed.scala.html#43393" title="(a: =&gt; Boolean)scalaz.StateT[F,scalaz.undo.History[S],Boolean]">point</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**Replace the current state with `s`. The redo stack is cleared. A subsequent `undo` will restore the previous state. */</span>
  <span class="keyword">def</span> <a title="[F[+_], S](s: S)(implicit HMS: scalaz.undo.package.HStateTMonadState[F,S])scalaz.undo.UndoT[F,S,Unit]" id="425757">hput</a><span class="delimiter">[</span><a title="[+_]&gt;: Nothing &lt;: Any" id="425760">F</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="426379">_</a><span class="delimiter">]</span>, <a title="&gt;: Nothing &lt;: Any" id="425761">S</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="S" id="426377">s</a>: <a href="#425761" title="S">S</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.undo.package.HStateTMonadState[F,S]" id="426378">HMS</a>: <a href="../MonadState.scala.html#20486" title="scalaz.undo.package.HStateTMonadState[F,S]">HStateTMonadState</a><span class="delimiter">[</span>F, S<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#425718" title="scalaz.undo.UndoT[F,S,Unit]">UndoT</a><span class="delimiter">[</span>F, S, Unit<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">import</span> <a href="#426378" title="scalaz.undo.package.HStateTMonadState[F,S]">HMS</a>._
    <a href="#425740" title="(f: scalaz.undo.History[S] =&gt; scalaz.undo.package.StateTHistory[F,S,Unit])(implicit HMS: scalaz.undo.package.HStateTMonadState[F,S])scalaz.undo.UndoT[F,S,Unit]">bindInit</a> <a href="#426394" title="scalaz.StateT[F,scalaz.undo.History[S],Unit]" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="scalaz.StateT[F,scalaz.undo.History[S],Unit]">History</span><span class="delimiter">(</span><a title="S" id="426398">current</a>, <a title="List[S]" id="426399">undos</a>, <a title="List[S]" id="426400">redos</a><span class="delimiter">)</span> =&gt; <a href="../MonadState.scala.html#144177" title="(s: scalaz.undo.History[S])scalaz.StateT[F,scalaz.undo.History[S],Unit]">put</a><span class="delimiter">(</span><a href="History.scala.html#425196" title="(current: S, undos: List[S], redos: List[S])scalaz.undo.History[S]">History</a><span class="delimiter">(</span><a href="#426377" title="S">s</a>, <a href="#426398" title="S">current</a> <a href="#426406" title="(x: S)List[S]">::</a> <a href="#426399" title="List[S]">undos</a>, <span title="object Nil">Nil</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="object scalaz.undo.UndoT" id="426437">UndoT</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#31584" title="scalaz.undo.UndoTInstances">UndoTInstances</a> <span class="keyword">with</span> <a href="#31605" title="scalaz.undo.UndoTFunctions">UndoTFunctions</a>

<span class="comment">//</span>
<span class="comment">// Implementation traits for type class instances</span>
<span class="comment">//</span>

<span class="keyword">private</span><span class="delimiter">[</span>scalaz<span class="delimiter">]</span> <span class="keyword">trait</span> <a title="trait UndoTFunctor[S, F[+_]] extends java.lang.Object with scalaz.Functor[[+x]scalaz.undo.UndoT[F,S,x]] with ScalaObject" id="31578">UndoTFunctor</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="31728">S</a>, <a title="[+_]&gt;: Nothing &lt;: Any" id="31729">F</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="425896">_</a><span class="delimiter">]</span><span class="delimiter">]</span>
  <span title="ScalaObject" class="keyword">extends</span> <a href="../Functor.scala.html#14432" title="scalaz.Functor[[+x]scalaz.undo.UndoT[F,S,x]]">Functor</a><span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">{</span><span class="keyword">type</span> G<span class="delimiter">[</span>+x<span class="delimiter">]</span> = UndoT<span class="delimiter">[</span>F, S, x<span class="delimiter">]</span><span class="delimiter">}</span><span class="delimiter">)</span>#G<span class="delimiter">]</span> <span class="delimiter">{</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="=&gt; scalaz.Functor[F]" id="425899">F</a>: <a href="../Functor.scala.html#14432" title="scalaz.Functor[F]">Functor</a><span class="delimiter">[</span>F<span class="delimiter">]</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="[A, B](fa: scalaz.undo.UndoT[F,S,A])(f: A =&gt; B)scalaz.undo.UndoT[F,S,B]" id="425900">map</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="425903">A</a>, <a title="&gt;: Nothing &lt;: Any" id="425904">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.undo.UndoT[F,S,A]" id="426442">fa</a>: <a href="#425718" title="scalaz.undo.UndoT[F,S,A]">UndoT</a><span class="delimiter">[</span>F, S, A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="A =&gt; B" id="426443">f</a>: A =&gt; B<span class="delimiter">)</span> = <a href="#426442" title="scalaz.undo.UndoT[F,S,A]">fa</a>.<a href="#425571" title="(f: A =&gt; B)(implicit F: scalaz.Functor[F])scalaz.undo.UndoT[F,S,B]">map</a><a href="#425899" title="=&gt; scalaz.Functor[F]" class="delimiter">(</a><a href="#426443" title="A =&gt; B">f</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">private</span><span class="delimiter">[</span>scalaz<span class="delimiter">]</span> <span class="keyword">trait</span> <a title="trait UndoTPointed[S, F[+_]] extends java.lang.Object with scalaz.Pointed[[x]scalaz.undo.UndoT[F,S,x]] with scalaz.undo.UndoTFunctor[S,F] with ScalaObject" id="31653">UndoTPointed</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="31730">S</a>, <a title="[+_]&gt;: Nothing &lt;: Any" id="31731">F</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="425943">_</a><span class="delimiter">]</span><span class="delimiter">]</span>
  <span title="ScalaObject" class="keyword">extends</span> <a href="../Pointed.scala.html#9812" title="scalaz.Pointed[[x]scalaz.undo.UndoT[F,S,x]]">Pointed</a><span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">{</span><span class="keyword">type</span> G<span class="delimiter">[</span>x<span class="delimiter">]</span> = UndoT<span class="delimiter">[</span>F, S, x<span class="delimiter">]</span><span class="delimiter">}</span><span class="delimiter">)</span>#G<span class="delimiter">]</span>
  <span class="keyword">with</span> <a href="#31578" title="scalaz.undo.UndoTFunctor[S,F]">UndoTFunctor</a><span class="delimiter">[</span>S, F<span class="delimiter">]</span> <span class="delimiter">{</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="=&gt; scalaz.Pointed[F]" id="425946">F</a>: <a href="../Pointed.scala.html#9812" title="scalaz.Pointed[F]">Pointed</a><span class="delimiter">[</span>F<span class="delimiter">]</span>

  <span class="keyword">def</span> <a title="[A](a: =&gt; A)scalaz.undo.UndoT[F,S,A]" id="425947">point</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="425949">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; A" id="426474">a</a>: =&gt; A<span class="delimiter">)</span> = <a href="#425718" title="[F[+_], S, A](hstate: scalaz.StateT[F,scalaz.undo.History[S],A])scalaz.undo.UndoT[F,S,A]">UndoT</a><span title="(hstate: scalaz.StateT[F,scalaz.undo.History[S],A])scalaz.undo.UndoT[F,S,A]" class="delimiter">[</span><a href="#31731" title="F">F</a>, <a href="#31730" title="S">S</a>, <a href="#425949" title="A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="../StateT.scala.html#129353" title="(f: scalaz.undo.History[S] =&gt; F[(scalaz.undo.History[S], A)])scalaz.StateT[F,scalaz.undo.History[S],A]">StateT</a><span class="delimiter">(</span><a title="scalaz.undo.History[S]" id="426491">s</a> =&gt; <a href="#425946" title="=&gt; scalaz.Pointed[F]">F</a>.<a href="../Pointed.scala.html#43393" title="(a: =&gt; (scalaz.undo.History[S], A))F[(scalaz.undo.History[S], A)]">point</a><span title="(_1: scalaz.undo.History[S], _2: A)(scalaz.undo.History[S], A)" class="delimiter">(</span><a href="#426491" title="scalaz.undo.History[S]">s</a>, <a href="#426474" title="=&gt; A">a</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">private</span><span class="delimiter">[</span>scalaz<span class="delimiter">]</span> <span class="keyword">trait</span> <a title="trait UndoTMonadState[S, F[+_]] extends java.lang.Object with scalaz.MonadState[[X, Y]scalaz.undo.UndoT[F,S,Y],S] with scalaz.undo.UndoTPointed[S,F] with ScalaObject" id="31626">UndoTMonadState</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="31732">S</a>, <a title="[+_]&gt;: Nothing &lt;: Any" id="31733">F</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="426094">_</a><span class="delimiter">]</span><span class="delimiter">]</span>
  <span title="ScalaObject" class="keyword">extends</span> <a href="../MonadState.scala.html#20486" title="scalaz.MonadState[[X, Y]scalaz.undo.UndoT[F,S,Y],S]">MonadState</a><span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">{</span><span class="keyword">type</span> HS<span class="delimiter">[</span>X, Y<span class="delimiter">]</span> = UndoT<span class="delimiter">[</span>F, S, Y<span class="delimiter">]</span><span class="delimiter">}</span><span class="delimiter">)</span>#HS, S<span class="delimiter">]</span>
  <span class="keyword">with</span> <a href="#31653" title="scalaz.undo.UndoTPointed[S,F]">UndoTPointed</a><span class="delimiter">[</span>S, F<span class="delimiter">]</span> <span class="delimiter">{</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="=&gt; scalaz.Monad[F]" id="426097">F</a>: <a href="../Monad.scala.html#22172" title="scalaz.Monad[F]">Monad</a><span class="delimiter">[</span>F<span class="delimiter">]</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="=&gt; scalaz.undo.package.HStateTMonadState[F,S]" id="426098">HMS</a>: <a href="../MonadState.scala.html#20486" title="scalaz.undo.package.HStateTMonadState[F,S]">HStateTMonadState</a><span class="delimiter">[</span>F, S<span class="delimiter">]</span>

  <span class="keyword">def</span> <a title="[A, B](fa: scalaz.undo.UndoT[F,S,A])(f: A =&gt; scalaz.undo.UndoT[F,S,B])scalaz.undo.UndoT[F,S,B]" id="426099">bind</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="426102">A</a>, <a title="&gt;: Nothing &lt;: Any" id="426103">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.undo.UndoT[F,S,A]" id="426509">fa</a>: <a href="#425718" title="scalaz.undo.UndoT[F,S,A]">UndoT</a><span class="delimiter">[</span>F, S, A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="A =&gt; scalaz.undo.UndoT[F,S,B]" id="426510">f</a>: A =&gt; UndoT<span class="delimiter">[</span>F, S, B<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#426509" title="scalaz.undo.UndoT[F,S,A]">fa</a>.<a href="#425574" title="(f: A =&gt; scalaz.undo.UndoT[F,S,B])(implicit F: scalaz.Bind[F])scalaz.undo.UndoT[F,S,B]">flatMap</a><a href="#426097" title="=&gt; scalaz.Monad[F]" class="delimiter">(</a><a href="#426510" title="A =&gt; scalaz.undo.UndoT[F,S,B]">f</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="=&gt; scalaz.undo.UndoT[F,S,S]" id="426104">init</a> = <a href="#425718" title="[F[+_], S, A](hstate: scalaz.StateT[F,scalaz.undo.History[S],A])scalaz.undo.UndoT[F,S,A]">UndoT</a><span title="(hstate: scalaz.StateT[F,scalaz.undo.History[S],S])scalaz.undo.UndoT[F,S,S]" class="delimiter">[</span><a href="#31733" title="F">F</a>, <a href="#31732" title="S">S</a>, <a href="#31732" title="S">S</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#426098" title="=&gt; scalaz.undo.package.HStateTMonadState[F,S]">HMS</a>.<a href="../MonadState.scala.html#144179" title="(f: scalaz.undo.History[S] =&gt; S)scalaz.StateT[F,scalaz.undo.History[S],S]">gets</a><span class="delimiter">(</span><a title="scalaz.undo.History[S]" id="426546">s</a> =&gt; <a href="#426546" title="scalaz.undo.History[S]">s</a>.<a href="History.scala.html#425173" title="=&gt; S">current</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(s: S)scalaz.undo.UndoT[F,S,Unit]" id="426105">put</a><span class="delimiter">(</span><a title="S" id="426554">s</a>: <a href="#31732" title="S">S</a><span class="delimiter">)</span> = <a href="#425718" title="[F[+_], S, A](hstate: scalaz.StateT[F,scalaz.undo.History[S],A])scalaz.undo.UndoT[F,S,A]">UndoT</a><span title="(hstate: scalaz.StateT[F,scalaz.undo.History[S],Unit])scalaz.undo.UndoT[F,S,Unit]" class="delimiter">[</span><a href="#31733" title="F">F</a>, <a href="#31732" title="S">S</a>, <span title="Unit">Unit</span><span class="delimiter">]</span><span class="delimiter">(</span>
    <a href="#426098" title="=&gt; scalaz.undo.package.HStateTMonadState[F,S]">HMS</a>.<a href="../Bind.scala.html#43409" title="(fa: scalaz.StateT[F,scalaz.undo.History[S],scalaz.undo.History[S]])(f: scalaz.undo.History[S] =&gt; scalaz.StateT[F,scalaz.undo.History[S],Unit])scalaz.StateT[F,scalaz.undo.History[S],Unit]">bind</a><span class="delimiter">(</span><a href="#426098" title="=&gt; scalaz.undo.package.HStateTMonadState[F,S]">HMS</a>.<a href="../MonadState.scala.html#144176" title="=&gt; scalaz.StateT[F,scalaz.undo.History[S],scalaz.undo.History[S]]">init</a><span class="delimiter">)</span> <a href="#426570" title="scalaz.StateT[F,scalaz.undo.History[S],Unit]" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="scalaz.StateT[F,scalaz.undo.History[S],Unit]">History</span><span class="delimiter">(</span>_, <a title="List[S]" id="426574">us</a>, <a title="List[S]" id="426575">rs</a><span class="delimiter">)</span> =&gt; <a href="#426098" title="=&gt; scalaz.undo.package.HStateTMonadState[F,S]">HMS</a>.<a href="../MonadState.scala.html#144177" title="(s: scalaz.undo.History[S])scalaz.StateT[F,scalaz.undo.History[S],Unit]">put</a><span class="delimiter">(</span><a href="History.scala.html#425196" title="(current: S, undos: List[S], redos: List[S])scalaz.undo.History[S]">History</a><span class="delimiter">(</span><a href="#426554" title="S">s</a>, <a href="#426574" title="List[S]">us</a>, <a href="#426575" title="List[S]">rs</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">private</span><span class="delimiter">[</span>scalaz<span class="delimiter">]</span> <span class="keyword">trait</span> <a title="trait UndoTHoist[S] extends java.lang.Object with scalaz.Hoist[[x[+_], a]scalaz.undo.UndoT[x,S,a]] with ScalaObject" id="31656">UndoTHoist</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="31734">S</a><span class="delimiter">]</span> <span title="ScalaObject" class="keyword">extends</span> <a href="../MonadTrans.scala.html#19721" title="scalaz.Hoist[[x[+_], a]scalaz.undo.UndoT[x,S,a]]">Hoist</a><span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">{</span><span class="keyword">type</span> G<span class="delimiter">[</span>x<span class="delimiter">[</span>+_<span class="delimiter">]</span>, a<span class="delimiter">]</span> = UndoT<span class="delimiter">[</span>x, S, a<span class="delimiter">]</span><span class="delimiter">}</span><span class="delimiter">)</span>#G<span class="delimiter">]</span> <span class="delimiter">{</span>

  <span class="keyword">trait</span> <a title="trait UndoTF[G[+_], S] extends java.lang.Object" id="425988">UndoTF</a><span class="delimiter">[</span><a title="[+_]&gt;: Nothing &lt;: Any" id="425989">G</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="426614">_</a><span class="delimiter">]</span>, <a title="&gt;: Nothing &lt;: Any" id="425990">S</a><span class="delimiter">]</span> <span title="java.lang.Object" class="delimiter">{</span>
    <span class="keyword">type</span> <a title="[α]scalaz.undo.UndoT[G,S,α]" id="426612">λ</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="426613">α</a><span class="delimiter">]</span> = <a href="#425718" title="scalaz.undo.UndoT[G,S,α]">UndoT</a><span class="delimiter">[</span>G, S, α<span class="delimiter">]</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[M[+_], N[+_]](f: scalaz.package.~&gt;[M,N])(implicit evidence$1: scalaz.Monad[M])java.lang.Object with scalaz.package.~&gt;[[α]scalaz.undo.UndoT[M,S,α],[α]scalaz.undo.UndoT[N,S,α]]" id="426617">hoist</a><span class="delimiter">[</span><a title="[+_]&gt;: Nothing &lt;: Any" id="425994">M</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="426619">_</a><span class="delimiter">]</span>: Monad, <a title="[+_]&gt;: Nothing &lt;: Any" id="425995">N</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="426620">_</a><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.package.~&gt;[M,N]" id="426616">f</a>: M <a href="../NaturalTransformation.scala.html#16919" title="scalaz.package.~&gt;[M,N]">~&gt;</a> N<span class="delimiter">)</span> = <a href="#426632" title="java.lang.Object with scalaz.package.~&gt;[[α]scalaz.undo.UndoT[M,S,α],[α]scalaz.undo.UndoT[N,S,α]]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.package.~&gt;[[α]scalaz.undo.UndoT[M,S,α],[α]scalaz.undo.UndoT[N,S,α]]" id="426632" class="delimiter">(</a>UndoTF<span class="delimiter">[</span>M, S<span class="delimiter">]</span>#λ <a href="../NaturalTransformation.scala.html#16919" title="scalaz.package.~&gt;[[α]scalaz.undo.UndoT[M,S,α],[α]scalaz.undo.UndoT[N,S,α]]">~&gt;</a> UndoTF<span class="delimiter">[</span>N, S<span class="delimiter">]</span>#λ<span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="[A](fa: scalaz.undo.UndoT[M,S,A])scalaz.undo.UndoT[N,S,A]" id="426640">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="426642">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.undo.UndoT[M,S,A]" id="426643">fa</a>: <a href="#425718" title="scalaz.undo.UndoT[M,S,A]">UndoT</a><span class="delimiter">[</span>M, S, A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#425718" title="scalaz.undo.UndoT[N,S,A]">UndoT</a><span class="delimiter">[</span>N, S, A<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <a href="#425718" title="[F[+_], S, A](hstate: scalaz.StateT[F,scalaz.undo.History[S],A])scalaz.undo.UndoT[F,S,A]">UndoT</a><span title="(hstate: scalaz.StateT[N,scalaz.undo.History[S],A])scalaz.undo.UndoT[N,S,A]" class="delimiter">[</span><a href="#425995" title="N">N</a>, <a href="#31734" title="S">S</a>,<a href="#426642" title="A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="../StateT.scala.html#129353" title="(f: scalaz.undo.History[S] =&gt; N[(scalaz.undo.History[S], A)])scalaz.StateT[N,scalaz.undo.History[S],A]">StateT</a><span class="delimiter">(</span><a title="scalaz.undo.History[S]" id="426666">s</a> =&gt; <a href="../NaturalTransformation.scala.html#146546" title="(fa: M[(scalaz.undo.History[S], A)])N[(scalaz.undo.History[S], A)]">f</a><span class="delimiter">(</span><a href="#426643" title="scalaz.undo.UndoT[M,S,A]">fa</a>.<a href="../StateT.scala.html#86098" title="(initial: scalaz.undo.History[S])M[(scalaz.undo.History[S], A)]">hstate</a><span class="delimiter">(</span><a href="#426666" title="scalaz.undo.History[S]">s</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[G[+_], A](ga: G[A])(implicit G: scalaz.Monad[G])scalaz.undo.UndoT[G,S,A]" id="425996">liftM</a><span class="delimiter">[</span><a title="[+_]&gt;: Nothing &lt;: Any" id="425999">G</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="426704">_</a><span class="delimiter">]</span>, <a title="&gt;: Nothing &lt;: Any" id="426000">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="G[A]" id="426702">ga</a>: <a href="#425999" title="G[A]">G</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Monad[G]" id="426703">G</a>: <a href="../Monad.scala.html#22172" title="scalaz.Monad[G]">Monad</a><span class="delimiter">[</span>G<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#425718" title="scalaz.undo.UndoT[G,S,A]">UndoT</a><span class="delimiter">[</span>G, S, A<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#425718" title="[F[+_], S, A](hstate: scalaz.StateT[F,scalaz.undo.History[S],A])scalaz.undo.UndoT[F,S,A]">UndoT</a><span title="(hstate: scalaz.StateT[G,scalaz.undo.History[S],A])scalaz.undo.UndoT[G,S,A]" class="delimiter">[</span><a href="#425999" title="G">G</a>, <a href="#31734" title="S">S</a>, <a href="#426000" title="A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="../StateT.scala.html#129353" title="(f: scalaz.undo.History[S] =&gt; G[(scalaz.undo.History[S], A)])scalaz.StateT[G,scalaz.undo.History[S],A]">StateT</a><span class="delimiter">(</span><a title="scalaz.undo.History[S]" id="426721">s</a> =&gt; <a href="#426703" title="scalaz.Monad[G]">G</a>.<a href="../Monad.scala.html#43372" title="(fa: G[A])(f: A =&gt; (scalaz.undo.History[S], A))G[(scalaz.undo.History[S], A)]">map</a><span class="delimiter">(</span><a href="#426702" title="G[A]">ga</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="A" id="426740">a</a> =&gt; <span title="(_1: scalaz.undo.History[S], _2: A)(scalaz.undo.History[S], A)" class="delimiter">(</span><a href="#426721" title="scalaz.undo.History[S]">s</a>, <a href="#426740" title="A">a</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[G[+_]](implicit evidence$2: scalaz.Monad[G])scalaz.Monad[[α]scalaz.undo.UndoT[G,S,α]]" id="426752">apply</a><span class="delimiter">[</span><a title="[+_]&gt;: Nothing &lt;: Any" id="426003">G</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="426753">_</a><span class="delimiter">]</span>: Monad<span class="delimiter">]</span>: <a href="../Monad.scala.html#22172" title="scalaz.Monad[[α]scalaz.undo.UndoT[G,S,α]]">Monad</a><span class="delimiter">[</span>UndoTF<span class="delimiter">[</span>G, S<span class="delimiter">]</span>#λ<span class="delimiter">]</span> = <a href="#426437" title="object scalaz.undo.UndoT">UndoT</a>.<a href="#425712" title="[S, F[+_]](implicit F0: scalaz.Monad[F])scalaz.MonadState[[X, Y]scalaz.undo.UndoT[F,S,Y],S]">undoTMonadState</a><a href="#426752" title="(implicit F0: scalaz.Monad[G])scalaz.MonadState[[X, Y]scalaz.undo.UndoT[G,S,Y],S]" class="delimiter">[</a><a href="#31734" title="S">S</a>, <a href="#426003" title="G">G</a><span class="delimiter">]</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>