<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>effect/scalaz/effect/IO.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> scalaz
<span class="keyword">package</span> effect

<span class="keyword">import</span> <a href="World.scala.html#31979" title="object scalaz.effect.RealWorld">RealWorld</a>._
<span class="keyword">import</span> <a href="RegionT.scala.html#32309" title="object scalaz.effect.RegionT">RegionT</a>._
<span class="keyword">import</span> <a href="RefCountedFinalizer.scala.html#32165" title="object scalaz.effect.RefCountedFinalizer">RefCountedFinalizer</a>._
<span class="keyword">import</span> <a href="FinalizerHandle.scala.html#32264" title="object scalaz.effect.FinalizerHandle">FinalizerHandle</a>._
<span class="keyword">import</span> <a href="ST.scala.html#32411" title="object scalaz.effect.ST">ST</a>._
<span class="keyword">import</span> <a href="../../../core/scalaz/Kleisli.scala.html#23337" title="object scalaz.Kleisli">Kleisli</a>._
<span class="keyword">import</span> <a href="../../../core/scalaz/Free.scala.html#23010" title="object scalaz.Free">Free</a>._
<span class="keyword">import</span> std.<a href="../../../core/scalaz/std/Function.scala.html#25964" title="object scalaz.std.function">function</a>._

<span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait IO[+A] extends java.lang.Object with ScalaObject" id="31852">IO</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="32441">A</a><span class="delimiter">]</span> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">private</span><span class="delimiter">[</span>effect<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(rw: scalaz.effect.World[scalaz.effect.RealWorld])scalaz.Free.Trampoline[(scalaz.effect.World[scalaz.effect.RealWorld], A)]" id="52428">apply</a><span class="delimiter">(</span><a title="scalaz.effect.World[scalaz.effect.RealWorld]" id="427236">rw</a>: <a href="World.scala.html#31969" title="scalaz.effect.World[scalaz.effect.RealWorld]">World</a><span class="delimiter">[</span>RealWorld<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../core/scalaz/Free.scala.html#23009" title="scalaz.Free.Trampoline[(scalaz.effect.World[scalaz.effect.RealWorld], A)]">Trampoline</a><span class="delimiter">[</span><span class="delimiter">(</span>World<span class="delimiter">[</span>RealWorld<span class="delimiter">]</span>, A<span class="delimiter">)</span><span class="delimiter">]</span>

  <span class="keyword">import</span> <a href="#31853" title="object scalaz.effect.IO">IO</a>._

  <span class="comment">/**
   * Runs I/O and performs side-effects. An unsafe operation.
   * Do not call until the end of the universe.
   */</span>
  <span class="keyword">def</span> <a title="()A" id="52430">unsafePerformIO</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="#32441" title="A">A</a> = <a href="#52428" title="(rw: scalaz.effect.World[scalaz.effect.RealWorld])scalaz.Free.Trampoline[(scalaz.effect.World[scalaz.effect.RealWorld], A)]">apply</a><span class="delimiter">(</span><a href="World.scala.html#52663" title="=&gt; scalaz.effect.World[scalaz.effect.RealWorld]">realWorld</a><span class="delimiter">)</span>.<a href="../../../core/scalaz/Free.scala.html#117097" title="(implicit ev: scalaz.Liskov.&lt;~&lt;[scalaz.Free[Function0,(scalaz.effect.World[scalaz.effect.RealWorld], A)],scalaz.Free.Trampoline[(scalaz.effect.World[scalaz.effect.RealWorld], A)]])(scalaz.effect.World[scalaz.effect.RealWorld], A)">run</a>.<span title="=&gt; A">_2</span>

  <span class="comment">/**
   * Constructs an IO action whose steps may be interleaved with another.
   * An unsafe operation, since it exposes a trampoline that allows one to
   * step through the components of the IO action.
   */</span>
  <span class="keyword">def</span> <a title="()scalaz.effect.IO[scalaz.Free.Trampoline[A]]" id="52431">unsafeInterleaveIO</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="#31852" title="scalaz.effect.IO[scalaz.Free.Trampoline[A]]">IO</a><span class="delimiter">[</span>Trampoline<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#52548" title="(a: =&gt; scalaz.Free[Function0,A])scalaz.effect.IO[scalaz.Free[Function0,A]]">IO</a><span class="delimiter">(</span><a href="#52428" title="(rw: scalaz.effect.World[scalaz.effect.RealWorld])scalaz.Free.Trampoline[(scalaz.effect.World[scalaz.effect.RealWorld], A)]">apply</a><span class="delimiter">(</span><a href="World.scala.html#52663" title="=&gt; scalaz.effect.World[scalaz.effect.RealWorld]">realWorld</a><span class="delimiter">)</span>.<a href="../../../core/scalaz/Free.scala.html#117059" title="(f: ((scalaz.effect.World[scalaz.effect.RealWorld], A)) =&gt; A)scalaz.Free[Function0,A]">map</a><span class="delimiter">(</span><a href="#427374" title="(scalaz.effect.World[scalaz.effect.RealWorld], A)">_</a>.<span title="=&gt; A">_2</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Interleaves the steps of this IO action with the steps of another,
   * consuming the results of both with the given function.
   */</span>
  <span class="keyword">def</span> <a title="[B, C](iob: scalaz.effect.IO[B], f: (A, B) =&gt; C)scalaz.effect.IO[C]" id="52432">unsafeZipWith</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="52435">B</a>, <a title="&gt;: Nothing &lt;: Any" id="52436">C</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.effect.IO[B]" id="427390">iob</a>: <a href="#31852" title="scalaz.effect.IO[B]">IO</a><span class="delimiter">[</span>B<span class="delimiter">]</span>, <a title="(A, B) =&gt; C" id="427391">f</a>: <span class="delimiter">(</span>A, B<span class="delimiter">)</span> =&gt; C<span class="delimiter">)</span>: <a href="#31852" title="scalaz.effect.IO[C]">IO</a><span class="delimiter">[</span>C<span class="delimiter">]</span> = <span class="delimiter">(</span><span class="keyword">for</span> <span class="delimiter">{</span>
    <a title="scalaz.Free.Trampoline[A]" id="427399">a</a> &lt;- <a href="#52431" title="()scalaz.effect.IO[scalaz.Free.Trampoline[A]]">unsafeInterleaveIO</a><a href="#52446" title="(f: scalaz.Free.Trampoline[A] =&gt; scalaz.effect.IO[C])scalaz.effect.IO[C]" class="delimiter">(</a><span class="delimiter">)</span>
    <a title="scalaz.Free.Trampoline[B]" id="427404">b</a> &lt;- <a href="#427390" title="scalaz.effect.IO[B]">iob</a>.<a href="#52431" title="()scalaz.effect.IO[scalaz.Free.Trampoline[B]]">unsafeInterleaveIO</a><a href="#52446" title="(f: scalaz.Free.Trampoline[B] =&gt; scalaz.effect.IO[C])scalaz.effect.IO[C]" class="delimiter">(</a><span class="delimiter">)</span>
    <a title="C" id="427482">c</a> &lt;- <a href="#52513" title="(f: scalaz.effect.World[scalaz.effect.RealWorld] =&gt; scalaz.Free.Trampoline[(scalaz.effect.World[scalaz.effect.RealWorld], C)])scalaz.effect.IO[C]">io</a><a href="#52443" title="(f: C =&gt; C)scalaz.effect.IO[C]" class="delimiter">(</a><a title="scalaz.effect.World[scalaz.effect.RealWorld]" id="427411">rw</a> =&gt; <a href="#427399" title="scalaz.Free.Trampoline[A]">a</a> <a href="../../../core/scalaz/Free.scala.html#117100" title="(tb: scalaz.Free[Function0,B], f: (A, B) =&gt; (scalaz.effect.World[scalaz.effect.RealWorld], C))scalaz.Free[Function0,(scalaz.effect.World[scalaz.effect.RealWorld], C)]">zipWith</a> <span class="delimiter">(</span><a href="#427404" title="scalaz.Free.Trampoline[B]">b</a>, <span class="delimiter">(</span>x: <a href="#32441" title="A">A</a>, y: <a href="#52435" title="B">B</a><span class="delimiter">)</span> =&gt; <span class="delimiter">(</span><a href="#427411" title="(x: scalaz.effect.World[scalaz.effect.RealWorld])ArrowAssoc[scalaz.effect.World[scalaz.effect.RealWorld]]">rw</a> <span title="(y: C)(scalaz.effect.World[scalaz.effect.RealWorld], C)">-&gt;</span> <a href="#427391" title="(v1: A, v2: B)C">f</a><span class="delimiter">(</span><a href="#427419" title="A">x</a>, <a href="#427420" title="B">y</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span> <span class="keyword">yield</span> <a href="#427482" title="C">c</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Interleaves the steps of this IO action with the steps of another,
   * yielding the results of both.
   */</span>
  <span class="keyword">def</span> <a title="[B](iob: scalaz.effect.IO[B])scalaz.effect.IO[(A, B)]" id="52437">unsafeZip</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="52439">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.effect.IO[B]" id="427486">iob</a>: <a href="#31852" title="scalaz.effect.IO[B]">IO</a><span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#31852" title="scalaz.effect.IO[(A, B)]">IO</a><span class="delimiter">[</span><span class="delimiter">(</span>A, B<span class="delimiter">)</span><span class="delimiter">]</span> = <a href="#52432" title="(iob: scalaz.effect.IO[B], f: (A, B) =&gt; (A, B))scalaz.effect.IO[(A, B)]">unsafeZipWith</a><span class="delimiter">(</span><a href="#427486" title="scalaz.effect.IO[B]">iob</a>, <span title="[T1, T2](_1: T1, _2: T2)(T1, T2)">Tuple2</span><a href="#427496" title="(_1: A, _2: B)(A, B)" class="delimiter">[</a><a href="#32441" title="A">A</a>, <a href="#52439" title="B">B</a><span class="delimiter">]</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Interleaves the steps of this IO action with the steps of another,
   * ignoring the result of this action.
   */</span>
  <span class="keyword">def</span> <a title="[B](iob: scalaz.effect.IO[B])scalaz.effect.IO[B]" id="52440">unsafeZip_</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="52442">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.effect.IO[B]" id="427502">iob</a>: <a href="#31852" title="scalaz.effect.IO[B]">IO</a><span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#31852" title="scalaz.effect.IO[B]">IO</a><span class="delimiter">[</span>B<span class="delimiter">]</span> = <a href="#52432" title="(iob: scalaz.effect.IO[B], f: (A, B) =&gt; B)scalaz.effect.IO[B]">unsafeZipWith</a><span class="delimiter">(</span><a href="#427502" title="scalaz.effect.IO[B]">iob</a>, <span class="delimiter">(</span>a: <a href="#32441" title="A">A</a>, b: <a href="#52442" title="B">B</a><span class="delimiter">)</span> =&gt; <a href="#427511" title="B">b</a><span class="delimiter">)</span>

  <span class="comment">/** Continues this action with the given function. */</span>
  <span class="keyword">def</span> <a title="[B](f: A =&gt; B)scalaz.effect.IO[B]" id="52443">map</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="52445">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A =&gt; B" id="55529">f</a>: A =&gt; B<span class="delimiter">)</span>: <a href="#31852" title="scalaz.effect.IO[B]">IO</a><span class="delimiter">[</span>B<span class="delimiter">]</span> = <a href="#52513" title="(f: scalaz.effect.World[scalaz.effect.RealWorld] =&gt; scalaz.Free.Trampoline[(scalaz.effect.World[scalaz.effect.RealWorld], B)])scalaz.effect.IO[B]">io</a><span class="delimiter">(</span><a title="scalaz.effect.World[scalaz.effect.RealWorld]" id="427517">rw</a> =&gt;
    <a href="#52428" title="(rw: scalaz.effect.World[scalaz.effect.RealWorld])scalaz.Free.Trampoline[(scalaz.effect.World[scalaz.effect.RealWorld], A)]">apply</a><span class="delimiter">(</span><a href="#427517" title="scalaz.effect.World[scalaz.effect.RealWorld]">rw</a><span class="delimiter">)</span> <a href="../../../core/scalaz/Free.scala.html#117059" title="(f: ((scalaz.effect.World[scalaz.effect.RealWorld], A)) =&gt; (scalaz.effect.World[scalaz.effect.RealWorld], B))scalaz.Free[Function0,(scalaz.effect.World[scalaz.effect.RealWorld], B)]">map</a> <a href="#427521" title="(scalaz.effect.World[scalaz.effect.RealWorld], B)" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="(scalaz.effect.World[scalaz.effect.RealWorld], B)" class="delimiter">(</span><a title="scalaz.effect.World[scalaz.effect.RealWorld]" id="427524">nw</a>, <a title="A" id="427525">a</a><span class="delimiter">)</span> =&gt; <span title="(_1: scalaz.effect.World[scalaz.effect.RealWorld], _2: B)(scalaz.effect.World[scalaz.effect.RealWorld], B)" class="delimiter">(</span><a href="#427524" title="scalaz.effect.World[scalaz.effect.RealWorld]">nw</a>, <a href="#55529" title="(v1: A)B">f</a><span class="delimiter">(</span><a href="#427525" title="A">a</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="comment">/** Continues this action with the given action. */</span>
  <span class="keyword">def</span> <a title="[B](f: A =&gt; scalaz.effect.IO[B])scalaz.effect.IO[B]" id="52446">flatMap</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="52448">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A =&gt; scalaz.effect.IO[B]" id="52498">f</a>: A =&gt; IO<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#31852" title="scalaz.effect.IO[B]">IO</a><span class="delimiter">[</span>B<span class="delimiter">]</span> = <a href="#52513" title="(f: scalaz.effect.World[scalaz.effect.RealWorld] =&gt; scalaz.Free.Trampoline[(scalaz.effect.World[scalaz.effect.RealWorld], B)])scalaz.effect.IO[B]">io</a><span class="delimiter">(</span><a title="scalaz.effect.World[scalaz.effect.RealWorld]" id="427538">rw</a> =&gt;
    <a href="#52428" title="(rw: scalaz.effect.World[scalaz.effect.RealWorld])scalaz.Free.Trampoline[(scalaz.effect.World[scalaz.effect.RealWorld], A)]">apply</a><span class="delimiter">(</span><a href="#427538" title="scalaz.effect.World[scalaz.effect.RealWorld]">rw</a><span class="delimiter">)</span> <a href="../../../core/scalaz/Free.scala.html#117065" title="(f: ((scalaz.effect.World[scalaz.effect.RealWorld], A)) =&gt; scalaz.Free[Function0,(scalaz.effect.World[scalaz.effect.RealWorld], B)])scalaz.Free[Function0,(scalaz.effect.World[scalaz.effect.RealWorld], B)]">flatMap</a> <a href="#427543" title="scalaz.Free[Function0,(scalaz.effect.World[scalaz.effect.RealWorld], B)]" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="scalaz.Free.Trampoline[(scalaz.effect.World[scalaz.effect.RealWorld], B)]" class="delimiter">(</span><a title="scalaz.effect.World[scalaz.effect.RealWorld]" id="427546">nw</a>, <a title="A" id="427547">a</a><span class="delimiter">)</span> =&gt; <a href="#52498" title="(v1: A)scalaz.effect.IO[B]">f</a><a href="#52428" title="(rw: scalaz.effect.World[scalaz.effect.RealWorld])scalaz.Free.Trampoline[(scalaz.effect.World[scalaz.effect.RealWorld], B)]" class="delimiter">(</a><a href="#427547" title="A">a</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#427546" title="scalaz.effect.World[scalaz.effect.RealWorld]">nw</a><span class="delimiter">)</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="comment">/** Lift this action to a given IO-like monad. */</span>
  <span class="keyword">def</span> <a title="[M[+_]](implicit m: scalaz.effect.MonadIO[M])M[A]" id="52449">liftIO</a><span class="delimiter">[</span><a title="[+_]&gt;: Nothing &lt;: Any" id="52451">M</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="427152">_</a><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.effect.MonadIO[M]" id="427151">m</a>: <a href="MonadIO.scala.html#32020" title="scalaz.effect.MonadIO[M]">MonadIO</a><span class="delimiter">[</span>M<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#52451" title="M[A]">M</a><span class="delimiter">[</span>A<span class="delimiter">]</span> =
    <a href="#427151" title="scalaz.effect.MonadIO[M]">m</a>.<a href="LiftIO.scala.html#426824" title="(ioa: scalaz.effect.IO[A])M[A]">liftIO</a><span class="delimiter">(</span><a href="#31852" title="scalaz.effect.IO[A]" class="keyword">this</a><span class="delimiter">)</span>

  <span class="comment">/** Executes the handler if an exception is raised. */</span>
  <span class="keyword">def</span> <a title="[B &gt;: A](handler: Throwable =&gt; scalaz.effect.IO[B])scalaz.effect.IO[B]" id="52452">except</a><span class="delimiter">[</span><a title="&gt;: A &lt;: Any" id="52454">B</a> &gt;: A<span class="delimiter">]</span><span class="delimiter">(</span><a title="Throwable =&gt; scalaz.effect.IO[B]" id="427558">handler</a>: Throwable =&gt; IO<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#31852" title="scalaz.effect.IO[B]">IO</a><span class="delimiter">[</span>B<span class="delimiter">]</span> = 
    <a href="#52513" title="(f: scalaz.effect.World[scalaz.effect.RealWorld] =&gt; scalaz.Free.Trampoline[(scalaz.effect.World[scalaz.effect.RealWorld], B)])scalaz.effect.IO[B]">io</a><span class="delimiter">(</span><a title="scalaz.effect.World[scalaz.effect.RealWorld]" id="427564">rw</a> =&gt; <span class="keyword">try</span> <span class="delimiter">{</span> <a href="../../../core/scalaz/Free.scala.html#163379" title="(a: (scalaz.effect.World[scalaz.effect.RealWorld], A))(implicit evidence$1: scalaz.Functor[Function0])scalaz.Free.Return[Function0,(scalaz.effect.World[scalaz.effect.RealWorld], A)]">Return</a><a href="../../../core/scalaz/std/Function.scala.html#52879" title="function0Instance extends java.lang.Object with scalaz.Traverse[Function0] with scalaz.Monad[Function0] with scalaz.Copointed[Function0]" class="delimiter">(</a><a href="#52428" title="(rw: scalaz.effect.World[scalaz.effect.RealWorld])scalaz.Free.Trampoline[(scalaz.effect.World[scalaz.effect.RealWorld], A)]" class="keyword">this</a><span class="delimiter">(</span><a href="#427564" title="scalaz.effect.World[scalaz.effect.RealWorld]">rw</a><span class="delimiter">)</span>.<a href="../../../core/scalaz/Free.scala.html#117097" title="(implicit ev: scalaz.Liskov.&lt;~&lt;[scalaz.Free[Function0,(scalaz.effect.World[scalaz.effect.RealWorld], A)],scalaz.Free.Trampoline[(scalaz.effect.World[scalaz.effect.RealWorld], A)]])(scalaz.effect.World[scalaz.effect.RealWorld], A)">run</a><span class="delimiter">)</span> <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <a title="scalaz.Free.Trampoline[(scalaz.effect.World[scalaz.effect.RealWorld], B)]" id="427703">e</a> =&gt; <a href="#427558" title="(v1: Throwable)scalaz.effect.IO[B]">handler</a><a href="#52428" title="(rw: scalaz.effect.World[scalaz.effect.RealWorld])scalaz.Free.Trampoline[(scalaz.effect.World[scalaz.effect.RealWorld], B)]" class="delimiter">(</a><a href="#427703" title="java.lang.Throwable">e</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#427564" title="scalaz.effect.World[scalaz.effect.RealWorld]">rw</a><span class="delimiter">)</span> <span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Executes the handler for exceptions that are raised and match the given predicate.
   * Other exceptions are rethrown.
   */</span>
  <span class="keyword">def</span> <a title="[B, C &gt;: A](p: Throwable =&gt; Option[B], handler: B =&gt; scalaz.effect.IO[C])scalaz.effect.IO[C]" id="52455">catchSome</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="52458">B</a>,<a title="&gt;: A &lt;: Any" id="52459">C</a> &gt;: A<span class="delimiter">]</span><span class="delimiter">(</span><a title="Throwable =&gt; Option[B]" id="427706">p</a>: Throwable =&gt; Option<span class="delimiter">[</span>B<span class="delimiter">]</span>, <a title="B =&gt; scalaz.effect.IO[C]" id="427707">handler</a>: B =&gt; IO<span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#31852" title="scalaz.effect.IO[C]">IO</a><span class="delimiter">[</span>C<span class="delimiter">]</span> =
    <a href="#52452" title="(handler: Throwable =&gt; scalaz.effect.IO[C])scalaz.effect.IO[C]">except</a><span class="delimiter">(</span><a title="Throwable" id="427714">e</a> =&gt; <a href="#427706" title="(v1: Throwable)Option[B]">p</a><span class="delimiter">(</span><a href="#427714" title="Throwable">e</a><span class="delimiter">)</span> <span title="scalaz.effect.IO[C]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="scalaz.effect.IO[C]">Some</span><span class="delimiter">(</span><a title="B" id="427717">z</a><span class="delimiter">)</span> =&gt; <a href="#427707" title="(v1: B)scalaz.effect.IO[C]">handler</a><span class="delimiter">(</span><a href="#427717" title="B">z</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Nothing">None</span> =&gt; <span title="Nothing" class="keyword">throw</span> <a href="#427714" title="Throwable">e</a>
    <span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Returns an Either result which is Right if no exception was raised, or Left if an
   * exception was raised.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; scalaz.effect.IO[Either[Throwable,A]]" id="52460">catchLeft</a>: <a href="#31852" title="scalaz.effect.IO[Either[Throwable,A]]">IO</a><span class="delimiter">[</span>Either<span class="delimiter">[</span>Throwable, A<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#52443" title="(f: A =&gt; Either[Throwable,A])scalaz.effect.IO[Either[Throwable,A]]">map</a><span class="delimiter">(</span><span title="(b: A)Right[Nothing,A]">Right</span><span class="delimiter">(</span><a href="#427725" title="A">_</a><span class="delimiter">)</span>: <span title="Either[Throwable,A]">Either</span><span class="delimiter">[</span>Throwable, A<span class="delimiter">]</span><span class="delimiter">)</span> <a href="#52452" title="(handler: Throwable =&gt; scalaz.effect.IO[Either[Throwable,A]])scalaz.effect.IO[Either[Throwable,A]]">except</a> <span class="delimiter">(</span><a title="Throwable" id="427736">t</a> =&gt; <a href="#52548" title="(a: =&gt; Either[Throwable,A])scalaz.effect.IO[Either[Throwable,A]]">IO</a><span class="delimiter">(</span><span title="(a: Throwable)Left[Throwable,Nothing]">Left</span><span class="delimiter">(</span><a href="#427736" title="Throwable">t</a><span class="delimiter">)</span>: <span title="Either[Throwable,A]">Either</span><span class="delimiter">[</span>Throwable, A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**Like &quot;catchLeft&quot; but takes a predicate to select which exceptions are caught. */</span>
  <span class="keyword">def</span> <a title="[B](p: Throwable =&gt; Option[B])scalaz.effect.IO[Either[B,A]]" id="52461">catchSomeLeft</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="52463">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Throwable =&gt; Option[B]" id="427745">p</a>: Throwable =&gt; Option<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#31852" title="scalaz.effect.IO[Either[B,A]]">IO</a><span class="delimiter">[</span>Either<span class="delimiter">[</span>B, A<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="keyword">for</span> <span class="delimiter">{</span>
    <a title="Either[Throwable,A]" id="427752">r</a> &lt;- <a href="#31852" title="IO.this.type" class="keyword">this</a>.<a href="#52446" title="(f: Either[Throwable,A] =&gt; scalaz.effect.IO[Either[B,A]])scalaz.effect.IO[Either[B,A]]">catchLeft</a>
    <a title="Either[B,A]" id="427778">x</a> &lt;- <a href="#427752" title="Either[Throwable,A]">r</a> <a href="#52443" title="(f: Either[B,A] =&gt; Either[B,A])scalaz.effect.IO[Either[B,A]]" class="keyword">match</a> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="scalaz.effect.IO[Either[B,A]]">Right</span><span class="delimiter">(</span><a title="A" id="427754">v</a><span class="delimiter">)</span> =&gt; <a href="#52548" title="(a: =&gt; Either[B,A])scalaz.effect.IO[Either[B,A]]">IO</a><span class="delimiter">(</span><span title="(b: A)Right[Nothing,A]">Right</span><span class="delimiter">(</span><a href="#427754" title="A">v</a><span class="delimiter">)</span>: <span title="Either[B,A]">Either</span><span class="delimiter">[</span>B, A<span class="delimiter">]</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="scalaz.effect.IO[Either[B,A]]">Left</span><span class="delimiter">(</span><a title="Throwable" id="427763">e</a><span class="delimiter">)</span>  =&gt; <a href="#427745" title="(v1: Throwable)Option[B]">p</a><span class="delimiter">(</span><a href="#427763" title="Throwable">e</a><span class="delimiter">)</span> <span title="scalaz.effect.IO[Either[B,A]]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="scalaz.effect.IO[Either[B,A]]">Some</span><span class="delimiter">(</span><a title="B" id="427766">b</a><span class="delimiter">)</span> =&gt; <a href="#52548" title="(a: =&gt; Either[B,A])scalaz.effect.IO[Either[B,A]]">IO</a><span class="delimiter">(</span><span title="(a: B)Left[B,Nothing]">Left</span><span class="delimiter">(</span><a href="#427766" title="B">b</a><span class="delimiter">)</span>: <span title="Either[B,A]">Either</span><span class="delimiter">[</span>B, A<span class="delimiter">]</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Nothing">None</span>    =&gt; <span title="Nothing" class="keyword">throw</span> <a href="#427763" title="Throwable">e</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span> <span class="keyword">yield</span> <a href="#427778" title="Either[B,A]">x</a>

  <span class="comment">/**Like &quot;finally&quot;, but only performs the final action if there was an exception. */</span>
  <span class="keyword">def</span> <a title="[B](action: scalaz.effect.IO[B])scalaz.effect.IO[A]" id="52464">onException</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="52466">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.effect.IO[B]" id="55742">action</a>: <a href="#31852" title="scalaz.effect.IO[B]">IO</a><span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#31852" title="scalaz.effect.IO[A]">IO</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <a href="#31852" title="IO.this.type" class="keyword">this</a> <a href="#52452" title="(handler: Throwable =&gt; scalaz.effect.IO[A])scalaz.effect.IO[A]">except</a> <span class="delimiter">(</span><a title="Throwable" id="427784">e</a> =&gt; <span class="keyword">for</span> <span class="delimiter">{</span>
    <a title="B" id="427789">_</a> &lt;- <a href="#52446" title="(f: B =&gt; scalaz.effect.IO[A])scalaz.effect.IO[A]">action</a>
    <a title="A" id="427793">a</a> &lt;- <span class="delimiter">(</span><span title="Nothing" class="keyword">throw</span> <a href="#427784" title="Throwable">e</a><span class="delimiter">)</span>: <a href="#31852" title="scalaz.effect.IO[A]">IO</a><span class="delimiter">[</span>A<span class="delimiter">]</span>
  <span class="delimiter">}</span> <span class="keyword">yield</span> <a href="#427793" title="A">a</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Applies the &quot;during&quot; action, calling &quot;after&quot; regardless of whether there was an exception.
   * All exceptions are rethrown. Generalizes try/finally.
   */</span>
  <span class="keyword">def</span> <a title="[B, C](after: A =&gt; scalaz.effect.IO[B])(during: A =&gt; scalaz.effect.IO[C])scalaz.effect.IO[C]" id="52467">bracket</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="52470">B</a>, <a title="&gt;: Nothing &lt;: Any" id="52471">C</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A =&gt; scalaz.effect.IO[B]" id="427797">after</a>: A =&gt; IO<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="A =&gt; scalaz.effect.IO[C]" id="427798">during</a>: A =&gt; IO<span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#31852" title="scalaz.effect.IO[C]">IO</a><span class="delimiter">[</span>C<span class="delimiter">]</span> = <span class="keyword">for</span> <span class="delimiter">{</span>
    <a title="A" id="427805">a</a> &lt;- <a href="#52446" title="(f: A =&gt; scalaz.effect.IO[C])scalaz.effect.IO[C]" class="keyword">this</a>
    <a title="C" id="427815">r</a> &lt;- <a href="#427798" title="(v1: A)scalaz.effect.IO[C]">during</a><span class="delimiter">(</span><a href="#427805" title="A">a</a><span class="delimiter">)</span> <a href="#52446" title="(f: C =&gt; scalaz.effect.IO[C])scalaz.effect.IO[C]">onException</a> <a href="#427797" title="(v1: A)scalaz.effect.IO[B]">after</a><span class="delimiter">(</span><a href="#427805" title="A">a</a><span class="delimiter">)</span>
    <a title="B" id="427820">_</a> &lt;- <a href="#427797" title="(v1: A)scalaz.effect.IO[B]">after</a><a href="#52443" title="(f: B =&gt; C)scalaz.effect.IO[C]" class="delimiter">(</a><a href="#427805" title="A">a</a><span class="delimiter">)</span>
  <span class="delimiter">}</span> <span class="keyword">yield</span> <a href="#427815" title="C">r</a>

  <span class="comment">/**Like &quot;bracket&quot;, but takes only a computation to run afterward. Generalizes &quot;finally&quot;. */</span>
  <span class="keyword">def</span> <a title="[B](sequel: scalaz.effect.IO[B])scalaz.effect.IO[A]" id="52472">ensuring</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="52474">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.effect.IO[B]" id="427824">sequel</a>: <a href="#31852" title="scalaz.effect.IO[B]">IO</a><span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#31852" title="scalaz.effect.IO[A]">IO</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span class="keyword">for</span> <span class="delimiter">{</span>
    <a title="A" id="427833">r</a> &lt;- <a href="#52464" title="(action: scalaz.effect.IO[B])scalaz.effect.IO[A]">onException</a><a href="#52446" title="(f: A =&gt; scalaz.effect.IO[A])scalaz.effect.IO[A]" class="delimiter">(</a><a href="#427824" title="scalaz.effect.IO[B]">sequel</a><span class="delimiter">)</span>
    <a title="B" id="427838">_</a> &lt;- <a href="#52443" title="(f: B =&gt; A)scalaz.effect.IO[A]">sequel</a>
  <span class="delimiter">}</span> <span class="keyword">yield</span> <a href="#427833" title="A">r</a>

  <span class="comment">/**A variant of &quot;bracket&quot; where the return value of this computation is not needed. */</span>
  <span class="keyword">def</span> <a title="[B, C](after: scalaz.effect.IO[B])(during: scalaz.effect.IO[C])scalaz.effect.IO[C]" id="52475">bracket_</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="52478">B</a>, <a title="&gt;: Nothing &lt;: Any" id="52479">C</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.effect.IO[B]" id="427841">after</a>: <a href="#31852" title="scalaz.effect.IO[B]">IO</a><span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="scalaz.effect.IO[C]" id="427842">during</a>: <a href="#31852" title="scalaz.effect.IO[C]">IO</a><span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#31852" title="scalaz.effect.IO[C]">IO</a><span class="delimiter">[</span>C<span class="delimiter">]</span> =
    <a href="#52467" title="(after: A =&gt; scalaz.effect.IO[B])(during: A =&gt; scalaz.effect.IO[C])scalaz.effect.IO[C]">bracket</a><span class="delimiter">(</span><a title="A" id="427852">_</a> =&gt; <a href="#427841" title="scalaz.effect.IO[B]">after</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="A" id="427856">_</a> =&gt; <a href="#427842" title="scalaz.effect.IO[C]">during</a><span class="delimiter">)</span>

  <span class="comment">/**A variant of &quot;bracket&quot; that performs the final action only if there was an error. */</span>
  <span class="keyword">def</span> <a title="[B, C](after: A =&gt; scalaz.effect.IO[B])(during: A =&gt; scalaz.effect.IO[C])scalaz.effect.IO[C]" id="52480">bracketOnError</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="52483">B</a>, <a title="&gt;: Nothing &lt;: Any" id="52484">C</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A =&gt; scalaz.effect.IO[B]" id="427859">after</a>: A =&gt; IO<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="A =&gt; scalaz.effect.IO[C]" id="427860">during</a>: A =&gt; IO<span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#31852" title="scalaz.effect.IO[C]">IO</a><span class="delimiter">[</span>C<span class="delimiter">]</span> = <span class="keyword">for</span> <span class="delimiter">{</span>
    <a title="A" id="427867">a</a> &lt;- <a href="#52446" title="(f: A =&gt; scalaz.effect.IO[C])scalaz.effect.IO[C]" class="keyword">this</a>
    <a title="C" id="427877">r</a> &lt;- <a href="#427860" title="(v1: A)scalaz.effect.IO[C]">during</a><span class="delimiter">(</span><a href="#427867" title="A">a</a><span class="delimiter">)</span> <a href="#52443" title="(f: C =&gt; C)scalaz.effect.IO[C]">onException</a> <a href="#427859" title="(v1: A)scalaz.effect.IO[B]">after</a><span class="delimiter">(</span><a href="#427867" title="A">a</a><span class="delimiter">)</span>
  <span class="delimiter">}</span> <span class="keyword">yield</span> <a href="#427877" title="C">r</a>

  <span class="keyword">def</span> <a title="[M[_], B](after: A =&gt; scalaz.effect.IO[Unit])(during: A =&gt; M[B])(implicit m: scalaz.effect.MonadControlIO[M])M[B]" id="52485">bracketIO</a><span class="delimiter">[</span><a title="[_]&gt;: Nothing &lt;: Any" id="52488">M</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="427883">_</a><span class="delimiter">]</span>, <a title="&gt;: Nothing &lt;: Any" id="52489">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A =&gt; scalaz.effect.IO[Unit]" id="427880">after</a>: A =&gt; IO<span class="delimiter">[</span>Unit<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="A =&gt; M[B]" id="427881">during</a>: A =&gt; M<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.effect.MonadControlIO[M]" id="427882">m</a>: <a href="MonadControlIO.scala.html#32014" title="scalaz.effect.MonadControlIO[M]">MonadControlIO</a><span class="delimiter">[</span>M<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#52488" title="M[B]">M</a><span class="delimiter">[</span>B<span class="delimiter">]</span> =
    <a href="#52527" title="(f: scalaz.effect.IO.RunInBase[M,scalaz.effect.IO] =&gt; scalaz.effect.IO[M[B]])(implicit M: scalaz.effect.MonadControlIO[M])M[B]">controlIO</a><a href="#427882" title="scalaz.effect.MonadControlIO[M]" class="delimiter">(</a><span class="delimiter">(</span>runInIO: <a href="../../../core/scalaz/Forall.scala.html#19118" title="scalaz.effect.IO.RunInBase[M,scalaz.effect.IO]">RunInBase</a><span class="delimiter">[</span>M, IO<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; <a href="#52467" title="(after: A =&gt; scalaz.effect.IO[Unit])(during: A =&gt; scalaz.effect.IO[M[B]])scalaz.effect.IO[M[B]]">bracket</a><span class="delimiter">(</span><a href="#427880" title="A =&gt; scalaz.effect.IO[Unit]">after</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#427918" title="scalaz.effect.IO.RunInBase[M,scalaz.effect.IO]">runInIO</a>.<a href="../../../core/scalaz/Forall.scala.html#194254" title="M[B] =&gt; scalaz.effect.IO[M[B]]">apply</a> <span title="(g: A =&gt; M[B])A =&gt; scalaz.effect.IO[M[B]]">compose</span> <a href="#427881" title="A =&gt; M[B]">during</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="object scalaz.effect.IO" id="31853">IO</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#32254" title="scalaz.effect.IOFunctions">IOFunctions</a> <span class="keyword">with</span> <a href="#31798" title="scalaz.effect.IOInstances">IOInstances</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[A](a: =&gt; A)scalaz.effect.IO[A]" id="52548">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="52550">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; A" id="52989">a</a>: =&gt; A<span class="delimiter">)</span>: <a href="#31852" title="scalaz.effect.IO[A]">IO</a><span class="delimiter">[</span>A<span class="delimiter">]</span> =
    <a href="#52513" title="(f: scalaz.effect.World[scalaz.effect.RealWorld] =&gt; scalaz.Free.Trampoline[(scalaz.effect.World[scalaz.effect.RealWorld], A)])scalaz.effect.IO[A]">io</a><span class="delimiter">(</span><a title="scalaz.effect.World[scalaz.effect.RealWorld]" id="427981">rw</a> =&gt; <a href="../../../core/scalaz/Free.scala.html#52804" title="(value: =&gt; (scalaz.effect.World[scalaz.effect.RealWorld], A))(implicit S: scalaz.Pointed[Function0])scalaz.Free[Function0,(scalaz.effect.World[scalaz.effect.RealWorld], A)]">return_</a><a href="../../../core/scalaz/std/Function.scala.html#52879" title="function0Instance extends java.lang.Object with scalaz.Traverse[Function0] with scalaz.Monad[Function0] with scalaz.Copointed[Function0]" class="delimiter">(</a><a href="#427981" title="(x: scalaz.effect.World[scalaz.effect.RealWorld])ArrowAssoc[scalaz.effect.World[scalaz.effect.RealWorld]]">rw</a> <span title="(y: A)(scalaz.effect.World[scalaz.effect.RealWorld], A)">-&gt;</span> <a href="#52989" title="=&gt; A">a</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait IOInstances0 extends java.lang.Object with ScalaObject" id="32104">IOInstances0</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[A](implicit A: scalaz.Semigroup[A])scalaz.Semigroup[scalaz.effect.IO[A]]" id="52552">IOSemigroup</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="52554">A</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Semigroup[A]" id="427266">A</a>: <a href="../../../core/scalaz/Semigroup.scala.html#20390" title="scalaz.Semigroup[A]">Semigroup</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../core/scalaz/Semigroup.scala.html#20390" title="scalaz.Semigroup[scalaz.effect.IO[A]]">Semigroup</a><span class="delimiter">[</span>IO<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> =
      <a href="../../../core/scalaz/Monoid.scala.html#19170" title="object scalaz.Monoid">Monoid</a>.<a href="../../../core/scalaz/Monoid.scala.html#57141" title="[F[_], M](implicit F0: scalaz.Applicative[F], implicit M0: scalaz.Semigroup[M])scalaz.Semigroup[F[M]]">liftSemigroup</a><span title="(implicit F0: scalaz.Applicative[scalaz.effect.IO], implicit M0: scalaz.Semigroup[A])scalaz.Semigroup[scalaz.effect.IO[A]]" class="delimiter">[</span><a href="#31852" title="scalaz.effect.IO">IO</a>, <a href="#52554" title="A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#31853" title="object scalaz.effect.IO">IO</a>.<a href="#52557" title="=&gt; scalaz.Monad[scalaz.effect.IO]">ioMonad</a>, <a href="#427266" title="scalaz.Semigroup[A]">A</a><span class="delimiter">)</span>

  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scalaz.effect.LiftIO[scalaz.effect.IO]" id="52555">iOLiftIO</a>: <a href="LiftIO.scala.html#32266" title="scalaz.effect.LiftIO[scalaz.effect.IO]">LiftIO</a><span class="delimiter">[</span>IO<span class="delimiter">]</span> = <a href="#428118" title="java.lang.Object with scalaz.effect.IOLiftIO" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.effect.IOLiftIO" id="428118">IOLiftIO</a> <span class="delimiter">{</span><span class="delimiter">}</span>

  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scalaz.Monad[scalaz.effect.IO]" id="52557">ioMonad</a>: <a href="../../../core/scalaz/Monad.scala.html#22172" title="scalaz.Monad[scalaz.effect.IO]">Monad</a><span class="delimiter">[</span>IO<span class="delimiter">]</span> = <a href="#428128" title="java.lang.Object with scalaz.effect.IOMonad" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.effect.IOMonad" id="428128">IOMonad</a> <span class="delimiter">{</span><span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait IOInstances extends java.lang.Object with scalaz.effect.IOInstances0 with ScalaObject" id="31798">IOInstances</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#32104" title="scalaz.effect.IOInstances0">IOInstances0</a> <span class="delimiter">{</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[A](implicit A: scalaz.Monoid[A])scalaz.Monoid[scalaz.effect.IO[A]]" id="52560">IOMonoid</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="52562">A</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Monoid[A]" id="427263">A</a>: <a href="../../../core/scalaz/Monoid.scala.html#19169" title="scalaz.Monoid[A]">Monoid</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../core/scalaz/Monoid.scala.html#19169" title="scalaz.Monoid[scalaz.effect.IO[A]]">Monoid</a><span class="delimiter">[</span>IO<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> =
    <a href="../../../core/scalaz/Monoid.scala.html#19170" title="object scalaz.Monoid">Monoid</a>.<a href="../../../core/scalaz/Monoid.scala.html#57146" title="[F[_], M](implicit F0: scalaz.Applicative[F], implicit M0: scalaz.Monoid[M])scalaz.Monoid[F[M]]">liftMonoid</a><span title="(implicit F0: scalaz.Applicative[scalaz.effect.IO], implicit M0: scalaz.Monoid[A])scalaz.Monoid[scalaz.effect.IO[A]]" class="delimiter">[</span><a href="#31852" title="scalaz.effect.IO">IO</a>, <a href="#52562" title="A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#52557" title="=&gt; scalaz.Monad[scalaz.effect.IO]">ioMonad</a>, <a href="#427263" title="scalaz.Monoid[A]">A</a><span class="delimiter">)</span>
  
  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scalaz.effect.MonadIO[scalaz.effect.IO]" id="52563">ioMonadIO</a>: <a href="MonadIO.scala.html#32020" title="scalaz.effect.MonadIO[scalaz.effect.IO]">MonadIO</a><span class="delimiter">[</span>IO<span class="delimiter">]</span> = <a href="#428201" title="java.lang.Object with scalaz.effect.MonadIO[scalaz.effect.IO] with scalaz.effect.IOLiftIO with scalaz.effect.IOMonad" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.effect.MonadIO[scalaz.effect.IO] with scalaz.effect.IOLiftIO with scalaz.effect.IOMonad" id="428201">MonadIO</a><span class="delimiter">[</span>IO<span class="delimiter">]</span> <span class="keyword">with</span> <a href="#32239" title="scalaz.effect.IOLiftIO">IOLiftIO</a> <span class="keyword">with</span> <a href="#31774" title="scalaz.effect.IOMonad">IOMonad</a>
<span class="delimiter">}</span>

<span class="keyword">private</span> <span class="keyword">trait</span> <a title="trait IOMonad extends java.lang.Object with scalaz.Monad[scalaz.effect.IO] with ScalaObject" id="31774">IOMonad</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../../../core/scalaz/Monad.scala.html#22172" title="scalaz.Monad[scalaz.effect.IO]">Monad</a><span class="delimiter">[</span>IO<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[A](a: =&gt; A)scalaz.effect.IO[A]" id="428181">point</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="428183">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; A" id="428261">a</a>: =&gt; A<span class="delimiter">)</span>: <a href="#31852" title="scalaz.effect.IO[A]">IO</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <a href="#52548" title="(a: =&gt; A)scalaz.effect.IO[A]">IO</a><span class="delimiter">(</span><a href="#428261" title="=&gt; A">a</a><span class="delimiter">)</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="[A, B](fa: scalaz.effect.IO[A])(f: A =&gt; B)scalaz.effect.IO[B]" id="428184">map</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="428187">A</a>, <a title="&gt;: Nothing &lt;: Any" id="428188">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.effect.IO[A]" id="428269">fa</a>: <a href="#31852" title="scalaz.effect.IO[A]">IO</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="A =&gt; B" id="428270">f</a>: <span class="delimiter">(</span>A<span class="delimiter">)</span> =&gt; B<span class="delimiter">)</span> = <a href="#428269" title="scalaz.effect.IO[A]">fa</a> <a href="#52443" title="(f: A =&gt; B)scalaz.effect.IO[B]">map</a> <a href="#428270" title="A =&gt; B">f</a>
  <span class="keyword">def</span> <a title="[A, B](fa: scalaz.effect.IO[A])(f: A =&gt; scalaz.effect.IO[B])scalaz.effect.IO[B]" id="428189">bind</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="428192">A</a>, <a title="&gt;: Nothing &lt;: Any" id="428193">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.effect.IO[A]" id="428309">fa</a>: <a href="#31852" title="scalaz.effect.IO[A]">IO</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="A =&gt; scalaz.effect.IO[B]" id="428310">f</a>: <span class="delimiter">(</span>A<span class="delimiter">)</span> =&gt; IO<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#31852" title="scalaz.effect.IO[B]">IO</a><span class="delimiter">[</span>B<span class="delimiter">]</span> = <a href="#428309" title="scalaz.effect.IO[A]">fa</a> <a href="#52446" title="(f: A =&gt; scalaz.effect.IO[B])scalaz.effect.IO[B]">flatMap</a> <a href="#428310" title="A =&gt; scalaz.effect.IO[B]">f</a>
<span class="delimiter">}</span>

<span class="keyword">private</span> <span class="keyword">trait</span> <a title="trait IOLiftIO extends java.lang.Object with scalaz.effect.LiftIO[scalaz.effect.IO] with ScalaObject" id="32239">IOLiftIO</a> <span title="ScalaObject" class="keyword">extends</span> <a href="LiftIO.scala.html#32266" title="scalaz.effect.LiftIO[scalaz.effect.IO]">LiftIO</a><span class="delimiter">[</span>IO<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[A](ioa: scalaz.effect.IO[A])scalaz.effect.IO[A]" id="428122">liftIO</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="428124">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.effect.IO[A]" id="428326">ioa</a>: <a href="#31852" title="scalaz.effect.IO[A]">IO</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#428326" title="scalaz.effect.IO[A]">ioa</a>
<span class="delimiter">}</span>

<span class="comment">/** IO Actions for writing to standard output and and reading from standard input */</span>
<span class="keyword">trait</span> <a title="trait IOStd extends java.lang.Object with ScalaObject" id="31744">IOStd</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">import</span> <a href="#31853" title="object scalaz.effect.IO">IO</a>.io

  <span class="comment">/** Reads a character from standard input. */</span>
  <span class="keyword">def</span> <a title="=&gt; scalaz.effect.IO[Char]" id="52501">getChar</a>: <a href="#31852" title="scalaz.effect.IO[Char]">IO</a><span class="delimiter">[</span>Char<span class="delimiter">]</span> = <a href="#52548" title="(a: =&gt; Char)scalaz.effect.IO[Char]">IO</a><span class="delimiter">(</span><span title="()Char">readChar</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/** Writes a character to standard output. */</span>
  <span class="keyword">def</span> <a title="(c: Char)scalaz.effect.IO[Unit]" id="52502">putChar</a><span class="delimiter">(</span><a title="Char" id="428342">c</a>: <span title="Char">Char</span><span class="delimiter">)</span>: <a href="#31852" title="scalaz.effect.IO[Unit]">IO</a><span class="delimiter">[</span>Unit<span class="delimiter">]</span> = <a href="#52513" title="(f: scalaz.effect.World[scalaz.effect.RealWorld] =&gt; scalaz.Free.Trampoline[(scalaz.effect.World[scalaz.effect.RealWorld], Unit)])scalaz.effect.IO[Unit]">io</a><span class="delimiter">(</span><a title="scalaz.effect.World[scalaz.effect.RealWorld]" id="428347">rw</a> =&gt; <a href="../../../core/scalaz/Free.scala.html#52804" title="(value: =&gt; (scalaz.effect.World[scalaz.effect.RealWorld], Unit))(implicit S: scalaz.Pointed[Function0])scalaz.Free[Function0,(scalaz.effect.World[scalaz.effect.RealWorld], Unit)]">return_</a><a href="../../../core/scalaz/std/Function.scala.html#52879" title="function0Instance extends java.lang.Object with scalaz.Traverse[Function0] with scalaz.Monad[Function0] with scalaz.Copointed[Function0]" class="delimiter">(</a><a href="#428347" title="(x: scalaz.effect.World[scalaz.effect.RealWorld])ArrowAssoc[scalaz.effect.World[scalaz.effect.RealWorld]]">rw</a> <span title="(y: Unit)(scalaz.effect.World[scalaz.effect.RealWorld], Unit)">-&gt;</span> <span class="delimiter">{</span>
    <span title="(x: Any)Unit">print</span><span class="delimiter">(</span><a href="#428342" title="Char">c</a><span class="delimiter">)</span>;
    <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/** Writes a string to standard output. */</span>
  <span class="keyword">def</span> <a title="(s: String)scalaz.effect.IO[Unit]" id="52503">putStr</a><span class="delimiter">(</span><a title="String" id="428477">s</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#31852" title="scalaz.effect.IO[Unit]">IO</a><span class="delimiter">[</span>Unit<span class="delimiter">]</span> = <a href="#52513" title="(f: scalaz.effect.World[scalaz.effect.RealWorld] =&gt; scalaz.Free.Trampoline[(scalaz.effect.World[scalaz.effect.RealWorld], Unit)])scalaz.effect.IO[Unit]">io</a><span class="delimiter">(</span><a title="scalaz.effect.World[scalaz.effect.RealWorld]" id="428482">rw</a> =&gt; <a href="../../../core/scalaz/Free.scala.html#52804" title="(value: =&gt; (scalaz.effect.World[scalaz.effect.RealWorld], Unit))(implicit S: scalaz.Pointed[Function0])scalaz.Free[Function0,(scalaz.effect.World[scalaz.effect.RealWorld], Unit)]">return_</a><a href="../../../core/scalaz/std/Function.scala.html#52879" title="function0Instance extends java.lang.Object with scalaz.Traverse[Function0] with scalaz.Monad[Function0] with scalaz.Copointed[Function0]" class="delimiter">(</a><a href="#428482" title="(x: scalaz.effect.World[scalaz.effect.RealWorld])ArrowAssoc[scalaz.effect.World[scalaz.effect.RealWorld]]">rw</a> <span title="(y: Unit)(scalaz.effect.World[scalaz.effect.RealWorld], Unit)">-&gt;</span> <span class="delimiter">{</span>
    <span title="(x: Any)Unit">print</span><span class="delimiter">(</span><a href="#428477" title="String">s</a><span class="delimiter">)</span>;
    <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/** Writes a string to standard output, followed by a newline.*/</span>
  <span class="keyword">def</span> <a title="(s: String)scalaz.effect.IO[Unit]" id="52504">putStrLn</a><span class="delimiter">(</span><a title="String" id="428612">s</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#31852" title="scalaz.effect.IO[Unit]">IO</a><span class="delimiter">[</span>Unit<span class="delimiter">]</span> = <a href="#52513" title="(f: scalaz.effect.World[scalaz.effect.RealWorld] =&gt; scalaz.Free.Trampoline[(scalaz.effect.World[scalaz.effect.RealWorld], Unit)])scalaz.effect.IO[Unit]">io</a><span class="delimiter">(</span><a title="scalaz.effect.World[scalaz.effect.RealWorld]" id="428617">rw</a> =&gt; <a href="../../../core/scalaz/Free.scala.html#52804" title="(value: =&gt; (scalaz.effect.World[scalaz.effect.RealWorld], Unit))(implicit S: scalaz.Pointed[Function0])scalaz.Free[Function0,(scalaz.effect.World[scalaz.effect.RealWorld], Unit)]">return_</a><a href="../../../core/scalaz/std/Function.scala.html#52879" title="function0Instance extends java.lang.Object with scalaz.Traverse[Function0] with scalaz.Monad[Function0] with scalaz.Copointed[Function0]" class="delimiter">(</a><a href="#428617" title="(x: scalaz.effect.World[scalaz.effect.RealWorld])ArrowAssoc[scalaz.effect.World[scalaz.effect.RealWorld]]">rw</a> <span title="(y: Unit)(scalaz.effect.World[scalaz.effect.RealWorld], Unit)">-&gt;</span> <span class="delimiter">{</span>
    <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><a href="#428612" title="String">s</a><span class="delimiter">)</span>;
    <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/** Reads a line of standard input. */</span>
  <span class="keyword">def</span> <a title="=&gt; scalaz.effect.IO[String]" id="52505">readLn</a>: <a href="#31852" title="scalaz.effect.IO[String]">IO</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="#52548" title="(a: =&gt; String)scalaz.effect.IO[String]">IO</a><span class="delimiter">(</span><span title="()String">readLine</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/** Write the given value to standard output. */</span>
  <span class="keyword">def</span> <a title="[A](a: A)scalaz.effect.IO[Unit]" id="52506">putOut</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="52508">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="428758">a</a>: <a href="#52508" title="A">A</a><span class="delimiter">)</span>: <a href="#31852" title="scalaz.effect.IO[Unit]">IO</a><span class="delimiter">[</span>Unit<span class="delimiter">]</span> = <a href="#52513" title="(f: scalaz.effect.World[scalaz.effect.RealWorld] =&gt; scalaz.Free.Trampoline[(scalaz.effect.World[scalaz.effect.RealWorld], Unit)])scalaz.effect.IO[Unit]">io</a><span class="delimiter">(</span><a title="scalaz.effect.World[scalaz.effect.RealWorld]" id="428764">rw</a> =&gt; <a href="../../../core/scalaz/Free.scala.html#52804" title="(value: =&gt; (scalaz.effect.World[scalaz.effect.RealWorld], Unit))(implicit S: scalaz.Pointed[Function0])scalaz.Free[Function0,(scalaz.effect.World[scalaz.effect.RealWorld], Unit)]">return_</a><a href="../../../core/scalaz/std/Function.scala.html#52879" title="function0Instance extends java.lang.Object with scalaz.Traverse[Function0] with scalaz.Monad[Function0] with scalaz.Copointed[Function0]" class="delimiter">(</a><a href="#428764" title="(x: scalaz.effect.World[scalaz.effect.RealWorld])ArrowAssoc[scalaz.effect.World[scalaz.effect.RealWorld]]">rw</a> <span title="(y: Unit)(scalaz.effect.World[scalaz.effect.RealWorld], Unit)">-&gt;</span> <span class="delimiter">{</span>
    <span title="(x: Any)Unit">print</span><span class="delimiter">(</span><a href="#428758" title="A">a</a><span class="delimiter">)</span>;
    <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait IOFunctions extends java.lang.Object with scalaz.effect.IOStd with ScalaObject" id="32254">IOFunctions</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#31744" title="scalaz.effect.IOStd">IOStd</a> <span class="delimiter">{</span>
  <span class="keyword">type</span> <a title="[M[_], Base[_]]scalaz.Forall[[B]M[B] =&gt; Base[M[B]]]" id="52510">RunInBase</a><span class="delimiter">[</span><a title="[_]&gt;: Nothing &lt;: Any" id="52511">M</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="427919">_</a><span class="delimiter">]</span>, <a title="[_]&gt;: Nothing &lt;: Any" id="52512">Base</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="427920">_</a><span class="delimiter">]</span><span class="delimiter">]</span> =
  <a href="../../../core/scalaz/Forall.scala.html#19118" title="scalaz.Forall[[B]M[B] =&gt; Base[M[B]]]">Forall</a><span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">{</span><span class="keyword">type</span> λ<span class="delimiter">[</span>B<span class="delimiter">]</span> = M<span class="delimiter">[</span>B<span class="delimiter">]</span> =&gt; Base<span class="delimiter">[</span>M<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">}</span><span class="delimiter">)</span>#λ<span class="delimiter">]</span>

  <span class="comment">/** Construct an IO action from a world-transition function. */</span>
  <span class="keyword">def</span> <a title="[A](f: scalaz.effect.World[scalaz.effect.RealWorld] =&gt; scalaz.Free.Trampoline[(scalaz.effect.World[scalaz.effect.RealWorld], A)])scalaz.effect.IO[A]" id="52513">io</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="52515">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.effect.World[scalaz.effect.RealWorld] =&gt; scalaz.Free.Trampoline[(scalaz.effect.World[scalaz.effect.RealWorld], A)]" id="427405">f</a>: World<span class="delimiter">[</span>RealWorld<span class="delimiter">]</span> =&gt; Trampoline<span class="delimiter">[</span><span class="delimiter">(</span>World<span class="delimiter">[</span>RealWorld<span class="delimiter">]</span>, A<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#31852" title="scalaz.effect.IO[A]">IO</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <a href="#428898" title="java.lang.Object with scalaz.effect.IO[A]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.effect.IO[A]" id="428898">IO</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">private</span><span class="delimiter">[</span>effect<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(rw: scalaz.effect.World[scalaz.effect.RealWorld])scalaz.Free.Trampoline[(scalaz.effect.World[scalaz.effect.RealWorld], A)]" id="428902">apply</a><span class="delimiter">(</span><a title="scalaz.effect.World[scalaz.effect.RealWorld]" id="428903">rw</a>: <a href="World.scala.html#31969" title="scalaz.effect.World[scalaz.effect.RealWorld]">World</a><span class="delimiter">[</span>RealWorld<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#427405" title="(v1: scalaz.effect.World[scalaz.effect.RealWorld])scalaz.Free.Trampoline[(scalaz.effect.World[scalaz.effect.RealWorld], A)]">f</a><span class="delimiter">(</span><a href="#428903" title="scalaz.effect.World[scalaz.effect.RealWorld]">rw</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">// Mutable variables in the IO monad</span>
  <span class="keyword">def</span> <a title="[A](a: =&gt; A)scalaz.effect.IO[scalaz.effect.IORef[A]]" id="52516">newIORef</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="52518">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; A" id="428909">a</a>: =&gt; A<span class="delimiter">)</span>: <a href="#31852" title="scalaz.effect.IO[scalaz.effect.IORef[A]]">IO</a><span class="delimiter">[</span>IORef<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> =
    <a href="ST.scala.html#52571" title="(st: scalaz.effect.ST[scalaz.effect.RealWorld,scalaz.effect.STRef[scalaz.effect.RealWorld,A]])scalaz.effect.IO[scalaz.effect.STRef[scalaz.effect.RealWorld,A]]">STToIO</a><span class="delimiter">(</span><a href="../../../core/scalaz/NaturalTransformation.scala.html#146546" title="(fa: scalaz.Id.Id[A])scalaz.effect.ST[scalaz.effect.RealWorld,scalaz.effect.STRef[scalaz.effect.RealWorld,A]]">newVar</a><span class="delimiter">(</span><a href="#428909" title="=&gt; A">a</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#52446" title="(f: scalaz.effect.STRef[scalaz.effect.RealWorld,A] =&gt; scalaz.effect.IO[scalaz.effect.IORef[A]])scalaz.effect.IO[scalaz.effect.IORef[A]]">flatMap</a> <span class="delimiter">(</span><a title="scalaz.effect.STRef[scalaz.effect.RealWorld,A]" id="428943">v</a> =&gt; <a href="#52548" title="(a: =&gt; scalaz.effect.IORef[A])scalaz.effect.IO[scalaz.effect.IORef[A]]">IO</a><span class="delimiter">(</span><a href="IORef.scala.html#32135" title="object scalaz.effect.IORef">IORef</a>.<a href="IORef.scala.html#428947" title="(v: scalaz.effect.STRef[scalaz.effect.RealWorld,A])scalaz.effect.IORef[A]">ioRef</a><span class="delimiter">(</span><a href="#428943" title="scalaz.effect.STRef[scalaz.effect.RealWorld,A]">v</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**Throw the given error in the IO monad. */</span>
  <span class="keyword">def</span> <a title="[A](e: Throwable)scalaz.effect.IO[A]" id="52519">throwIO</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="52521">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Throwable" id="428959">e</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span>: <a href="#31852" title="scalaz.effect.IO[A]">IO</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <a href="#52548" title="(a: =&gt; Nothing)scalaz.effect.IO[Nothing]">IO</a><span class="delimiter">(</span><span title="Nothing" class="keyword">throw</span> <a href="#428959" title="Throwable">e</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="[M[_], A](f: IOFunctions.this.RunInBase[M,M] =&gt; M[A])(implicit m: scalaz.Monad[M])M[A]" id="52522">idLiftControl</a><span class="delimiter">[</span><a title="[_]&gt;: Nothing &lt;: Any" id="52525">M</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="428966">_</a><span class="delimiter">]</span>, <a title="&gt;: Nothing &lt;: Any" id="52526">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="IOFunctions.this.RunInBase[M,M] =&gt; M[A]" id="428964">f</a>: RunInBase<span class="delimiter">[</span>M, M<span class="delimiter">]</span> =&gt; M<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Monad[M]" id="428965">m</a>: <a href="../../../core/scalaz/Monad.scala.html#22172" title="scalaz.Monad[M]">Monad</a><span class="delimiter">[</span>M<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#52525" title="M[A]">M</a><span class="delimiter">[</span>A<span class="delimiter">]</span> =
    <a href="#428964" title="(v1: IOFunctions.this.RunInBase[M,M])M[A]">f</a><span class="delimiter">(</span><a href="#428971" title="java.lang.Object with IOFunctions.this.RunInBase[M,M]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with IOFunctions.this.RunInBase[M,M]" id="428971">RunInBase</a><span class="delimiter">[</span>M, M<span class="delimiter">]</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="[B]=&gt; M[B] =&gt; M[M[B]]" id="428975">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="428977">B</a><span class="delimiter">]</span> = <span class="delimiter">(</span>x: <a href="#52525" title="M[B]">M</a><span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; <a href="#428965" title="scalaz.Monad[M]">m</a>.<a href="../../../core/scalaz/Pointed.scala.html#43393" title="(a: =&gt; M[B])M[M[B]]">point</a><span class="delimiter">(</span><a href="#428982" title="M[B]">x</a><span class="delimiter">)</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="[M[_], A](f: IOFunctions.this.RunInBase[M,scalaz.effect.IO] =&gt; scalaz.effect.IO[M[A]])(implicit M: scalaz.effect.MonadControlIO[M])M[A]" id="52527">controlIO</a><span class="delimiter">[</span><a title="[_]&gt;: Nothing &lt;: Any" id="52530">M</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="427901">_</a><span class="delimiter">]</span>, <a title="&gt;: Nothing &lt;: Any" id="52531">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="IOFunctions.this.RunInBase[M,scalaz.effect.IO] =&gt; scalaz.effect.IO[M[A]]" id="427899">f</a>: RunInBase<span class="delimiter">[</span>M, IO<span class="delimiter">]</span> =&gt; IO<span class="delimiter">[</span>M<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.effect.MonadControlIO[M]" id="427900">M</a>: <a href="MonadControlIO.scala.html#32014" title="scalaz.effect.MonadControlIO[M]">MonadControlIO</a><span class="delimiter">[</span>M<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#52530" title="M[A]">M</a><span class="delimiter">[</span>A<span class="delimiter">]</span> =
    <a href="#427900" title="scalaz.effect.MonadControlIO[M]">M</a>.<a href="../../../core/scalaz/Bind.scala.html#43419" title="(ffa: M[M[A]])M[A]">join</a><span class="delimiter">(</span><a href="#427900" title="scalaz.effect.MonadControlIO[M]">M</a>.<a href="LiftControlIO.scala.html#427890" title="(f: scalaz.effect.IO.RunInBase[M,scalaz.effect.IO] =&gt; scalaz.effect.IO[M[A]])M[M[A]]">liftControlIO</a><span class="delimiter">(</span><a href="#427899" title="IOFunctions.this.RunInBase[M,scalaz.effect.IO] =&gt; scalaz.effect.IO[M[A]]">f</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Register a finalizer in the current region. When the region terminates,
   * all registered finalizers will be performed if they're not duplicated to a parent region.
   */</span>
  <span class="keyword">def</span> <a title="[S, P[+_]](finalizer: scalaz.effect.IO[Unit])(implicit evidence$1: scalaz.effect.MonadIO[P])scalaz.effect.RegionT[S,P,scalaz.effect.FinalizerHandle[[α]scalaz.effect.RegionT[S,P,α]]]" id="429001">onExit</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="52535">S</a>, <a title="[+_]&gt;: Nothing &lt;: Any" id="52536">P</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="429002">_</a><span class="delimiter">]</span> : MonadIO<span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.effect.IO[Unit]" id="429000">finalizer</a>: <a href="#31852" title="scalaz.effect.IO[Unit]">IO</a><span class="delimiter">[</span>Unit<span class="delimiter">]</span><span class="delimiter">)</span>:
  <a href="RegionT.scala.html#32308" title="scalaz.effect.RegionT[S,P,scalaz.effect.FinalizerHandle[[α]scalaz.effect.RegionT[S,P,α]]]">RegionT</a><span class="delimiter">[</span>S, P, FinalizerHandle<span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">{</span><span class="keyword">type</span> λ<span class="delimiter">[</span>α<span class="delimiter">]</span> = RegionT<span class="delimiter">[</span>S, P, α<span class="delimiter">]</span><span class="delimiter">}</span><span class="delimiter">)</span>#λ<span class="delimiter">]</span><span class="delimiter">]</span> =
    <a href="RegionT.scala.html#52636" title="(k: scalaz.Kleisli[P,scalaz.effect.IORef[List[scalaz.effect.RefCountedFinalizer]],scalaz.effect.FinalizerHandle[[α]scalaz.effect.RegionT[S,P,α]]])scalaz.effect.RegionT[S,P,scalaz.effect.FinalizerHandle[[α]scalaz.effect.RegionT[S,P,α]]]">regionT</a><span class="delimiter">(</span><a href="../../../core/scalaz/Kleisli.scala.html#52667" title="(f: scalaz.effect.IORef[List[scalaz.effect.RefCountedFinalizer]] =&gt; P[scalaz.effect.FinalizerHandle[[α]scalaz.effect.RegionT[S,P,α]]])scalaz.Kleisli[P,scalaz.effect.IORef[List[scalaz.effect.RefCountedFinalizer]],scalaz.effect.FinalizerHandle[[α]scalaz.effect.RegionT[S,P,α]]]">kleisli</a><span class="delimiter">(</span><a title="scalaz.effect.IORef[List[scalaz.effect.RefCountedFinalizer]]" id="429033">hsIORef</a> =&gt; <span class="delimiter">(</span><span class="keyword">for</span> <span class="delimiter">{</span>
      <a title="scalaz.effect.IORef[Int]" id="429060">refCntIORef</a> &lt;- <a href="#52516" title="(a: =&gt; Int)scalaz.effect.IO[scalaz.effect.IORef[Int]]">newIORef</a><a href="#52443" title="(f: scalaz.effect.IORef[Int] =&gt; (scalaz.effect.IORef[Int], scalaz.effect.RefCountedFinalizer))scalaz.effect.IO[(scalaz.effect.IORef[Int], scalaz.effect.RefCountedFinalizer)]" class="delimiter">(</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scalaz.effect.RefCountedFinalizer" id="429061">h</a> = <a href="RefCountedFinalizer.scala.html#52632" title="(u: scalaz.effect.IO[Unit], i: scalaz.effect.IORef[Int])scalaz.effect.RefCountedFinalizer">refCountedFinalizer</a><span class="delimiter">(</span><a href="#429000" title="scalaz.effect.IO[Unit]">finalizer</a>, <a href="#429060" title="scalaz.effect.IORef[Int]">refCntIORef</a><span class="delimiter">)</span>
      <a title="List[scalaz.effect.RefCountedFinalizer]" id="429075">_</a> &lt;- <a href="#429033" title="scalaz.effect.IORef[List[scalaz.effect.RefCountedFinalizer]]">hsIORef</a>.<a href="IORef.scala.html#426949" title="(f: List[scalaz.effect.RefCountedFinalizer] =&gt; List[scalaz.effect.RefCountedFinalizer])scalaz.effect.IO[List[scalaz.effect.RefCountedFinalizer]]">mod</a><a href="#52443" title="(f: List[scalaz.effect.RefCountedFinalizer] =&gt; scalaz.effect.FinalizerHandle[[α]scalaz.effect.RegionT[S,P,α]])scalaz.effect.IO[scalaz.effect.FinalizerHandle[[α]scalaz.effect.RegionT[S,P,α]]]" class="delimiter">(</a><a href="#429061" title="scalaz.effect.RefCountedFinalizer">h</a> <a href="#429065" title="(x: scalaz.effect.RefCountedFinalizer)List[scalaz.effect.RefCountedFinalizer]">::</a> <a href="#429064" title="List[scalaz.effect.RefCountedFinalizer]">_</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">yield</span> <a href="FinalizerHandle.scala.html#52624" title="[R[_]](r: scalaz.effect.RefCountedFinalizer)scalaz.effect.FinalizerHandle[R]">finalizerHandle</a><span title="(r: scalaz.effect.RefCountedFinalizer)scalaz.effect.FinalizerHandle[[α]scalaz.effect.RegionT[S,P,α]]" class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">{</span><span class="keyword">type</span> λ<span class="delimiter">[</span>α<span class="delimiter">]</span> = RegionT<span class="delimiter">[</span>S, P, α<span class="delimiter">]</span><span class="delimiter">}</span><span class="delimiter">)</span>#<a href="RegionT.scala.html#32308" title="[α]scalaz.effect.RegionT[S,P,α]">λ</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#429061" title="scalaz.effect.RefCountedFinalizer">h</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#52449" title="[M[+_]](implicit m: scalaz.effect.MonadIO[M])M[scalaz.effect.FinalizerHandle[[α]scalaz.effect.RegionT[S,P,α]]]">liftIO</a><a href="#429001" title="(implicit m: scalaz.effect.MonadIO[P])P[scalaz.effect.FinalizerHandle[[α]scalaz.effect.RegionT[S,P,α]]]" class="delimiter">[</a><a href="#52536" title="P">P</a><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Execute a region inside its parent region P. All resources which have been opened in the given
   * region and which haven't been duplicated using &quot;dup&quot;, will be closed on exit from this function
   * whether by normal termination or by raising an exception.
   * Also all resources which have been duplicated to this region from a child region are closed
   * on exit if they haven't been duplicated themselves.
   * The Forall quantifier prevents resources from being returned by this function.
   */</span>
  <span class="keyword">def</span> <a title="[P[+_], A](r: scalaz.Forall[[S]scalaz.effect.RegionT[S,P,A]])(implicit evidence$2: scalaz.effect.MonadControlIO[P])P[A]" id="429141">runRegionT</a><span class="delimiter">[</span><a title="[+_]&gt;: Nothing &lt;: Any" id="52540">P</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="429142">_</a><span class="delimiter">]</span> : MonadControlIO, <a title="&gt;: Nothing &lt;: Any" id="52541">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.Forall[[S]scalaz.effect.RegionT[S,P,A]]" id="429140">r</a>: <a href="../../../core/scalaz/Forall.scala.html#19118" title="scalaz.Forall[[S]scalaz.effect.RegionT[S,P,A]]">Forall</a><span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">{</span><span class="keyword">type</span> λ<span class="delimiter">[</span>S<span class="delimiter">]</span> = RegionT<span class="delimiter">[</span>S, P, A<span class="delimiter">]</span><span class="delimiter">}</span><span class="delimiter">)</span>#λ<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#52540" title="P[A]">P</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(hsIORef: scalaz.effect.IORef[List[scalaz.effect.RefCountedFinalizer]])scalaz.effect.IO[Unit]" id="429153">after</a><span class="delimiter">(</span><a title="scalaz.effect.IORef[List[scalaz.effect.RefCountedFinalizer]]" id="429154">hsIORef</a>: <a href="IORef.scala.html#32134" title="scalaz.effect.IORef[List[scalaz.effect.RefCountedFinalizer]]">IORef</a><span class="delimiter">[</span>List<span class="delimiter">[</span>RefCountedFinalizer<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> = <span class="keyword">for</span> <span class="delimiter">{</span>
      <a title="List[scalaz.effect.RefCountedFinalizer]" id="429161">hs</a> &lt;- <a href="#429154" title="scalaz.effect.IORef[List[scalaz.effect.RefCountedFinalizer]]">hsIORef</a>.<a href="#52446" title="(f: List[scalaz.effect.RefCountedFinalizer] =&gt; scalaz.effect.IO[Unit])scalaz.effect.IO[Unit]">read</a>
      <a title="Unit" id="429433">_</a> &lt;- <a href="#429161" title="List[scalaz.effect.RefCountedFinalizer]">hs</a>.<span title="[B](z: B)(f: (scalaz.effect.RefCountedFinalizer, B) =&gt; B)B">foldRight</span><span title="(z: scalaz.effect.IO[Unit])(f: (scalaz.effect.RefCountedFinalizer, scalaz.effect.IO[Unit]) =&gt; scalaz.effect.IO[Unit])scalaz.effect.IO[Unit]" class="delimiter">[</span><a href="#31852" title="scalaz.effect.IO[Unit]">IO</a><span class="delimiter">[</span>Unit<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#31853" title="object scalaz.effect.IO">IO</a>.<a href="#52545" title="=&gt; scalaz.effect.IO[Unit]">ioUnit</a><span class="delimiter">)</span> <a href="#52443" title="(f: Unit =&gt; Unit)scalaz.effect.IO[Unit]" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="scalaz.effect.IO[Unit]" class="delimiter">(</span><a title="scalaz.effect.RefCountedFinalizer" id="429189">r</a>, <a title="scalaz.effect.IO[Unit]" id="429190">o</a><span class="delimiter">)</span> =&gt; <span class="keyword">for</span> <span class="delimiter">{</span>
          <a title="Int" id="429418">refCnt</a> &lt;- <a href="#429189" title="scalaz.effect.RefCountedFinalizer">r</a>.<a href="RefCountedFinalizer.scala.html#427113" title="=&gt; scalaz.effect.IORef[Int]">refcount</a>.<a href="IORef.scala.html#426949" title="(f: Int =&gt; Int)scalaz.effect.IO[Int]">mod</a><a href="#52446" title="(f: Int =&gt; scalaz.effect.IO[Unit])scalaz.effect.IO[Unit]" class="delimiter">(</a><a href="#429193" title="Int">_</a> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          <a title="Unit" id="429427">_</a> &lt;- <a href="#52443" title="(f: Unit =&gt; Unit)scalaz.effect.IO[Unit]" class="keyword">if</a> <span class="delimiter">(</span><a href="#429418" title="Int">refCnt</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#429189" title="scalaz.effect.RefCountedFinalizer">r</a>.<a href="RefCountedFinalizer.scala.html#427112" title="=&gt; scalaz.effect.IO[Unit]">finalizer</a> <span class="keyword">else</span> <a href="#31853" title="object scalaz.effect.IO">IO</a>.<a href="#52545" title="=&gt; scalaz.effect.IO[Unit]">ioUnit</a>
        <span class="delimiter">}</span> <span class="keyword">yield</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span> <span class="keyword">yield</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#52516" title="(a: =&gt; List[scalaz.effect.RefCountedFinalizer])scalaz.effect.IO[scalaz.effect.IORef[List[scalaz.effect.RefCountedFinalizer]]]">newIORef</a><span class="delimiter">(</span>List<span class="delimiter">[</span>RefCountedFinalizer<span class="delimiter">]</span><span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#52485" title="(after: scalaz.effect.IORef[List[scalaz.effect.RefCountedFinalizer]] =&gt; scalaz.effect.IO[Unit])(during: scalaz.effect.IORef[List[scalaz.effect.RefCountedFinalizer]] =&gt; P[A])(implicit m: scalaz.effect.MonadControlIO[P])P[A]">bracketIO</a><span class="delimiter">(</span><a href="#429153" title="(hsIORef: scalaz.effect.IORef[List[scalaz.effect.RefCountedFinalizer]])scalaz.effect.IO[Unit]">after</a><span class="delimiter">)</span><a href="#429141" title="scalaz.effect.MonadControlIO[P]" class="delimiter">(</a><a title="scalaz.effect.IORef[List[scalaz.effect.RefCountedFinalizer]]" id="429461">s</a> =&gt; <a href="#429140" title="scalaz.Forall[[S]scalaz.effect.RegionT[S,P,A]]">r</a>.<a href="../../../core/scalaz/Forall.scala.html#194254" title="scalaz.effect.RegionT[Nothing,P,A]">apply</a>.<a href="RegionT.scala.html#426815" title="=&gt; scalaz.Kleisli[P,scalaz.effect.IORef[List[scalaz.effect.RefCountedFinalizer]],A]">value</a>.<a href="../../../core/scalaz/Kleisli.scala.html#113118" title="(a: scalaz.effect.IORef[List[scalaz.effect.RefCountedFinalizer]])P[A]">run</a><span class="delimiter">(</span><a href="#429461" title="scalaz.effect.IORef[List[scalaz.effect.RefCountedFinalizer]]">s</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** An IO action is an ST action. */</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[A](io: scalaz.effect.IO[A])scalaz.effect.ST[scalaz.effect.RealWorld,A]" id="52542">IOToST</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="52544">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.effect.IO[A]" id="427269">io</a>: <a href="#31852" title="scalaz.effect.IO[A]">IO</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="ST.scala.html#32410" title="scalaz.effect.ST[scalaz.effect.RealWorld,A]">ST</a><span class="delimiter">[</span>RealWorld, A<span class="delimiter">]</span> =
    <a href="ST.scala.html#52566" title="(f: scalaz.effect.World[scalaz.effect.RealWorld] =&gt; (scalaz.effect.World[scalaz.effect.RealWorld], A))scalaz.effect.ST[scalaz.effect.RealWorld,A]">st</a><span class="delimiter">(</span><a href="#52428" title="(rw: scalaz.effect.World[scalaz.effect.RealWorld])scalaz.Free.Trampoline[(scalaz.effect.World[scalaz.effect.RealWorld], A)]">io</a><span class="delimiter">(</span><a href="#429514" title="scalaz.effect.World[scalaz.effect.RealWorld]">_</a><span class="delimiter">)</span>.<a href="../../../core/scalaz/Free.scala.html#117097" title="(implicit ev: scalaz.Liskov.&lt;~&lt;[scalaz.Free[Function0,(scalaz.effect.World[scalaz.effect.RealWorld], A)],scalaz.Free.Trampoline[(scalaz.effect.World[scalaz.effect.RealWorld], A)]])(scalaz.effect.World[scalaz.effect.RealWorld], A)">run</a><span class="delimiter">)</span>

  <span class="comment">/** An IO action that does nothing. */</span>
  <span class="keyword">val</span> <a title="scalaz.effect.IO[Unit]" id="52545">ioUnit</a>: <a href="#31852" title="scalaz.effect.IO[Unit]">IO</a><span class="delimiter">[</span>Unit<span class="delimiter">]</span> =
    <a href="#52548" title="(a: =&gt; Unit)scalaz.effect.IO[Unit]">IO</a><span class="delimiter">(</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>