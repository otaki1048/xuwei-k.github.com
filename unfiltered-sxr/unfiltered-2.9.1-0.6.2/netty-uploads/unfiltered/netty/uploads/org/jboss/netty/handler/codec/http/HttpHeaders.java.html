<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>netty-uploads/unfiltered/netty/uploads/org/jboss/netty/handler/codec/http/HttpHeaders.java</title>
        <script type="text/javascript" src="../../../../../../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../../../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*
 * Copyright 2011 The Netty Project
 *
 * The Netty Project licenses this file to you under the Apache License,
 * version 2.0 (the &quot;License&quot;); you may not use this file except in compliance
 * with the License. You may obtain a copy of the License at:
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions and limitations
 * under the License.
 *
 * Repackaged for use with netty 3.x
 */</span>
<span class="keyword">package</span> org.jboss.netty.handler.codec.http;

<span class="keyword">import</span> java.text.ParseException;
<span class="keyword">import</span> java.util.Calendar;
<span class="keyword">import</span> java.util.Date;
<span class="keyword">import</span> java.util.LinkedList;
<span class="keyword">import</span> java.util.List;
<span class="keyword">import</span> java.util.Map;
<span class="keyword">import</span> java.util.Set;
<span class="keyword">import</span> java.util.TreeSet;


<span class="comment">/**
 * Provides the constants for the standard HTTP header names and values and
 * commonly used utility methods that accesses an {@link HttpMessage}.
 * @apiviz.landmark
 * @apiviz.stereotype static
 */</span>
public <span class="keyword">class</span> <a title="object org.jboss.netty.handler.codec.http.HttpHeaders" id="11797">HttpHeaders</a> <span class="delimiter">{</span>

    <span class="comment">/**
     * Standard HTTP header names.
     * @apiviz.stereotype static
     */</span>
    public static <span class="keyword">final</span> <span class="keyword">class</span> <a title="object org.jboss.netty.handler.codec.http.HttpHeaders.Names" id="44021">Names</a> <span class="delimiter">{</span>
        <span class="comment">/**
         * {@code &quot;Accept&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55496">ACCEPT</a> = <span class="string">&quot;Accept&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Accept-Charset&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55497">ACCEPT_CHARSET</a> = <span class="string">&quot;Accept-Charset&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Accept-Encoding&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55498">ACCEPT_ENCODING</a> = <span class="string">&quot;Accept-Encoding&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Accept-Language&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55499">ACCEPT_LANGUAGE</a> = <span class="string">&quot;Accept-Language&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Accept-Ranges&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55500">ACCEPT_RANGES</a> = <span class="string">&quot;Accept-Ranges&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Accept-Patch&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55501">ACCEPT_PATCH</a> = <span class="string">&quot;Accept-Patch&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Age&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55502">AGE</a> = <span class="string">&quot;Age&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Allow&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55503">ALLOW</a> = <span class="string">&quot;Allow&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Authorization&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55504">AUTHORIZATION</a> = <span class="string">&quot;Authorization&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Cache-Control&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55505">CACHE_CONTROL</a> = <span class="string">&quot;Cache-Control&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Connection&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55506">CONNECTION</a> = <span class="string">&quot;Connection&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Content-Base&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55507">CONTENT_BASE</a> = <span class="string">&quot;Content-Base&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Content-Encoding&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55508">CONTENT_ENCODING</a> = <span class="string">&quot;Content-Encoding&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Content-Language&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55509">CONTENT_LANGUAGE</a> = <span class="string">&quot;Content-Language&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Content-Length&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55510">CONTENT_LENGTH</a> = <span class="string">&quot;Content-Length&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Content-Location&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55511">CONTENT_LOCATION</a> = <span class="string">&quot;Content-Location&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Content-Transfer-Encoding&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55512">CONTENT_TRANSFER_ENCODING</a> = <span class="string">&quot;Content-Transfer-Encoding&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Content-MD5&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55513">CONTENT_MD5</a> = <span class="string">&quot;Content-MD5&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Content-Range&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55514">CONTENT_RANGE</a> = <span class="string">&quot;Content-Range&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Content-Type&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55515">CONTENT_TYPE</a> = <span class="string">&quot;Content-Type&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Cookie&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55516">COOKIE</a> = <span class="string">&quot;Cookie&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Date&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55517">DATE</a> = <span class="string">&quot;Date&quot;</span>;
        <span class="comment">/**
         * {@code &quot;ETag&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55518">ETAG</a> = <span class="string">&quot;ETag&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Expect&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55519">EXPECT</a> = <span class="string">&quot;Expect&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Expires&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55520">EXPIRES</a> = <span class="string">&quot;Expires&quot;</span>;
        <span class="comment">/**
         * {@code &quot;From&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55521">FROM</a> = <span class="string">&quot;From&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Host&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55522">HOST</a> = <span class="string">&quot;Host&quot;</span>;
        <span class="comment">/**
         * {@code &quot;If-Match&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55523">IF_MATCH</a> = <span class="string">&quot;If-Match&quot;</span>;
        <span class="comment">/**
         * {@code &quot;If-Modified-Since&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55524">IF_MODIFIED_SINCE</a> = <span class="string">&quot;If-Modified-Since&quot;</span>;
        <span class="comment">/**
         * {@code &quot;If-None-Match&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55525">IF_NONE_MATCH</a> = <span class="string">&quot;If-None-Match&quot;</span>;
        <span class="comment">/**
         * {@code &quot;If-Range&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55526">IF_RANGE</a> = <span class="string">&quot;If-Range&quot;</span>;
        <span class="comment">/**
         * {@code &quot;If-Unmodified-Since&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55527">IF_UNMODIFIED_SINCE</a> = <span class="string">&quot;If-Unmodified-Since&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Last-Modified&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55528">LAST_MODIFIED</a> = <span class="string">&quot;Last-Modified&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Location&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55529">LOCATION</a> = <span class="string">&quot;Location&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Max-Forwards&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55530">MAX_FORWARDS</a> = <span class="string">&quot;Max-Forwards&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Origin&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55531">ORIGIN</a> = <span class="string">&quot;Origin&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Pragma&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55532">PRAGMA</a> = <span class="string">&quot;Pragma&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Proxy-Authenticate&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55533">PROXY_AUTHENTICATE</a> = <span class="string">&quot;Proxy-Authenticate&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Proxy-Authorization&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55534">PROXY_AUTHORIZATION</a> = <span class="string">&quot;Proxy-Authorization&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Range&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55535">RANGE</a> = <span class="string">&quot;Range&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Referer&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55536">REFERER</a> = <span class="string">&quot;Referer&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Retry-After&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55537">RETRY_AFTER</a> = <span class="string">&quot;Retry-After&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Sec-WebSocket-Key1&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55538">SEC_WEBSOCKET_KEY1</a> = <span class="string">&quot;Sec-WebSocket-Key1&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Sec-WebSocket-Key2&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55539">SEC_WEBSOCKET_KEY2</a> = <span class="string">&quot;Sec-WebSocket-Key2&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Sec-WebSocket-Location&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55540">SEC_WEBSOCKET_LOCATION</a> = <span class="string">&quot;Sec-WebSocket-Location&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Sec-WebSocket-Origin&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55541">SEC_WEBSOCKET_ORIGIN</a> = <span class="string">&quot;Sec-WebSocket-Origin&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Sec-WebSocket-Protocol&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55542">SEC_WEBSOCKET_PROTOCOL</a> = <span class="string">&quot;Sec-WebSocket-Protocol&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Sec-WebSocket-Version&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55543">SEC_WEBSOCKET_VERSION</a> = <span class="string">&quot;Sec-WebSocket-Version&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Sec-WebSocket-Key&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55544">SEC_WEBSOCKET_KEY</a> = <span class="string">&quot;Sec-WebSocket-Key&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Sec-WebSocket-Accept&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55545">SEC_WEBSOCKET_ACCEPT</a> = <span class="string">&quot;Sec-WebSocket-Accept&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Server&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55546">SERVER</a> = <span class="string">&quot;Server&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Set-Cookie&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55547">SET_COOKIE</a> = <span class="string">&quot;Set-Cookie&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Set-Cookie2&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55548">SET_COOKIE2</a> = <span class="string">&quot;Set-Cookie2&quot;</span>;
        <span class="comment">/**
         * {@code &quot;TE&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55549">TE</a> = <span class="string">&quot;TE&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Trailer&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55550">TRAILER</a> = <span class="string">&quot;Trailer&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Transfer-Encoding&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55551">TRANSFER_ENCODING</a> = <span class="string">&quot;Transfer-Encoding&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Upgrade&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55552">UPGRADE</a> = <span class="string">&quot;Upgrade&quot;</span>;
        <span class="comment">/**
         * {@code &quot;User-Agent&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55553">USER_AGENT</a> = <span class="string">&quot;User-Agent&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Vary&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55554">VARY</a> = <span class="string">&quot;Vary&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Via&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55555">VIA</a> = <span class="string">&quot;Via&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Warning&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55556">WARNING</a> = <span class="string">&quot;Warning&quot;</span>;
        <span class="comment">/**
         * {@code &quot;WebSocket-Location&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55557">WEBSOCKET_LOCATION</a> = <span class="string">&quot;WebSocket-Location&quot;</span>;
        <span class="comment">/**
         * {@code &quot;WebSocket-Origin&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55558">WEBSOCKET_ORIGIN</a> = <span class="string">&quot;WebSocket-Origin&quot;</span>;
        <span class="comment">/**
         * {@code &quot;WebSocket-Protocol&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55559">WEBSOCKET_PROTOCOL</a> = <span class="string">&quot;WebSocket-Protocol&quot;</span>;
        <span class="comment">/**
         * {@code &quot;WWW-Authenticate&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="55560">WWW_AUTHENTICATE</a> = <span class="string">&quot;WWW-Authenticate&quot;</span>;

        <span class="keyword">private</span> Names<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Standard HTTP header values.
     * @apiviz.stereotype static
     */</span>
    public static <span class="keyword">final</span> <span class="keyword">class</span> <a title="object org.jboss.netty.handler.codec.http.HttpHeaders.Values" id="44024">Values</a> <span class="delimiter">{</span>
        <span class="comment">/**
         * {@code &quot;application/x-www-form-urlencoded&quot;}
         */</span>
         public static <span class="keyword">final</span> String <a title="java.lang.String" id="56265">APPLICATION_X_WWW_FORM_URLENCODED</a> =
             <span class="string">&quot;application/x-www-form-urlencoded&quot;</span>;
        <span class="comment">/**
         * {@code &quot;base64&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="56266">BASE64</a> = <span class="string">&quot;base64&quot;</span>;
        <span class="comment">/**
         * {@code &quot;binary&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="56267">BINARY</a> = <span class="string">&quot;binary&quot;</span>;
        <span class="comment">/**
         * {@code &quot;boundary&quot;}
         */</span>
        static <span class="keyword">final</span> String <a title="java.lang.String" id="56268">BOUNDARY</a> = <span class="string">&quot;boundary&quot;</span>;
        <span class="comment">/**
         * {@code &quot;bytes&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="56269">BYTES</a> = <span class="string">&quot;bytes&quot;</span>;
        <span class="comment">/**
         * {@code &quot;charset&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="56270">CHARSET</a> = <span class="string">&quot;charset&quot;</span>;
        <span class="comment">/**
         * {@code &quot;chunked&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="56271">CHUNKED</a> = <span class="string">&quot;chunked&quot;</span>;
        <span class="comment">/**
         * {@code &quot;close&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="56272">CLOSE</a> = <span class="string">&quot;close&quot;</span>;
        <span class="comment">/**
         * {@code &quot;compress&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="56273">COMPRESS</a> = <span class="string">&quot;compress&quot;</span>;
        <span class="comment">/**
         * {@code &quot;100-continue&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="56274">CONTINUE</a> =  <span class="string">&quot;100-continue&quot;</span>;
        <span class="comment">/**
         * {@code &quot;deflate&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="56275">DEFLATE</a> = <span class="string">&quot;deflate&quot;</span>;
        <span class="comment">/**
         * {@code &quot;gzip&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="56276">GZIP</a> = <span class="string">&quot;gzip&quot;</span>;
        <span class="comment">/**
         * {@code &quot;identity&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="56277">IDENTITY</a> = <span class="string">&quot;identity&quot;</span>;
        <span class="comment">/**
         * {@code &quot;keep-alive&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="56278">KEEP_ALIVE</a> = <span class="string">&quot;keep-alive&quot;</span>;
        <span class="comment">/**
         * {@code &quot;max-age&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="56279">MAX_AGE</a> = <span class="string">&quot;max-age&quot;</span>;
        <span class="comment">/**
         * {@code &quot;max-stale&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="56280">MAX_STALE</a> = <span class="string">&quot;max-stale&quot;</span>;
        <span class="comment">/**
         * {@code &quot;min-fresh&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="56281">MIN_FRESH</a> = <span class="string">&quot;min-fresh&quot;</span>;
        <span class="comment">/**
         * {@code &quot;multipart/form-data&quot;}
         */</span>
        static <span class="keyword">final</span> String <a title="java.lang.String" id="56282">MULTIPART_FORM_DATA</a> = <span class="string">&quot;multipart/form-data&quot;</span>;
        <span class="comment">/**
         * {@code &quot;must-revalidate&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="56283">MUST_REVALIDATE</a> = <span class="string">&quot;must-revalidate&quot;</span>;
        <span class="comment">/**
         * {@code &quot;no-cache&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="56284">NO_CACHE</a> = <span class="string">&quot;no-cache&quot;</span>;
        <span class="comment">/**
         * {@code &quot;no-store&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="56285">NO_STORE</a> = <span class="string">&quot;no-store&quot;</span>;
        <span class="comment">/**
         * {@code &quot;no-transform&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="56286">NO_TRANSFORM</a> = <span class="string">&quot;no-transform&quot;</span>;
        <span class="comment">/**
         * {@code &quot;none&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="56287">NONE</a> = <span class="string">&quot;none&quot;</span>;
        <span class="comment">/**
         * {@code &quot;only-if-cached&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="56288">ONLY_IF_CACHED</a> = <span class="string">&quot;only-if-cached&quot;</span>;
        <span class="comment">/**
         * {@code &quot;private&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="56289">PRIVATE</a> = <span class="string">&quot;private&quot;</span>;
        <span class="comment">/**
         * {@code &quot;proxy-revalidate&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="56290">PROXY_REVALIDATE</a> = <span class="string">&quot;proxy-revalidate&quot;</span>;
        <span class="comment">/**
         * {@code &quot;public&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="56291">PUBLIC</a> = <span class="string">&quot;public&quot;</span>;
        <span class="comment">/**
         * {@code &quot;quoted-printable&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="56292">QUOTED_PRINTABLE</a> = <span class="string">&quot;quoted-printable&quot;</span>;
        <span class="comment">/**
         * {@code &quot;s-maxage&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="56293">S_MAXAGE</a> = <span class="string">&quot;s-maxage&quot;</span>;
        <span class="comment">/**
         * {@code &quot;trailers&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="56294">TRAILERS</a> = <span class="string">&quot;trailers&quot;</span>;
        <span class="comment">/**
         * {@code &quot;Upgrade&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="56295">UPGRADE</a> = <span class="string">&quot;Upgrade&quot;</span>;
        <span class="comment">/**
         * {@code &quot;WebSocket&quot;}
         */</span>
        public static <span class="keyword">final</span> String <a title="java.lang.String" id="56296">WEBSOCKET</a> = <span class="string">&quot;WebSocket&quot;</span>;

        <span class="keyword">private</span> Values<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>


    <span class="comment">/**
     * Returns {@code true} if and only if the connection can remain open and
     * thus 'kept alive'.  This methods respects the value of the
     * {@code &quot;Connection&quot;} header first and then the return value of
     * {@link HttpVersion#isKeepAliveDefault()}.
     */</span>
    public static boolean <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage)Boolean" id="44025">isKeepAlive</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="44065">message</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        String connection = message.getHeader<span class="delimiter">(</span>Names.CONNECTION<span class="delimiter">)</span>;
        <span class="keyword">if</span> <span class="delimiter">(</span>Values.CLOSE.equalsIgnoreCase<span class="delimiter">(</span>connection<span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> <span class="keyword">false</span>;
        <span class="delimiter">}</span>

        <span class="keyword">if</span> <span class="delimiter">(</span>message.getProtocolVersion<span class="delimiter">(</span><span class="delimiter">)</span>.isKeepAliveDefault<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> !Values.CLOSE.equalsIgnoreCase<span class="delimiter">(</span>connection<span class="delimiter">)</span>;
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> Values.KEEP_ALIVE.equalsIgnoreCase<span class="delimiter">(</span>connection<span class="delimiter">)</span>;
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Sets the value of the {@code &quot;Connection&quot;} header depending on the
     * protocol version of the specified message.  This method sets or removes
     * the {@code &quot;Connection&quot;} header depending on what the default keep alive
     * mode of the message's protocol version is, as specified by
     * {@link HttpVersion#isKeepAliveDefault()}.
     * &lt;ul&gt;
     * &lt;li&gt;If the connection is kept alive by default:
     *     &lt;ul&gt;
     *     &lt;li&gt;set to {@code &quot;close&quot;} if {@code keepAlive} is {@code false}.&lt;/li&gt;
     *     &lt;li&gt;remove otherwise.&lt;/li&gt;
     *     &lt;/ul&gt;&lt;/li&gt;
     * &lt;li&gt;If the connection is closed by default:
     *     &lt;ul&gt;
     *     &lt;li&gt;set to {@code &quot;keep-alive&quot;} if {@code keepAlive} is {@code true}.&lt;/li&gt;
     *     &lt;li&gt;remove otherwise.&lt;/li&gt;
     *     &lt;/ul&gt;&lt;/li&gt;
     * &lt;/ul&gt;
     */</span>
    public static void <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage, keepAlive: Boolean)Unit" id="44026">setKeepAlive</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="110284">message</a>, boolean <a title="Boolean" id="110285">keepAlive</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">if</span> <span class="delimiter">(</span>message.getProtocolVersion<span class="delimiter">(</span><span class="delimiter">)</span>.isKeepAliveDefault<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">if</span> <span class="delimiter">(</span>keepAlive<span class="delimiter">)</span> <span class="delimiter">{</span>
                message.removeHeader<span class="delimiter">(</span>Names.CONNECTION<span class="delimiter">)</span>;
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                message.setHeader<span class="delimiter">(</span>Names.CONNECTION, Values.CLOSE<span class="delimiter">)</span>;
            <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">if</span> <span class="delimiter">(</span>keepAlive<span class="delimiter">)</span> <span class="delimiter">{</span>
                message.setHeader<span class="delimiter">(</span>Names.CONNECTION, Values.KEEP_ALIVE<span class="delimiter">)</span>;
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                message.removeHeader<span class="delimiter">(</span>Names.CONNECTION<span class="delimiter">)</span>;
            <span class="delimiter">}</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Returns the header value with the specified header name.  If there are
     * more than one header value for the specified header name, the first
     * value is returned.
     *
     * @return the header value or {@code null} if there is no such header
     */</span>
    public static String <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage, name: java.lang.String)java.lang.String" id="44027">getHeader</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="110287">message</a>, String <a title="java.lang.String" id="110288">name</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> message.getHeader<span class="delimiter">(</span>name<span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Returns the header value with the specified header name.  If there are
     * more than one header value for the specified header name, the first
     * value is returned.
     *
     * @return the header value or the {@code defaultValue} if there is no such
     *         header
     */</span>
    public static String <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage, name: java.lang.String, defaultValue: java.lang.String)java.lang.String" id="44028">getHeader</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="110290">message</a>, String <a title="java.lang.String" id="110291">name</a>, String <a title="java.lang.String" id="110292">defaultValue</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        String value = message.getHeader<span class="delimiter">(</span>name<span class="delimiter">)</span>;
        <span class="keyword">if</span> <span class="delimiter">(</span>value == <span class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> defaultValue;
        <span class="delimiter">}</span>
        <span class="keyword">return</span> value;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Sets a new header with the specified name and value.  If there is an
     * existing header with the same name, the existing header is removed.
     * If the specified value is not a {@link String}, it is converted into a
     * {@link String} by {@link Object#toString()}, except for {@link Date}
     * and {@link Calendar} which are formatted to the date format defined in
     * &lt;a href=&quot;http://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.3.1&quot;&gt;RFC2616&lt;/a&gt;.
     */</span>
    public static void <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage, name: java.lang.String, value: Any)Unit" id="44029">setHeader</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="110294">message</a>, String <a title="java.lang.String" id="110295">name</a>, Object <a title="Any" id="110296">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        message.setHeader<span class="delimiter">(</span>name, value<span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Sets a new header with the specified name and values.  If there is an
     * existing header with the same name, the existing header is removed.
     * This method can be represented approximately as the following code:
     * &lt;pre&gt;
     * removeHeader(message, name);
     * for (Object v: values) {
     *     if (v == null) {
     *         break;
     *     }
     *     addHeader(message, name, v);
     * }
     * &lt;/pre&gt;
     */</span>
    public static void <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage, name: java.lang.String, values: java.lang.Iterable[_])Unit" id="44030">setHeader</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="110298">message</a>, String <a title="java.lang.String" id="110299">name</a>, Iterable&lt;?&gt; <a title="java.lang.Iterable[_]" id="110300">values</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        message.setHeader<span class="delimiter">(</span>name, values<span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Adds a new header with the specified name and value.
     * If the specified value is not a {@link String}, it is converted into a
     * {@link String} by {@link Object#toString()}, except for {@link Date}
     * and {@link Calendar} which are formatted to the date format defined in
     * &lt;a href=&quot;http://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.3.1&quot;&gt;RFC2616&lt;/a&gt;.
     */</span>
    public static void <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage, name: java.lang.String, value: Any)Unit" id="44031">addHeader</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="110304">message</a>, String <a title="java.lang.String" id="110305">name</a>, Object <a title="Any" id="110306">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        message.addHeader<span class="delimiter">(</span>name, value<span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Removes the header with the specified name.
     */</span>
    public static void <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage, name: java.lang.String)Unit" id="44032">removeHeader</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="110308">message</a>, String <a title="java.lang.String" id="110309">name</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        message.removeHeader<span class="delimiter">(</span>name<span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Removes all headers from the specified message.
     */</span>
    public static void <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage)Unit" id="44033">clearHeaders</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="110311">message</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        message.clearHeaders<span class="delimiter">(</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Returns the integer header value with the specified header name.  If
     * there are more than one header value for the specified header name, the
     * first value is returned.
     *
     * @return the header value
     * @throws NumberFormatException
     *         if there is no such header or the header value is not a number
     */</span>
    public static int <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage, name: java.lang.String)Int" id="44034">getIntHeader</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="110313">message</a>, String <a title="java.lang.String" id="110314">name</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        String value = getHeader<span class="delimiter">(</span>message, name<span class="delimiter">)</span>;
        <span class="keyword">if</span> <span class="delimiter">(</span>value == <span class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">throw</span> <span class="keyword">new</span> NumberFormatException<span class="delimiter">(</span><span class="string">&quot;header not found: &quot;</span> + name<span class="delimiter">)</span>;
        <span class="delimiter">}</span>
        <span class="keyword">return</span> Integer.parseInt<span class="delimiter">(</span>value<span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Returns the integer header value with the specified header name.  If
     * there are more than one header value for the specified header name, the
     * first value is returned.
     *
     * @return the header value or the {@code defaultValue} if there is no such
     *         header or the header value is not a number
     */</span>
    public static int <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage, name: java.lang.String, defaultValue: Int)Int" id="44035">getIntHeader</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="110316">message</a>, String <a title="java.lang.String" id="110317">name</a>, int <a title="Int" id="110318">defaultValue</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        String value = getHeader<span class="delimiter">(</span>message, name<span class="delimiter">)</span>;
        <span class="keyword">if</span> <span class="delimiter">(</span>value == <span class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> defaultValue;
        <span class="delimiter">}</span>

        <span class="keyword">try</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> Integer.parseInt<span class="delimiter">(</span>value<span class="delimiter">)</span>;
        <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">(</span>NumberFormatException e<span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> defaultValue;
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Sets a new integer header with the specified name and value.  If there
     * is an existing header with the same name, the existing header is removed.
     */</span>
    public static void <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage, name: java.lang.String, value: Int)Unit" id="44036">setIntHeader</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="110320">message</a>, String <a title="java.lang.String" id="110321">name</a>, int <a title="Int" id="110322">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        message.setHeader<span class="delimiter">(</span>name, value<span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Sets a new integer header with the specified name and values.  If there
     * is an existing header with the same name, the existing header is removed.
     */</span>
    public static void <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage, name: java.lang.String, values: java.lang.Iterable[java.lang.Integer])Unit" id="44037">setIntHeader</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="110324">message</a>, String <a title="java.lang.String" id="110325">name</a>, Iterable&lt;Integer&gt; <a title="java.lang.Iterable[java.lang.Integer]" id="110326">values</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        message.setHeader<span class="delimiter">(</span>name, values<span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Adds a new integer header with the specified name and value.
     */</span>
    public static void <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage, name: java.lang.String, value: Int)Unit" id="44038">addIntHeader</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="110328">message</a>, String <a title="java.lang.String" id="110329">name</a>, int <a title="Int" id="110330">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        message.addHeader<span class="delimiter">(</span>name, value<span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Returns the date header value with the specified header name.  If
     * there are more than one header value for the specified header name, the
     * first value is returned.
     *
     * @return the header value
     * @throws ParseException
     *         if there is no such header or the header value is not a formatted date
     */</span>
    public static Date <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage, name: java.lang.String)java.util.Date" id="44039">getDateHeader</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="110332">message</a>, String <a title="java.lang.String" id="110333">name</a><span class="delimiter">)</span> throws ParseException <span class="delimiter">{</span>
        String value = getHeader<span class="delimiter">(</span>message, name<span class="delimiter">)</span>;
        <span class="keyword">if</span> <span class="delimiter">(</span>value == <span class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">throw</span> <span class="keyword">new</span> ParseException<span class="delimiter">(</span><span class="string">&quot;header not found: &quot;</span> + name, <span class="int">0</span><span class="delimiter">)</span>;
        <span class="delimiter">}</span>
        <span class="keyword">return</span> <span class="keyword">new</span> HttpHeaderDateFormat<span class="delimiter">(</span><span class="delimiter">)</span>.parse<span class="delimiter">(</span>value<span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Returns the date header value with the specified header name.  If
     * there are more than one header value for the specified header name, the
     * first value is returned.
     *
     * @return the header value or the {@code defaultValue} if there is no such
     *         header or the header value is not a formatted date
     */</span>
    public static Date <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage, name: java.lang.String, defaultValue: java.util.Date)java.util.Date" id="44040">getDateHeader</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="110335">message</a>, String <a title="java.lang.String" id="110336">name</a>, Date <a title="java.util.Date" id="110337">defaultValue</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">final</span> String value = getHeader<span class="delimiter">(</span>message, name<span class="delimiter">)</span>;
        <span class="keyword">if</span> <span class="delimiter">(</span>value == <span class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> defaultValue;
        <span class="delimiter">}</span>

        <span class="keyword">try</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> <span class="keyword">new</span> HttpHeaderDateFormat<span class="delimiter">(</span><span class="delimiter">)</span>.parse<span class="delimiter">(</span>value<span class="delimiter">)</span>;
        <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">(</span>ParseException e<span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> defaultValue;
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Sets a new date header with the specified name and value.  If there
     * is an existing header with the same name, the existing header is removed.
     * The specified value is formatted as defined in
     * &lt;a href=&quot;http://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.3.1&quot;&gt;RFC2616&lt;/a&gt;
     */</span>
    public static void <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage, name: java.lang.String, value: java.util.Date)Unit" id="44041">setDateHeader</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="110339">message</a>, String <a title="java.lang.String" id="110340">name</a>, Date <a title="java.util.Date" id="110341">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">if</span> <span class="delimiter">(</span>value != <span class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            message.setHeader<span class="delimiter">(</span>name, <span class="keyword">new</span> HttpHeaderDateFormat<span class="delimiter">(</span><span class="delimiter">)</span>.format<span class="delimiter">(</span>value<span class="delimiter">)</span><span class="delimiter">)</span>;
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            message.setHeader<span class="delimiter">(</span>name, <span class="keyword">null</span><span class="delimiter">)</span>;
        <span class="delimiter">}</span>

    <span class="delimiter">}</span>

    <span class="comment">/**
     * Sets a new date header with the specified name and values.  If there
     * is an existing header with the same name, the existing header is removed.
     * The specified values are formatted as defined in
     * &lt;a href=&quot;http://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.3.1&quot;&gt;RFC2616&lt;/a&gt;
     */</span>
    public static void <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage, name: java.lang.String, values: java.lang.Iterable[java.util.Date])Unit" id="44042">setDateHeader</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="110343">message</a>, String <a title="java.lang.String" id="110344">name</a>, Iterable&lt;Date&gt; <a title="java.lang.Iterable[java.util.Date]" id="110345">values</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        message.setHeader<span class="delimiter">(</span>name, values<span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Adds a new date header with the specified name and value.  The specified
     * value is formatted as defined in &lt;a href=&quot;http://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.3.1&quot;&gt;RFC2616&lt;/a&gt;
     */</span>
    public static void <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage, name: java.lang.String, value: java.util.Date)Unit" id="44043">addDateHeader</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="110347">message</a>, String <a title="java.lang.String" id="110348">name</a>, Date <a title="java.util.Date" id="110349">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        message.addHeader<span class="delimiter">(</span>name, value<span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Returns the length of the content.  Please note that this value is
     * not retrieved from {@link HttpMessage#getContent()} but from the
     * {@code &quot;Content-Length&quot;} header, and thus they are independent from each
     * other.
     *
     * @return the content length
     *
     * @throws NumberFormatException
     *         if the message does not have the {@code &quot;Content-Length&quot;} header
     *         or its value is not a number
     */</span>
    public static long <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage)Long" id="44044">getContentLength</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="110351">message</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        String value = getHeader<span class="delimiter">(</span>message, Names.CONTENT_LENGTH<span class="delimiter">)</span>;
        <span class="keyword">if</span> <span class="delimiter">(</span>value != <span class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> Long.parseLong<span class="delimiter">(</span>value<span class="delimiter">)</span>;
        <span class="delimiter">}</span>

        <span class="comment">// We know the content length if it's a Web Socket message even if</span>
        <span class="comment">// Content-Length header is missing.</span>
        long webSocketContentLength = getWebSocketContentLength<span class="delimiter">(</span>message<span class="delimiter">)</span>;
        <span class="keyword">if</span> <span class="delimiter">(</span>webSocketContentLength &gt;= <span class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> webSocketContentLength;
        <span class="delimiter">}</span>

        <span class="comment">// Otherwise we don't.</span>
        <span class="keyword">throw</span> <span class="keyword">new</span> NumberFormatException<span class="delimiter">(</span><span class="string">&quot;header not found: &quot;</span> + Names.CONTENT_LENGTH<span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Returns the length of the content.  Please note that this value is
     * not retrieved from {@link HttpMessage#getContent()} but from the
     * {@code &quot;Content-Length&quot;} header, and thus they are independent from each
     * other.
     *
     * @return the content length or {@code defaultValue} if this message does
     *         not have the {@code &quot;Content-Length&quot;} header or its value is not
     *         a number
     */</span>
    public static long <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage, defaultValue: Long)Long" id="44045">getContentLength</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="110353">message</a>, long <a title="Long" id="110354">defaultValue</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        String contentLength = message.getHeader<span class="delimiter">(</span>Names.CONTENT_LENGTH<span class="delimiter">)</span>;
        <span class="keyword">if</span> <span class="delimiter">(</span>contentLength != <span class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">try</span> <span class="delimiter">{</span>
                <span class="keyword">return</span> Long.parseLong<span class="delimiter">(</span>contentLength<span class="delimiter">)</span>;
            <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">(</span>NumberFormatException e<span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">return</span> defaultValue;
            <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="comment">// We know the content length if it's a Web Socket message even if</span>
        <span class="comment">// Content-Length header is missing.</span>
        long webSocketContentLength = getWebSocketContentLength<span class="delimiter">(</span>message<span class="delimiter">)</span>;
        <span class="keyword">if</span> <span class="delimiter">(</span>webSocketContentLength &gt;= <span class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> webSocketContentLength;
        <span class="delimiter">}</span>

        <span class="comment">// Otherwise we don't.</span>
        <span class="keyword">return</span> defaultValue;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Returns the content length of the specified web socket message.  If the
     * specified message is not a web socket message, {@code -1} is returned.
     */</span>
    <span class="keyword">private</span> static int <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage)Int" id="44046">getWebSocketContentLength</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="110356">message</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="comment">// WebSockset messages have constant content-lengths.</span>
        <span class="keyword">if</span> <span class="delimiter">(</span>message instanceof HttpRequest<span class="delimiter">)</span> <span class="delimiter">{</span>
            HttpRequest req = <span class="delimiter">(</span>HttpRequest<span class="delimiter">)</span> message;
            <span class="keyword">if</span> <span class="delimiter">(</span>HttpMethod.GET.equals<span class="delimiter">(</span>req.getMethod<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> &amp;&amp;
                req.containsHeader<span class="delimiter">(</span>Names.SEC_WEBSOCKET_KEY1<span class="delimiter">)</span> &amp;&amp;
                req.containsHeader<span class="delimiter">(</span>Names.SEC_WEBSOCKET_KEY2<span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">return</span> <span class="int">8</span>;
            <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="keyword">if</span> <span class="delimiter">(</span>message instanceof HttpResponse<span class="delimiter">)</span> <span class="delimiter">{</span>
            HttpResponse res = <span class="delimiter">(</span>HttpResponse<span class="delimiter">)</span> message;
            <span class="keyword">if</span> <span class="delimiter">(</span>res.getStatus<span class="delimiter">(</span><span class="delimiter">)</span>.getCode<span class="delimiter">(</span><span class="delimiter">)</span> == <span class="int">101</span> &amp;&amp;
                res.containsHeader<span class="delimiter">(</span>Names.SEC_WEBSOCKET_ORIGIN<span class="delimiter">)</span> &amp;&amp;
                res.containsHeader<span class="delimiter">(</span>Names.SEC_WEBSOCKET_LOCATION<span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">return</span> <span class="int">16</span>;
            <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="comment">// Not a web socket message</span>
        <span class="keyword">return</span> -<span class="int">1</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Sets the {@code &quot;Content-Length&quot;} header.
     */</span>
    public static void <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage, length: Long)Unit" id="44047">setContentLength</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="54716">message</a>, long <a title="Long" id="54717">length</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        message.setHeader<span class="delimiter">(</span>Names.CONTENT_LENGTH, length<span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Returns the value of the {@code &quot;Host&quot;} header.
     */</span>
    public static String <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage)java.lang.String" id="44048">getHost</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="110358">message</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> message.getHeader<span class="delimiter">(</span>Names.HOST<span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Returns the value of the {@code &quot;Host&quot;} header.  If there is no such
     * header, the {@code defaultValue} is returned.
     */</span>
    public static String <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage, defaultValue: java.lang.String)java.lang.String" id="44049">getHost</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="110360">message</a>, String <a title="java.lang.String" id="110361">defaultValue</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> getHeader<span class="delimiter">(</span>message, Names.HOST, defaultValue<span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Sets the {@code &quot;Host&quot;} header.
     */</span>
    public static void <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage, value: java.lang.String)Unit" id="44050">setHost</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="110363">message</a>, String <a title="java.lang.String" id="110364">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        message.setHeader<span class="delimiter">(</span>Names.HOST, value<span class="delimiter">)</span>;
    <span class="delimiter">}</span>


    <span class="comment">/**
     * Returns the value of the {@code &quot;Date&quot;} header.
     *
     * @throws ParseException
     *         if there is no such header or the header value is not a formatted date
     */</span>
    public static Date <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage)java.util.Date" id="44051">getDate</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="110366">message</a><span class="delimiter">)</span> throws ParseException <span class="delimiter">{</span>
        <span class="keyword">return</span> getDateHeader<span class="delimiter">(</span>message, Names.DATE<span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Returns the value of the {@code &quot;Date&quot;} header. If there is no such
     * header or the header is not a formatted date, the {@code defaultValue}
     * is returned.
     */</span>
    public static Date <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage, defaultValue: java.util.Date)java.util.Date" id="44052">getDate</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="110368">message</a>, Date <a title="java.util.Date" id="110369">defaultValue</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> getDateHeader<span class="delimiter">(</span>message, Names.DATE, defaultValue<span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Sets the {@code &quot;Date&quot;} header.
     */</span>
    public static void <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage, value: java.util.Date)Unit" id="44053">setDate</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="110371">message</a>, Date <a title="java.util.Date" id="110372">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">if</span> <span class="delimiter">(</span>value != <span class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            message.setHeader<span class="delimiter">(</span>Names.DATE, <span class="keyword">new</span> HttpHeaderDateFormat<span class="delimiter">(</span><span class="delimiter">)</span>.format<span class="delimiter">(</span>value<span class="delimiter">)</span><span class="delimiter">)</span>;
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            message.setHeader<span class="delimiter">(</span>Names.DATE, <span class="keyword">null</span><span class="delimiter">)</span>;
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Returns {@code true} if and only if the specified message contains the
     * {@code &quot;Expect: 100-continue&quot;} header.
     */</span>
    public static boolean <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage)Boolean" id="44054">is100ContinueExpected</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="110374">message</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="comment">// Expect: 100-continue is for requests only.</span>
        <span class="keyword">if</span> <span class="delimiter">(</span>!<span class="delimiter">(</span>message instanceof HttpRequest<span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> <span class="keyword">false</span>;
        <span class="delimiter">}</span>

        <span class="comment">// It works only on HTTP/1.1 or later.</span>
        <span class="keyword">if</span> <span class="delimiter">(</span>message.getProtocolVersion<span class="delimiter">(</span><span class="delimiter">)</span>.compareTo<span class="delimiter">(</span>HttpVersion.HTTP_1_1<span class="delimiter">)</span> &lt; <span class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> <span class="keyword">false</span>;
        <span class="delimiter">}</span>

        <span class="comment">// In most cases, there will be one or zero 'Expect' header.</span>
        String value = message.getHeader<span class="delimiter">(</span>Names.EXPECT<span class="delimiter">)</span>;
        <span class="keyword">if</span> <span class="delimiter">(</span>value == <span class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> <span class="keyword">false</span>;
        <span class="delimiter">}</span>
        <span class="keyword">if</span> <span class="delimiter">(</span>Values.CONTINUE.equalsIgnoreCase<span class="delimiter">(</span>value<span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> <span class="keyword">true</span>;
        <span class="delimiter">}</span>

        <span class="comment">// Multiple 'Expect' headers.  Search through them.</span>
        <span class="keyword">for</span> <span class="delimiter">(</span>String v: message.getHeaders<span class="delimiter">(</span>Names.EXPECT<span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">if</span> <span class="delimiter">(</span>Values.CONTINUE.equalsIgnoreCase<span class="delimiter">(</span>v<span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">return</span> <span class="keyword">true</span>;
            <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">return</span> <span class="keyword">false</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Sets the {@code &quot;Expect: 100-continue&quot;} header to the specified message.
     * If there is any existing {@code &quot;Expect&quot;} header, they are replaced with
     * the new one.
     */</span>
    public static void <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage)Unit" id="44055">set100ContinueExpected</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="110376">message</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        set100ContinueExpected<span class="delimiter">(</span>message, <span class="keyword">true</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Sets or removes the {@code &quot;Expect: 100-continue&quot;} header to / from the
     * specified message.  If the specified {@code value} is {@code true},
     * the {@code &quot;Expect: 100-continue&quot;} header is set and all other previous
     * {@code &quot;Expect&quot;} headers are removed.  Otherwise, all {@code &quot;Expect&quot;}
     * headers are removed completely.
     */</span>
    public static void <a title="(message: org.jboss.netty.handler.codec.http.HttpMessage, set: Boolean)Unit" id="44056">set100ContinueExpected</a><span class="delimiter">(</span><span title="org.jboss.netty.handler.codec.http.HttpMessage">HttpMessage</span> <a title="org.jboss.netty.handler.codec.http.HttpMessage" id="110378">message</a>, boolean <a title="Boolean" id="110379">set</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">if</span> <span class="delimiter">(</span>set<span class="delimiter">)</span> <span class="delimiter">{</span>
            message.setHeader<span class="delimiter">(</span>Names.EXPECT, Values.CONTINUE<span class="delimiter">)</span>;
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            message.removeHeader<span class="delimiter">(</span>Names.EXPECT<span class="delimiter">)</span>;
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> static <span class="keyword">final</span> int <a title="Int" id="44057">BUCKET_SIZE</a> = <span class="int">17</span>;

    <span class="keyword">private</span> static int <a title="(name: java.lang.String)Int" id="44058">hash</a><span class="delimiter">(</span>String <a title="java.lang.String" id="110381">name</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        int h = <span class="int">0</span>;
        <span class="keyword">for</span> <span class="delimiter">(</span>int i = name.length<span class="delimiter">(</span><span class="delimiter">)</span> - <span class="int">1</span>; i &gt;= <span class="int">0</span>; i --<span class="delimiter">)</span> <span class="delimiter">{</span>
            char c = name.charAt<span class="delimiter">(</span>i<span class="delimiter">)</span>;
            <span class="keyword">if</span> <span class="delimiter">(</span>c &gt;= <span class="char">'A'</span> &amp;&amp; c &lt;= <span class="char">'Z'</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                c += <span class="int">32</span>;
            <span class="delimiter">}</span>
            h = <span class="int">31</span> * h + c;
        <span class="delimiter">}</span>

        <span class="keyword">if</span> <span class="delimiter">(</span>h &gt; <span class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> h;
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="keyword">if</span> <span class="delimiter">(</span>h == Integer.MIN_VALUE<span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> Integer.MAX_VALUE;
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> -h;
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> static boolean <a title="(name1: java.lang.String, name2: java.lang.String)Boolean" id="44059">eq</a><span class="delimiter">(</span>String <a title="java.lang.String" id="110383">name1</a>, String <a title="java.lang.String" id="110384">name2</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        int nameLen = name1.length<span class="delimiter">(</span><span class="delimiter">)</span>;
        <span class="keyword">if</span> <span class="delimiter">(</span>nameLen != name2.length<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> <span class="keyword">false</span>;
        <span class="delimiter">}</span>

        <span class="keyword">for</span> <span class="delimiter">(</span>int i = nameLen - <span class="int">1</span>; i &gt;= <span class="int">0</span>; i --<span class="delimiter">)</span> <span class="delimiter">{</span>
            char c1 = name1.charAt<span class="delimiter">(</span>i<span class="delimiter">)</span>;
            char c2 = name2.charAt<span class="delimiter">(</span>i<span class="delimiter">)</span>;
            <span class="keyword">if</span> <span class="delimiter">(</span>c1 != c2<span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">if</span> <span class="delimiter">(</span>c1 &gt;= <span class="char">'A'</span> &amp;&amp; c1 &lt;= <span class="char">'Z'</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                    c1 += <span class="int">32</span>;
                <span class="delimiter">}</span>
                <span class="keyword">if</span> <span class="delimiter">(</span>c2 &gt;= <span class="char">'A'</span> &amp;&amp; c2 &lt;= <span class="char">'Z'</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                    c2 += <span class="int">32</span>;
                <span class="delimiter">}</span>
                <span class="keyword">if</span> <span class="delimiter">(</span>c1 != c2<span class="delimiter">)</span> <span class="delimiter">{</span>
                    <span class="keyword">return</span> <span class="keyword">false</span>;
                <span class="delimiter">}</span>
            <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">return</span> <span class="keyword">true</span>;
    <span class="delimiter">}</span>

    <span class="keyword">private</span> static int <a title="(hash: Int)Int" id="44060">index</a><span class="delimiter">(</span>int <a title="Int" id="110386">hash</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> hash % BUCKET_SIZE;
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">final</span> Entry<span class="delimiter">[</span><span class="delimiter">]</span> entries = <span class="keyword">new</span> Entry<span class="delimiter">[</span>BUCKET_SIZE<span class="delimiter">]</span>;
    <span class="keyword">private</span> <span class="keyword">final</span> Entry head = <span class="keyword">new</span> Entry<span class="delimiter">(</span>-<span class="int">1</span>, <span class="keyword">null</span>, <span class="keyword">null</span><span class="delimiter">)</span>;

    HttpHeaders<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        head.before = head.after = head;
    <span class="delimiter">}</span>

    void validateHeaderName<span class="delimiter">(</span>String name<span class="delimiter">)</span> <span class="delimiter">{</span>
        HttpCodecUtil.validateHeaderName<span class="delimiter">(</span>name<span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    void addHeader<span class="delimiter">(</span><span class="keyword">final</span> String name, <span class="keyword">final</span> Object value<span class="delimiter">)</span> <span class="delimiter">{</span>
        validateHeaderName<span class="delimiter">(</span>name<span class="delimiter">)</span>;
        String strVal = toString<span class="delimiter">(</span>value<span class="delimiter">)</span>;
        HttpCodecUtil.validateHeaderValue<span class="delimiter">(</span>strVal<span class="delimiter">)</span>;
        int h = hash<span class="delimiter">(</span>name<span class="delimiter">)</span>;
        int i = index<span class="delimiter">(</span>h<span class="delimiter">)</span>;
        addHeader0<span class="delimiter">(</span>h, i, name, strVal<span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="keyword">private</span> void addHeader0<span class="delimiter">(</span>int h, int i, <span class="keyword">final</span> String name, <span class="keyword">final</span> String value<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="comment">// Update the hash table.</span>
        Entry e = entries<span class="delimiter">[</span>i<span class="delimiter">]</span>;
        Entry newEntry;
        entries<span class="delimiter">[</span>i<span class="delimiter">]</span> = newEntry = <span class="keyword">new</span> Entry<span class="delimiter">(</span>h, name, value<span class="delimiter">)</span>;
        newEntry.next = e;

        <span class="comment">// Update the linked list.</span>
        newEntry.addBefore<span class="delimiter">(</span>head<span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    void removeHeader<span class="delimiter">(</span><span class="keyword">final</span> String name<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">if</span> <span class="delimiter">(</span>name == <span class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">throw</span> <span class="keyword">new</span> NullPointerException<span class="delimiter">(</span><span class="string">&quot;name&quot;</span><span class="delimiter">)</span>;
        <span class="delimiter">}</span>
        int h = hash<span class="delimiter">(</span>name<span class="delimiter">)</span>;
        int i = index<span class="delimiter">(</span>h<span class="delimiter">)</span>;
        removeHeader0<span class="delimiter">(</span>h, i, name<span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="keyword">private</span> void removeHeader0<span class="delimiter">(</span>int h, int i, String name<span class="delimiter">)</span> <span class="delimiter">{</span>
        Entry e = entries<span class="delimiter">[</span>i<span class="delimiter">]</span>;
        <span class="keyword">if</span> <span class="delimiter">(</span>e == <span class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span>;
        <span class="delimiter">}</span>

        <span class="keyword">for</span> <span class="delimiter">(</span>;;<span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">if</span> <span class="delimiter">(</span>e.hash == h &amp;&amp; eq<span class="delimiter">(</span>name, e.key<span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                e.remove<span class="delimiter">(</span><span class="delimiter">)</span>;
                Entry next = e.next;
                <span class="keyword">if</span> <span class="delimiter">(</span>next != <span class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                    entries<span class="delimiter">[</span>i<span class="delimiter">]</span> = next;
                    e = next;
                <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                    entries<span class="delimiter">[</span>i<span class="delimiter">]</span> = <span class="keyword">null</span>;
                    <span class="keyword">return</span>;
                <span class="delimiter">}</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                break;
            <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="keyword">for</span> <span class="delimiter">(</span>;;<span class="delimiter">)</span> <span class="delimiter">{</span>
            Entry next = e.next;
            <span class="keyword">if</span> <span class="delimiter">(</span>next == <span class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                break;
            <span class="delimiter">}</span>
            <span class="keyword">if</span> <span class="delimiter">(</span>next.hash == h &amp;&amp; eq<span class="delimiter">(</span>name, next.key<span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                e.next = next.next;
                next.remove<span class="delimiter">(</span><span class="delimiter">)</span>;
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                e = next;
            <span class="delimiter">}</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    void setHeader<span class="delimiter">(</span><span class="keyword">final</span> String name, <span class="keyword">final</span> Object value<span class="delimiter">)</span> <span class="delimiter">{</span>
        validateHeaderName<span class="delimiter">(</span>name<span class="delimiter">)</span>;
        String strVal = toString<span class="delimiter">(</span>value<span class="delimiter">)</span>;
        HttpCodecUtil.validateHeaderValue<span class="delimiter">(</span>strVal<span class="delimiter">)</span>;
        int h = hash<span class="delimiter">(</span>name<span class="delimiter">)</span>;
        int i = index<span class="delimiter">(</span>h<span class="delimiter">)</span>;
        removeHeader0<span class="delimiter">(</span>h, i, name<span class="delimiter">)</span>;
        addHeader0<span class="delimiter">(</span>h, i, name, strVal<span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    void setHeader<span class="delimiter">(</span><span class="keyword">final</span> String name, <span class="keyword">final</span> Iterable&lt;?&gt; values<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">if</span> <span class="delimiter">(</span>values == <span class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">throw</span> <span class="keyword">new</span> NullPointerException<span class="delimiter">(</span><span class="string">&quot;values&quot;</span><span class="delimiter">)</span>;
        <span class="delimiter">}</span>

        validateHeaderName<span class="delimiter">(</span>name<span class="delimiter">)</span>;

        int h = hash<span class="delimiter">(</span>name<span class="delimiter">)</span>;
        int i = index<span class="delimiter">(</span>h<span class="delimiter">)</span>;

        removeHeader0<span class="delimiter">(</span>h, i, name<span class="delimiter">)</span>;
        <span class="keyword">for</span> <span class="delimiter">(</span>Object v: values<span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">if</span> <span class="delimiter">(</span>v == <span class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                break;
            <span class="delimiter">}</span>
            String strVal = toString<span class="delimiter">(</span>v<span class="delimiter">)</span>;
            HttpCodecUtil.validateHeaderValue<span class="delimiter">(</span>strVal<span class="delimiter">)</span>;
            addHeader0<span class="delimiter">(</span>h, i, name, strVal<span class="delimiter">)</span>;
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    void clearHeaders<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">for</span> <span class="delimiter">(</span>int i = <span class="int">0</span>; i &lt; entries.length; i ++<span class="delimiter">)</span> <span class="delimiter">{</span>
            entries<span class="delimiter">[</span>i<span class="delimiter">]</span> = <span class="keyword">null</span>;
        <span class="delimiter">}</span>
        head.before = head.after = head;
    <span class="delimiter">}</span>

    String getHeader<span class="delimiter">(</span><span class="keyword">final</span> String name<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">if</span> <span class="delimiter">(</span>name == <span class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">throw</span> <span class="keyword">new</span> NullPointerException<span class="delimiter">(</span><span class="string">&quot;name&quot;</span><span class="delimiter">)</span>;
        <span class="delimiter">}</span>

        int h = hash<span class="delimiter">(</span>name<span class="delimiter">)</span>;
        int i = index<span class="delimiter">(</span>h<span class="delimiter">)</span>;
        Entry e = entries<span class="delimiter">[</span>i<span class="delimiter">]</span>;
        <span class="keyword">while</span> <span class="delimiter">(</span>e != <span class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">if</span> <span class="delimiter">(</span>e.hash == h &amp;&amp; eq<span class="delimiter">(</span>name, e.key<span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">return</span> e.value;
            <span class="delimiter">}</span>

            e = e.next;
        <span class="delimiter">}</span>
        <span class="keyword">return</span> <span class="keyword">null</span>;
    <span class="delimiter">}</span>

    List&lt;String&gt; getHeaders<span class="delimiter">(</span><span class="keyword">final</span> String name<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">if</span> <span class="delimiter">(</span>name == <span class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">throw</span> <span class="keyword">new</span> NullPointerException<span class="delimiter">(</span><span class="string">&quot;name&quot;</span><span class="delimiter">)</span>;
        <span class="delimiter">}</span>

        LinkedList&lt;String&gt; values = <span class="keyword">new</span> LinkedList&lt;String&gt;<span class="delimiter">(</span><span class="delimiter">)</span>;

        int h = hash<span class="delimiter">(</span>name<span class="delimiter">)</span>;
        int i = index<span class="delimiter">(</span>h<span class="delimiter">)</span>;
        Entry e = entries<span class="delimiter">[</span>i<span class="delimiter">]</span>;
        <span class="keyword">while</span> <span class="delimiter">(</span>e != <span class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">if</span> <span class="delimiter">(</span>e.hash == h &amp;&amp; eq<span class="delimiter">(</span>name, e.key<span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                values.addFirst<span class="delimiter">(</span>e.value<span class="delimiter">)</span>;
            <span class="delimiter">}</span>
            e = e.next;
        <span class="delimiter">}</span>
        <span class="keyword">return</span> values;
    <span class="delimiter">}</span>

    List&lt;Map.Entry&lt;String, String&gt;&gt; getHeaders<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        List&lt;Map.Entry&lt;String, String&gt;&gt; all =
            <span class="keyword">new</span> LinkedList&lt;Map.Entry&lt;String, String&gt;&gt;<span class="delimiter">(</span><span class="delimiter">)</span>;

        Entry e = head.after;
        <span class="keyword">while</span> <span class="delimiter">(</span>e != head<span class="delimiter">)</span> <span class="delimiter">{</span>
            all.add<span class="delimiter">(</span>e<span class="delimiter">)</span>;
            e = e.after;
        <span class="delimiter">}</span>
        <span class="keyword">return</span> all;
    <span class="delimiter">}</span>

    boolean containsHeader<span class="delimiter">(</span>String name<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">return</span> getHeader<span class="delimiter">(</span>name<span class="delimiter">)</span> != <span class="keyword">null</span>;
    <span class="delimiter">}</span>

    Set&lt;String&gt; getHeaderNames<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        Set&lt;String&gt; names =
            <span class="keyword">new</span> TreeSet&lt;String&gt;<span class="delimiter">(</span>CaseIgnoringComparator.INSTANCE<span class="delimiter">)</span>;

        Entry e = head.after;
        <span class="keyword">while</span> <span class="delimiter">(</span>e != head<span class="delimiter">)</span> <span class="delimiter">{</span>
            names.add<span class="delimiter">(</span>e.key<span class="delimiter">)</span>;
            e = e.after;
        <span class="delimiter">}</span>
        <span class="keyword">return</span> names;
    <span class="delimiter">}</span>

    <span class="keyword">private</span> static String <a title="(value: Any)java.lang.String" id="44061">toString</a><span class="delimiter">(</span>Object <a title="Any" id="110388">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">if</span> <span class="delimiter">(</span>value == <span class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> <span class="keyword">null</span>;
        <span class="delimiter">}</span>
        <span class="keyword">if</span> <span class="delimiter">(</span>value instanceof String<span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> <span class="delimiter">(</span>String<span class="delimiter">)</span> value;
        <span class="delimiter">}</span>
        <span class="keyword">if</span> <span class="delimiter">(</span>value instanceof Number<span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> value.toString<span class="delimiter">(</span><span class="delimiter">)</span>;
        <span class="delimiter">}</span>
        <span class="keyword">if</span> <span class="delimiter">(</span>value instanceof Date<span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> <span class="keyword">new</span> HttpHeaderDateFormat<span class="delimiter">(</span><span class="delimiter">)</span>.format<span class="delimiter">(</span><span class="delimiter">(</span>Date<span class="delimiter">)</span> value<span class="delimiter">)</span>;
        <span class="delimiter">}</span>
        <span class="keyword">if</span> <span class="delimiter">(</span>value instanceof Calendar<span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> <span class="keyword">new</span> HttpHeaderDateFormat<span class="delimiter">(</span><span class="delimiter">)</span>.format<span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">(</span>Calendar<span class="delimiter">)</span> value<span class="delimiter">)</span>.getTime<span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
        <span class="delimiter">}</span>
        <span class="keyword">return</span> value.toString<span class="delimiter">(</span><span class="delimiter">)</span>;
    <span class="delimiter">}</span>

    <span class="keyword">private</span> static <span class="keyword">final</span> <span class="keyword">class</span> <a title="object org.jboss.netty.handler.codec.http.HttpHeaders.Entry" id="44064">Entry</a> implements Map.Entry&lt;String, String&gt; <span class="delimiter">{</span>
        <span class="keyword">final</span> int hash;
        <span class="keyword">final</span> String key;
        String value;
        Entry next;
        Entry before, after;

        Entry<span class="delimiter">(</span>int hash, String key, String value<span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">this</span>.hash = hash;
            <span class="keyword">this</span>.key = key;
            <span class="keyword">this</span>.value = value;
        <span class="delimiter">}</span>

        void remove<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            before.after = after;
            after.before = before;
        <span class="delimiter">}</span>

        void addBefore<span class="delimiter">(</span>Entry e<span class="delimiter">)</span> <span class="delimiter">{</span>
            after  = e;
            before = e.before;
            before.after = <span class="keyword">this</span>;
            after.before = <span class="keyword">this</span>;
        <span class="delimiter">}</span>

        @Override
        public String getKey<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> key;
        <span class="delimiter">}</span>

        @Override
        public String getValue<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> value;
        <span class="delimiter">}</span>

        @Override
        public String setValue<span class="delimiter">(</span>String value<span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">if</span> <span class="delimiter">(</span>value == <span class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">throw</span> <span class="keyword">new</span> NullPointerException<span class="delimiter">(</span><span class="string">&quot;value&quot;</span><span class="delimiter">)</span>;
            <span class="delimiter">}</span>
            HttpCodecUtil.validateHeaderValue<span class="delimiter">(</span>value<span class="delimiter">)</span>;
            String oldValue = <span class="keyword">this</span>.value;
            <span class="keyword">this</span>.value = value;
            <span class="keyword">return</span> oldValue;
        <span class="delimiter">}</span>

        @Override
        public String toString<span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">return</span> key + <span class="string">&quot;=&quot;</span> + value;
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>