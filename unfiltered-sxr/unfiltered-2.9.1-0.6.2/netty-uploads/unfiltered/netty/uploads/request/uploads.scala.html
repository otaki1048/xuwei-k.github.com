<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>netty-uploads/unfiltered/netty/uploads/request/uploads.scala</title>
        <script type="text/javascript" src="../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> unfiltered.netty.request

<span class="keyword">import</span> unfiltered.netty
<span class="keyword">import</span> unfiltered.netty._

<span class="keyword">import</span> scala.util.control.<span title="object scala.util.control.Exception">Exception</span>.allCatch

<span class="keyword">import</span> unfiltered.netty.RequestBinding
<span class="keyword">import</span> unfiltered.request.HttpRequest
<span class="keyword">import</span> unfiltered.request.RequestContentType

<span class="keyword">import</span> unfiltered.request.<span class="delimiter">{</span>
  MultiPartMatcher,MultipartData, AbstractDiskFile, TupleGenerator,
  AbstractStreamedFile, StreamedExtractor, AbstractDiskExtractor,
  DiskExtractor <span class="delimiter">}</span>

<span class="keyword">import</span> org.jboss.<span class="delimiter">{</span>netty =&gt; jnetty<span class="delimiter">}</span>
<span class="keyword">import</span> jnetty.handler.codec.http.<span class="delimiter">{</span>HttpRequest =&gt; NHttpRequest<span class="delimiter">}</span>
<span class="keyword">import</span> jnetty.handler.codec.http.<span class="delimiter">{</span>InterfaceHttpData =&gt; IOInterfaceHttpData<span class="delimiter">}</span>
<span class="keyword">import</span> jnetty.handler.codec.http.<span class="delimiter">{</span>Attribute =&gt; IOAttribute<span class="delimiter">}</span>
<span class="keyword">import</span> jnetty.handler.codec.http.<span class="delimiter">{</span>FileUpload =&gt; IOFileUpload<span class="delimiter">}</span>

<span class="keyword">import</span> java.io.<span class="delimiter">{</span>File =&gt; JFile<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait MultiPartCallback extends java.lang.Object" id="12243">MultiPartCallback</a>
case <span class="keyword">class</span> <a title="class Decode extends java.lang.Object with unfiltered.netty.request.MultiPartCallback with ScalaObject with Product with Serializable" id="52298">Decode</a><a href="#52298" title="ScalaObject" class="delimiter">(</a><a title="unfiltered.netty.request.MultiPartBinding" id="47125">binding</a>: <a href="#12288" title="unfiltered.netty.request.MultiPartBinding">MultiPartBinding</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#12243" title="unfiltered.netty.request.MultiPartCallback">MultiPartCallback</a>

<span class="keyword">class</span> <a title="class MultiPartBinding extends unfiltered.netty.RequestBinding with ScalaObject" id="12288">MultiPartBinding</a><a href="#12288" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="Option[unfiltered.netty.request.PostDecoder]" id="47105">decoder</a>: <span title="Option[unfiltered.netty.request.PostDecoder]">Option</span><span class="delimiter">[</span>PostDecoder<span class="delimiter">]</span>, <a title="unfiltered.netty.ReceivedMessage" id="47106">msg</a>: <a href="../../../../../netty/unfiltered/netty/bindings.scala.html#11453" title="unfiltered.netty.ReceivedMessage">ReceivedMessage</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../../../../../netty/unfiltered/netty/bindings.scala.html#11465" title="unfiltered.netty.RequestBinding">RequestBinding</a><span class="delimiter">(</span><a href="#47106" title="unfiltered.netty.ReceivedMessage">msg</a><span class="delimiter">)</span>

<span class="comment">/** Matches requests that have multipart content */</span>
<span class="keyword">object</span> <a title="object unfiltered.netty.request.MultiPart" id="12355">MultiPart</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../../../../../uploads/unfiltered/request/request/uploads.scala.html#10015" title="unfiltered.request.MultiPartMatcher[unfiltered.netty.RequestBinding]">MultiPartMatcher</a><span class="delimiter">[</span>RequestBinding<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(req: unfiltered.netty.RequestBinding)Option[unfiltered.netty.RequestBinding]" id="47164">unapply</a><span class="delimiter">(</span><a title="unfiltered.netty.RequestBinding" id="47170">req</a>: <a href="../../../../../netty/unfiltered/netty/bindings.scala.html#11465" title="unfiltered.netty.RequestBinding">RequestBinding</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="../../../../../unfiltered/unfiltered/unfiltered/request/headers.scala.html#16005" title="(req: unfiltered.request.HttpRequest[unfiltered.netty.ReceivedMessage])Option[String]">RequestContentType</a><span class="delimiter">(</span><a href="#47170" title="unfiltered.netty.RequestBinding">req</a><span class="delimiter">)</span> <span title="Option[unfiltered.netty.RequestBinding]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Some[unfiltered.netty.RequestBinding]">Some</span><span class="delimiter">(</span><a title="String" id="47180">r</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#47165" title="(contentType: String)Boolean">isMultipart</a><span class="delimiter">(</span><a href="#47180" title="String">r</a><span class="delimiter">)</span> =&gt; <span title="(x: unfiltered.netty.RequestBinding)Some[unfiltered.netty.RequestBinding]">Some</span><span class="delimiter">(</span><a href="#47170" title="unfiltered.netty.RequestBinding">req</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="None.type">_</span> =&gt; <span title="object None">None</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Check the ContentType header value to determine whether the request is multipart */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(contentType: String)Boolean" id="47165">isMultipart</a><span class="delimiter">(</span><a title="String" id="47181">contentType</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.lang.String" id="47184">Multipart</a> = <span title="java.lang.String(&quot;multipart/form-data&quot;)" class="string">&quot;multipart/form-data&quot;</span>
    <span class="keyword">val</span> <a title="java.lang.String" id="47185">Boundary</a> = <span title="java.lang.String(&quot;boundary&quot;)" class="string">&quot;boundary&quot;</span>
    <span class="comment">// Check if the Post is using &quot;multipart/form-data; boundary=--89421926422648&quot;</span>
    <a href="#47166" title="(sb: String)(Option[String], Option[String])">splitContentTypeHeader</a><span class="delimiter">(</span><a href="#47181" title="String">contentType</a><span class="delimiter">)</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span>Some<span class="delimiter">(</span><a title="String" id="47191">a</a><span class="delimiter">)</span>, Some<span class="delimiter">(</span><a title="String" id="47193">b</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#47191" title="String">a</a>.<span title="()java.lang.String">toLowerCase</span>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><a href="#47184" title="java.lang.String">Multipart</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#47193" title="String">b</a>.<span title="()java.lang.String">toLowerCase</span>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><a href="#47185" title="java.lang.String">Boundary</a><span class="delimiter">)</span> =&gt;
        <span title="Boolean" class="keyword">if</span><span class="delimiter">(</span><a href="#47193" title="String">b</a>.<span title="(x$1: java.lang.String)Array[java.lang.String]">split</span><span class="delimiter">(</span><span title="java.lang.String(&quot;=&quot;)" class="string">&quot;=&quot;</span><span class="delimiter">)</span>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">==</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
          <span title="Boolean(true)" class="keyword">true</span>
        <span class="keyword">else</span> 
          <span title="Boolean(false)" class="keyword">false</span>
      <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Split the Content-Type header value into two strings */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sb: String)(Option[String], Option[String])" id="47166">splitContentTypeHeader</a><span class="delimiter">(</span><a title="String" id="47186">sb</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="(Option[String], Option[String])">Tuple2</span><span class="delimiter">[</span>Option<span class="delimiter">[</span>String<span class="delimiter">]</span>,Option<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Int" id="50207">size</a> = <a href="#47186" title="String">sb</a>.<span title="()Int">length</span>
    <span class="keyword">val</span> <a title="Int" id="50208">aStart</a> = <a href="#47168" title="(s: String, startAt: Int)Int">findFirstNonWhitespace</a><span class="delimiter">(</span><a href="#47186" title="String">sb</a><span class="delimiter">)</span>
    <span class="keyword">var</span> <a title="Int" id="50209">aEnd</a> = <a href="#47167" title="(s: String, startAt: Int)Int">findFirstWhitespace</a><span class="delimiter">(</span><a href="#47186" title="String">sb</a>, <a href="#50208" title="Int">aStart</a><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#50209" title="Int">aEnd</a> <span title="(x: Int)Boolean">&gt;=</span> <a href="#50207" title="Int">size</a><span class="delimiter">)</span>
      <span title="Nothing" class="keyword">return</span> <span title="(_1: Some[String], _2: None.type)(Some[String], None.type)" class="delimiter">(</span><span title="(x: String)Some[String]">Some</span><span class="delimiter">(</span><a href="#47186" title="String">sb</a><span class="delimiter">)</span>, <span title="object None">None</span><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#47186" title="String">sb</a>.<span title="(x$1: java.lang.String)Boolean">endsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;;&quot;)" class="string">&quot;;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#50209" title="Int">aEnd</a> = <a href="#50209" title="Int">aEnd</a> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span>
    <span class="keyword">val</span> <a title="Int" id="50210">bStart</a> = <a href="#47168" title="(s: String, startAt: Int)Int">findFirstNonWhitespace</a><span class="delimiter">(</span><a href="#47186" title="String">sb</a>, <a href="#50209" title="Int">aEnd</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="Int" id="50211">bEnd</a> = <a href="#47169" title="(s: String)Int">findEndOfString</a><span class="delimiter">(</span><a href="#47186" title="String">sb</a><span class="delimiter">)</span>
    <span title="(_1: Some[java.lang.String], _2: Some[java.lang.String])(Some[java.lang.String], Some[java.lang.String])" class="delimiter">(</span><span title="(x: java.lang.String)Some[java.lang.String]">Some</span><span class="delimiter">(</span><a href="#47186" title="String">sb</a>.<span title="(x$1: Int, x$2: Int)java.lang.String">substring</span><span class="delimiter">(</span><a href="#50208" title="Int">aStart</a>, <a href="#50209" title="Int">aEnd</a><span class="delimiter">)</span><span class="delimiter">)</span>, <span title="(x: java.lang.String)Some[java.lang.String]">Some</span><span class="delimiter">(</span><a href="#47186" title="String">sb</a>.<span title="(x$1: Int, x$2: Int)java.lang.String">substring</span><span class="delimiter">(</span><a href="#50210" title="Int">bStart</a>, <a href="#50211" title="Int">bEnd</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Find the first whitespace index */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(s: String, startAt: Int)Int" id="47167">findFirstWhitespace</a><span class="delimiter">(</span><a title="String" id="50624">s</a>: <span title="String">String</span>, <a title="Int" id="50628">startAt</a>: <span title="Int">Int</span> = <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> = <a href="#50624" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">s</a>.<span title="(p: Char =&gt; Boolean, from: Int)Int">indexWhere</span><span class="delimiter">(</span><a href="#50899" title="implicit scala.LowPriorityImplicits.charWrapper : (c: Char)scala.runtime.RichChar">_</a>.<span title="=&gt; Boolean">isWhitespace</span>, <a href="#50628" title="Int">startAt</a><span class="delimiter">)</span>
  <span class="comment">/** Find the first non-whitespace index */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(s: String, startAt: Int)Int" id="47168">findFirstNonWhitespace</a><span class="delimiter">(</span><a title="String" id="50212">s</a>: <span title="String">String</span>, <a title="Int" id="50216">startAt</a>: <span title="Int">Int</span> = <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> = <a href="#50212" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">s</a>.<span title="(p: Char =&gt; Boolean, from: Int)Int">indexWhere</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#50617" title="implicit scala.LowPriorityImplicits.charWrapper : (c: Char)scala.runtime.RichChar">_</a>.<span title="=&gt; Boolean">isWhitespace</span>, <a href="#50216" title="Int">startAt</a><span class="delimiter">)</span>
  <span class="comment">/** Find the last non-whitespace index */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(s: String)Int" id="47169">findEndOfString</a><span class="delimiter">(</span><a title="String" id="50920">s</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#50920" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">s</a>.<span title="(p: Char =&gt; Boolean)Int">lastIndexWhere</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#51195" title="implicit scala.LowPriorityImplicits.charWrapper : (c: Char)scala.runtime.RichChar">_</a>.<span title="=&gt; Boolean">isWhitespace</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="object unfiltered.netty.request.MultiPartParams" id="12262">MultiPartParams</a> <span title="ScalaObject" class="delimiter">{</span>

  <span class="comment">/** Streamed multi-part data extractor */</span>
  <span class="keyword">object</span> <a title="object unfiltered.netty.request.MultiPartParams.Streamed" id="51217">Streamed</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../../../../../uploads/unfiltered/request/request/uploads.scala.html#10279" title="unfiltered.request.StreamedExtractor[unfiltered.netty.RequestBinding]">StreamedExtractor</a><span class="delimiter">[</span>RequestBinding<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">import</span> java.util.<span class="delimiter">{</span>Iterator =&gt; JIterator<span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(req: unfiltered.netty.RequestBinding)unfiltered.request.MultipartData[Seq[unfiltered.request.AbstractStreamedFile]]" id="51232">apply</a><span class="delimiter">(</span><a title="unfiltered.netty.RequestBinding" id="51234">req</a>: <a href="../../../../../netty/unfiltered/netty/bindings.scala.html#11465" title="unfiltered.netty.RequestBinding">RequestBinding</a><span class="delimiter">)</span> = <span class="delimiter">{</span>

      <span class="keyword">val</span> <a title="Option[unfiltered.netty.request.PostDecoder]" id="51250">decoder</a> = <a href="#51234" title="unfiltered.netty.RequestBinding">req</a> <span title="Option[unfiltered.netty.request.PostDecoder]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Option[unfiltered.netty.request.PostDecoder]" id="51255">r</a>: <a href="#12288" title="unfiltered.netty.request.MultiPartBinding">MultiPartBinding</a> =&gt; <a href="#51255" title="unfiltered.netty.request.MultiPartBinding">r</a>.<a href="#47105" title="=&gt; Option[unfiltered.netty.request.PostDecoder]">decoder</a>
        <span class="keyword">case</span> <span title="Option[unfiltered.netty.request.PostDecoder]">_</span> =&gt; <a href="decoder.scala.html#47222" title="(req: org.jboss.netty.handler.codec.http.HttpRequest, useDisk: Boolean)Option[unfiltered.netty.request.PostDecoder]">PostDecoder</a><span class="delimiter">(</span><a href="#51234" title="unfiltered.netty.RequestBinding">req</a>.<a href="../../../../../unfiltered/unfiltered/unfiltered/request/HttpRequest.scala.html#13891" title="=&gt; unfiltered.netty.ReceivedMessage">underlying</a>.<a href="../../../../../netty/unfiltered/netty/bindings.scala.html#42642" title="=&gt; org.jboss.netty.handler.codec.http.HttpRequest">request</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="List[org.jboss.netty.handler.codec.http.Attribute]" id="51251">params</a> = <a href="#51250" title="Option[unfiltered.netty.request.PostDecoder]">decoder</a>.<span title="(f: unfiltered.netty.request.PostDecoder =&gt; List[org.jboss.netty.handler.codec.http.Attribute])Option[List[org.jboss.netty.handler.codec.http.Attribute]]">map</span><span class="delimiter">(</span><a href="#51260" title="unfiltered.netty.request.PostDecoder">_</a>.<a href="decoder.scala.html#47299" title="=&gt; List[org.jboss.netty.handler.codec.http.Attribute]">parameters</a><span class="delimiter">)</span>.<span title="(default: =&gt; List[org.jboss.netty.handler.codec.http.Attribute])List[org.jboss.netty.handler.codec.http.Attribute]">getOrElse</span><span class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[org.jboss.netty.handler.codec.http.FileUpload]" id="51252">files</a> = <a href="#51250" title="Option[unfiltered.netty.request.PostDecoder]">decoder</a>.<span title="(f: unfiltered.netty.request.PostDecoder =&gt; List[org.jboss.netty.handler.codec.http.FileUpload])Option[List[org.jboss.netty.handler.codec.http.FileUpload]]">map</span><span class="delimiter">(</span><a href="#51277" title="unfiltered.netty.request.PostDecoder">_</a>.<a href="decoder.scala.html#47298" title="=&gt; List[org.jboss.netty.handler.codec.http.FileUpload]">fileUploads</a><span class="delimiter">)</span>.<span title="(default: =&gt; List[org.jboss.netty.handler.codec.http.FileUpload])List[org.jboss.netty.handler.codec.http.FileUpload]">getOrElse</span><span class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="comment">/** attempt to extract the first named param from the stream */</span>
      <span class="keyword">def</span> <a title="(name: String)Seq[String]" id="51253">extractParam</a><span class="delimiter">(</span><a title="String" id="51291">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">{</span>
        <a href="#51251" title="List[org.jboss.netty.handler.codec.http.Attribute]">params</a>.<span title="(p: org.jboss.netty.handler.codec.http.Attribute =&gt; Boolean)List[org.jboss.netty.handler.codec.http.Attribute]">filter</span><span class="delimiter">(</span><a href="#51295" title="org.jboss.netty.handler.codec.http.Attribute">_</a>.<a href="../org/jboss/netty/handler/codec/http/InterfaceHttpData.java.html#49844" title="()java.lang.String">getName</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#51291" title="String">name</a><span class="delimiter">)</span>.<span title="(f: org.jboss.netty.handler.codec.http.Attribute =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[List[org.jboss.netty.handler.codec.http.Attribute],java.lang.String,List[java.lang.String]])List[java.lang.String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,java.lang.String,List[java.lang.String]]" class="delimiter">(</span><a href="#51333" title="org.jboss.netty.handler.codec.http.Attribute">_</a>.<a href="../org/jboss/netty/handler/codec/http/Attribute.java.html#50031" title="()java.lang.String">getValue</a><span class="delimiter">)</span>.<span title="=&gt; scala.collection.immutable.Seq[java.lang.String]">toSeq</span>
      <span class="delimiter">}</span>

      <span class="comment">/** attempt to extract the first named file from the stream */</span>
      <span class="keyword">def</span> <a title="(name: String)Seq[unfiltered.netty.request.StreamedFileWrapper]" id="51254">extractFile</a><span class="delimiter">(</span><a title="String" id="51386">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Seq[unfiltered.netty.request.StreamedFileWrapper]">Seq</span><span class="delimiter">[</span>StreamedFileWrapper<span class="delimiter">]</span> = <span class="delimiter">{</span>
         <a href="#51252" title="List[org.jboss.netty.handler.codec.http.FileUpload]">files</a>.<span title="(p: org.jboss.netty.handler.codec.http.FileUpload =&gt; Boolean)List[org.jboss.netty.handler.codec.http.FileUpload]">filter</span><span class="delimiter">(</span><a href="#51390" title="org.jboss.netty.handler.codec.http.FileUpload">_</a>.<a href="../org/jboss/netty/handler/codec/http/InterfaceHttpData.java.html#49844" title="()java.lang.String">getName</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#51386" title="String">name</a><span class="delimiter">)</span>.<span title="(f: org.jboss.netty.handler.codec.http.FileUpload =&gt; unfiltered.netty.request.StreamedFileWrapper)(implicit bf: scala.collection.generic.CanBuildFrom[List[org.jboss.netty.handler.codec.http.FileUpload],unfiltered.netty.request.StreamedFileWrapper,List[unfiltered.netty.request.StreamedFileWrapper]])List[unfiltered.netty.request.StreamedFileWrapper]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,unfiltered.netty.request.StreamedFileWrapper,List[unfiltered.netty.request.StreamedFileWrapper]]" class="delimiter">(</span><span title="unfiltered.netty.request.StreamedFileWrapper" class="keyword">new</span> <a href="#12336" title="unfiltered.netty.request.StreamedFileWrapper">StreamedFileWrapper</a><span class="delimiter">(</span><a href="#51427" title="org.jboss.netty.handler.codec.http.FileUpload">_</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; scala.collection.immutable.Seq[unfiltered.netty.request.StreamedFileWrapper]">toSeq</span>
      <span class="delimiter">}</span>
      <a href="../../../../../uploads/unfiltered/request/request/uploads.scala.html#51505" title="(params: String =&gt; Seq[String], files: String =&gt; Seq[unfiltered.request.AbstractStreamedFile])unfiltered.request.MultipartData[Seq[unfiltered.request.AbstractStreamedFile]]">MultipartData</a><span class="delimiter">(</span><a href="#51253" title="(name: String)Seq[String]">extractParam</a> _,<a href="#51254" title="(name: String)Seq[unfiltered.netty.request.StreamedFileWrapper]">extractFile</a> _<span class="delimiter">)</span>
      
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** On-disk multi-part form data extractor */</span>
  <span class="keyword">object</span> <a title="object unfiltered.netty.request.MultiPartParams.Disk" id="51219">Disk</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#12300" title="unfiltered.netty.request.AbstractDisk">AbstractDisk</a> <span class="keyword">with</span> <a href="../../../../../uploads/unfiltered/request/request/uploads.scala.html#9820" title="unfiltered.request.DiskExtractor">DiskExtractor</a>

  <span class="comment">/** All in memory multi-part form data extractor.
      This exposes a very specific class of file references
      intended for use in environments such as GAE where writing
      to disk is prohibited.
      */</span>
  <span class="keyword">object</span> <a title="object unfiltered.netty.request.MultiPartParams.Memory" id="51221">Memory</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../../../../../uploads/unfiltered/request/request/uploads.scala.html#10279" title="unfiltered.request.StreamedExtractor[unfiltered.netty.RequestBinding]">StreamedExtractor</a><span class="delimiter">[</span>RequestBinding<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">import</span> java.util.<span class="delimiter">{</span>Iterator =&gt; JIterator<span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(req: unfiltered.netty.RequestBinding)unfiltered.request.MultipartData[Seq[unfiltered.request.AbstractStreamedFile]]" id="51557">apply</a><span class="delimiter">(</span><a title="unfiltered.netty.RequestBinding" id="51559">req</a>: <a href="../../../../../netty/unfiltered/netty/bindings.scala.html#11465" title="unfiltered.netty.RequestBinding">RequestBinding</a><span class="delimiter">)</span> = <span class="delimiter">{</span>

      <span class="keyword">val</span> <a title="Option[unfiltered.netty.request.PostDecoder]" id="51563">decoder</a> = <a href="#51559" title="unfiltered.netty.RequestBinding">req</a> <span title="Option[unfiltered.netty.request.PostDecoder]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Option[unfiltered.netty.request.PostDecoder]" id="51568">r</a>: <a href="#12288" title="unfiltered.netty.request.MultiPartBinding">MultiPartBinding</a> =&gt; <a href="#51568" title="unfiltered.netty.request.MultiPartBinding">r</a>.<a href="#47105" title="=&gt; Option[unfiltered.netty.request.PostDecoder]">decoder</a>
        <span class="keyword">case</span> <span title="Option[unfiltered.netty.request.PostDecoder]">_</span> =&gt; <a href="decoder.scala.html#47222" title="(req: org.jboss.netty.handler.codec.http.HttpRequest, useDisk: Boolean)Option[unfiltered.netty.request.PostDecoder]">PostDecoder</a><span class="delimiter">(</span><a href="#51559" title="unfiltered.netty.RequestBinding">req</a>.<a href="../../../../../unfiltered/unfiltered/unfiltered/request/HttpRequest.scala.html#13891" title="=&gt; unfiltered.netty.ReceivedMessage">underlying</a>.<a href="../../../../../netty/unfiltered/netty/bindings.scala.html#42642" title="=&gt; org.jboss.netty.handler.codec.http.HttpRequest">request</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="List[org.jboss.netty.handler.codec.http.Attribute]" id="51564">params</a> = <a href="#51563" title="Option[unfiltered.netty.request.PostDecoder]">decoder</a>.<span title="(f: unfiltered.netty.request.PostDecoder =&gt; List[org.jboss.netty.handler.codec.http.Attribute])Option[List[org.jboss.netty.handler.codec.http.Attribute]]">map</span><span class="delimiter">(</span><a href="#51573" title="unfiltered.netty.request.PostDecoder">_</a>.<a href="decoder.scala.html#47299" title="=&gt; List[org.jboss.netty.handler.codec.http.Attribute]">parameters</a><span class="delimiter">)</span>.<span title="(default: =&gt; List[org.jboss.netty.handler.codec.http.Attribute])List[org.jboss.netty.handler.codec.http.Attribute]">getOrElse</span><span class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[org.jboss.netty.handler.codec.http.FileUpload]" id="51565">files</a> = <a href="#51563" title="Option[unfiltered.netty.request.PostDecoder]">decoder</a>.<span title="(f: unfiltered.netty.request.PostDecoder =&gt; List[org.jboss.netty.handler.codec.http.FileUpload])Option[List[org.jboss.netty.handler.codec.http.FileUpload]]">map</span><span class="delimiter">(</span><a href="#51590" title="unfiltered.netty.request.PostDecoder">_</a>.<a href="decoder.scala.html#47298" title="=&gt; List[org.jboss.netty.handler.codec.http.FileUpload]">fileUploads</a><span class="delimiter">)</span>.<span title="(default: =&gt; List[org.jboss.netty.handler.codec.http.FileUpload])List[org.jboss.netty.handler.codec.http.FileUpload]">getOrElse</span><span class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="comment">/** attempt to extract the first named param from the stream */</span>
      <span class="keyword">def</span> <a title="(name: String)Seq[String]" id="51566">extractParam</a><span class="delimiter">(</span><a title="String" id="51604">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">{</span>
        <a href="#51564" title="List[org.jboss.netty.handler.codec.http.Attribute]">params</a>.<span title="(p: org.jboss.netty.handler.codec.http.Attribute =&gt; Boolean)List[org.jboss.netty.handler.codec.http.Attribute]">filter</span><span class="delimiter">(</span><a href="#51608" title="org.jboss.netty.handler.codec.http.Attribute">_</a>.<a href="../org/jboss/netty/handler/codec/http/InterfaceHttpData.java.html#49844" title="()java.lang.String">getName</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#51604" title="String">name</a><span class="delimiter">)</span>.<span title="(f: org.jboss.netty.handler.codec.http.Attribute =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[List[org.jboss.netty.handler.codec.http.Attribute],java.lang.String,List[java.lang.String]])List[java.lang.String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,java.lang.String,List[java.lang.String]]" class="delimiter">(</span><a href="#51633" title="org.jboss.netty.handler.codec.http.Attribute">_</a>.<a href="../org/jboss/netty/handler/codec/http/Attribute.java.html#50031" title="()java.lang.String">getValue</a><span class="delimiter">)</span>.<span title="=&gt; scala.collection.immutable.Seq[java.lang.String]">toSeq</span>
      <span class="delimiter">}</span>

      <span class="comment">/** attempt to extract the first named file from the stream */</span>
      <span class="keyword">def</span> <a title="(name: String)Seq[unfiltered.netty.request.StreamedFileWrapper]" id="51567">extractFile</a><span class="delimiter">(</span><a title="String" id="51662">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Seq[unfiltered.netty.request.StreamedFileWrapper]">Seq</span><span class="delimiter">[</span>StreamedFileWrapper<span class="delimiter">]</span> = <span class="delimiter">{</span>
         <a href="#51565" title="List[org.jboss.netty.handler.codec.http.FileUpload]">files</a>.<span title="(p: org.jboss.netty.handler.codec.http.FileUpload =&gt; Boolean)List[org.jboss.netty.handler.codec.http.FileUpload]">filter</span><span class="delimiter">(</span><a href="#51666" title="org.jboss.netty.handler.codec.http.FileUpload">_</a>.<a href="../org/jboss/netty/handler/codec/http/InterfaceHttpData.java.html#49844" title="()java.lang.String">getName</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#51662" title="String">name</a><span class="delimiter">)</span>.<span title="(f: org.jboss.netty.handler.codec.http.FileUpload =&gt; unfiltered.netty.request.MemoryFileWrapper)(implicit bf: scala.collection.generic.CanBuildFrom[List[org.jboss.netty.handler.codec.http.FileUpload],unfiltered.netty.request.MemoryFileWrapper,List[unfiltered.netty.request.MemoryFileWrapper]])List[unfiltered.netty.request.MemoryFileWrapper]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,unfiltered.netty.request.MemoryFileWrapper,List[unfiltered.netty.request.MemoryFileWrapper]]" class="delimiter">(</span><span title="unfiltered.netty.request.MemoryFileWrapper" class="keyword">new</span> <a href="#12438" title="unfiltered.netty.request.MemoryFileWrapper">MemoryFileWrapper</a><span class="delimiter">(</span><a href="#51691" title="org.jboss.netty.handler.codec.http.FileUpload">_</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; scala.collection.immutable.Seq[unfiltered.netty.request.MemoryFileWrapper]">toSeq</span>
      <span class="delimiter">}</span>
      <a href="../../../../../uploads/unfiltered/request/request/uploads.scala.html#51505" title="(params: String =&gt; Seq[String], files: String =&gt; Seq[unfiltered.request.AbstractStreamedFile])unfiltered.request.MultipartData[Seq[unfiltered.request.AbstractStreamedFile]]">MultipartData</a><span class="delimiter">(</span><a href="#51566" title="(name: String)Seq[String]">extractParam</a> _,<a href="#51567" title="(name: String)Seq[unfiltered.netty.request.StreamedFileWrapper]">extractFile</a> _<span class="delimiter">)</span>
      
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/** Netty extractor for multi-part data destined for disk. */</span>
<span class="keyword">trait</span> <a title="trait AbstractDisk extends java.lang.Object with unfiltered.request.AbstractDiskExtractor[unfiltered.netty.RequestBinding] with unfiltered.request.TupleGenerator with ScalaObject" id="12300">AbstractDisk</a>
<span title="ScalaObject" class="keyword">extends</span> <a href="../../../../../uploads/unfiltered/request/request/uploads.scala.html#9529" title="unfiltered.request.AbstractDiskExtractor[unfiltered.netty.RequestBinding]">AbstractDiskExtractor</a><span class="delimiter">[</span>RequestBinding<span class="delimiter">]</span> <span class="keyword">with</span> <a href="../../../../../uploads/unfiltered/request/request/uploads.scala.html#10306" title="unfiltered.request.TupleGenerator">TupleGenerator</a> <span class="delimiter">{</span>
  <span class="keyword">import</span> java.util.<span class="delimiter">{</span>Iterator =&gt; JIterator<span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="(req: unfiltered.netty.RequestBinding)unfiltered.request.MultipartData[Seq[unfiltered.request.AbstractDiskFile]]" id="51539">apply</a><span class="delimiter">(</span><a title="unfiltered.netty.RequestBinding" id="51763">req</a>: <a href="../../../../../netty/unfiltered/netty/bindings.scala.html#11465" title="unfiltered.netty.RequestBinding">RequestBinding</a><span class="delimiter">)</span> = <span class="delimiter">{</span>

    <span class="keyword">val</span> <a title="Iterator[org.jboss.netty.handler.codec.http.InterfaceHttpData]" id="51768">items</a> = <a href="#51763" title="unfiltered.netty.RequestBinding">req</a> <span title="Iterator[org.jboss.netty.handler.codec.http.InterfaceHttpData]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Iterator[org.jboss.netty.handler.codec.http.InterfaceHttpData]" id="51772">r</a>: <a href="#12288" title="unfiltered.netty.request.MultiPartBinding">MultiPartBinding</a> =&gt; <a href="#51772" title="unfiltered.netty.request.MultiPartBinding">r</a>.<a href="#47105" title="=&gt; Option[unfiltered.netty.request.PostDecoder]">decoder</a>.<span title="(f: unfiltered.netty.request.PostDecoder =&gt; List[org.jboss.netty.handler.codec.http.InterfaceHttpData])Option[List[org.jboss.netty.handler.codec.http.InterfaceHttpData]]">map</span><span class="delimiter">(</span><a href="#51777" title="unfiltered.netty.request.PostDecoder">_</a>.<a href="decoder.scala.html#47297" title="=&gt; List[org.jboss.netty.handler.codec.http.InterfaceHttpData]">items</a><span class="delimiter">)</span>.<span title="(default: =&gt; List[org.jboss.netty.handler.codec.http.InterfaceHttpData])List[org.jboss.netty.handler.codec.http.InterfaceHttpData]">getOrElse</span><span class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Iterator[org.jboss.netty.handler.codec.http.InterfaceHttpData]">toIterator</span>
      <span class="keyword">case</span> <span title="Iterator[org.jboss.netty.handler.codec.http.InterfaceHttpData]">_</span> =&gt; <a href="decoder.scala.html#47222" title="(req: org.jboss.netty.handler.codec.http.HttpRequest, useDisk: Boolean)Option[unfiltered.netty.request.PostDecoder]">PostDecoder</a><span class="delimiter">(</span><a href="#51763" title="unfiltered.netty.RequestBinding">req</a>.<a href="../../../../../unfiltered/unfiltered/unfiltered/request/HttpRequest.scala.html#13891" title="=&gt; unfiltered.netty.ReceivedMessage">underlying</a>.<a href="../../../../../netty/unfiltered/netty/bindings.scala.html#42642" title="=&gt; org.jboss.netty.handler.codec.http.HttpRequest">request</a><span class="delimiter">)</span>.<span title="(f: unfiltered.netty.request.PostDecoder =&gt; List[org.jboss.netty.handler.codec.http.InterfaceHttpData])Option[List[org.jboss.netty.handler.codec.http.InterfaceHttpData]]">map</span><span class="delimiter">(</span><a href="#51796" title="unfiltered.netty.request.PostDecoder">_</a>.<a href="decoder.scala.html#47297" title="=&gt; List[org.jboss.netty.handler.codec.http.InterfaceHttpData]">items</a><span class="delimiter">)</span>.<span title="(default: =&gt; List[org.jboss.netty.handler.codec.http.InterfaceHttpData])List[org.jboss.netty.handler.codec.http.InterfaceHttpData]">getOrElse</span><span class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Iterator[org.jboss.netty.handler.codec.http.InterfaceHttpData]">toIterator</span> 
    <span class="delimiter">}</span>  

    <span class="keyword">val</span> <a href="#51770" title="(scala.collection.immutable.Map[String,List[String]], scala.collection.immutable.Map[String,List[unfiltered.netty.request.DiskFileWrapper]])" class="delimiter">(</a><a href="#51769" title="scala.collection.immutable.Map[String,List[String]]" id="51770">params</a>, <a href="#51769" title="scala.collection.immutable.Map[String,List[unfiltered.netty.request.DiskFileWrapper]]" id="51771">files</a><span class="delimiter">)</span> = <a href="../../../../../uploads/unfiltered/request/request/uploads.scala.html#51543" title="[A, B, C](iter: Iterator[C])(f: ((Map[String,List[A]], Map[String,List[B]]), C) =&gt; (Map[String,List[A]], Map[String,List[B]]))(scala.collection.immutable.Map[String,List[A]], scala.collection.immutable.Map[String,List[B]])">genTuple</a><span title="(iter: Iterator[org.jboss.netty.handler.codec.http.InterfaceHttpData])(f: ((Map[String,List[String]], Map[String,List[unfiltered.netty.request.DiskFileWrapper]]), org.jboss.netty.handler.codec.http.InterfaceHttpData) =&gt; (Map[String,List[String]], Map[String,List[unfiltered.netty.request.DiskFileWrapper]]))(scala.collection.immutable.Map[String,List[String]], scala.collection.immutable.Map[String,List[unfiltered.netty.request.DiskFileWrapper]])" class="delimiter">[</span><span title="String">String</span>, <a href="#12327" title="unfiltered.netty.request.DiskFileWrapper">DiskFileWrapper</a>, <a href="../org/jboss/netty/handler/codec/http/InterfaceHttpData.java.html#11842" title="org.jboss.netty.handler.codec.http.InterfaceHttpData">IOInterfaceHttpData</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#51768" title="Iterator[org.jboss.netty.handler.codec.http.InterfaceHttpData]">items</a><span class="delimiter">)</span> <span title="(scala.collection.immutable.Map[String,List[String]], scala.collection.immutable.Map[String,List[unfiltered.netty.request.DiskFileWrapper]]) @unchecked" class="delimiter">(</span><span class="delimiter">(</span><a title="(Map[String,List[String]], Map[String,List[unfiltered.netty.request.DiskFileWrapper]])" id="51885">maps</a>, <a title="org.jboss.netty.handler.codec.http.InterfaceHttpData" id="51886">item</a><span class="delimiter">)</span> =&gt; <a href="#51886" title="org.jboss.netty.handler.codec.http.InterfaceHttpData">item</a> <span title="(Map[String,List[String]], Map[String,List[unfiltered.netty.request.DiskFileWrapper]])" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="(Map[String,List[String]], scala.collection.immutable.Map[String,List[unfiltered.netty.request.DiskFileWrapper]])" id="51887">file</a>: <a href="../org/jboss/netty/handler/codec/http/FileUpload.java.html#11881" title="org.jboss.netty.handler.codec.http.FileUpload">IOFileUpload</a> =&gt;
          <span title="(_1: Map[String,List[String]], _2: scala.collection.immutable.Map[String,List[unfiltered.netty.request.DiskFileWrapper]])(Map[String,List[String]], scala.collection.immutable.Map[String,List[unfiltered.netty.request.DiskFileWrapper]])" class="delimiter">(</span><a href="#51885" title="(Map[String,List[String]], Map[String,List[unfiltered.netty.request.DiskFileWrapper]])">maps</a>.<span title="=&gt; Map[String,List[String]]">_1</span>, <a href="#51885" title="(Map[String,List[String]], Map[String,List[unfiltered.netty.request.DiskFileWrapper]])">maps</a>.<span title="=&gt; Map[String,List[unfiltered.netty.request.DiskFileWrapper]]">_2</span> <span title="(kv: (String, List[unfiltered.netty.request.DiskFileWrapper]))scala.collection.immutable.Map[String,List[unfiltered.netty.request.DiskFileWrapper]]">+</span> <span class="delimiter">(</span><a href="#51887" title="org.jboss.netty.handler.codec.http.FileUpload">file</a>.<a href="../org/jboss/netty/handler/codec/http/InterfaceHttpData.java.html#49844" title="(x: java.lang.String)ArrowAssoc[java.lang.String]">getName</a> <span title="(y: List[unfiltered.netty.request.DiskFileWrapper])(java.lang.String, List[unfiltered.netty.request.DiskFileWrapper])">-&gt;</span> <span class="delimiter">(</span><span title="unfiltered.netty.request.DiskFileWrapper" class="keyword">new</span> <a href="#12327" title="unfiltered.netty.request.DiskFileWrapper">DiskFileWrapper</a><span class="delimiter">(</span><a href="#51887" title="org.jboss.netty.handler.codec.http.FileUpload">file</a><span class="delimiter">)</span> <a href="#52004" title="(x: unfiltered.netty.request.DiskFileWrapper)List[unfiltered.netty.request.DiskFileWrapper]">::</a> <a href="#51885" title="(Map[String,List[String]], Map[String,List[unfiltered.netty.request.DiskFileWrapper]])">maps</a>.<span title="(key: String)List[unfiltered.netty.request.DiskFileWrapper]">_2</span><span class="delimiter">(</span><a href="#51887" title="org.jboss.netty.handler.codec.http.FileUpload">file</a>.<a href="../org/jboss/netty/handler/codec/http/InterfaceHttpData.java.html#49844" title="()java.lang.String">getName</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="(scala.collection.immutable.Map[String,List[String]], Map[String,List[unfiltered.netty.request.DiskFileWrapper]])" id="52045">attr</a>: <a href="../org/jboss/netty/handler/codec/http/Attribute.java.html#11884" title="org.jboss.netty.handler.codec.http.Attribute">IOAttribute</a> =&gt;
          <span title="(_1: scala.collection.immutable.Map[String,List[String]], _2: Map[String,List[unfiltered.netty.request.DiskFileWrapper]])(scala.collection.immutable.Map[String,List[String]], Map[String,List[unfiltered.netty.request.DiskFileWrapper]])" class="delimiter">(</span><a href="#51885" title="(Map[String,List[String]], Map[String,List[unfiltered.netty.request.DiskFileWrapper]])">maps</a>.<span title="=&gt; Map[String,List[String]]">_1</span> <span title="(kv: (String, List[String]))scala.collection.immutable.Map[String,List[String]]">+</span> <span class="delimiter">(</span><a href="#52045" title="org.jboss.netty.handler.codec.http.Attribute">attr</a>.<a href="../org/jboss/netty/handler/codec/http/InterfaceHttpData.java.html#49844" title="(x: java.lang.String)ArrowAssoc[java.lang.String]">getName</a> <span title="(y: List[String])(java.lang.String, List[String])">-&gt;</span> <span class="delimiter">(</span><a href="#52045" title="org.jboss.netty.handler.codec.http.Attribute">attr</a>.<a href="../org/jboss/netty/handler/codec/http/Attribute.java.html#50031" title="()java.lang.String">getValue</a> <a href="#52135" title="(x: String)List[String]">::</a> <a href="#51885" title="(Map[String,List[String]], Map[String,List[unfiltered.netty.request.DiskFileWrapper]])">maps</a>.<span title="(key: String)List[String]">_1</span><span class="delimiter">(</span><a href="#52045" title="org.jboss.netty.handler.codec.http.Attribute">attr</a>.<a href="../org/jboss/netty/handler/codec/http/InterfaceHttpData.java.html#49844" title="()java.lang.String">getName</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#51885" title="(Map[String,List[String]], Map[String,List[unfiltered.netty.request.DiskFileWrapper]])">maps</a>.<span title="=&gt; Map[String,List[unfiltered.netty.request.DiskFileWrapper]]">_2</span><span class="delimiter">)</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>

    <a href="../../../../../uploads/unfiltered/request/request/uploads.scala.html#51505" title="(params: String =&gt; Seq[String], files: String =&gt; Seq[unfiltered.request.AbstractDiskFile])unfiltered.request.MultipartData[Seq[unfiltered.request.AbstractDiskFile]]">MultipartData</a><span class="delimiter">(</span><a href="#51770" title="scala.collection.immutable.Map[String,List[String]]">params</a>, <a href="#51771" title="scala.collection.immutable.Map[String,List[unfiltered.netty.request.DiskFileWrapper]]">files</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">class</span> <a title="class StreamedFileWrapper extends java.lang.Object with unfiltered.request.AbstractStreamedFile with unfiltered.request.io.FileIO with ScalaObject" id="12336">StreamedFileWrapper</a><a href="#12336" title="ScalaObject" class="delimiter">(</a><a title="org.jboss.netty.handler.codec.http.FileUpload" id="51451">item</a>: <a href="../org/jboss/netty/handler/codec/http/FileUpload.java.html#11881" title="org.jboss.netty.handler.codec.http.FileUpload">IOFileUpload</a><span class="delimiter">)</span>
<span class="keyword">extends</span> <a href="../../../../../uploads/unfiltered/request/request/uploads.scala.html#9535" title="unfiltered.request.AbstractStreamedFile">AbstractStreamedFile</a>
  <span class="keyword">with</span> unfiltered.request.io.<a href="../../../../../uploads/unfiltered/request/request/io/files.scala.html#13624" title="unfiltered.request.io.FileIO">FileIO</a> <span class="delimiter">{</span>
  <span class="keyword">import</span> java.io.<span class="delimiter">{</span>ByteArrayInputStream =&gt; JByteArrayInputStream<span class="delimiter">}</span>

  <span class="keyword">val</span> <a title="java.io.ByteArrayInputStream" id="51438">bstm</a> = <span title="java.io.ByteArrayInputStream" class="keyword">new</span> <span title="java.io.ByteArrayInputStream">JByteArrayInputStream</span><span class="delimiter">(</span><a href="#51451" title="org.jboss.netty.handler.codec.http.FileUpload">item</a>.<a href="../org/jboss/netty/handler/codec/http/HttpData.java.html#49960" title="()Array[Byte]">get</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(out: java.io.File)Option[java.io.File]" id="51440">write</a><span class="delimiter">(</span><a title="java.io.File" id="52224">out</a>: <span title="java.io.File">JFile</span><span class="delimiter">)</span>: <span title="Option[java.io.File]">Option</span><span class="delimiter">[</span>JFile<span class="delimiter">]</span> = <span title="util.control.Exception.Catch[Nothing]">allCatch</span>.<span title="(body: =&gt; java.io.File)Option[java.io.File]">opt</span> <span class="delimiter">{</span>
    <a href="#51441" title="(v1: java.io.InputStream =&gt; java.io.File)java.io.File">stream</a> <span class="delimiter">{</span> <a title="java.io.InputStream" id="52239">stm</a> =&gt;
      <a href="../../../../../uploads/unfiltered/request/request/io/files.scala.html#51450" title="(from: java.io.InputStream)(to: java.io.File)Unit">toFile</a><span class="delimiter">(</span><a href="#52239" title="java.io.InputStream">stm</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#52224" title="java.io.File">out</a><span class="delimiter">)</span>
      <a href="#52224" title="java.io.File">out</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[T]=&gt; java.io.InputStream =&gt; T =&gt; T" id="51441">stream</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="51443">T</a><span class="delimiter">]</span>: <span class="delimiter">(</span>java.io.InputStream =&gt; T<span class="delimiter">)</span> =&gt; T =
    <a href="#12262" title="object unfiltered.netty.request.MultiPartParams">MultiPartParams</a>.<a href="#51217" title="object unfiltered.netty.request.MultiPartParams.Streamed">Streamed</a>.<a href="../../../../../uploads/unfiltered/request/request/uploads.scala.html#51227" title="[T](istm: java.io.InputStream)(f: java.io.InputStream =&gt; T)T">withStreamedFile</a><span title="(istm: java.io.InputStream)(f: java.io.InputStream =&gt; T)T" class="delimiter">[</span><a href="#51443" title="T">T</a><span class="delimiter">]</span><a href="#52253" title="java.io.InputStream =&gt; T" class="delimiter">(</a><a href="#51438" title="=&gt; java.io.ByteArrayInputStream">bstm</a><span class="delimiter">)</span>_
  <span class="keyword">val</span> <a title="java.lang.String" id="51444">name</a> = <a href="#51451" title="org.jboss.netty.handler.codec.http.FileUpload">item</a>.<a href="../org/jboss/netty/handler/codec/http/FileUpload.java.html#49971" title="()java.lang.String">getFilename</a>
  <span class="keyword">val</span> <a title="java.lang.String" id="51446">contentType</a> = <a href="#51451" title="org.jboss.netty.handler.codec.http.FileUpload">item</a>.<a href="../org/jboss/netty/handler/codec/http/FileUpload.java.html#49974" title="()java.lang.String">getContentType</a>
<span class="delimiter">}</span>

<span class="keyword">class</span> <a title="class DiskFileWrapper extends java.lang.Object with unfiltered.request.AbstractDiskFile with ScalaObject" id="12327">DiskFileWrapper</a><a href="#12327" title="ScalaObject" class="delimiter">(</a><a title="org.jboss.netty.handler.codec.http.FileUpload" id="52005">item</a>: <a href="../org/jboss/netty/handler/codec/http/FileUpload.java.html#11881" title="org.jboss.netty.handler.codec.http.FileUpload">IOFileUpload</a><span class="delimiter">)</span>
<span class="keyword">extends</span> <a href="../../../../../uploads/unfiltered/request/request/uploads.scala.html#9532" title="unfiltered.request.AbstractDiskFile">AbstractDiskFile</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(out: java.io.File)Option[java.io.File]" id="51874">write</a><span class="delimiter">(</span><a title="java.io.File" id="52257">out</a>: <span title="java.io.File">JFile</span><span class="delimiter">)</span>: <span title="Option[java.io.File]">Option</span><span class="delimiter">[</span>JFile<span class="delimiter">]</span> = <span class="keyword">try</span> <span class="delimiter">{</span>
    <a href="#52005" title="org.jboss.netty.handler.codec.http.FileUpload">item</a>.<a href="../org/jboss/netty/handler/codec/http/HttpData.java.html#49967" title="(dest: java.io.File)Boolean">renameTo</a><span class="delimiter">(</span><a href="#52257" title="java.io.File">out</a><span class="delimiter">)</span>
    <span title="(x: java.io.File)Some[java.io.File]">Some</span><span class="delimiter">(</span><a href="#52257" title="java.io.File">out</a><span class="delimiter">)</span>
  <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="None.type">_</span> =&gt; <span title="object None">None</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; Boolean" id="51875">inMemory</a> = <a href="#52005" title="org.jboss.netty.handler.codec.http.FileUpload">item</a>.<a href="../org/jboss/netty/handler/codec/http/HttpData.java.html#49968" title="()Boolean">isInMemory</a>
  <span class="keyword">def</span> <a title="=&gt; Array[Byte]" id="51876">bytes</a> = <a href="#52005" title="org.jboss.netty.handler.codec.http.FileUpload">item</a>.<a href="../org/jboss/netty/handler/codec/http/HttpData.java.html#49960" title="()Array[Byte]">get</a>
  <span class="keyword">def</span> <a title="=&gt; Long" id="51877">size</a> = <a href="#52005" title="org.jboss.netty.handler.codec.http.FileUpload">item</a>.<a href="../org/jboss/netty/handler/codec/http/HttpData.java.html#49958" title="()Long">length</a>
  <span class="keyword">val</span> <a title="java.lang.String" id="51878">name</a> = <a href="#52005" title="org.jboss.netty.handler.codec.http.FileUpload">item</a>.<a href="../org/jboss/netty/handler/codec/http/FileUpload.java.html#49971" title="()java.lang.String">getFilename</a>
  <span class="keyword">val</span> <a title="java.lang.String" id="51880">contentType</a> = <a href="#52005" title="org.jboss.netty.handler.codec.http.FileUpload">item</a>.<a href="../org/jboss/netty/handler/codec/http/FileUpload.java.html#49974" title="()java.lang.String">getContentType</a>
<span class="delimiter">}</span>

<span class="comment">/** Wrapper for an uploaded file with write functionality disabled. */</span>
<span class="keyword">class</span> <a title="class MemoryFileWrapper extends unfiltered.netty.request.StreamedFileWrapper with ScalaObject" id="12438">MemoryFileWrapper</a><a href="#12438" title="ScalaObject" class="delimiter">(</a><a title="org.jboss.netty.handler.codec.http.FileUpload" id="51699">item</a>: <a href="../org/jboss/netty/handler/codec/http/FileUpload.java.html#11881" title="org.jboss.netty.handler.codec.http.FileUpload">IOFileUpload</a><span class="delimiter">)</span>
<span class="keyword">extends</span> <a href="#12336" title="unfiltered.netty.request.StreamedFileWrapper">StreamedFileWrapper</a><span class="delimiter">(</span><a href="#51699" title="org.jboss.netty.handler.codec.http.FileUpload">item</a><span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(out: java.io.File)None.type" id="51695">write</a><span class="delimiter">(</span><a title="java.io.File" id="52283">out</a>: <span title="java.io.File">JFile</span><span class="delimiter">)</span> = <span class="delimiter">{</span> 
    <span class="comment">//error(&quot;File writing is not permitted&quot;)</span>
    <span title="object None">None</span>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="51696">isInMemory</a> = <a href="#51699" title="org.jboss.netty.handler.codec.http.FileUpload">item</a>.<a href="../org/jboss/netty/handler/codec/http/HttpData.java.html#49968" title="()Boolean">isInMemory</a>
  <span class="keyword">def</span> <a title="=&gt; Array[Byte]" id="51697">bytes</a> = <a href="#51699" title="org.jboss.netty.handler.codec.http.FileUpload">item</a>.<a href="../org/jboss/netty/handler/codec/http/HttpData.java.html#49960" title="()Array[Byte]">get</a>
  <span class="keyword">def</span> <a title="=&gt; Long" id="51698">size</a> = <a href="#51699" title="org.jboss.netty.handler.codec.http.FileUpload">item</a>.<a href="../org/jboss/netty/handler/codec/http/HttpData.java.html#49958" title="()Long">length</a>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>