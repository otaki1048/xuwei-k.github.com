<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>unfiltered/request/headers.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> unfiltered.request

<span class="keyword">trait</span> <a title="trait DateParser extends java.lang.Object with String =&gt; java.util.Date" id="9979">DateParser</a> <span class="keyword">extends</span> <span class="delimiter">(</span>String =&gt; java.util.Date<span class="delimiter">)</span>

<span class="keyword">private</span> <span class="delimiter">[</span>request<span class="delimiter">]</span> <span class="keyword">object</span> <a title="object unfiltered.request.DateFormatting" id="9980">DateFormatting</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">import</span> java.text.SimpleDateFormat
  <span class="keyword">import</span> java.util.Date
  <span class="keyword">import</span> java.util.Locale

  <span class="keyword">def</span> <a title="(fmt: String)(value: String)Option[java.util.Date]" id="71196">parseAs</a><span class="delimiter">(</span><a title="String" id="71202">fmt</a>: <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="String" id="71203">value</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Option[java.util.Date]">Option</span><span class="delimiter">[</span>Date<span class="delimiter">]</span> =
    <span class="keyword">try</span> <span class="delimiter">{</span> <span title="(x: java.util.Date)Some[java.util.Date]">Some</span><span class="delimiter">(</span><span title="(x$1: java.lang.String, x$2: java.util.Locale)java.text.SimpleDateFormat" class="keyword">new</span> <span title="java.text.SimpleDateFormat">SimpleDateFormat</span><span class="delimiter">(</span><a href="#71202" title="String">fmt</a>, <span title="object java.util.Locale">Locale</span>.<span title="java.util.Locale">US</span><span class="delimiter">)</span>.<span title="(x$1: java.lang.String)java.util.Date">parse</span><span class="delimiter">(</span><a href="#71203" title="String">value</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>
    <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span title="None.type">_</span> =&gt; <span title="object None">None</span> <span class="delimiter">}</span>

  <span class="comment">/** Preferred HTTP date format Sun, 06 Nov 1994 08:49:37 GMT */</span>
  <span class="keyword">def</span> <a title="=&gt; String =&gt; Option[java.util.Date]" id="71197">RFC1123</a> = <a href="#71196" title="(fmt: String)(value: String)Option[java.util.Date]">parseAs</a><a href="#71234" title="String" class="delimiter">(</a><span title="java.lang.String(&quot;EEE, dd MMM yyyy HH:mm:ss z&quot;)" class="string">&quot;EEE, dd MMM yyyy HH:mm:ss z&quot;</span><span class="delimiter">)</span>_

  <span class="comment">/** Sunday, 06-Nov-94 08:49:37 GMT */</span>
  <span class="keyword">def</span> <a title="=&gt; String =&gt; Option[java.util.Date]" id="71198">RFC1036</a> = <a href="#71196" title="(fmt: String)(value: String)Option[java.util.Date]">parseAs</a><a href="#71239" title="String" class="delimiter">(</a><span title="java.lang.String(&quot;EEEEEE, dd-MMM-yy HH:mm:ss z&quot;)" class="string">&quot;EEEEEE, dd-MMM-yy HH:mm:ss z&quot;</span><span class="delimiter">)</span>_

  <span class="comment">/** Sun Nov  6 08:49:37 1994 */</span>
  <span class="keyword">def</span> <a title="=&gt; String =&gt; Option[java.util.Date]" id="71199">ANSICTime</a> = <a href="#71196" title="(fmt: String)(value: String)Option[java.util.Date]">parseAs</a><a href="#71244" title="String" class="delimiter">(</a><span title="java.lang.String(&quot;EEE MMM  d HH:mm:ss yyyy&quot;)" class="string">&quot;EEE MMM  d HH:mm:ss yyyy&quot;</span><span class="delimiter">)</span>_

  <span class="comment">/** @return various date coersion formats falling back on None value */</span>
  <span class="keyword">def</span> <a title="(raw: String)Option[java.util.Date]" id="71200">parseDate</a><span class="delimiter">(</span><a title="String" id="71245">raw</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#71197" title="(v1: String)Option[java.util.Date]">RFC1123</a><span class="delimiter">(</span><a href="#71245" title="String">raw</a><span class="delimiter">)</span> <span title="(alternative: =&gt; Option[java.util.Date])Option[java.util.Date]">orElse</span> <a href="#71198" title="(v1: String)Option[java.util.Date]">RFC1036</a><span class="delimiter">(</span><a href="#71245" title="String">raw</a><span class="delimiter">)</span> <span title="(alternative: =&gt; Option[java.util.Date])Option[java.util.Date]">orElse</span> <a href="#71199" title="(v1: String)Option[java.util.Date]">ANSICTime</a><span class="delimiter">(</span><a href="#71245" title="String">raw</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/** a header with comma delimited values */</span>
<span class="keyword">private</span> <span class="delimiter">[</span>request<span class="delimiter">]</span> <span class="keyword">class</span> <a title="class SeqRequestHeader[T] extends java.lang.Object with ScalaObject" id="9982">SeqRequestHeader</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="9983">T</a><span class="delimiter">]</span><a href="#9982" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="String" id="35511">name</a>: <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="Iterator[String] =&gt; List[T]" id="35512">parser</a>: Iterator<span class="delimiter">[</span>String<span class="delimiter">]</span> =&gt; List<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[T](req: unfiltered.request.HttpRequest[T])Option[List[T]]" id="35503">unapply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="35505">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="unfiltered.request.HttpRequest[T]" id="35523">req</a>: <a href="HttpRequest.scala.html#9948" title="unfiltered.request.HttpRequest[T]">HttpRequest</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#35512" title="(v1: Iterator[String])List[T]">parser</a><span class="delimiter">(</span><a href="#35523" title="unfiltered.request.HttpRequest[T]">req</a>.<a href="HttpRequest.scala.html#10676" title="(name: String)Iterator[String]">headers</a><span class="delimiter">(</span><a href="#35511" title="=&gt; String">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Option[List[T]]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="None.type">Nil</span> =&gt; <span title="object None">None</span>
    <span class="keyword">case</span> <a title="Some[List[T]]" id="35527">hs</a> =&gt; <span title="(x: List[T])Some[List[T]]">Some</span><span class="delimiter">(</span><a href="#35527" title="List[T]">hs</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="[T](req: unfiltered.request.HttpRequest[T])List[T]" id="35506">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="35508">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="unfiltered.request.HttpRequest[T]" id="71260">req</a>: <a href="HttpRequest.scala.html#9948" title="unfiltered.request.HttpRequest[T]">HttpRequest</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#35512" title="(v1: Iterator[String])List[T]">parser</a><span class="delimiter">(</span><a href="#71260" title="unfiltered.request.HttpRequest[T]">req</a>.<a href="HttpRequest.scala.html#10676" title="(name: String)Iterator[String]">headers</a><span class="delimiter">(</span><a href="#35511" title="=&gt; String">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/** a header with a single value */</span>
<span class="keyword">private</span> <span class="delimiter">[</span>request<span class="delimiter">]</span> <span class="keyword">class</span> <a title="class RequestHeader[A] extends java.lang.Object with ScalaObject" id="9984">RequestHeader</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="9985">A</a><span class="delimiter">]</span><a href="#9984" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="String" id="12810">name</a>: <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="Iterator[String] =&gt; List[A]" id="12811">parser</a>: Iterator<span class="delimiter">[</span>String<span class="delimiter">]</span> =&gt; List<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
   <span class="keyword">def</span> <a title="[T](req: unfiltered.request.HttpRequest[T])Option[A]" id="12802">unapply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="12804">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="unfiltered.request.HttpRequest[T]" id="13050">req</a>: <a href="HttpRequest.scala.html#9948" title="unfiltered.request.HttpRequest[T]">HttpRequest</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> =  <a href="#12811" title="(v1: Iterator[String])List[A]">parser</a><span class="delimiter">(</span><a href="#13050" title="unfiltered.request.HttpRequest[T]">req</a>.<a href="HttpRequest.scala.html#10676" title="(name: String)Iterator[String]">headers</a><span class="delimiter">(</span><a href="#12810" title="=&gt; String">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Option[A]" class="keyword">match</span> <span class="delimiter">{</span>
     <span class="keyword">case</span> <a title="Some[A]" id="16266">head</a> :: _ =&gt; <span title="(x: A)Some[A]">Some</span><span class="delimiter">(</span><a href="#16266" title="A">head</a><span class="delimiter">)</span>
     <span class="keyword">case</span> <span title="None.type">_</span> =&gt; <span title="object None">None</span>
   <span class="delimiter">}</span>
   <span class="keyword">def</span> <a title="[T](req: unfiltered.request.HttpRequest[T])Option[A]" id="12805">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="12807">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="unfiltered.request.HttpRequest[T]" id="39452">req</a>: <a href="HttpRequest.scala.html#9948" title="unfiltered.request.HttpRequest[T]">HttpRequest</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#12811" title="(v1: Iterator[String])List[A]">parser</a><span class="delimiter">(</span><a href="#39452" title="unfiltered.request.HttpRequest[T]">req</a>.<a href="HttpRequest.scala.html#10676" title="(name: String)Iterator[String]">headers</a><span class="delimiter">(</span><a href="#12810" title="=&gt; String">name</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Option[A]">headOption</span>
<span class="delimiter">}</span>

<span class="keyword">private</span> <span class="delimiter">[</span>request<span class="delimiter">]</span> <span class="keyword">object</span> <a title="object unfiltered.request.DateValueParser" id="9986">DateValueParser</a> <span title="ScalaObject" class="keyword">extends</span> <span class="delimiter">(</span>Iterator<span class="delimiter">[</span>String<span class="delimiter">]</span> =&gt; List<span class="delimiter">[</span>java.util.Date<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="#9980" title="object unfiltered.request.DateFormatting">DateFormatting</a>._
  <span class="keyword">def</span> <a title="(values: Iterator[String])List[java.util.Date]" id="39446">apply</a><span class="delimiter">(</span><a title="Iterator[String]" id="71269">values</a>: <span title="Iterator[String]">Iterator</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> =
    <a href="#71269" title="Iterator[String]">values</a>.<span title="=&gt; List[String]">toList</span>.<span title="(f: String =&gt; scala.collection.GenTraversableOnce[java.util.Date])(implicit bf: scala.collection.generic.CanBuildFrom[List[String],java.util.Date,List[java.util.Date]])List[java.util.Date]">flatMap</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,java.util.Date,List[java.util.Date]]" class="delimiter">(</span><a href="#71200" title="(xo: Option[java.util.Date])Iterable[java.util.Date]">parseDate</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">private</span> <span class="delimiter">[</span>request<span class="delimiter">]</span> <span class="keyword">object</span> <a title="object unfiltered.request.IntValueParser" id="9988">IntValueParser</a> <span title="ScalaObject" class="keyword">extends</span> <span class="delimiter">(</span>Iterator<span class="delimiter">[</span>String<span class="delimiter">]</span> =&gt; List<span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
   <span class="keyword">def</span> <a title="(raw: String)Option[Int]" id="71367">tryInt</a><span class="delimiter">(</span><a title="String" id="71370">raw</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="keyword">try</span> <span class="delimiter">{</span> <span title="(x: Int)Some[Int]">Some</span><span class="delimiter">(</span><a href="#71370" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">raw</a>.<span title="=&gt; Int">toInt</span><span class="delimiter">)</span> <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span title="None.type">_</span> =&gt; <span title="object None">None</span> <span class="delimiter">}</span>
   <span class="keyword">def</span> <a title="(values: Iterator[String])List[Int]" id="71368">apply</a><span class="delimiter">(</span><a title="Iterator[String]" id="71392">values</a>: <span title="Iterator[String]">Iterator</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> =
     <a href="#71392" title="Iterator[String]">values</a>.<span title="=&gt; List[String]">toList</span>.<span title="(f: String =&gt; scala.collection.GenTraversableOnce[Int])(implicit bf: scala.collection.generic.CanBuildFrom[List[String],Int,List[Int]])List[Int]">flatMap</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Int,List[Int]]" class="delimiter">(</span><a href="#71367" title="(xo: Option[Int])Iterable[Int]">tryInt</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">private</span> <span class="delimiter">[</span>request<span class="delimiter">]</span> <span class="keyword">object</span> <a title="object unfiltered.request.StringValueParser" id="9990">StringValueParser</a> <span title="ScalaObject" class="keyword">extends</span> <span class="delimiter">(</span>Iterator<span class="delimiter">[</span>String<span class="delimiter">]</span> =&gt; List<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(values: Iterator[String])List[String]" id="13044">apply</a><span class="delimiter">(</span><a title="Iterator[String]" id="71490">values</a>: <span title="Iterator[String]">Iterator</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> =
    <a href="#71490" title="Iterator[String]">values</a>.<span title="=&gt; List[String]">toList</span>
<span class="delimiter">}</span>

<span class="keyword">private</span> <span class="delimiter">[</span>request<span class="delimiter">]</span> <span class="keyword">object</span> <a title="object unfiltered.request.UriValueParser" id="9992">UriValueParser</a> <span title="ScalaObject" class="keyword">extends</span> <span class="delimiter">(</span>Iterator<span class="delimiter">[</span>String<span class="delimiter">]</span> =&gt; List<span class="delimiter">[</span>java.net.URI<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(raw: String)Option[java.net.URI]" id="71495">toUri</a><span class="delimiter">(</span><a title="String" id="71498">raw</a>: <span title="String">String</span><span class="delimiter">)</span> =
    <span class="keyword">try</span> <span class="delimiter">{</span> <span title="(x: java.net.URI)Some[java.net.URI]">Some</span><span class="delimiter">(</span><span title="java.net.URI" class="keyword">new</span> java.net.<span title="java.net.URI">URI</span><span class="delimiter">(</span><a href="#71498" title="String">raw</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>
    <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span title="None.type">_</span> =&gt; <span title="object None">None</span> <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(values: Iterator[String])List[java.net.URI]" id="71496">apply</a><span class="delimiter">(</span><a title="Iterator[String]" id="71517">values</a>: <span title="Iterator[String]">Iterator</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> =
    <a href="#71517" title="Iterator[String]">values</a>.<span title="=&gt; List[String]">toList</span>.<span title="(f: String =&gt; scala.collection.GenTraversableOnce[java.net.URI])(implicit bf: scala.collection.generic.CanBuildFrom[List[String],java.net.URI,List[java.net.URI]])List[java.net.URI]">flatMap</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,java.net.URI,List[java.net.URI]]" class="delimiter">(</span><a href="#71495" title="(xo: Option[java.net.URI])Iterable[java.net.URI]">toUri</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">private</span> <span class="delimiter">[</span>request<span class="delimiter">]</span> <span class="keyword">object</span> <a title="object unfiltered.request.SeqValueParser" id="9994">SeqValueParser</a> <span title="ScalaObject" class="keyword">extends</span> <span class="delimiter">(</span>Iterator<span class="delimiter">[</span>String<span class="delimiter">]</span> =&gt; List<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
   <span class="keyword">def</span> <a title="(values: Iterator[String])List[String]" id="35517">apply</a><span class="delimiter">(</span><a title="Iterator[String]" id="71615">values</a>: <span title="Iterator[String]">Iterator</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
     <span class="keyword">def</span> <a title="(raw: String)List[String]" id="71619">split</a><span class="delimiter">(</span><a title="String" id="71620">raw</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> =
       <span class="delimiter">(</span><a href="#71620" title="String">raw</a>.<span title="(x$1: java.lang.String)Array[java.lang.String]">split</span><span title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]" class="delimiter">(</span><span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span><span class="delimiter">)</span> <span title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]">map</span> <span class="delimiter">{</span>
         <a href="#72070" title="java.lang.String">_</a>.<span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">trim</span>.<span title="(p: Char =&gt; Boolean)String">takeWhile</span> <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="delimiter">{</span> <a href="#72149" title="Char">_</a> <span title="(x: Char)Boolean">!=</span> <span title="Char(\';\')" class="char">';'</span> <span class="delimiter">}</span> <span title="=&gt; String">mkString</span>
       <span class="delimiter">}</span><span class="delimiter">)</span>.<span title="=&gt; List[String]">toList</span>
     <a href="#71615" title="Iterator[String]">values</a>.<span title="=&gt; List[String]">toList</span>.<span title="(f: String =&gt; scala.collection.GenTraversableOnce[String])(implicit bf: scala.collection.generic.CanBuildFrom[List[String],String,List[String]])List[String]">flatMap</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,String,List[String]]" class="delimiter">(</span><a href="#71619" title="(raw: String)List[String]">split</a><span class="delimiter">)</span>
   <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">class</span> <a title="class DateHeader extends unfiltered.request.RequestHeader[java.util.Date] with ScalaObject" id="9996">DateHeader</a><a href="#9996" title="ScalaObject" class="delimiter">(</a><a title="String" id="72421">name</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9984" title="unfiltered.request.RequestHeader[java.util.Date]">RequestHeader</a><span class="delimiter">(</span><a href="#72421" title="String">name</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#9986" title="object unfiltered.request.DateValueParser">DateValueParser</a><span class="delimiter">)</span>
<span class="comment">/** A repeatable header may be specified in more than one header k-v pair and
 *  whose values are a list delimited by comma
 *  see also http://www.w3.org/Protocols/rfc2616/rfc2616-sec4.html#sec4.2 */</span>
<span class="keyword">class</span> <a title="class RepeatableHeader extends unfiltered.request.SeqRequestHeader[String] with ScalaObject" id="9997">RepeatableHeader</a><a href="#9997" title="ScalaObject" class="delimiter">(</a><a title="String" id="72432">name</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9982" title="unfiltered.request.SeqRequestHeader[String]">SeqRequestHeader</a><span class="delimiter">(</span><a href="#72432" title="String">name</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#9994" title="object unfiltered.request.SeqValueParser">SeqValueParser</a><span class="delimiter">)</span>
<span class="keyword">class</span> <a title="class UriHeader extends unfiltered.request.RequestHeader[java.net.URI] with ScalaObject" id="9998">UriHeader</a><a href="#9998" title="ScalaObject" class="delimiter">(</a><a title="String" id="72452">name</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9984" title="unfiltered.request.RequestHeader[java.net.URI]">RequestHeader</a><span class="delimiter">(</span><a href="#72452" title="String">name</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#9992" title="object unfiltered.request.UriValueParser">UriValueParser</a><span class="delimiter">)</span>
<span class="keyword">class</span> <a title="class StringHeader extends unfiltered.request.RequestHeader[String] with ScalaObject" id="9999">StringHeader</a><a href="#9999" title="ScalaObject" class="delimiter">(</a><a title="String" id="72463">name</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9984" title="unfiltered.request.RequestHeader[String]">RequestHeader</a><span class="delimiter">(</span><a href="#72463" title="String">name</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#9990" title="object unfiltered.request.StringValueParser">StringValueParser</a><span class="delimiter">)</span>
<span class="keyword">class</span> <a title="class IntHeader extends unfiltered.request.RequestHeader[Int] with ScalaObject" id="10000">IntHeader</a><a href="#10000" title="ScalaObject" class="delimiter">(</a><a title="String" id="72483">name</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9984" title="unfiltered.request.RequestHeader[Int]">RequestHeader</a><span class="delimiter">(</span><a href="#72483" title="String">name</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#9988" title="object unfiltered.request.IntValueParser">IntValueParser</a><span class="delimiter">)</span>

<span class="comment">// http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.10</span>

<span class="keyword">object</span> <a title="object unfiltered.request.Accept" id="10001">Accept</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#9997" title="unfiltered.request.RepeatableHeader">RepeatableHeader</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Accept&quot;)" class="string">&quot;Accept&quot;</span><span class="delimiter">)</span>
<span class="keyword">object</span> <a title="object unfiltered.request.AcceptCharset" id="10003">AcceptCharset</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#9997" title="unfiltered.request.RepeatableHeader">RepeatableHeader</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Accept-Charset&quot;)" class="string">&quot;Accept-Charset&quot;</span><span class="delimiter">)</span>
<span class="keyword">object</span> <a title="object unfiltered.request.AcceptEncoding" id="10005">AcceptEncoding</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#9997" title="unfiltered.request.RepeatableHeader">RepeatableHeader</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Accept-Encoding&quot;)" class="string">&quot;Accept-Encoding&quot;</span><span class="delimiter">)</span>
<span class="keyword">object</span> <a title="object unfiltered.request.AcceptLanguage" id="10007">AcceptLanguage</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#9997" title="unfiltered.request.RepeatableHeader">RepeatableHeader</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Accept-Language&quot;)" class="string">&quot;Accept-Language&quot;</span><span class="delimiter">)</span>
<span class="keyword">object</span> <a title="object unfiltered.request.Authorization" id="10009">Authorization</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#9999" title="unfiltered.request.StringHeader">StringHeader</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Authorization&quot;)" class="string">&quot;Authorization&quot;</span><span class="delimiter">)</span>
<span class="keyword">object</span> <a title="object unfiltered.request.Connection" id="10011">Connection</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#9999" title="unfiltered.request.StringHeader">StringHeader</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Connection&quot;)" class="string">&quot;Connection&quot;</span><span class="delimiter">)</span>
<span class="comment">// may want opt added parser i.e for charset</span>
<span class="keyword">object</span> <a title="object unfiltered.request.RequestContentType" id="10013">RequestContentType</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#9999" title="unfiltered.request.StringHeader">StringHeader</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Content-Type&quot;)" class="string">&quot;Content-Type&quot;</span><span class="delimiter">)</span>
<span class="keyword">object</span> <a title="object unfiltered.request.Expect" id="10015">Expect</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#9999" title="unfiltered.request.StringHeader">StringHeader</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Expect&quot;)" class="string">&quot;Expect&quot;</span><span class="delimiter">)</span>
<span class="keyword">object</span> <a title="object unfiltered.request.From" id="10017">From</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#9999" title="unfiltered.request.StringHeader">StringHeader</a><span class="delimiter">(</span><span title="java.lang.String(&quot;From&quot;)" class="string">&quot;From&quot;</span><span class="delimiter">)</span>
<span class="keyword">object</span> <a title="object unfiltered.request.Host" id="10019">Host</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#9999" title="unfiltered.request.StringHeader">StringHeader</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Host&quot;)" class="string">&quot;Host&quot;</span><span class="delimiter">)</span>
<span class="keyword">object</span> <a title="object unfiltered.request.IfMatch" id="10021">IfMatch</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#9997" title="unfiltered.request.RepeatableHeader">RepeatableHeader</a><span class="delimiter">(</span><span title="java.lang.String(&quot;If-Match&quot;)" class="string">&quot;If-Match&quot;</span><span class="delimiter">)</span>
<span class="keyword">object</span> <a title="object unfiltered.request.IfModifiedSince" id="10023">IfModifiedSince</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#9996" title="unfiltered.request.DateHeader">DateHeader</a><span class="delimiter">(</span><span title="java.lang.String(&quot;If-Modified-Since&quot;)" class="string">&quot;If-Modified-Since&quot;</span><span class="delimiter">)</span>
<span class="keyword">object</span> <a title="object unfiltered.request.IfNoneMatch" id="10025">IfNoneMatch</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#9997" title="unfiltered.request.RepeatableHeader">RepeatableHeader</a><span class="delimiter">(</span><span title="java.lang.String(&quot;If-None-Match&quot;)" class="string">&quot;If-None-Match&quot;</span><span class="delimiter">)</span>
<span class="keyword">object</span> <a title="object unfiltered.request.IfRange" id="10027">IfRange</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#9999" title="unfiltered.request.StringHeader">StringHeader</a><span class="delimiter">(</span><span title="java.lang.String(&quot;If-Range&quot;)" class="string">&quot;If-Range&quot;</span><span class="delimiter">)</span> <span class="comment">// can also be an http date</span>
<span class="keyword">object</span> <a title="object unfiltered.request.IfUnmodifiedSince" id="10029">IfUnmodifiedSince</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#9996" title="unfiltered.request.DateHeader">DateHeader</a><span class="delimiter">(</span><span title="java.lang.String(&quot;If-Unmodified-Since&quot;)" class="string">&quot;If-Unmodified-Since&quot;</span><span class="delimiter">)</span>
<span class="keyword">object</span> <a title="object unfiltered.request.MaxForwards" id="10031">MaxForwards</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#10000" title="unfiltered.request.IntHeader">IntHeader</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Max-Forwards&quot;)" class="string">&quot;Max-Forwards&quot;</span><span class="delimiter">)</span>
<span class="keyword">object</span> <a title="object unfiltered.request.ProxyAuthorization" id="10033">ProxyAuthorization</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#9999" title="unfiltered.request.StringHeader">StringHeader</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Proxy-Authorization&quot;)" class="string">&quot;Proxy-Authorization&quot;</span><span class="delimiter">)</span>
<span class="keyword">object</span> <a title="object unfiltered.request.Range" id="10035">Range</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#9997" title="unfiltered.request.RepeatableHeader">RepeatableHeader</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Range&quot;)" class="string">&quot;Range&quot;</span><span class="delimiter">)</span><span class="comment">// there more structure here</span>
<span class="keyword">object</span> <a title="object unfiltered.request.Referer" id="10037">Referer</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#9998" title="unfiltered.request.UriHeader">UriHeader</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Referer&quot;)" class="string">&quot;Referer&quot;</span><span class="delimiter">)</span>
<span class="keyword">object</span> <a title="object unfiltered.request.TE" id="10039">TE</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#9997" title="unfiltered.request.RepeatableHeader">RepeatableHeader</a><span class="delimiter">(</span><span title="java.lang.String(&quot;TE&quot;)" class="string">&quot;TE&quot;</span><span class="delimiter">)</span>
<span class="keyword">object</span> <a title="object unfiltered.request.Upgrade" id="10041">Upgrade</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#9997" title="unfiltered.request.RepeatableHeader">RepeatableHeader</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Upgrade&quot;)" class="string">&quot;Upgrade&quot;</span><span class="delimiter">)</span>
<span class="keyword">object</span> <a title="object unfiltered.request.UserAgent" id="10043">UserAgent</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#9999" title="unfiltered.request.StringHeader">StringHeader</a><span class="delimiter">(</span><span title="java.lang.String(&quot;User-Agent&quot;)" class="string">&quot;User-Agent&quot;</span><span class="delimiter">)</span><span class="comment">// maybe a bit more structure here</span>
<span class="keyword">object</span> <a title="object unfiltered.request.Via" id="10045">Via</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#9997" title="unfiltered.request.RepeatableHeader">RepeatableHeader</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Via&quot;)" class="string">&quot;Via&quot;</span><span class="delimiter">)</span>
<span class="keyword">object</span> <a title="object unfiltered.request.XForwardedFor" id="10047">XForwardedFor</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#9997" title="unfiltered.request.RepeatableHeader">RepeatableHeader</a><span class="delimiter">(</span><span title="java.lang.String(&quot;X-Forwarded-For&quot;)" class="string">&quot;X-Forwarded-For&quot;</span><span class="delimiter">)</span>

<span class="keyword">object</span> <a title="object unfiltered.request.Charset" id="10049">Charset</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">val</span> <a title="scala.util.matching.Regex" id="43104">Setting</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;.*;.*\bcharset=(\S+).*&quot;&quot;&quot;</span>.<span title="=&gt; scala.util.matching.Regex">r</span>
  <span class="keyword">def</span> <a title="[T](req: unfiltered.request.HttpRequest[T])Option[(String, unfiltered.request.HttpRequest[T])]" id="43106">unapply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="43108">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="unfiltered.request.HttpRequest[T]" id="43109">req</a>: <a href="HttpRequest.scala.html#9948" title="unfiltered.request.HttpRequest[T]">HttpRequest</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> =
    <a href="#43109" title="unfiltered.request.HttpRequest[T]">req</a>.<a href="HttpRequest.scala.html#10676" title="(name: String)Iterator[String]">headers</a><span class="delimiter">(</span><a href="#10013" title="object unfiltered.request.RequestContentType">RequestContentType</a>.<a href="#12810" title="=&gt; String">name</a><span class="delimiter">)</span>.<span title="=&gt; List[String]">toList</span>.<span title="(f: String =&gt; scala.collection.GenTraversableOnce[(String, unfiltered.request.HttpRequest[T])])(implicit bf: scala.collection.generic.CanBuildFrom[List[String],(String, unfiltered.request.HttpRequest[T]),List[(String, unfiltered.request.HttpRequest[T])]])List[(String, unfiltered.request.HttpRequest[T])]">flatMap</span> <a href="#43132" title="List[(String, unfiltered.request.HttpRequest[T])]" class="delimiter">{</a>
      <span class="keyword">case</span> <a href="#43104" title="List[(String, unfiltered.request.HttpRequest[T])]">Setting</a><span class="delimiter">(</span><a title="String" id="43326">cs</a><span class="delimiter">)</span> =&gt; <span title="(_1: String, _2: unfiltered.request.HttpRequest[T])(String, unfiltered.request.HttpRequest[T])" class="delimiter">(</span><a href="#43326" title="String">cs</a>, <a href="#43109" title="unfiltered.request.HttpRequest[T]">req</a><span class="delimiter">)</span> <a href="#43327" title="(x: (String, unfiltered.request.HttpRequest[T]))List[(String, unfiltered.request.HttpRequest[T])]">::</a> <span title="object Nil">Nil</span>
      <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">_</span> =&gt; <span title="object Nil">Nil</span>
    <span class="delimiter">}</span>.<span title="=&gt; Option[(String, unfiltered.request.HttpRequest[T])]">headOption</span>
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="object unfiltered.request.HostPort" id="10051">HostPort</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">val</span> <a title="scala.util.matching.Regex" id="72529">Port</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;^\S+[:](\d{4})$&quot;&quot;&quot;</span>.<span title="=&gt; scala.util.matching.Regex">r</span>
  <span class="keyword">def</span> <a title="[T](req: unfiltered.request.HttpRequest[T])Option[(String, Int)]" id="72531">unapply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="72533">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="unfiltered.request.HttpRequest[T]" id="72538">req</a>: <a href="HttpRequest.scala.html#9948" title="unfiltered.request.HttpRequest[T]">HttpRequest</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Option[(String, Int)]">Option</span><span class="delimiter">[</span><span class="delimiter">(</span>String, Int<span class="delimiter">)</span><span class="delimiter">]</span> =
    <a href="#72538" title="unfiltered.request.HttpRequest[T]">req</a> <span title="Option[(String, Int)]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="#12802" title="Option[(String, Int)]">Host</a><span class="delimiter">(</span><a title="String" id="72547">hostname</a><span class="delimiter">)</span> =&gt; <a href="#72547" title="String">hostname</a> <span title="Option[(String, Int)]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="#72529" title="Some[(String, Int)]">Port</a><span class="delimiter">(</span><a title="String" id="72549">port</a><span class="delimiter">)</span> =&gt; <span title="(x: (String, Int))Some[(String, Int)]">Some</span><span title="(_1: String, _2: Int)(String, Int)" class="delimiter">(</span><a href="#72547" title="String">hostname</a>, <a href="#72549" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">port</a>.<span title="=&gt; Int">toInt</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Some[(String, Int)]">_</span> =&gt; <span title="(x: (String, Int))Some[(String, Int)]">Some</span><span title="(_1: String, _2: Int)(String, Int)" class="delimiter">(</span><a href="#72547" title="String">hostname</a>, <span title="Int" class="keyword">if</span><span class="delimiter">(</span><a href="#72538" title="unfiltered.request.HttpRequest[T]">req</a>.<a href="HttpRequest.scala.html#10678" title="=&gt; Boolean">isSecure</a><span class="delimiter">)</span> <span title="Int(443)" class="int">443</span> <span class="keyword">else</span> <span title="Int(80)" class="int">80</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>